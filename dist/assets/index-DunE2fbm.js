(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function bA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Vd={exports:{}},yl={},L_;function wA(){if(L_)return yl;L_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return yl.Fragment=t,yl.jsx=i,yl.jsxs=i,yl}var P_;function RA(){return P_||(P_=1,Vd.exports=wA()),Vd.exports}var F=RA(),Md={exports:{}},vt={},z_;function IA(){if(z_)return vt;z_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function B(V){return V===null||typeof V!="object"?null:(V=N&&V[N]||V["@@iterator"],typeof V=="function"?V:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function lt(V,$,it){this.props=V,this.context=$,this.refs=J,this.updater=it||X}lt.prototype.isReactComponent={},lt.prototype.setState=function(V,$){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,$,"setState")},lt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function gt(){}gt.prototype=lt.prototype;function ft(V,$,it){this.props=V,this.context=$,this.refs=J,this.updater=it||X}var Lt=ft.prototype=new gt;Lt.constructor=ft,W(Lt,lt.prototype),Lt.isPureReactComponent=!0;var te=Array.isArray;function kt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(V,$,it){var st=it.ref;return{$$typeof:r,type:V,key:$,ref:st!==void 0?st:null,props:it}}function M(V,$){return I(V.type,$,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function k(V){var $={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(it){return $[it]})}var w=/\/+/g;function se(V,$){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):$.toString(36)}function Ne(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(kt,kt):(V.status="pending",V.then(function($){V.status==="pending"&&(V.status="fulfilled",V.value=$)},function($){V.status==="pending"&&(V.status="rejected",V.reason=$)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,$,it,st,yt){var St=typeof V;(St==="undefined"||St==="boolean")&&(V=null);var Mt=!1;if(V===null)Mt=!0;else switch(St){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(V.$$typeof){case r:case t:Mt=!0;break;case T:return Mt=V._init,G(Mt(V._payload),$,it,st,yt)}}if(Mt)return yt=yt(V),Mt=st===""?"."+se(V,0):st,te(yt)?(it="",Mt!=null&&(it=Mt.replace(w,"$&/")+"/"),G(yt,$,it,"",function(es){return es})):yt!=null&&(O(yt)&&(yt=M(yt,it+(yt.key==null||V&&V.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+Mt)),$.push(yt)),1;Mt=0;var De=st===""?".":st+":";if(te(V))for(var ae=0;ae<V.length;ae++)st=V[ae],St=De+se(st,ae),Mt+=G(st,$,it,St,yt);else if(ae=B(V),typeof ae=="function")for(V=ae.call(V),ae=0;!(st=V.next()).done;)st=st.value,St=De+se(st,ae++),Mt+=G(st,$,it,St,yt);else if(St==="object"){if(typeof V.then=="function")return G(Ne(V),$,it,st,yt);throw $=String(V),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function nt(V,$,it){if(V==null)return V;var st=[],yt=0;return G(V,st,"","",function(St){return $.call(it,St,yt++)}),st}function ht(V){if(V._status===-1){var $=V._result;$=$(),$.then(function(it){(V._status===0||V._status===-1)&&(V._status=1,V._result=it)},function(it){(V._status===0||V._status===-1)&&(V._status=2,V._result=it)}),V._status===-1&&(V._status=0,V._result=$)}if(V._status===1)return V._result.default;throw V._result}var Ut=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Gt={map:nt,forEach:function(V,$,it){nt(V,function(){$.apply(this,arguments)},it)},count:function(V){var $=0;return nt(V,function(){$++}),$},toArray:function(V){return nt(V,function($){return $})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return vt.Activity=S,vt.Children=Gt,vt.Component=lt,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=ft,vt.StrictMode=s,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,vt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},vt.cache=function(V){return function(){return V.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(V,$,it){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=W({},V.props),yt=V.key;if($!=null)for(St in $.key!==void 0&&(yt=""+$.key),$)!b.call($,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&$.ref===void 0||(st[St]=$[St]);var St=arguments.length-2;if(St===1)st.children=it;else if(1<St){for(var Mt=Array(St),De=0;De<St;De++)Mt[De]=arguments[De+2];st.children=Mt}return I(V.type,yt,st)},vt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},vt.createElement=function(V,$,it){var st,yt={},St=null;if($!=null)for(st in $.key!==void 0&&(St=""+$.key),$)b.call($,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=$[st]);var Mt=arguments.length-2;if(Mt===1)yt.children=it;else if(1<Mt){for(var De=Array(Mt),ae=0;ae<Mt;ae++)De[ae]=arguments[ae+2];yt.children=De}if(V&&V.defaultProps)for(st in Mt=V.defaultProps,Mt)yt[st]===void 0&&(yt[st]=Mt[st]);return I(V,St,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(V){return{$$typeof:g,render:V}},vt.isValidElement=O,vt.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:ht}},vt.memo=function(V,$){return{$$typeof:_,type:V,compare:$===void 0?null:$}},vt.startTransition=function(V){var $=C.T,it={};C.T=it;try{var st=V(),yt=C.S;yt!==null&&yt(it,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(kt,Ut)}catch(St){Ut(St)}finally{$!==null&&it.types!==null&&($.types=it.types),C.T=$}},vt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},vt.use=function(V){return C.H.use(V)},vt.useActionState=function(V,$,it){return C.H.useActionState(V,$,it)},vt.useCallback=function(V,$){return C.H.useCallback(V,$)},vt.useContext=function(V){return C.H.useContext(V)},vt.useDebugValue=function(){},vt.useDeferredValue=function(V,$){return C.H.useDeferredValue(V,$)},vt.useEffect=function(V,$){return C.H.useEffect(V,$)},vt.useEffectEvent=function(V){return C.H.useEffectEvent(V)},vt.useId=function(){return C.H.useId()},vt.useImperativeHandle=function(V,$,it){return C.H.useImperativeHandle(V,$,it)},vt.useInsertionEffect=function(V,$){return C.H.useInsertionEffect(V,$)},vt.useLayoutEffect=function(V,$){return C.H.useLayoutEffect(V,$)},vt.useMemo=function(V,$){return C.H.useMemo(V,$)},vt.useOptimistic=function(V,$){return C.H.useOptimistic(V,$)},vt.useReducer=function(V,$,it){return C.H.useReducer(V,$,it)},vt.useRef=function(V){return C.H.useRef(V)},vt.useState=function(V){return C.H.useState(V)},vt.useSyncExternalStore=function(V,$,it){return C.H.useSyncExternalStore(V,$,it)},vt.useTransition=function(){return C.H.useTransition()},vt.version="19.2.3",vt}var j_;function Tm(){return j_||(j_=1,Md.exports=IA()),Md.exports}var ie=Tm();const CA=bA(ie);var xd={exports:{}},_l={},kd={exports:{}},Ud={},B_;function NA(){return B_||(B_=1,(function(r){function t(G,nt){var ht=G.length;G.push(nt);t:for(;0<ht;){var Ut=ht-1>>>1,Gt=G[Ut];if(0<l(Gt,nt))G[Ut]=nt,G[ht]=Gt,ht=Ut;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var nt=G[0],ht=G.pop();if(ht!==nt){G[0]=ht;t:for(var Ut=0,Gt=G.length,V=Gt>>>1;Ut<V;){var $=2*(Ut+1)-1,it=G[$],st=$+1,yt=G[st];if(0>l(it,ht))st<Gt&&0>l(yt,it)?(G[Ut]=yt,G[st]=ht,Ut=st):(G[Ut]=it,G[$]=ht,Ut=$);else if(st<Gt&&0>l(yt,ht))G[Ut]=yt,G[st]=ht,Ut=st;else break t}}return nt}function l(G,nt){var ht=G.sortIndex-nt.sortIndex;return ht!==0?ht:G.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],_=[],T=1,S=null,N=3,B=!1,X=!1,W=!1,J=!1,lt=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Lt(G){for(var nt=i(_);nt!==null;){if(nt.callback===null)s(_);else if(nt.startTime<=G)s(_),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=i(_)}}function te(G){if(W=!1,Lt(G),!X)if(i(y)!==null)X=!0,kt||(kt=!0,k());else{var nt=i(_);nt!==null&&Ne(te,nt.startTime-G)}}var kt=!1,C=-1,b=5,I=-1;function M(){return J?!0:!(r.unstable_now()-I<b)}function O(){if(J=!1,kt){var G=r.unstable_now();I=G;var nt=!0;try{t:{X=!1,W&&(W=!1,gt(C),C=-1),B=!0;var ht=N;try{e:{for(Lt(G),S=i(y);S!==null&&!(S.expirationTime>G&&M());){var Ut=S.callback;if(typeof Ut=="function"){S.callback=null,N=S.priorityLevel;var Gt=Ut(S.expirationTime<=G);if(G=r.unstable_now(),typeof Gt=="function"){S.callback=Gt,Lt(G),nt=!0;break e}S===i(y)&&s(y),Lt(G)}else s(y);S=i(y)}if(S!==null)nt=!0;else{var V=i(_);V!==null&&Ne(te,V.startTime-G),nt=!1}}break t}finally{S=null,N=ht,B=!1}nt=void 0}}finally{nt?k():kt=!1}}}var k;if(typeof ft=="function")k=function(){ft(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,se=w.port2;w.port1.onmessage=O,k=function(){se.postMessage(null)}}else k=function(){lt(O,0)};function Ne(G,nt){C=lt(function(){G(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(G){switch(N){case 1:case 2:case 3:var nt=3;break;default:nt=N}var ht=N;N=nt;try{return G()}finally{N=ht}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=N;N=G;try{return nt()}finally{N=ht}},r.unstable_scheduleCallback=function(G,nt,ht){var Ut=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ut+ht:Ut):ht=Ut,G){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ht+Gt,G={id:T++,callback:nt,priorityLevel:G,startTime:ht,expirationTime:Gt,sortIndex:-1},ht>Ut?(G.sortIndex=ht,t(_,G),i(y)===null&&G===i(_)&&(W?(gt(C),C=-1):W=!0,Ne(te,ht-Ut))):(G.sortIndex=Gt,t(y,G),X||B||(X=!0,kt||(kt=!0,k()))),G},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(G){var nt=N;return function(){var ht=N;N=nt;try{return G.apply(this,arguments)}finally{N=ht}}}})(Ud)),Ud}var q_;function DA(){return q_||(q_=1,kd.exports=NA()),kd.exports}var Ld={exports:{}},Ye={},H_;function OA(){if(H_)return Ye;H_=1;var r=Tm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:_,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(y,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,T)},Ye.flushSync=function(y){var _=d.T,T=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=_,s.p=T,s.d.f()}},Ye.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},Ye.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ye.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var T=_.as,S=g(T,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,B=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:B}):T==="script"&&s.d.X(y,{crossOrigin:S,integrity:N,fetchPriority:B,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},Ye.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,S=g(T,_.crossOrigin);s.d.L(y,T,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(y,_){if(typeof y=="string")if(_){var T=g(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},Ye.requestFormReset=function(y){s.d.r(y)},Ye.unstable_batchedUpdates=function(y,_){return y(_)},Ye.useFormState=function(y,_,T){return d.H.useFormState(y,_,T)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var G_;function VA(){if(G_)return Ld.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ld.exports=OA(),Ld.exports}var F_;function MA(){if(F_)return _l;F_=1;var r=DA(),t=Tm(),i=VA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(s(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===a){p=!0,a=h,o=f;break}if(E===o){p=!0,o=h,a=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===a){p=!0,a=f,o=h;break}if(E===o){p=!0,o=f,a=h;break}E=E.sibling}if(!p)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case lt:return"Profiler";case J:return"StrictMode";case te:return"Suspense";case kt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case ft:return e.displayName||"Context";case gt:return(e._context.displayName||"Context")+".Consumer";case Lt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:se(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return se(e(n))}catch{}}return null}var Ne=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ut=[],Gt=-1;function V(e){return{current:e}}function $(e){0>Gt||(e.current=Ut[Gt],Ut[Gt]=null,Gt--)}function it(e,n){Gt++,Ut[Gt]=e.current,e.current=n}var st=V(null),yt=V(null),St=V(null),Mt=V(null);function De(e,n){switch(it(St,n),it(yt,e),it(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?a_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=a_(n),e=o_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(st),it(st,e)}function ae(){$(st),$(yt),$(St)}function es(e){e.memoizedState!==null&&it(Mt,e);var n=st.current,a=o_(n,e.type);n!==a&&(it(yt,e),it(st,a))}function Ys(e){yt.current===e&&($(st),$(yt)),Mt.current===e&&($(Mt),dl._currentValue=ht)}var Xs,$s;function Zn(e){if(Xs===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Xs=n&&n[1]||"",$s=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xs+e+$s}var fo=!1;function ns(e,n){if(!e||fo)return"";fo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){z=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),P=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var H=`
`+R[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{fo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Zn(a):""}function mo(e,n){switch(e.tag){case 26:case 27:case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return e.child!==n&&n!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return ns(e.type,!1);case 11:return ns(e.type.render,!1);case 1:return ns(e.type,!0);case 31:return Zn("Activity");default:return""}}function go(e){try{var n="",a=null;do n+=mo(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,rr=r.unstable_cancelCallback,Mh=r.unstable_shouldYield,Xl=r.unstable_requestPaint,We=r.unstable_now,is=r.unstable_getCurrentPriorityLevel,po=r.unstable_ImmediatePriority,yo=r.unstable_UserBlockingPriority,sr=r.unstable_NormalPriority,xh=r.unstable_LowPriority,$l=r.unstable_IdlePriority,Zl=r.log,Jl=r.unstable_setDisableYieldValue,Un=null,ze=null;function Tn(e){if(typeof Zl=="function"&&Jl(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Un,e)}catch{}}var fe=Math.clz32?Math.clz32:tu,Wl=Math.log,Zs=Math.LN2;function tu(e){return e>>>=0,e===0?32:31-(Wl(e)/Zs|0)|0}var Jn=256,rs=262144,_e=4194304;function Wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Wn(o):(p&=E,p!==0?h=Wn(p):a||(a=E&~e,a!==0&&(h=Wn(a))))):(E=o&~f,E!==0?h=Wn(E):p!==0?h=Wn(p):a||(a=o&~e,a!==0&&(h=Wn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function kh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ei(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ss(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Uh(e,n,a,o,h,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(a=p&~a;0<a;){var H=31-fe(a),Y=1<<H;E[H]=0,R[H]=-1;var z=P[H];if(z!==null)for(P[H]=null,H=0;H<z.length;H++){var q=z[H];q!==null&&(q.lane&=-536870913)}a&=~Y}o!==0&&as(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function as(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function _o(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-fe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function vo(e,n){var a=n&-n;return a=(a&42)!==0?1:os(a),(a&(e.suspendedLanes|n))!==0?0:a}function os(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:D_(e.type))}function Pn(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var zn=Math.random().toString(36).slice(2),ve="__reactFiber$"+zn,ke="__reactProps$"+zn,ni="__reactContainer$"+zn,Js="__reactEvents$"+zn,Lh="__reactListeners$"+zn,iu="__reactHandles$"+zn,ru="__reactResources$"+zn,ii="__reactMarker$"+zn;function Ws(e){delete e[ve],delete e[ke],delete e[Js],delete e[Lh],delete e[iu]}function ri(e){var n=e[ve];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ni]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=m_(e);e!==null;){if(a=e[ve])return a;e=m_(e)}return n}e=a,a=e.parentNode}return null}function An(e){if(e=e[ve]||e[ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function si(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[ii]=!0}var Eo=new Set,To={};function ai(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(To[e]=n,e=0;e<n.length;e++)Eo.add(n[e])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},bo={};function su(e){return ye.call(bo,e)?!0:ye.call(So,e)?!1:Ao.test(e)?bo[e]=!0:(So[e]=!0,!1)}function ta(e,n,a){if(su(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function dn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Te(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ar(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ft(e){if(!e._valueTracker){var n=ar(e)?"checked":"value";e._valueTracker=wo(e,n,""+e[n])}}function ls(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=ar(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var us=/[\n"\\]/g;function nn(e){return e.replace(us,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ea(e,n,a,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Ro(e,p,Ue(n)):a!=null?Ro(e,p,Ue(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function au(e,n,a,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(e);return}a=a!=null?""+Ue(a):"",n=n!=null?""+Ue(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Ft(e)}function Ro(e,n,a){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function or(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ou(e,n,a){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ue(a):""}function lr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(Ne(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ue(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Ft(e)}function rn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||lu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Co(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Io(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Io(e,f,n[f])}function na(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ur=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(e){return ur.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var No=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cr=null,ui=null;function cs(e){var n=An(e);if(n&&(e=n.stateNode)){var a=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(ea(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(s(90));ea(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&ls(o)}break t;case"textarea":ou(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&or(e,!!a.multiple,n,!1)}}}var ra=!1;function hr(e,n,a){if(ra)return e(n,a);ra=!0;try{var o=e(n);return o}finally{if(ra=!1,(cr!==null||ui!==null)&&(nc(),cr&&(n=cr,e=ui,ui=cr=null,cs(n),e)))for(n=0;n<e.length;n++)cs(e[n])}}function Bn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[ke]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hs=!1;if(bn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){hs=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{hs=!1}var ci=null,Do=null,fs=null;function Oo(){if(fs)return fs;var e,n=Do,a=n.length,o,h="value"in ci?ci.value:ci.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var p=a-e;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return fs=h.slice(e,1<o?1-o:void 0)}function ds(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function qn(){return!1}function je(e){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:qn,this.isPropagationStopped=qn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=je(Oi),fr=S({},Oi,{view:0,detail:0}),Vo=je(fr),dr,sa,fi,aa=S({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(dr=e.screenX-fi.screenX,sa=e.screenY-fi.screenY):sa=dr=0,fi=e),dr)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),Mo=je(aa),ms=S({},aa,{dataTransfer:0}),cu=je(ms),hu=S({},fr,{relatedTarget:0}),gs=je(hu),xo=S({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=je(xo),oa=S({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=je(oa),mu=S({},Oi,{data:0}),di=je(mu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yu[e])?!!n[e]:!1}function mr(){return _u}var tn=S({},fr,{key:function(e){if(e.key){var n=gu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(e){return e.type==="keypress"?ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vu=je(tn),Eu=S({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=je(Eu),u=S({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),m=je(u),v=S({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=je(v),U=S({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=je(U),tt=S({},Oi,{newState:0,oldState:0}),Tt=je(tt),de=[9,13,27,32],jt=bn&&"CompositionEvent"in window,oe=null;bn&&"documentMode"in document&&(oe=document.documentMode);var wn=bn&&"TextEvent"in window&&!oe,mi=bn&&(!jt||oe&&8<oe&&11>=oe),Hn=" ",Gn=!1;function ps(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function YT(e,n){switch(e){case"compositionend":return la(n);case"keypress":return n.which!==32?null:(Gn=!0,Hn);case"textInput":return e=n.data,e===Hn&&Gn?null:e;default:return null}}function XT(e,n){if(ua)return e==="compositionend"||!jt&&ps(e,n)?(e=Oo(),fs=Do=ci=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var $T={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!$T[e.type]:n==="textarea"}function _g(e,n,a,o){cr?ui?ui.push(o):ui=[o]:cr=o,n=uc(n,"onChange"),0<n.length&&(a=new hi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var ko=null,Uo=null;function ZT(e){t_(e,0)}function Tu(e){var n=fn(e);if(ls(n))return e}function vg(e,n){if(e==="change")return n}var Eg=!1;if(bn){var Ph;if(bn){var zh="oninput"in document;if(!zh){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),zh=typeof Tg.oninput=="function"}Ph=zh}else Ph=!1;Eg=Ph&&(!document.documentMode||9<document.documentMode)}function Ag(){ko&&(ko.detachEvent("onpropertychange",Sg),Uo=ko=null)}function Sg(e){if(e.propertyName==="value"&&Tu(Uo)){var n=[];_g(n,Uo,e,Sn(e)),hr(ZT,n)}}function JT(e,n,a){e==="focusin"?(Ag(),ko=n,Uo=a,ko.attachEvent("onpropertychange",Sg)):e==="focusout"&&Ag()}function WT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(Uo)}function t1(e,n){if(e==="click")return Tu(n)}function e1(e,n){if(e==="input"||e==="change")return Tu(n)}function n1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:n1;function Lo(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ye.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function bg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wg(e,n){var a=bg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=bg(a)}}function Rg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Rg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ig(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=li(e.document)}return n}function jh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var i1=bn&&"documentMode"in document&&11>=document.documentMode,ca=null,Bh=null,Po=null,qh=!1;function Cg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qh||ca==null||ca!==li(o)||(o=ca,"selectionStart"in o&&jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Po&&Lo(Po,o)||(Po=o,o=uc(Bh,"onSelect"),0<o.length&&(n=new hi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=ca)))}function ys(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ha={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionrun:ys("Transition","TransitionRun"),transitionstart:ys("Transition","TransitionStart"),transitioncancel:ys("Transition","TransitionCancel"),transitionend:ys("Transition","TransitionEnd")},Hh={},Ng={};bn&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function _s(e){if(Hh[e])return Hh[e];if(!ha[e])return e;var n=ha[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Ng)return Hh[e]=n[a];return e}var Dg=_s("animationend"),Og=_s("animationiteration"),Vg=_s("animationstart"),r1=_s("transitionrun"),s1=_s("transitionstart"),a1=_s("transitioncancel"),Mg=_s("transitionend"),xg=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function Fn(e,n){xg.set(e,n),ai(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],fa=0,Fh=0;function Su(){for(var e=fa,n=Fh=fa=0;n<e;){var a=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&kg(a,h,f)}}function bu(e,n,a,o){Rn[fa++]=e,Rn[fa++]=n,Rn[fa++]=a,Rn[fa++]=o,Fh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Qh(e,n,a,o){return bu(e,n,a,o),wu(e)}function vs(e,n){return bu(e,null,null,n),wu(e)}function kg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function wu(e){if(50<al)throw al=0,nd=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var da={};function o1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,a,o){return new o1(e,n,a,o)}function Kh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var a=e.alternate;return a===null?(a=gn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ug(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,a,o,h,f){var p=0;if(o=e,typeof e=="function")Kh(e)&&(p=1);else if(typeof e=="string")p=fA(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=gn(31,a,n,h),e.elementType=I,e.lanes=f,e;case W:return Es(a.children,h,f,n);case J:p=8,h|=24;break;case lt:return e=gn(12,a,n,h|2),e.elementType=lt,e.lanes=f,e;case te:return e=gn(13,a,n,h),e.elementType=te,e.lanes=f,e;case kt:return e=gn(19,a,n,h),e.elementType=kt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:p=10;break t;case gt:p=9;break t;case Lt:p=11;break t;case C:p=14;break t;case b:p=16,o=null;break t}p=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=gn(p,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Es(e,n,a,o){return e=gn(7,e,o,n),e.lanes=a,e}function Yh(e,n,a){return e=gn(6,e,null,n),e.lanes=a,e}function Lg(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Xh(e,n,a){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Pg=new WeakMap;function In(e,n){if(typeof e=="object"&&e!==null){var a=Pg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:go(n)},Pg.set(e,n),n)}return{value:e,source:n,stack:go(n)}}var ma=[],ga=0,Iu=null,zo=0,Cn=[],Nn=0,gr=null,gi=1,pi="";function xi(e,n){ma[ga++]=zo,ma[ga++]=Iu,Iu=e,zo=n}function zg(e,n,a){Cn[Nn++]=gi,Cn[Nn++]=pi,Cn[Nn++]=gr,gr=e;var o=gi;e=pi;var h=32-fe(o)-1;o&=~(1<<h),a+=1;var f=32-fe(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,gi=1<<32-fe(n)+h|a<<h|o,pi=f+e}else gi=1<<f|a<<h|o,pi=e}function $h(e){e.return!==null&&(xi(e,1),zg(e,1,0))}function Zh(e){for(;e===Iu;)Iu=ma[--ga],ma[ga]=null,zo=ma[--ga],ma[ga]=null;for(;e===gr;)gr=Cn[--Nn],Cn[Nn]=null,pi=Cn[--Nn],Cn[Nn]=null,gi=Cn[--Nn],Cn[Nn]=null}function jg(e,n){Cn[Nn++]=gi,Cn[Nn++]=pi,Cn[Nn++]=gr,gi=n.id,pi=n.overflow,gr=e}var Be=null,ee=null,Vt=!1,pr=null,Dn=!1,Jh=Error(s(519));function yr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jo(In(n,e)),Jh}function Bg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[ve]=e,n[ke]=o,a){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(a=0;a<ll.length;a++)Rt(ll[a],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),lr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||r_(n.textContent,a)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||yr(e,!0)}function qg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Be=Be.return}}function pa(e){if(e!==Be)return!1;if(!Vt)return qg(e),Vt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||yd(e.type,e.memoizedProps)),a=!a),a&&ee&&yr(e),qg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ee=d_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ee=d_(e)}else n===27?(n=ee,Or(e.type)?(e=Ad,Ad=null,ee=e):ee=n):ee=Be?Vn(e.stateNode.nextSibling):null;return!0}function Ts(){ee=Be=null,Vt=!1}function Wh(){var e=pr;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),pr=null),e}function jo(e){pr===null?pr=[e]:pr.push(e)}var tf=V(null),As=null,ki=null;function _r(e,n,a){it(tf,n._currentValue),n._currentValue=a}function Ui(e){e._currentValue=tf.current,$(tf)}function ef(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function nf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),ef(f.return,a,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(s(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),ef(p,a,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ya(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var E=h.type;mn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Mt.current){if(p=h.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(dl):e=[dl])}h=h.return}e!==null&&nf(n,e,a,o),n.flags|=262144}function Cu(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ss(e){As=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Hg(As,e)}function Nu(e,n){return As===null&&Ss(e),Hg(e,n)}function Hg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ki===null){if(e===null)throw Error(s(308));ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ki=ki.next=n;return a}var l1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},u1=r.unstable_scheduleCallback,c1=r.unstable_NormalPriority,Ae={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new l1,data:new Map,refCount:0}}function Bo(e){e.refCount--,e.refCount===0&&u1(c1,function(){e.controller.abort()})}var qo=null,sf=0,_a=0,va=null;function h1(e,n){if(qo===null){var a=qo=[];sf=0,_a=ld(),va={status:"pending",value:void 0,then:function(o){a.push(o)}}}return sf++,n.then(Gg,Gg),n}function Gg(){if(--sf===0&&qo!==null){va!==null&&(va.status="fulfilled");var e=qo;qo=null,_a=0,va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function f1(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Fg=G.S;G.S=function(e,n){Cy=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&h1(e,n),Fg!==null&&Fg(e,n)};var bs=V(null);function af(){var e=bs.current;return e!==null?e:Jt.pooledCache}function Du(e,n){n===null?it(bs,bs.current):it(bs,n.pool)}function Qg(){var e=af();return e===null?null:{parent:Ae._currentValue,pool:e}}var Ea=Error(s(460)),of=Error(s(474)),Ou=Error(s(542)),Vu={then:function(){}};function Kg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(jn,jn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$g(e),e;default:if(typeof n.status=="string")n.then(jn,jn);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$g(e),e}throw Rs=n,Ea}}function ws(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Rs=a,Ea):a}}var Rs=null;function Xg(){if(Rs===null)throw Error(s(459));var e=Rs;return Rs=null,e}function $g(e){if(e===Ea||e===Ou)throw Error(s(483))}var Ta=null,Ho=0;function Mu(e){var n=Ho;return Ho+=1,Ta===null&&(Ta=[]),Yg(Ta,e,n)}function Go(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function xu(e,n){throw n.$$typeof===N?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Zg(e){function n(x,D){if(e){var L=x.deletions;L===null?(x.deletions=[D],x.flags|=16):L.push(D)}}function a(x,D){if(!e)return null;for(;D!==null;)n(x,D),D=D.sibling;return null}function o(x){for(var D=new Map;x!==null;)x.key!==null?D.set(x.key,x):D.set(x.index,x),x=x.sibling;return D}function h(x,D){return x=Mi(x,D),x.index=0,x.sibling=null,x}function f(x,D,L){return x.index=L,e?(L=x.alternate,L!==null?(L=L.index,L<D?(x.flags|=67108866,D):L):(x.flags|=67108866,D)):(x.flags|=1048576,D)}function p(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,D,L,K){return D===null||D.tag!==6?(D=Yh(L,x.mode,K),D.return=x,D):(D=h(D,L),D.return=x,D)}function R(x,D,L,K){var ct=L.type;return ct===W?H(x,D,L.props.children,K,L.key):D!==null&&(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&ws(ct)===D.type)?(D=h(D,L.props),Go(D,L),D.return=x,D):(D=Ru(L.type,L.key,L.props,null,x.mode,K),Go(D,L),D.return=x,D)}function P(x,D,L,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Xh(L,x.mode,K),D.return=x,D):(D=h(D,L.children||[]),D.return=x,D)}function H(x,D,L,K,ct){return D===null||D.tag!==7?(D=Es(L,x.mode,K,ct),D.return=x,D):(D=h(D,L),D.return=x,D)}function Y(x,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Yh(""+D,x.mode,L),D.return=x,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case B:return L=Ru(D.type,D.key,D.props,null,x.mode,L),Go(L,D),L.return=x,L;case X:return D=Xh(D,x.mode,L),D.return=x,D;case b:return D=ws(D),Y(x,D,L)}if(Ne(D)||k(D))return D=Es(D,x.mode,L,null),D.return=x,D;if(typeof D.then=="function")return Y(x,Mu(D),L);if(D.$$typeof===ft)return Y(x,Nu(x,D),L);xu(x,D)}return null}function z(x,D,L,K){var ct=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:E(x,D,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case B:return L.key===ct?R(x,D,L,K):null;case X:return L.key===ct?P(x,D,L,K):null;case b:return L=ws(L),z(x,D,L,K)}if(Ne(L)||k(L))return ct!==null?null:H(x,D,L,K,null);if(typeof L.then=="function")return z(x,D,Mu(L),K);if(L.$$typeof===ft)return z(x,D,Nu(x,L),K);xu(x,L)}return null}function q(x,D,L,K,ct){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return x=x.get(L)||null,E(D,x,""+K,ct);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case B:return x=x.get(K.key===null?L:K.key)||null,R(D,x,K,ct);case X:return x=x.get(K.key===null?L:K.key)||null,P(D,x,K,ct);case b:return K=ws(K),q(x,D,L,K,ct)}if(Ne(K)||k(K))return x=x.get(L)||null,H(D,x,K,ct,null);if(typeof K.then=="function")return q(x,D,L,Mu(K),ct);if(K.$$typeof===ft)return q(x,D,L,Nu(D,K),ct);xu(D,K)}return null}function at(x,D,L,K){for(var ct=null,Pt=null,ot=D,bt=D=0,Ct=null;ot!==null&&bt<L.length;bt++){ot.index>bt?(Ct=ot,ot=null):Ct=ot.sibling;var zt=z(x,ot,L[bt],K);if(zt===null){ot===null&&(ot=Ct);break}e&&ot&&zt.alternate===null&&n(x,ot),D=f(zt,D,bt),Pt===null?ct=zt:Pt.sibling=zt,Pt=zt,ot=Ct}if(bt===L.length)return a(x,ot),Vt&&xi(x,bt),ct;if(ot===null){for(;bt<L.length;bt++)ot=Y(x,L[bt],K),ot!==null&&(D=f(ot,D,bt),Pt===null?ct=ot:Pt.sibling=ot,Pt=ot);return Vt&&xi(x,bt),ct}for(ot=o(ot);bt<L.length;bt++)Ct=q(ot,x,bt,L[bt],K),Ct!==null&&(e&&Ct.alternate!==null&&ot.delete(Ct.key===null?bt:Ct.key),D=f(Ct,D,bt),Pt===null?ct=Ct:Pt.sibling=Ct,Pt=Ct);return e&&ot.forEach(function(Ur){return n(x,Ur)}),Vt&&xi(x,bt),ct}function dt(x,D,L,K){if(L==null)throw Error(s(151));for(var ct=null,Pt=null,ot=D,bt=D=0,Ct=null,zt=L.next();ot!==null&&!zt.done;bt++,zt=L.next()){ot.index>bt?(Ct=ot,ot=null):Ct=ot.sibling;var Ur=z(x,ot,zt.value,K);if(Ur===null){ot===null&&(ot=Ct);break}e&&ot&&Ur.alternate===null&&n(x,ot),D=f(Ur,D,bt),Pt===null?ct=Ur:Pt.sibling=Ur,Pt=Ur,ot=Ct}if(zt.done)return a(x,ot),Vt&&xi(x,bt),ct;if(ot===null){for(;!zt.done;bt++,zt=L.next())zt=Y(x,zt.value,K),zt!==null&&(D=f(zt,D,bt),Pt===null?ct=zt:Pt.sibling=zt,Pt=zt);return Vt&&xi(x,bt),ct}for(ot=o(ot);!zt.done;bt++,zt=L.next())zt=q(ot,x,bt,zt.value,K),zt!==null&&(e&&zt.alternate!==null&&ot.delete(zt.key===null?bt:zt.key),D=f(zt,D,bt),Pt===null?ct=zt:Pt.sibling=zt,Pt=zt);return e&&ot.forEach(function(SA){return n(x,SA)}),Vt&&xi(x,bt),ct}function Zt(x,D,L,K){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case B:t:{for(var ct=L.key;D!==null;){if(D.key===ct){if(ct=L.type,ct===W){if(D.tag===7){a(x,D.sibling),K=h(D,L.props.children),K.return=x,x=K;break t}}else if(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&ws(ct)===D.type){a(x,D.sibling),K=h(D,L.props),Go(K,L),K.return=x,x=K;break t}a(x,D);break}else n(x,D);D=D.sibling}L.type===W?(K=Es(L.props.children,x.mode,K,L.key),K.return=x,x=K):(K=Ru(L.type,L.key,L.props,null,x.mode,K),Go(K,L),K.return=x,x=K)}return p(x);case X:t:{for(ct=L.key;D!==null;){if(D.key===ct)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){a(x,D.sibling),K=h(D,L.children||[]),K.return=x,x=K;break t}else{a(x,D);break}else n(x,D);D=D.sibling}K=Xh(L,x.mode,K),K.return=x,x=K}return p(x);case b:return L=ws(L),Zt(x,D,L,K)}if(Ne(L))return at(x,D,L,K);if(k(L)){if(ct=k(L),typeof ct!="function")throw Error(s(150));return L=ct.call(L),dt(x,D,L,K)}if(typeof L.then=="function")return Zt(x,D,Mu(L),K);if(L.$$typeof===ft)return Zt(x,D,Nu(x,L),K);xu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(a(x,D.sibling),K=h(D,L),K.return=x,x=K):(a(x,D),K=Yh(L,x.mode,K),K.return=x,x=K),p(x)):a(x,D)}return function(x,D,L,K){try{Ho=0;var ct=Zt(x,D,L,K);return Ta=null,ct}catch(ot){if(ot===Ea||ot===Ou)throw ot;var Pt=gn(29,ot,null,x.mode);return Pt.lanes=K,Pt.return=x,Pt}}}var Is=Zg(!0),Jg=Zg(!1),vr=!1;function lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Er(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Tr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=wu(e),kg(e,null,a),n}return bu(e,o,n,a),wu(e)}function Fo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,_o(e,a)}}function cf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var hf=!1;function Qo(){if(hf){var e=va;if(e!==null)throw e}}function Ko(e,n,a,o){hf=!1;var h=e.updateQueue;vr=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,p===null?f=P:p.next=P,p=R;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==p&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;p=0,H=P=R=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(It&z)===z:(o&z)===z){z!==0&&z===_a&&(hf=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,dt=E;z=n;var Zt=a;switch(dt.tag){case 1:if(at=dt.payload,typeof at=="function"){Y=at.call(Zt,Y,z);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=dt.payload,z=typeof at=="function"?at.call(Zt,Y,z):at,z==null)break t;Y=S({},Y,z);break t;case 2:vr=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=q,R=Y):H=H.next=q,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Rr|=p,e.lanes=p,e.memoizedState=Y}}function Wg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function tp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Wg(a[e],n)}var Aa=V(null),ku=V(0);function ep(e,n){e=Fi,it(ku,e),it(Aa,n),Fi=e|n.baseLanes}function ff(){it(ku,Fi),it(Aa,Aa.current)}function df(){Fi=ku.current,$(Aa),$(ku)}var pn=V(null),On=null;function Ar(e){var n=e.alternate;it(me,me.current&1),it(pn,e),On===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(On=e)}function mf(e){it(me,me.current),it(pn,e),On===null&&(On=e)}function np(e){e.tag===22?(it(me,me.current),it(pn,e),On===null&&(On=e)):Sr()}function Sr(){it(me,me.current),it(pn,pn.current)}function yn(e){$(pn),On===e&&(On=null),$(me)}var me=V(0);function Uu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ed(a)||Td(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,At=null,Xt=null,Se=null,Lu=!1,Sa=!1,Cs=!1,Pu=0,Yo=0,ba=null,d1=0;function ce(){throw Error(s(321))}function gf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!mn(e[a],n[a]))return!1;return!0}function pf(e,n,a,o,h,f){return Li=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?zp:Of,Cs=!1,f=a(o,h),Cs=!1,Sa&&(f=rp(n,a,o,h)),ip(e),f}function ip(e){G.H=Zo;var n=Xt!==null&&Xt.next!==null;if(Li=0,Se=Xt=At=null,Lu=!1,Yo=0,ba=null,n)throw Error(s(300));e===null||be||(e=e.dependencies,e!==null&&Cu(e)&&(be=!0))}function rp(e,n,a,o){At=e;var h=0;do{if(Sa&&(ba=null),Yo=0,Sa=!1,25<=h)throw Error(s(301));if(h+=1,Se=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=jp,f=n(a,o)}while(Sa);return f}function m1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Xo(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(At.flags|=1024),n}function yf(){var e=Pu!==0;return Pu=0,e}function _f(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function vf(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}Li=0,Se=Xt=At=null,Sa=!1,Yo=Pu=0,ba=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?At.memoizedState=Se=e:Se=Se.next=e,Se}function ge(){if(Xt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Se===null?At.memoizedState:Se.next;if(n!==null)Se=n,Xt=e;else{if(e===null)throw At.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Se===null?At.memoizedState=Se=e:Se=Se.next=e}return Se}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xo(e){var n=Yo;return Yo+=1,ba===null&&(ba=[]),e=Yg(ba,e,n),n=At,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?zp:Of),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xo(e);if(e.$$typeof===ft)return qe(e)}throw Error(s(438,String(e)))}function Ef(e){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=zu(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=M;return n.index++,a}function Pi(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=ge();return Tf(n,Xt,e)}function Tf(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,R=null,P=n,H=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(It&Y)===Y:(Li&Y)===Y){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===_a&&(H=!0);else if((Li&z)===z){P=P.next,z===_a&&(H=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=Y,p=f):R=R.next=Y,At.lanes|=z,Rr|=z;Y=P.action,Cs&&a(f,Y),f=P.hasEagerState?P.eagerState:a(f,Y)}else z={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,p=f):R=R.next=z,At.lanes|=Y,Rr|=Y;P=P.next}while(P!==null&&P!==n);if(R===null?p=f:R.next=E,!mn(f,e.memoizedState)&&(be=!0,H&&(a=va,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Af(e){var n=ge(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);mn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function sp(e,n,a){var o=At,h=ge(),f=Vt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var p=!mn((Xt||h).memoizedState,a);if(p&&(h.memoizedState=a,be=!0),h=h.queue,wf(lp.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,wa(9,{destroy:void 0},op.bind(null,o,h,a,n),null),Jt===null)throw Error(s(349));f||(Li&127)!==0||ap(o,n,a)}return a}function ap(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=zu(),At.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function op(e,n,a,o){n.value=a,n.getSnapshot=o,up(n)&&cp(e)}function lp(e,n,a){return a(function(){up(n)&&cp(e)})}function up(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!mn(e,a)}catch{return!0}}function cp(e){var n=vs(e,2);n!==null&&un(n,e,2)}function Sf(e){var n=en();if(typeof e=="function"){var a=e;if(e=a(),Cs){Tn(!0);try{a()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n}function hp(e,n,a,o){return e.baseState=a,Tf(e,Xt,typeof o=="function"?o:Pi)}function g1(e,n,a,o,h){if(Gu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,fp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function fp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=a(h,o),R=G.S;R!==null&&R(p,E),dp(e,n,E)}catch(P){bf(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=a(h,o),dp(e,n,f)}catch(P){bf(e,n,P)}}function dp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){mp(e,n,o)},function(o){return bf(e,n,o)}):mp(e,n,a)}function mp(e,n,a){n.status="fulfilled",n.value=a,gp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,fp(e,a)))}function bf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,gp(n),n=n.next;while(n!==o)}e.action=null}function gp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function pp(e,n){return n}function yp(e,n){if(Vt){var a=Jt.formState;if(a!==null){t:{var o=At;if(Vt){if(ee){e:{for(var h=ee,f=Dn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=Vn(h.nextSibling),o=h.data==="F!";break t}}yr(o)}o=!1}o&&(n=a[0])}}return a=en(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pp,lastRenderedState:n},a.queue=o,a=Up.bind(null,At,o),o.dispatch=a,o=Sf(!1),f=Df.bind(null,At,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=g1.bind(null,At,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function _p(e){var n=ge();return vp(n,Xt,e)}function vp(e,n,a){if(n=Tf(e,n,pp)[0],e=Bu(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Xo(n)}catch(p){throw p===Ea?Ou:p}else o=n;n=ge();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(At.flags|=2048,wa(9,{destroy:void 0},p1.bind(null,h,a),null)),[o,f,e]}function p1(e,n){e.action=n}function Ep(e){var n=ge(),a=Xt;if(a!==null)return vp(n,a,e);ge(),n=n.memoizedState,a=ge();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function wa(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=zu(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Tp(){return ge().memoizedState}function qu(e,n,a,o){var h=en();At.flags|=e,h.memoizedState=wa(1|n,{destroy:void 0},a,o===void 0?null:o)}function Hu(e,n,a,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&gf(o,Xt.memoizedState.deps)?h.memoizedState=wa(n,f,a,o):(At.flags|=e,h.memoizedState=wa(1|n,f,a,o))}function Ap(e,n){qu(8390656,8,e,n)}function wf(e,n){Hu(2048,8,e,n)}function y1(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=zu(),At.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Sp(e){var n=ge().memoizedState;return y1({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function bp(e,n){return Hu(4,2,e,n)}function wp(e,n){return Hu(4,4,e,n)}function Rp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ip(e,n,a){a=a!=null?a.concat([e]):null,Hu(4,4,Rp.bind(null,n,e),a)}function Rf(){}function Cp(e,n){var a=ge();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&gf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Np(e,n){var a=ge();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&gf(n,o[1]))return o[0];if(o=e(),Cs){Tn(!0);try{e()}finally{Tn(!1)}}return a.memoizedState=[o,n],o}function If(e,n,a){return a===void 0||(Li&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Dy(),At.lanes|=e,Rr|=e,a)}function Dp(e,n,a,o){return mn(a,n)?a:Aa.current!==null?(e=If(e,a,o),mn(e,n)||(be=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(It&261930)===0?(be=!0,e.memoizedState=a):(e=Dy(),At.lanes|=e,Rr|=e,n)}function Op(e,n,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,Df(e,!1,n,a);try{var R=h(),P=G.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=f1(R,o);$o(e,n,H,En(e))}else $o(e,n,o,En(e))}catch(Y){$o(e,n,{then:function(){},status:"rejected",reason:Y},En())}finally{nt.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function _1(){}function Cf(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=Vp(e).queue;Op(e,h,n,ht,a===null?_1:function(){return Mp(e),a(o)})}function Vp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Mp(e){var n=Vp(e);n.next===null&&(n=e.alternate.memoizedState),$o(e,n.next.queue,{},En())}function Nf(){return qe(dl)}function xp(){return ge().memoizedState}function kp(){return ge().memoizedState}function v1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=En();e=Er(a);var o=Tr(n,e,a);o!==null&&(un(o,n,a),Fo(o,n,a)),n={cache:rf()},e.payload=n;return}n=n.return}}function E1(e,n,a){var o=En();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Gu(e)?Lp(n,a):(a=Qh(e,n,a,o),a!==null&&(un(a,e,o),Pp(a,n,o)))}function Up(e,n,a){var o=En();$o(e,n,a,o)}function $o(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Lp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,a);if(h.hasEagerState=!0,h.eagerState=E,mn(E,p))return bu(e,n,h,0),Jt===null&&Su(),!1}catch{}if(a=Qh(e,n,h,o),a!==null)return un(a,e,o),Pp(a,n,o),!0}return!1}function Df(e,n,a,o){if(o={lane:2,revertLane:ld(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(s(479))}else n=Qh(e,a,o,2),n!==null&&un(n,e,2)}function Gu(e){var n=e.alternate;return e===At||n!==null&&n===At}function Lp(e,n){Sa=Lu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Pp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,_o(e,a)}}var Zo={readContext:qe,use:ju,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Zo.useEffectEvent=ce;var zp={readContext:qe,use:ju,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:Ap,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,qu(4194308,4,Rp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return qu(4194308,4,e,n)},useInsertionEffect:function(e,n){qu(4,2,e,n)},useMemo:function(e,n){var a=en();n=n===void 0?null:n;var o=e();if(Cs){Tn(!0);try{e()}finally{Tn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=en();if(a!==void 0){var h=a(n);if(Cs){Tn(!0);try{a(n)}finally{Tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=E1.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=Sf(e);var n=e.queue,a=Up.bind(null,At,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Rf,useDeferredValue:function(e,n){var a=en();return If(a,e,n)},useTransition:function(){var e=Sf(!1);return e=Op.bind(null,At,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=At,h=en();if(Vt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(It&127)!==0||ap(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ap(lp.bind(null,o,f,e),[e]),o.flags|=2048,wa(9,{destroy:void 0},op.bind(null,o,f,a,n),null),a},useId:function(){var e=en(),n=Jt.identifierPrefix;if(Vt){var a=pi,o=gi;a=(o&~(1<<32-fe(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Pu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=d1++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Nf,useFormState:yp,useActionState:yp,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Df.bind(null,At,!0,a),a.dispatch=n,[e,n]},useMemoCache:Ef,useCacheRefresh:function(){return en().memoizedState=v1.bind(null,At)},useEffectEvent:function(e){var n=en(),a={impl:e};return n.memoizedState=a,function(){if((Bt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Of={readContext:qe,use:ju,useCallback:Cp,useContext:qe,useEffect:wf,useImperativeHandle:Ip,useInsertionEffect:bp,useLayoutEffect:wp,useMemo:Np,useReducer:Bu,useRef:Tp,useState:function(){return Bu(Pi)},useDebugValue:Rf,useDeferredValue:function(e,n){var a=ge();return Dp(a,Xt.memoizedState,e,n)},useTransition:function(){var e=Bu(Pi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Xo(e),n]},useSyncExternalStore:sp,useId:xp,useHostTransitionStatus:Nf,useFormState:_p,useActionState:_p,useOptimistic:function(e,n){var a=ge();return hp(a,Xt,e,n)},useMemoCache:Ef,useCacheRefresh:kp};Of.useEffectEvent=Sp;var jp={readContext:qe,use:ju,useCallback:Cp,useContext:qe,useEffect:wf,useImperativeHandle:Ip,useInsertionEffect:bp,useLayoutEffect:wp,useMemo:Np,useReducer:Af,useRef:Tp,useState:function(){return Af(Pi)},useDebugValue:Rf,useDeferredValue:function(e,n){var a=ge();return Xt===null?If(a,e,n):Dp(a,Xt.memoizedState,e,n)},useTransition:function(){var e=Af(Pi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Xo(e),n]},useSyncExternalStore:sp,useId:xp,useHostTransitionStatus:Nf,useFormState:Ep,useActionState:Ep,useOptimistic:function(e,n){var a=ge();return Xt!==null?hp(a,Xt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:kp};jp.useEffectEvent=Sp;function Vf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Mf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=En(),h=Er(o);h.payload=n,a!=null&&(h.callback=a),n=Tr(e,h,o),n!==null&&(un(n,e,o),Fo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=En(),h=Er(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Tr(e,h,o),n!==null&&(un(n,e,o),Fo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=En(),o=Er(a);o.tag=2,n!=null&&(o.callback=n),n=Tr(e,o,a),n!==null&&(un(n,e,a),Fo(n,e,a))}};function Bp(e,n,a,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Lo(a,o)||!Lo(h,f):!0}function qp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Mf.enqueueReplaceState(n,n.state,null)}function Ns(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Hp(e){Au(e)}function Gp(e){console.error(e)}function Fp(e){Au(e)}function Fu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Qp(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function xf(e,n,a){return a=Er(a),a.tag=3,a.payload={element:null},a.callback=function(){Fu(e,n)},a}function Kp(e){return e=Er(e),e.tag=3,e}function Yp(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Qp(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Qp(n,a,o),typeof h!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function T1(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ya(n,a,h,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return On===null?ic():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Vu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),sd(e,o,h)),!1;case 22:return a.flags|=65536,o===Vu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),sd(e,o,h)),!1}throw Error(s(435,a.tag))}return sd(e,o,h),ic(),!1}if(Vt)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Jh&&(e=Error(s(422),{cause:o}),jo(In(e,a)))):(o!==Jh&&(n=Error(s(423),{cause:o}),jo(In(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=In(o,a),h=xf(e.stateNode,o,h),cf(e,h),he!==4&&(he=2)),!1;var f=Error(s(520),{cause:o});if(f=In(f,a),sl===null?sl=[f]:sl.push(f),he!==4&&(he=2),n===null)return!0;o=In(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=xf(a.stateNode,o,e),cf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ir===null||!Ir.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Kp(h),Yp(h,e,a,o),cf(a,h),!1}a=a.return}while(a!==null);return!1}var kf=Error(s(461)),be=!1;function He(e,n,a,o){n.child=e===null?Jg(n,null,a,o):Is(n,e.child,a,o)}function Xp(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Ss(n),o=pf(e,n,a,p,f,h),E=yf(),e!==null&&!be?(_f(e,n,h),zi(e,n,h)):(Vt&&E&&$h(n),n.flags|=1,He(e,n,o,h),n.child)}function $p(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Zp(e,n,f,o,h)):(e=Ru(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Hf(e,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Lo,a(p,o)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=Mi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Zp(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Lo(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,Hf(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,zi(e,n,h)}return Uf(e,n,a,o,h)}function Jp(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Wp(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Du(n,f!==null?f.cachePool:null),f!==null?ep(n,f):ff(),np(n);else return o=n.lanes=536870912,Wp(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Du(n,f.cachePool),ep(n,f),Sr(),n.memoizedState=null):(e!==null&&Du(n,null),ff(),Sr());return He(e,n,h,a),n.child}function Jo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wp(e,n,a,o,h){var f=af();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Du(n,null),ff(),np(n),e!==null&&ya(e,n,o,!0),n.childLanes=h,null}function Qu(e,n){return n=Yu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ty(e,n,a){return Is(n,e.child,null,a),e=Qu(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function A1(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=Qu(n,o),n.lanes=536870912,Jo(null,e);if(mf(n),(e=ee)?(e=f_(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gr!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},a=Lg(e),a.return=n,n.child=a,Be=n,ee=null)):e=null,e===null)throw yr(n);return n.lanes=536870912,null}return Qu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=ty(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(be||ya(e,n,a,!1),h=(a&e.childLanes)!==0,be||h){if(o=Jt,o!==null&&(p=vo(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,vs(e,p),un(o,e,p),kf;ic(),n=ty(e,n,a)}else e=f.treeContext,ee=Vn(p.nextSibling),Be=n,Vt=!0,pr=null,Dn=!1,e!==null&&jg(n,e),n=Qu(n,o),n.flags|=4096;return n}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ku(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Uf(e,n,a,o,h){return Ss(n),a=pf(e,n,a,o,void 0,h),o=yf(),e!==null&&!be?(_f(e,n,h),zi(e,n,h)):(Vt&&o&&$h(n),n.flags|=1,He(e,n,a,h),n.child)}function ey(e,n,a,o,h,f){return Ss(n),n.updateQueue=null,a=rp(n,o,a,h),ip(e),o=yf(),e!==null&&!be?(_f(e,n,f),zi(e,n,f)):(Vt&&o&&$h(n),n.flags|=1,He(e,n,a,f),n.child)}function ny(e,n,a,o,h){if(Ss(n),n.stateNode===null){var f=da,p=a.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},lf(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?qe(p):da,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Vf(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Mf.enqueueReplaceState(f,f.state,null),Ko(n,o,f,h),Qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Ns(a,E);f.props=R;var P=f.context,H=a.contextType;p=da,typeof H=="object"&&H!==null&&(p=qe(H));var Y=a.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&qp(n,f,o,p),vr=!1;var z=n.memoizedState;f.state=z,Ko(n,o,f,h),Qo(),P=n.memoizedState,E||z!==P||vr?(typeof Y=="function"&&(Vf(n,a,Y,o),P=n.memoizedState),(R=vr||Bp(n,a,R,o,z,P,p))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,uf(e,n),p=n.memoizedProps,H=Ns(a,p),f.props=H,Y=n.pendingProps,z=f.context,P=a.contextType,R=da,typeof P=="object"&&P!==null&&(R=qe(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||z!==R)&&qp(n,f,o,R),vr=!1,z=n.memoizedState,f.state=z,Ko(n,o,f,h),Qo();var q=n.memoizedState;p!==Y||z!==q||vr||e!==null&&e.dependencies!==null&&Cu(e.dependencies)?(typeof E=="function"&&(Vf(n,a,E,o),q=n.memoizedState),(H=vr||Bp(n,a,H,o,z,q,R)||e!==null&&e.dependencies!==null&&Cu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=H):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Is(n,e.child,null,h),n.child=Is(n,null,a,h)):He(e,n,a,h),n.memoizedState=f.state,e=n.child):e=zi(e,n,h),e}function iy(e,n,a,o){return Ts(),n.flags|=256,He(e,n,a,o),n.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(e){return{baseLanes:e,cachePool:Qg()}}function zf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=vn),e}function ry(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?Ar(n):Sr(),(e=ee)?(e=f_(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gr!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},a=Lg(e),a.return=n,n.child=a,Be=n,ee=null)):e=null,e===null)throw yr(n);return Td(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Sr(),h=n.mode,E=Yu({mode:"hidden",children:E},h),o=Es(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Pf(a),o.childLanes=zf(e,p,a),n.memoizedState=Lf,Jo(null,o)):(Ar(n),jf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ar(n),n.flags&=-257,n=Bf(e,n,a)):n.memoizedState!==null?(Sr(),n.child=e.child,n.flags|=128,n=null):(Sr(),E=o.fallback,h=n.mode,o=Yu({mode:"visible",children:o.children},h),E=Es(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Is(n,e.child,null,a),o=n.child,o.memoizedState=Pf(a),o.childLanes=zf(e,p,a),n.memoizedState=Lf,n=Jo(null,o));else if(Ar(n),Td(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(s(419)),o.stack="",o.digest=p,jo({value:o,source:null,stack:null}),n=Bf(e,n,a)}else if(be||ya(e,n,a,!1),p=(a&e.childLanes)!==0,be||p){if(p=Jt,p!==null&&(o=vo(p,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,vs(e,o),un(p,e,o),kf;Ed(E)||ic(),n=Bf(e,n,a)}else Ed(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ee=Vn(E.nextSibling),Be=n,Vt=!0,pr=null,Dn=!1,e!==null&&jg(n,e),n=jf(n,o.children),n.flags|=4096);return n}return h?(Sr(),E=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=Mi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=Mi(P,E):(E=Es(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Jo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Pf(a):(h=E.cachePool,h!==null?(R=Ae._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Qg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=zf(e,p,a),n.memoizedState=Lf,Jo(e.child,o)):(Ar(n),a=e.child,e=a.sibling,a=Mi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function jf(e,n){return n=Yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yu(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Bf(e,n,a){return Is(n,e.child,null,a),e=jf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function sy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),ef(e.return,n,a)}function qf(e,n,a,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function ay(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=me.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,it(me,p),He(e,n,o,a),o=Vt?zo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sy(e,a,n);else if(e.tag===19)sy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Uu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),qf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Uu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}qf(n,!0,a,null,f,o);break;case"together":qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function zi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Rr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ya(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Mi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Mi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Hf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Cu(e)))}function S1(e,n,a){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),_r(n,Ae,e.memoizedState.cache),Ts();break;case 27:case 5:es(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:_r(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ar(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ry(e,n,a):(Ar(n),e=zi(e,n,a),e!==null?e.sibling:null);Ar(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ya(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return ay(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(me,me.current),o)break;return null;case 22:return n.lanes=0,Jp(e,n,a,n.pendingProps);case 24:_r(n,Ae,e.memoizedState.cache)}return zi(e,n,a)}function oy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!Hf(e,a)&&(n.flags&128)===0)return be=!1,S1(e,n,a);be=(e.flags&131072)!==0}else be=!1,Vt&&(n.flags&1048576)!==0&&zg(n,zo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=ws(n.elementType),n.type=e,typeof e=="function")Kh(e)?(o=Ns(e,o),n.tag=1,n=ny(null,n,e,o,a)):(n.tag=0,n=Uf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Lt){n.tag=11,n=Xp(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=$p(null,n,e,o,a);break t}}throw n=se(e)||e,Error(s(306,n,""))}}return n;case 0:return Uf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Ns(o,n.pendingProps),ny(e,n,o,h,a);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,uf(e,n),Ko(n,o,null,a);var p=n.memoizedState;if(o=p.cache,_r(n,Ae,o),o!==f.cache&&nf(n,[Ae],a,!0),Qo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=iy(e,n,o,a);break t}else if(o!==h){h=In(Error(s(424)),n),jo(h),n=iy(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ee=Vn(e.firstChild),Be=n,Vt=!0,pr=null,Dn=!0,a=Jg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ts(),o===h){n=zi(e,n,a);break t}He(e,n,o,a)}n=n.child}return n;case 26:return Ku(e,n),e===null?(a=__(n.type,null,n.pendingProps,null))?n.memoizedState=a:Vt||(a=n.type,e=n.pendingProps,o=cc(St.current).createElement(a),o[ve]=n,o[ke]=e,Ge(o,a,e),Ee(o),n.stateNode=o):n.memoizedState=__(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return es(n),e===null&&Vt&&(o=n.stateNode=g_(n.type,n.pendingProps,St.current),Be=n,Dn=!0,h=ee,Or(n.type)?(Ad=h,ee=Vn(o.firstChild)):ee=h),He(e,n,n.pendingProps.children,a),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=ee)&&(o=W1(o,n.type,n.pendingProps,Dn),o!==null?(n.stateNode=o,Be=n,ee=Vn(o.firstChild),Dn=!1,h=!0):h=!1),h||yr(n)),es(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,yd(h,f)?o=null:p!==null&&yd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=pf(e,n,m1,null,null,a),dl._currentValue=h),Ku(e,n),He(e,n,o,a),n.child;case 6:return e===null&&Vt&&((e=a=ee)&&(a=tA(a,n.pendingProps,Dn),a!==null?(n.stateNode=a,Be=n,ee=null,e=!0):e=!1),e||yr(n)),null;case 13:return ry(e,n,a);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Is(n,null,o,a):He(e,n,o,a),n.child;case 11:return Xp(e,n,n.type,n.pendingProps,a);case 7:return He(e,n,n.pendingProps,a),n.child;case 8:return He(e,n,n.pendingProps.children,a),n.child;case 12:return He(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,_r(n,n.type,o.value),He(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ss(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,a),n.child;case 14:return $p(e,n,n.type,n.pendingProps,a);case 15:return Zp(e,n,n.type,n.pendingProps,a);case 19:return ay(e,n,a);case 31:return A1(e,n,a);case 22:return Jp(e,n,a,n.pendingProps);case 24:return Ss(n),o=qe(Ae),e===null?(h=af(),h===null&&(h=Jt,f=rf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},lf(n),_r(n,Ae,h)):((e.lanes&a)!==0&&(uf(e,n),Ko(n,null,null,a),Qo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_r(n,Ae,o)):(o=f.cache,_r(n,Ae,o),o!==h.cache&&nf(n,[Ae],a,!0))),He(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ji(e){e.flags|=4}function Gf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(xy())e.flags|=8192;else throw Rs=Vu,of}else e.flags&=-16777217}function ly(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!S_(n))if(xy())e.flags|=8192;else throw Rs=Vu,of}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?eu():536870912,e.lanes|=n,Na|=n)}function Wo(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function b1(e,n,a){var o=n.pendingProps;switch(Zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(Ae),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(pa(n)?ji(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ji(n),f!==null?(ne(n),ly(n,f)):(ne(n),Gf(n,h,null,o,a))):f?f!==e.memoizedState?(ji(n),ne(n),ly(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ji(n),ne(n),Gf(n,h,e,o,a)),null;case 27:if(Ys(n),a=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ne(n),null}e=st.current,pa(n)?Bg(n):(e=g_(h,o,a),n.stateNode=e,ji(n))}return ne(n),null;case 5:if(Ys(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(f=st.current,pa(n))Bg(n);else{var p=cc(St.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[ve]=n,f[ke]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ji(n)}}return ne(n),Gf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=St.current,pa(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||r_(e.nodeValue,a)),e||yr(n,!0)}else e=cc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ne(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=pa(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ve]=n}else Ts(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else a=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=pa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=n}else Ts(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Xu(n,n.updateQueue),ne(n),null);case 4:return ae(),e===null&&fd(n.stateNode.containerInfo),ne(n),null;case 10:return Ui(n.type),ne(n),null;case 19:if($(me),o=n.memoizedState,o===null)return ne(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Wo(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Uu(e),f!==null){for(n.flags|=128,Wo(o,!1),e=f.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Ug(a,e),a=a.sibling;return it(me,me.current&1|2),Vt&&xi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>tc&&(n.flags|=128,h=!0,Wo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Uu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),Wo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return ne(n),null}else 2*We()-o.renderingStartTime>tc&&a!==536870912&&(n.flags|=128,h=!0,Wo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,a=me.current,it(me,h?a&1|2:a&1),Vt&&xi(n,o.treeForkCount),e):(ne(n),null);case 22:case 23:return yn(n),df(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&Xu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&$(bs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ui(Ae),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function w1(e,n){switch(Zh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Ae),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ys(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(s(340));Ts()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ts()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $(me),null;case 4:return ae(),null;case 10:return Ui(n.type),null;case 22:case 23:return yn(n),df(),e!==null&&$(bs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Ae),null;case 25:return null;default:return null}}function uy(e,n){switch(Zh(n),n.tag){case 3:Ui(Ae),ae();break;case 26:case 27:case 5:Ys(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:$(me);break;case 10:Ui(n.type);break;case 22:case 23:yn(n),df(),e!==null&&$(bs);break;case 24:Ui(Ae)}}function tl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(E){Kt(n,n.return,E)}}function br(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=a,P=E;try{P()}catch(H){Kt(h,R,H)}}}o=o.next}while(o!==f)}}catch(H){Kt(n,n.return,H)}}function cy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{tp(n,a)}catch(o){Kt(e,e.return,o)}}}function hy(e,n,a){a.props=Ns(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Kt(e,n,o)}}function el(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Kt(e,n,h)}}function yi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Kt(e,n,h)}else a.current=null}function fy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Kt(e,e.return,h)}}function Ff(e,n,a){try{var o=e.stateNode;K1(o,e.type,a,n),o[ke]=n}catch(h){Kt(e,e.return,h)}}function dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Or(e.type)||e.tag===4}function Qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Or(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=jn));else if(o!==4&&(o===27&&Or(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Kf(e,n,a),e=e.sibling;e!==null;)Kf(e,n,a),e=e.sibling}function $u(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Or(e.type)&&(a=e.stateNode),e=e.child,e!==null))for($u(e,n,a),e=e.sibling;e!==null;)$u(e,n,a),e=e.sibling}function my(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,a),n[ve]=e,n[ke]=a}catch(f){Kt(e,e.return,f)}}var Bi=!1,we=!1,Yf=!1,gy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function R1(e,n){if(e=e.containerInfo,gd=yc,e=Ig(e),jh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,E=-1,R=-1,P=0,H=0,Y=e,z=null;e:for(;;){for(var q;Y!==a||h!==0&&Y.nodeType!==3||(E=p+h),Y!==f||o!==0&&Y.nodeType!==3||(R=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===e)break e;if(z===a&&++P===h&&(E=p),z===f&&++H===o&&(R=p),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(pd={focusedElem:e,selectionRange:a},yc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var at=Ns(a.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Kt(a,a.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)vd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function py(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Hi(e,a),o&4&&tl(5,a);break;case 1:if(Hi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){Kt(a,a.return,p)}else{var h=Ns(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Kt(a,a.return,p)}}o&64&&cy(a),o&512&&el(a,a.return);break;case 3:if(Hi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{tp(e,n)}catch(p){Kt(a,a.return,p)}}break;case 27:n===null&&o&4&&my(a);case 26:case 5:Hi(e,a),n===null&&o&4&&fy(a),o&512&&el(a,a.return);break;case 12:Hi(e,a);break;case 31:Hi(e,a),o&4&&vy(e,a);break;case 13:Hi(e,a),o&4&&Ey(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=k1.bind(null,a),eA(e,a))));break;case 22:if(o=a.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||we,h=Bi;var f=we;Bi=o,(we=n)&&!f?Gi(e,a,(a.subtreeFlags&8772)!==0):Hi(e,a),Bi=h,we=f}break;case 30:break;default:Hi(e,a)}}function yy(e){var n=e.alternate;n!==null&&(e.alternate=null,yy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ws(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,sn=!1;function qi(e,n,a){for(a=a.child;a!==null;)_y(e,n,a),a=a.sibling}function _y(e,n,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Un,a)}catch{}switch(a.tag){case 26:we||yi(a,n),qi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||yi(a,n);var o=le,h=sn;Or(a.type)&&(le=a.stateNode,sn=!1),qi(e,n,a),cl(a.stateNode),le=o,sn=h;break;case 5:we||yi(a,n);case 6:if(o=le,h=sn,le=null,qi(e,n,a),le=o,sn=h,le!==null)if(sn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Kt(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){Kt(a,n,f)}break;case 18:le!==null&&(sn?(e=le,c_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),La(e)):c_(le,a.stateNode));break;case 4:o=le,h=sn,le=a.stateNode.containerInfo,sn=!0,qi(e,n,a),le=o,sn=h;break;case 0:case 11:case 14:case 15:br(2,a,n),we||br(4,a,n),qi(e,n,a);break;case 1:we||(yi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&hy(a,n,o)),qi(e,n,a);break;case 21:qi(e,n,a);break;case 22:we=(o=we)||a.memoizedState!==null,qi(e,n,a),we=o;break;default:qi(e,n,a)}}function vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{La(e)}catch(a){Kt(n,n.return,a)}}}function Ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{La(e)}catch(a){Kt(n,n.return,a)}}function I1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new gy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new gy),n;default:throw Error(s(435,e.tag))}}function Zu(e,n){var a=I1(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=U1.bind(null,e,o);o.then(h,h)}})}function an(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Or(E.type)){le=E.stateNode,sn=!1;break t}break;case 5:le=E.stateNode,sn=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(le===null)throw Error(s(160));_y(f,p,h),le=null,sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ty(n,e),n=n.sibling}var Qn=null;function Ty(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(br(3,e,e.return),tl(3,e),br(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(we||a===null||yi(a,a.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Qn;if(an(n,e),on(e),o&512&&(we||a===null||yi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ii]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,a),f[ve]=e,Ee(f),o=f;break t;case"link":var p=T_("link","href",h).get(o+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;case"meta":if(p=T_("meta","content",h).get(o+(a.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else A_(h,e.type,e.stateNode);else e.stateNode=E_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?A_(h,e.type,e.stateNode):E_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ff(e,e.memoizedProps,a.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(we||a===null||yi(a,a.return)),a!==null&&o&4&&Ff(e,e.memoizedProps,a.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(we||a===null||yi(a,a.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(at){Kt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Ff(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Yf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(at){Kt(e,e.return,at)}}break;case 3:if(dc=null,h=Qn,Qn=hc(n.containerInfo),an(n,e),Qn=h,on(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{La(n.containerInfo)}catch(at){Kt(e,e.return,at)}Yf&&(Yf=!1,Ay(e));break;case 4:o=Qn,Qn=hc(e.stateNode.containerInfo),an(n,e),on(e),Qn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Wu=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,P=Bi,H=we;if(Bi=P||h,we=H||R,an(n,e),we=H,Bi=P,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||Bi||we||Ds(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(at){Kt(R,R.return,at)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Kt(R,R.return,at)}}}else if(n.tag===18){if(a===null){R=n;try{var q=R.stateNode;h?h_(q,!0):h_(R.stateNode,!1)}catch(at){Kt(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Zu(e,a))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(dy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Qf(e);$u(e,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(rn(p,""),a.flags&=-33);var E=Qf(e);$u(e,E,p);break;case 3:case 4:var R=a.stateNode.containerInfo,P=Qf(e);Kf(e,P,R);break;default:throw Error(s(161))}}catch(H){Kt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ay(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)py(e,n.alternate,n),n=n.sibling}function Ds(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:br(4,n,n.return),Ds(n);break;case 1:yi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&hy(n,n.return,a),Ds(n);break;case 27:cl(n.stateNode);case 26:case 5:yi(n,n.return),Ds(n);break;case 22:n.memoizedState===null&&Ds(n);break;case 30:Ds(n);break;default:Ds(n)}e=e.sibling}}function Gi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,a),tl(4,f);break;case 1:if(Gi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Kt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Wg(R[h],E)}catch(P){Kt(o,o.return,P)}}a&&p&64&&cy(f),el(f,f.return);break;case 27:my(f);case 26:case 5:Gi(h,f,a),a&&o===null&&p&4&&fy(f),el(f,f.return);break;case 12:Gi(h,f,a);break;case 31:Gi(h,f,a),a&&p&4&&vy(h,f);break;case 13:Gi(h,f,a),a&&p&4&&Ey(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,a),el(f,f.return);break;case 30:break;default:Gi(h,f,a)}n=n.sibling}}function Xf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Bo(a))}function $f(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e))}function Kn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(e,n,a,o),n=n.sibling}function Sy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n,a,o),h&2048&&tl(9,n);break;case 1:Kn(e,n,a,o);break;case 3:Kn(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e)));break;case 12:if(h&2048){Kn(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Kt(n,n.return,R)}}else Kn(e,n,a,o);break;case 31:Kn(e,n,a,o);break;case 13:Kn(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(e,n,a,o):nl(e,n):f._visibility&2?Kn(e,n,a,o):(f._visibility|=2,Ra(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(p,n);break;case 24:Kn(e,n,a,o),h&2048&&$f(n.alternate,n);break;default:Kn(e,n,a,o)}}function Ra(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=a,R=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:Ra(f,p,E,R,h),tl(8,p);break;case 23:break;case 22:var H=p.stateNode;p.memoizedState!==null?H._visibility&2?Ra(f,p,E,R,h):nl(f,p):(H._visibility|=2,Ra(f,p,E,R,h)),h&&P&2048&&Xf(p.alternate,p);break;case 24:Ra(f,p,E,R,h),h&&P&2048&&$f(p.alternate,p);break;default:Ra(f,p,E,R,h)}n=n.sibling}}function nl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:nl(a,o),h&2048&&Xf(o.alternate,o);break;case 24:nl(a,o),h&2048&&$f(o.alternate,o);break;default:nl(a,o)}n=n.sibling}}var il=8192;function Ia(e,n,a){if(e.subtreeFlags&il)for(e=e.child;e!==null;)by(e,n,a),e=e.sibling}function by(e,n,a){switch(e.tag){case 26:Ia(e,n,a),e.flags&il&&e.memoizedState!==null&&dA(a,Qn,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,n,a);break;case 3:case 4:var o=Qn;Qn=hc(e.stateNode.containerInfo),Ia(e,n,a),Qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=il,il=16777216,Ia(e,n,a),il=o):Ia(e,n,a));break;default:Ia(e,n,a)}}function wy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function rl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,Iy(o,e)}wy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ry(e),e=e.sibling}function Ry(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&br(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ju(e)):rl(e);break;default:rl(e)}}function Ju(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,Iy(o,e)}wy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:br(8,n,n.return),Ju(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ju(n));break;default:Ju(n)}e=e.sibling}}function Iy(e,n){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:br(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Bo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Le=o;else t:for(a=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(yy(o),o===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var C1={getCacheForType:function(e){var n=qe(Ae),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return qe(Ae).controller.signal}},N1=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Jt=null,wt=null,It=0,Qt=0,_n=null,wr=!1,Ca=!1,Zf=!1,Fi=0,he=0,Rr=0,Os=0,Jf=0,vn=0,Na=0,sl=null,ln=null,Wf=!1,Wu=0,Cy=0,tc=1/0,ec=null,Ir=null,Ve=0,Cr=null,Da=null,Qi=0,td=0,ed=null,Ny=null,al=0,nd=null;function En(){return(Bt&2)!==0&&It!==0?It&-It:G.T!==null?ld():nu()}function Dy(){if(vn===0)if((It&536870912)===0||Vt){var e=rs;rs<<=1,(rs&3932160)===0&&(rs=262144),vn=e}else vn=536870912;return e=pn.current,e!==null&&(e.flags|=32),vn}function un(e,n,a){(e===Jt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),Nr(e,It,vn,!1)),ss(e,a),((Bt&2)===0||e!==Jt)&&(e===Jt&&((Bt&2)===0&&(Os|=a),he===4&&Nr(e,It,vn,!1)),_i(e))}function Oy(e,n,a){if((Bt&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),h=o?V1(e,n):rd(e,n,!0),f=o;do{if(h===0){Ca&&!o&&Nr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!D1(a)){h=rd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=sl;var R=E.current.memoizedState.isDehydrated;if(R&&(Oa(E,p).flags|=256),p=rd(E,p,!1),p!==2){if(Zf&&!R){E.errorRecoveryDisabledLanes|=f,Os|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Oa(e,0),Nr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Nr(o,n,vn,!wr);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Wu+300-We(),10<h)){if(Nr(o,n,vn,!wr),ti(o,0,!0)!==0)break t;Qi=n,o.timeoutHandle=l_(Vy.bind(null,o,a,ln,ec,Wf,n,vn,Os,Na,wr,f,"Throttled",-0,0),h);break t}Vy(o,a,ln,ec,Wf,n,vn,Os,Na,wr,f,null,-0,0)}}break}while(!0);_i(e)}function Vy(e,n,a,o,h,f,p,E,R,P,H,Y,z,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},by(n,f,Y);var at=(f&62914560)===f?Wu-We():(f&4194048)===f?Cy-We():0;if(at=mA(Y,at),at!==null){Qi=f,e.cancelPendingCommit=at(jy.bind(null,e,n,f,a,o,h,p,E,R,H,Y,null,z,q)),Nr(e,f,p,!P);return}}jy(e,n,f,a,o,h,p,E,R)}function D1(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Nr(e,n,a,o){n&=~Jf,n&=~Os,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&as(e,a,n)}function nc(){return(Bt&6)===0?(ol(0),!1):!0}function id(){if(wt!==null){if(Qt===0)var e=wt.return;else e=wt,ki=As=null,vf(e),Ta=null,Ho=0,e=wt;for(;e!==null;)uy(e.alternate,e),e=e.return;wt=null}}function Oa(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,$1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Qi=0,id(),Jt=e,wt=a=Mi(e.current,null),It=n,Qt=0,_n=null,wr=!1,Ca=Ln(e,n),Zf=!1,Na=vn=Jf=Os=Rr=he=0,ln=sl=null,Wf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=e[h],o&=~f}return Fi=n,Su(),a}function My(e,n){At=null,G.H=Zo,n===Ea||n===Ou?(n=Xg(),Qt=3):n===of?(n=Xg(),Qt=4):Qt=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,wt===null&&(he=1,Fu(e,In(n,e.current)))}function xy(){var e=pn.current;return e===null?!0:(It&4194048)===It?On===null:(It&62914560)===It||(It&536870912)!==0?e===On:!1}function ky(){var e=G.H;return G.H=Zo,e===null?Zo:e}function Uy(){var e=G.A;return G.A=C1,e}function ic(){he=4,wr||(It&4194048)!==It&&pn.current!==null||(Ca=!0),(Rr&134217727)===0&&(Os&134217727)===0||Jt===null||Nr(Jt,It,vn,!1)}function rd(e,n,a){var o=Bt;Bt|=2;var h=ky(),f=Uy();(Jt!==e||It!==n)&&(ec=null,Oa(e,n)),n=!1;var p=he;t:do try{if(Qt!==0&&wt!==null){var E=wt,R=_n;switch(Qt){case 8:id(),p=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var P=Qt;if(Qt=0,_n=null,Va(e,E,R,P),a&&Ca){p=0;break t}break;default:P=Qt,Qt=0,_n=null,Va(e,E,R,P)}}O1(),p=he;break}catch(H){My(e,H)}while(!0);return n&&e.shellSuspendCounter++,ki=As=null,Bt=o,G.H=h,G.A=f,wt===null&&(Jt=null,It=0,Su()),p}function O1(){for(;wt!==null;)Ly(wt)}function V1(e,n){var a=Bt;Bt|=2;var o=ky(),h=Uy();Jt!==e||It!==n?(ec=null,tc=We()+500,Oa(e,n)):Ca=Ln(e,n);t:do try{if(Qt!==0&&wt!==null){n=wt;var f=_n;e:switch(Qt){case 1:Qt=0,_n=null,Va(e,n,f,1);break;case 2:case 9:if(Kg(f)){Qt=0,_n=null,Py(n);break}n=function(){Qt!==2&&Qt!==9||Jt!==e||(Qt=7),_i(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Kg(f)?(Qt=0,_n=null,Py(n)):(Qt=0,_n=null,Va(e,n,f,7));break;case 5:var p=null;switch(wt.tag){case 26:p=wt.memoizedState;case 5:case 27:var E=wt;if(p?S_(p):E.stateNode.complete){Qt=0,_n=null;var R=E.sibling;if(R!==null)wt=R;else{var P=E.return;P!==null?(wt=P,rc(P)):wt=null}break e}}Qt=0,_n=null,Va(e,n,f,5);break;case 6:Qt=0,_n=null,Va(e,n,f,6);break;case 8:id(),he=6;break t;default:throw Error(s(462))}}M1();break}catch(H){My(e,H)}while(!0);return ki=As=null,G.H=o,G.A=h,Bt=a,wt!==null?0:(Jt=null,It=0,Su(),he)}function M1(){for(;wt!==null&&!Mh();)Ly(wt)}function Ly(e){var n=oy(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?rc(e):wt=n}function Py(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=ey(a,n,n.pendingProps,n.type,void 0,It);break;case 11:n=ey(a,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:vf(n);default:uy(a,n),n=wt=Ug(n,Fi),n=oy(a,n,Fi)}e.memoizedProps=e.pendingProps,n===null?rc(e):wt=n}function Va(e,n,a,o){ki=As=null,vf(n),Ta=null,Ho=0;var h=n.return;try{if(T1(e,h,n,a,It)){he=1,Fu(e,In(a,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;he=1,Fu(e,In(a,e.current)),wt=null;return}n.flags&32768?(Vt||o===1?e=!0:Ca||(It&536870912)!==0?e=!1:(wr=e=!0,(o===2||o===9||o===3||o===6)&&(o=pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),zy(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){zy(n,wr);return}e=n.return;var a=b1(n.alternate,n,Fi);if(a!==null){wt=a;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);he===0&&(he=5)}function zy(e,n){do{var a=w1(e.alternate,e);if(a!==null){a.flags&=32767,wt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=a}while(e!==null);he=6,wt=null}function jy(e,n,a,o,h,f,p,E,R){e.cancelPendingCommit=null;do sc();while(Ve!==0);if((Bt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Fh,Uh(e,a,f,p,E,R),e===Jt&&(wt=Jt=null,It=0),Da=n,Cr=e,Qi=a,td=f,ed=h,Ny=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,L1(sr,function(){return Fy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=nt.p,nt.p=2,p=Bt,Bt|=4;try{R1(e,n,a)}finally{Bt=p,nt.p=h,G.T=o}}Ve=1,By(),qy(),Hy()}}function By(){if(Ve===1){Ve=0;var e=Cr,n=Da,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Bt;Bt|=4;try{Ty(n,e);var f=pd,p=Ig(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Rg(E.ownerDocument.documentElement,E)){if(R!==null&&jh(E)){var P=R.start,H=R.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),at=E.textContent.length,dt=Math.min(R.start,at),Zt=R.end===void 0?dt:Math.min(R.end,at);!q.extend&&dt>Zt&&(p=Zt,Zt=dt,dt=p);var x=wg(E,dt),D=wg(E,Zt);if(x&&D&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var L=Y.createRange();L.setStart(x.node,x.offset),q.removeAllRanges(),dt>Zt?(q.addRange(L),q.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),q.addRange(L))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}yc=!!gd,pd=gd=null}finally{Bt=h,nt.p=o,G.T=a}}e.current=n,Ve=2}}function qy(){if(Ve===2){Ve=0;var e=Cr,n=Da,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Bt;Bt|=4;try{py(e,n.alternate,n)}finally{Bt=h,nt.p=o,G.T=a}}Ve=3}}function Hy(){if(Ve===4||Ve===3){Ve=0,Xl();var e=Cr,n=Da,a=Qi,o=Ny;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,Da=Cr=null,Gy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ir=null),Ni(a),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,nt.p=h}}(Qi&3)!==0&&sc(),_i(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===nd?al++:(al=0,nd=e):al=0,ol(0)}}function Gy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Bo(n)))}function sc(){return By(),qy(),Hy(),Fy()}function Fy(){if(Ve!==5)return!1;var e=Cr,n=td;td=0;var a=Ni(Qi),o=G.T,h=nt.p;try{nt.p=32>a?32:a,G.T=null,a=ed,ed=null;var f=Cr,p=Qi;if(Ve=0,Da=Cr=null,Qi=0,(Bt&6)!==0)throw Error(s(331));var E=Bt;if(Bt|=4,Ry(f.current),Sy(f,f.current,p,a),Bt=E,ol(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{nt.p=h,G.T=o,Gy(e,n)}}function Qy(e,n,a){n=In(a,n),n=xf(e.stateNode,n,2),e=Tr(e,n,2),e!==null&&(ss(e,2),_i(e))}function Kt(e,n,a){if(e.tag===3)Qy(e,e,a);else for(;n!==null;){if(n.tag===3){Qy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ir===null||!Ir.has(o))){e=In(a,e),a=Kp(2),o=Tr(n,a,2),o!==null&&(Yp(a,o,n,e),ss(o,2),_i(o));break}}n=n.return}}function sd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new N1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Zf=!0,h.add(a),e=x1.bind(null,e,n,a),n.then(e,e))}function x1(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(It&a)===a&&(he===4||he===3&&(It&62914560)===It&&300>We()-Wu?(Bt&2)===0&&Oa(e,0):Jf|=a,Na===It&&(Na=0)),_i(e)}function Ky(e,n){n===0&&(n=eu()),e=vs(e,n),e!==null&&(ss(e,n),_i(e))}function k1(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Ky(e,a)}function U1(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Ky(e,a)}function L1(e,n){return Oe(e,n)}var ac=null,Ma=null,ad=!1,oc=!1,od=!1,Dr=0;function _i(e){e!==Ma&&e.next===null&&(Ma===null?ac=Ma=e:Ma=Ma.next=e),oc=!0,ad||(ad=!0,z1())}function ol(e,n){if(!od&&oc){od=!0;do for(var a=!1,o=ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Zy(o,f))}else f=It,f=ti(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ln(o,f)||(a=!0,Zy(o,f));o=o.next}while(a);od=!1}}function P1(){Yy()}function Yy(){oc=ad=!1;var e=0;Dr!==0&&X1()&&(e=Dr);for(var n=We(),a=null,o=ac;o!==null;){var h=o.next,f=Xy(o,n);f===0?(o.next=null,a===null?ac=h:a.next=h,h===null&&(Ma=a)):(a=o,(e!==0||(f&3)!==0)&&(oc=!0)),o=h}Ve!==0&&Ve!==5||ol(e),Dr!==0&&(Dr=0)}function Xy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-fe(f),E=1<<p,R=h[p];R===-1?((E&a)===0||(E&o)!==0)&&(h[p]=kh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,a=It,a=ti(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&rr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ln(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&rr(o),Ni(a)){case 2:case 8:a=yo;break;case 32:a=sr;break;case 268435456:a=$l;break;default:a=sr}return o=$y.bind(null,e),a=Oe(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&rr(o),e.callbackPriority=2,e.callbackNode=null,2}function $y(e,n){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(sc()&&e.callbackNode!==a)return null;var o=It;return o=ti(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Oy(e,o,n),Xy(e,We()),e.callbackNode!=null&&e.callbackNode===a?$y.bind(null,e):null)}function Zy(e,n){if(sc())return null;Oy(e,n,!0)}function z1(){Z1(function(){(Bt&6)!==0?Oe(po,P1):Yy()})}function ld(){if(Dr===0){var e=_a;e===0&&(e=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),Dr=e}return Dr}function Jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ia(""+e)}function Wy(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function j1(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=Jy((h[ke]||null).action),p=o.submitter;p&&(n=(n=p[ke]||null)?Jy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new hi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Dr!==0){var R=p?Wy(h,p):new FormData(h);Cf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?Wy(h,p):new FormData(h),Cf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ud=0;ud<Gh.length;ud++){var cd=Gh[ud],B1=cd.toLowerCase(),q1=cd[0].toUpperCase()+cd.slice(1);Fn(B1,"on"+q1)}Fn(Dg,"onAnimationEnd"),Fn(Og,"onAnimationIteration"),Fn(Vg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(r1,"onTransitionRun"),Fn(s1,"onTransitionStart"),Fn(a1,"onTransitionCancel"),Fn(Mg,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function t_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){Au(H)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){Au(H)}h.currentTarget=null,f=R}}}}function Rt(e,n){var a=n[Js];a===void 0&&(a=n[Js]=new Set);var o=e+"__bubble";a.has(o)||(e_(n,e,2,!1),a.add(o))}function hd(e,n,a){var o=0;n&&(o|=4),e_(a,e,o,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function fd(e){if(!e[lc]){e[lc]=!0,Eo.forEach(function(a){a!=="selectionchange"&&(H1.has(a)||hd(a,!1,e),hd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lc]||(n[lc]=!0,hd("selectionchange",!1,n))}}function e_(e,n,a,o){switch(D_(n)){case 2:var h=yA;break;case 8:h=_A;break;default:h=Id}a=h.bind(null,n,a,e),h=void 0,!hs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function dd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ri(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}E=E.parentNode}}o=o.return}hr(function(){var P=f,H=Sn(a),Y=[];t:{var z=xg.get(e);if(z!==void 0){var q=hi,at=e;switch(e){case"keypress":if(ds(a)===0)break t;case"keydown":case"keyup":q=vu;break;case"focusin":at="focus",q=gs;break;case"focusout":at="blur",q=gs;break;case"beforeblur":case"afterblur":q=gs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Dg:case Og:case Vg:q=fu;break;case Mg:q=A;break;case"scroll":case"scrollend":q=Vo;break;case"wheel":q=j;break;case"copy":case"cut":case"paste":q=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Vi;break;case"toggle":case"beforetoggle":q=Tt}var dt=(n&4)!==0,Zt=!dt&&(e==="scroll"||e==="scrollend"),x=dt?z!==null?z+"Capture":null:z;dt=[];for(var D=P,L;D!==null;){var K=D;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||x===null||(K=Bn(D,x),K!=null&&dt.push(ul(D,K,L))),Zt)break;D=D.return}0<dt.length&&(z=new q(z,at,null,a,H),Y.push({event:z,listeners:dt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&a!==No&&(at=a.relatedTarget||a.fromElement)&&(ri(at)||at[ni]))break t;if((q||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,q?(at=a.relatedTarget||a.toElement,q=P,at=at?ri(at):null,at!==null&&(Zt=c(at),dt=at.tag,at!==Zt||dt!==5&&dt!==27&&dt!==6)&&(at=null)):(q=null,at=P),q!==at)){if(dt=Mo,K="onMouseLeave",x="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Vi,K="onPointerLeave",x="onPointerEnter",D="pointer"),Zt=q==null?z:fn(q),L=at==null?z:fn(at),z=new dt(K,D+"leave",q,a,H),z.target=Zt,z.relatedTarget=L,K=null,ri(H)===P&&(dt=new dt(x,D+"enter",at,a,H),dt.target=L,dt.relatedTarget=Zt,K=dt),Zt=K,q&&at)e:{for(dt=G1,x=q,D=at,L=0,K=x;K;K=dt(K))L++;K=0;for(var ct=D;ct;ct=dt(ct))K++;for(;0<L-K;)x=dt(x),L--;for(;0<K-L;)D=dt(D),K--;for(;L--;){if(x===D||D!==null&&x===D.alternate){dt=x;break e}x=dt(x),D=dt(D)}dt=null}else dt=null;q!==null&&n_(Y,z,q,dt,!1),at!==null&&Zt!==null&&n_(Y,Zt,at,dt,!0)}}t:{if(z=P?fn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Pt=vg;else if(yg(z))if(Eg)Pt=e1;else{Pt=WT;var ot=JT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&na(P.elementType)&&(Pt=vg):Pt=t1;if(Pt&&(Pt=Pt(e,P))){_g(Y,Pt,a,H);break t}ot&&ot(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Ro(z,"number",z.value)}switch(ot=P?fn(P):window,e){case"focusin":(yg(ot)||ot.contentEditable==="true")&&(ca=ot,Bh=P,Po=null);break;case"focusout":Po=Bh=ca=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Cg(Y,a,H);break;case"selectionchange":if(i1)break;case"keydown":case"keyup":Cg(Y,a,H)}var bt;if(jt)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else ua?ps(e,a)&&(Ct="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(mi&&a.locale!=="ko"&&(ua||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&ua&&(bt=Oo()):(ci=H,Do="value"in ci?ci.value:ci.textContent,ua=!0)),ot=uc(P,Ct),0<ot.length&&(Ct=new di(Ct,e,null,a,H),Y.push({event:Ct,listeners:ot}),bt?Ct.data=bt:(bt=la(a),bt!==null&&(Ct.data=bt)))),(bt=wn?YT(e,a):XT(e,a))&&(Ct=uc(P,"onBeforeInput"),0<Ct.length&&(ot=new di("onBeforeInput","beforeinput",null,a,H),Y.push({event:ot,listeners:Ct}),ot.data=bt)),j1(Y,e,P,a,H)}t_(Y,n)})}function ul(e,n,a){return{instance:e,listener:n,currentTarget:a}}function uc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Bn(e,a),h!=null&&o.unshift(ul(e,h,f)),h=Bn(e,n),h!=null&&o.push(ul(e,h,f))),e.tag===3)return o;e=e.return}return[]}function G1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function n_(e,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var E=a,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=Bn(a,f),P!=null&&p.unshift(ul(a,P,R))):h||(P=Bn(a,f),P!=null&&p.push(ul(a,P,R)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var F1=/\r\n?/g,Q1=/\u0000|\uFFFD/g;function i_(e){return(typeof e=="string"?e:""+e).replace(F1,`
`).replace(Q1,"")}function r_(e,n){return n=i_(n),i_(e)===n}function $t(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,a,o);break;case"style":Co(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ia(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ia(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=jn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ia(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),ta(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ta(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uu.get(a)||a,ta(e,a,o))}}function md(e,n,a,o,h,f){switch(a){case"style":Co(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!To.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ta(e,a,o)}}}function Ge(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(e,n,f,p,a,null)}}h&&$t(e,n,"srcSet",a.srcSet,a,null),o&&$t(e,n,"src",a.src,a,null);return;case"input":Rt("invalid",e);var E=f=p=h=null,R=null,P=null;for(o in a)if(a.hasOwnProperty(o)){var H=a[o];if(H!=null)switch(o){case"name":h=H;break;case"type":p=H;break;case"checked":R=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:$t(e,n,o,H,a,null)}}au(e,f,E,R,P,p,h,!1);return;case"select":Rt("invalid",e),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:$t(e,n,h,E,a,null)}n=f,a=p,e.multiple=!!o,n!=null?or(e,!!o,n,!1):a!=null&&or(e,!!o,a,!0);return;case"textarea":Rt("invalid",e),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:$t(e,n,p,E,a,null)}lr(e,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":$t(e,n,R,o,a,null));return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<ll.length;o++)Rt(ll[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(o=a[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(e,n,P,o,a,null)}return;default:if(na(n)){for(H in a)a.hasOwnProperty(H)&&(o=a[H],o!==void 0&&md(e,n,H,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&$t(e,n,E,o,a,null))}function K1(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,P=null,H=null;for(q in a){var Y=a[q];if(a.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(q)||$t(e,n,q,null,o,Y)}}for(var z in o){var q=o[z];if(Y=a[z],o.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":H=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Y&&$t(e,n,z,q,o,Y)}}ea(e,p,E,R,P,H,f,h);return;case"select":q=p=E=z=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||$t(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&$t(e,n,h,f,o,R)}n=E,a=p,o=q,z!=null?or(e,!!a,z,!1):!!o!=!!a&&(n!=null?or(e,!!a,n,!0):or(e,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&$t(e,n,p,h,o,f)}ou(e,z,q);return;case"option":for(var at in a)z=a[at],a.hasOwnProperty(at)&&z!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:$t(e,n,at,null,o,z));for(R in o)z=o[R],q=a[R],o.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":$t(e,n,R,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)z=a[dt],a.hasOwnProperty(dt)&&z!=null&&!o.hasOwnProperty(dt)&&$t(e,n,dt,null,o,z);for(P in o)if(z=o[P],q=a[P],o.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:$t(e,n,P,z,o,q)}return;default:if(na(n)){for(var Zt in a)z=a[Zt],a.hasOwnProperty(Zt)&&z!==void 0&&!o.hasOwnProperty(Zt)&&md(e,n,Zt,void 0,o,z);for(H in o)z=o[H],q=a[H],!o.hasOwnProperty(H)||z===q||z===void 0&&q===void 0||md(e,n,H,z,o,q);return}}for(var x in a)z=a[x],a.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&$t(e,n,x,null,o,z);for(Y in o)z=o[Y],q=a[Y],!o.hasOwnProperty(Y)||z===q||z==null&&q==null||$t(e,n,Y,z,o,q)}function s_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Y1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&s_(p)){for(p=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],P=R.startTime;if(P>E)break;var H=R.transferSize,Y=R.initiatorType;H&&s_(Y)&&(R=R.responseEnd,p+=H*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gd=null,pd=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function a_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function yd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function X1(){var e=window.event;return e&&e.type==="popstate"?e===_d?!1:(_d=e,!0):(_d=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,$1=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,Z1=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(e){return u_.resolve(null).then(e).catch(J1)}:l_;function J1(e){setTimeout(function(){throw e})}function Or(e){return e==="head"}function c_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),La(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")cl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,cl(a);for(var f=a.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&cl(e.ownerDocument.body);a=h}while(a);La(n)}function h_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function vd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vd(a),Ws(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function W1(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function tA(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Vn(e.nextSibling),e===null))return null;return e}function f_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function Ed(e){return e.data==="$?"||e.data==="$~"}function Td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function eA(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ad=null;function d_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Vn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function m_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function g_(e,n,a){switch(n=cc(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function cl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ws(e)}var Mn=new Map,p_=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=nt.d;nt.d={f:nA,r:iA,D:rA,C:sA,L:aA,m:oA,X:uA,S:lA,M:cA};function nA(){var e=Ki.f(),n=nc();return e||n}function iA(e){var n=An(e);n!==null&&n.tag===5&&n.type==="form"?Mp(n):Ki.r(e)}var xa=typeof document>"u"?null:document;function y_(e,n,a){var o=xa;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),p_.has(h)||(p_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),Ee(n),o.head.appendChild(n)))}}function rA(e){Ki.D(e),y_("dns-prefetch",e,null)}function sA(e,n){Ki.C(e,n),y_("preconnect",e,n)}function aA(e,n,a){Ki.L(e,n,a);var o=xa;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+nn(a.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=ka(e);break;case"script":f=Ua(e)}Mn.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Mn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(hl(f))||n==="script"&&o.querySelector(fl(f))||(n=o.createElement("link"),Ge(n,"link",e),Ee(n),o.head.appendChild(n)))}}function oA(e,n){Ki.m(e,n);var a=xa;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ua(e)}if(!Mn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Mn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(fl(f)))return}o=a.createElement("link"),Ge(o,"link",e),Ee(o),a.head.appendChild(o)}}}function lA(e,n,a){Ki.S(e,n,a);var o=xa;if(o&&e){var h=si(o).hoistableStyles,f=ka(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(hl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Mn.get(f))&&Sd(e,a);var R=p=o.createElement("link");Ee(R),Ge(R,"link",e),R._p=new Promise(function(P,H){R.onload=P,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function uA(e,n){Ki.X(e,n);var a=xa;if(a&&e){var o=si(a).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=a.querySelector(fl(h)),f||(e=S({src:e,async:!0},n),(n=Mn.get(h))&&bd(e,n),f=a.createElement("script"),Ee(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function cA(e,n){Ki.M(e,n);var a=xa;if(a&&e){var o=si(a).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=a.querySelector(fl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Mn.get(h))&&bd(e,n),f=a.createElement("script"),Ee(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function __(e,n,a,o){var h=(h=St.current)?hc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ka(a.href),a=si(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ka(a.href);var f=si(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(hl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Mn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(e,a),f||hA(h,e,a,p.state))),n&&o===null)throw Error(s(528,""));return p}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ua(a),a=si(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ka(e){return'href="'+nn(e)+'"'}function hl(e){return'link[rel="stylesheet"]['+e+"]"}function v_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function hA(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",a),Ee(n),e.head.appendChild(n))}function Ua(e){return'[src="'+nn(e)+'"]'}function fl(e){return"script[async]"+e}function E_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(a.href)+'"]');if(o)return n.instance=o,Ee(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),Ge(o,"style",h),fc(o,a.precedence,e),n.instance=o;case"stylesheet":h=ka(a.href);var f=e.querySelector(hl(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=v_(a),(h=Mn.get(h))&&Sd(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Ge(f,"link",o),n.state.loading|=4,fc(f,a.precedence,e),n.instance=f;case"script":return f=Ua(a.src),(h=e.querySelector(fl(f)))?(n.instance=h,Ee(h),h):(o=a,(h=Mn.get(f))&&(o=S({},a),bd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,fc(o,a.precedence,e));return n.instance}function fc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dc=null;function T_(e,n,a){if(dc===null){var o=new Map,h=dc=new Map;h.set(a,o)}else h=dc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ii]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function A_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function fA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function S_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function dA(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ka(o.href),f=n.querySelector(hl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ee(f);return}f=n.ownerDocument||n,o=v_(o),(h=Mn.get(h))&&Sd(o,h),f=f.createElement("link"),Ee(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Ge(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=mc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var wd=0;function mA(e,n){return e.stylesheets&&e.count===0&&pc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&wd===0&&(wd=62500*Y1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>wd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function pc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,n.forEach(gA,e),gc=null,mc.call(e))}function gA(e,n){if(!(n.state.loading&4)){var a=gc.get(e);if(a)var o=a.get(null);else{a=new Map,gc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=mc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var dl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function pA(e,n,a,o,h,f,p,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function b_(e,n,a,o,h,f,p,E,R,P,H,Y){return e=new pA(e,n,a,p,R,P,H,Y,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=rf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},lf(f),e}function w_(e){return e?(e=da,e):da}function R_(e,n,a,o,h,f){h=w_(h),o.context===null?o.context=h:o.pendingContext=h,o=Er(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Tr(e,o,n),a!==null&&(un(a,e,n),Fo(a,e,n))}function I_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Rd(e,n){I_(e,n),(e=e.alternate)&&I_(e,n)}function C_(e){if(e.tag===13||e.tag===31){var n=vs(e,67108864);n!==null&&un(n,e,67108864),Rd(e,67108864)}}function N_(e){if(e.tag===13||e.tag===31){var n=En();n=os(n);var a=vs(e,n);a!==null&&un(a,e,n),Rd(e,n)}}var yc=!0;function yA(e,n,a,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=2,Id(e,n,a,o)}finally{nt.p=f,G.T=h}}function _A(e,n,a,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=8,Id(e,n,a,o)}finally{nt.p=f,G.T=h}}function Id(e,n,a,o){if(yc){var h=Cd(o);if(h===null)dd(e,n,o,_c,a),O_(e,o);else if(EA(h,e,n,a,o))o.stopPropagation();else if(O_(e,o),n&4&&-1<vA.indexOf(e)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Wn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-fe(p);E.entanglements[1]|=R,p&=~R}_i(f),(Bt&6)===0&&(tc=We()+500,ol(0))}}break;case 31:case 13:E=vs(f,2),E!==null&&un(E,f,2),nc(),Rd(f,2)}if(f=Cd(o),f===null&&dd(e,n,o,_c,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else dd(e,n,o,null,a)}}function Cd(e){return e=Sn(e),Nd(e)}var _c=null;function Nd(e){if(_c=null,e=ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function D_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(is()){case po:return 2;case yo:return 8;case sr:case xh:return 32;case $l:return 268435456;default:return 32}default:return 32}}var Dd=!1,Vr=null,Mr=null,xr=null,ml=new Map,gl=new Map,kr=[],vA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(e,n){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(n.pointerId)}}function pl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&C_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function EA(e,n,a,o,h){switch(n){case"focusin":return Vr=pl(Vr,e,n,a,o,h),!0;case"dragenter":return Mr=pl(Mr,e,n,a,o,h),!0;case"mouseover":return xr=pl(xr,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return ml.set(f,pl(ml.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,gl.set(f,pl(gl.get(f)||null,e,n,a,o,h)),!0}return!1}function V_(e){var n=ri(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Pn(e.priority,function(){N_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,Pn(e.priority,function(){N_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Cd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);No=o,a.target.dispatchEvent(o),No=null}else return n=An(a),n!==null&&C_(n),e.blockedOn=a,!1;n.shift()}return!0}function M_(e,n,a){vc(e)&&a.delete(n)}function TA(){Dd=!1,Vr!==null&&vc(Vr)&&(Vr=null),Mr!==null&&vc(Mr)&&(Mr=null),xr!==null&&vc(xr)&&(xr=null),ml.forEach(M_),gl.forEach(M_)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,Dd||(Dd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,TA)))}var Tc=null;function x_(e){Tc!==e&&(Tc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Nd(o||a)===null)continue;break}var f=An(a);f!==null&&(e.splice(n,3),n-=3,Cf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function La(e){function n(R){return Ec(R,e)}Vr!==null&&Ec(Vr,e),Mr!==null&&Ec(Mr,e),xr!==null&&Ec(xr,e),ml.forEach(n),gl.forEach(n);for(var a=0;a<kr.length;a++){var o=kr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)V_(a),a.blockedOn===null&&kr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[ke]||null;if(typeof f=="function")p||x_(a);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[ke]||null)E=p.formAction;else if(Nd(h)!==null)continue}else E=p.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),x_(a)}}}function k_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Od(e){this._internalRoot=e}Ac.prototype.render=Od.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=En();R_(a,o,e,n,null,null)},Ac.prototype.unmount=Od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;R_(e.current,2,null,e,null,null),nc(),n[ni]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=nu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<kr.length&&n!==0&&n<kr[a].priority;a++);kr.splice(a,0,e),a===0&&V_(e)}};var U_=t.version;if(U_!=="19.2.3")throw Error(s(527,U_,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var AA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Un=Sc.inject(AA),ze=Sc}catch{}}return _l.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=Hp,f=Gp,p=Fp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=b_(e,1,!1,null,null,a,o,null,h,f,p,k_),e[ni]=n.current,fd(e),new Od(n)},_l.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=Hp,p=Gp,E=Fp,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=b_(e,1,!0,n,a??null,o,h,R,f,p,E,k_),n.context=w_(null),a=n.current,o=En(),o=os(o),h=Er(o),h.callback=null,Tr(a,h,o),a=o,n.current.lanes=a,ss(n,a),_i(n),e[ni]=n.current,fd(e),new Ac(n)},_l.version="19.2.3",_l}var Q_;function xA(){if(Q_)return xd.exports;Q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),xd.exports=MA(),xd.exports}var kA=xA();const UA=()=>{};var K_={};const S0=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},LA=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},b0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,T=c>>2,S=(c&3)<<4|g>>4;let N=(g&15)<<2|_>>6,B=_&63;y||(B=64,d||(N=64)),s.push(i[T],i[S],i[N],i[B])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(S0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):LA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||S==null)throw new PA;const N=c<<2|g>>4;if(s.push(N),_!==64){const B=g<<4&240|_>>2;if(s.push(B),S!==64){const X=_<<6&192|S;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class PA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zA=function(r){const t=S0(r);return b0.encodeByteArray(t,!0)},Hc=function(r){return zA(r).replace(/\./g,"")},w0=function(r){try{return b0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function jA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const BA=()=>jA().__FIREBASE_DEFAULTS__,qA=()=>{if(typeof process>"u"||typeof K_>"u")return;const r=K_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},HA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&w0(r[1]);return t&&JSON.parse(t)},ch=()=>{try{return UA()||BA()||qA()||HA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},R0=r=>ch()?.emulatorHosts?.[r],GA=r=>{const t=R0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},I0=()=>ch()?.config,C0=r=>ch()?.[`_${r}`];class FA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function so(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function N0(r){return(await fetch(r,{credentials:"include"})).ok}function QA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const Sl={};function KA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?r.emulator.push(t):r.prod.push(t);return r}function YA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let Y_=!1;function D0(r,t){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||Sl[r]===t||Sl[r]||Y_)return;Sl[r]=t;function i(N){return`__firebase__banner__${N}`}const s="__firebase__banner",c=KA().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,B){N.setAttribute("width","24"),N.setAttribute("id",B),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Y_=!0,d()},N}function T(N,B){N.setAttribute("id",B),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=YA(s),B=i("text"),X=document.getElementById(B)||document.createElement("span"),W=i("learnmore"),J=document.getElementById(W)||document.createElement("a"),lt=i("preprendIcon"),gt=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ft=N.element;g(ft),T(J,W);const Lt=_();y(gt,lt),ft.append(gt,X,J,Lt),document.body.appendChild(ft)}c?(X.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function $A(){const r=ch()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function WA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tS(){const r=Je();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function eS(){return!$A()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nS(){try{return typeof indexedDB=="object"}catch{return!1}}function iS(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const rS="FirebaseError";class ir extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=rS,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?sS(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ir(l,g,s)}}function sS(r,t){return r.replace(aS,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const aS=/\{\$([^}]+)}/g;function oS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ps(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(X_(c)&&X_(d)){if(!Ps(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function X_(r){return r!==null&&typeof r=="object"}function jl(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function lS(r,t){const i=new uS(r,t);return i.subscribe.bind(i)}class uS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");cS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Pd),l.error===void 0&&(l.error=Pd),l.complete===void 0&&(l.complete=Pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Pd(){}function hn(r){return r&&r._delegate?r._delegate:r}class zs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Vs="[DEFAULT]";class hS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new FA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dS(t))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Vs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vs){return this.instances.has(t)}getOptions(t=Vs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:fS(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Vs){return this.component?this.component.multipleInstances?t:Vs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fS(r){return r===Vs?void 0:r}function dS(r){return r.instantiationMode==="EAGER"}class mS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new hS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const gS={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},pS=Nt.INFO,yS={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},_S=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=yS[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Am{constructor(t){this.name=t,this._logLevel=pS,this._logHandler=_S,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?gS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const vS=(r,t)=>t.some(i=>r instanceof i);let $_,Z_;function ES(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TS(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O0=new WeakMap,$d=new WeakMap,V0=new WeakMap,zd=new WeakMap,Sm=new WeakMap;function AS(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Hr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&O0.set(i,r)}).catch(()=>{}),Sm.set(t,r),t}function SS(r){if($d.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});$d.set(r,t)}let Zd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return $d.get(r);if(t==="objectStoreNames")return r.objectStoreNames||V0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Hr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function bS(r){Zd=r(Zd)}function wS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(jd(this),t,...i);return V0.set(s,t.sort?t.sort():[t]),Hr(s)}:TS().includes(r)?function(...t){return r.apply(jd(this),t),Hr(O0.get(this))}:function(...t){return Hr(r.apply(jd(this),t))}}function RS(r){return typeof r=="function"?wS(r):(r instanceof IDBTransaction&&SS(r),vS(r,ES())?new Proxy(r,Zd):r)}function Hr(r){if(r instanceof IDBRequest)return AS(r);if(zd.has(r))return zd.get(r);const t=RS(r);return t!==r&&(zd.set(r,t),Sm.set(t,r)),t}const jd=r=>Sm.get(r);function IS(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Hr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Hr(d.result),y.oldVersion,y.newVersion,Hr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const CS=["get","getKey","getAll","getAllKeys","count"],NS=["put","add","delete","clear"],Bd=new Map;function J_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Bd.get(t))return Bd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=NS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||CS.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return Bd.set(t,c),c}bS(r=>({...r,get:(t,i,s)=>J_(t,i)||r.get(t,i,s),has:(t,i)=>!!J_(t,i)||r.has(t,i)}));class DS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(OS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function OS(r){return r.getComponent()?.type==="VERSION"}const Jd="@firebase/app",W_="0.14.6",Ji=new Am("@firebase/app"),VS="@firebase/app-compat",MS="@firebase/analytics-compat",xS="@firebase/analytics",kS="@firebase/app-check-compat",US="@firebase/app-check",LS="@firebase/auth",PS="@firebase/auth-compat",zS="@firebase/database",jS="@firebase/data-connect",BS="@firebase/database-compat",qS="@firebase/functions",HS="@firebase/functions-compat",GS="@firebase/installations",FS="@firebase/installations-compat",QS="@firebase/messaging",KS="@firebase/messaging-compat",YS="@firebase/performance",XS="@firebase/performance-compat",$S="@firebase/remote-config",ZS="@firebase/remote-config-compat",JS="@firebase/storage",WS="@firebase/storage-compat",tb="@firebase/firestore",eb="@firebase/ai",nb="@firebase/firestore-compat",ib="firebase",rb="12.6.0",Wd="[DEFAULT]",sb={[Jd]:"fire-core",[VS]:"fire-core-compat",[xS]:"fire-analytics",[MS]:"fire-analytics-compat",[US]:"fire-app-check",[kS]:"fire-app-check-compat",[LS]:"fire-auth",[PS]:"fire-auth-compat",[zS]:"fire-rtdb",[jS]:"fire-data-connect",[BS]:"fire-rtdb-compat",[qS]:"fire-fn",[HS]:"fire-fn-compat",[GS]:"fire-iid",[FS]:"fire-iid-compat",[QS]:"fire-fcm",[KS]:"fire-fcm-compat",[YS]:"fire-perf",[XS]:"fire-perf-compat",[$S]:"fire-rc",[ZS]:"fire-rc-compat",[JS]:"fire-gcs",[WS]:"fire-gcs-compat",[tb]:"fire-fst",[nb]:"fire-fst-compat",[eb]:"fire-vertex","fire-js":"fire-js",[ib]:"fire-js-all"},Gc=new Map,ab=new Map,tm=new Map;function tv(r,t){try{r.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Xa(r){const t=r.name;if(tm.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;tm.set(t,r);for(const i of Gc.values())tv(i,r);for(const i of ab.values())tv(i,r);return!0}function bm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Ei(r){return r==null?!1:r.settings!==void 0}const ob={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new zl("app","Firebase",ob);class lb{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}const ao=rb;function M0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:Wd,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Gr.create("bad-app-name",{appName:String(l)});if(i||(i=I0()),!i)throw Gr.create("no-options");const c=Gc.get(l);if(c){if(Ps(i,c.options)&&Ps(s,c.config))return c;throw Gr.create("duplicate-app",{appName:l})}const d=new mS(l);for(const y of tm.values())d.addComponent(y);const g=new lb(i,s,d);return Gc.set(l,g),g}function x0(r=Wd){const t=Gc.get(r);if(!t&&r===Wd&&I0())return M0();if(!t)throw Gr.create("no-app",{appName:r});return t}function Fr(r,t,i){let s=sb[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Xa(new zs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const ub="firebase-heartbeat-database",cb=1,Cl="firebase-heartbeat-store";let qd=null;function k0(){return qd||(qd=IS(ub,cb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Cl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Gr.create("idb-open",{originalErrorMessage:r.message})})),qd}async function hb(r){try{const i=(await k0()).transaction(Cl),s=await i.objectStore(Cl).get(U0(r));return await i.done,s}catch(t){if(t instanceof ir)Ji.warn(t.message);else{const i=Gr.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function ev(r,t){try{const s=(await k0()).transaction(Cl,"readwrite");await s.objectStore(Cl).put(t,U0(r)),await s.done}catch(i){if(i instanceof ir)Ji.warn(i.message);else{const s=Gr.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(s.message)}}}function U0(r){return`${r.name}!${r.options.appId}`}const fb=1024,db=30;class mb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new pb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>db){const l=yb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=nv(),{heartbeatsToSend:i,unsentEntries:s}=gb(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ji.warn(t),""}}}function nv(){return new Date().toISOString().substring(0,10)}function gb(r,t=fb){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),iv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),iv(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class pb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nS()?iS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await hb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return ev(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return ev(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function iv(r){return Hc(JSON.stringify({version:2,heartbeats:r})).length}function yb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}function _b(r){Xa(new zs("platform-logger",t=>new DS(t),"PRIVATE")),Xa(new zs("heartbeat",t=>new mb(t),"PRIVATE")),Fr(Jd,W_,r),Fr(Jd,W_,"esm2020"),Fr("fire-js","")}_b("");var rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qr,L0;(function(){var r;function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,O,k){for(var w=Array(arguments.length-2),se=2;se<arguments.length;se++)w[se-2]=arguments[se];return b.prototype[O].apply(M,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const M=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)M[O]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(O=0;O<16;++O)M[O]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],O=C.g[2];let k=C.g[3],w;w=b+(k^I&(O^k))+M[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(O^b&(I^O))+M[1]+3905402710&4294967295,k=b+(w<<12&4294967295|w>>>20),w=O+(I^k&(b^I))+M[2]+606105819&4294967295,O=k+(w<<17&4294967295|w>>>15),w=I+(b^O&(k^b))+M[3]+3250441966&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(k^I&(O^k))+M[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(O^b&(I^O))+M[5]+1200080426&4294967295,k=b+(w<<12&4294967295|w>>>20),w=O+(I^k&(b^I))+M[6]+2821735955&4294967295,O=k+(w<<17&4294967295|w>>>15),w=I+(b^O&(k^b))+M[7]+4249261313&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(k^I&(O^k))+M[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(O^b&(I^O))+M[9]+2336552879&4294967295,k=b+(w<<12&4294967295|w>>>20),w=O+(I^k&(b^I))+M[10]+4294925233&4294967295,O=k+(w<<17&4294967295|w>>>15),w=I+(b^O&(k^b))+M[11]+2304563134&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(k^I&(O^k))+M[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(O^b&(I^O))+M[13]+4254626195&4294967295,k=b+(w<<12&4294967295|w>>>20),w=O+(I^k&(b^I))+M[14]+2792965006&4294967295,O=k+(w<<17&4294967295|w>>>15),w=I+(b^O&(k^b))+M[15]+1236535329&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(O^k&(I^O))+M[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^O&(b^I))+M[6]+3225465664&4294967295,k=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(k^b))+M[11]+643717713&4294967295,O=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(O^k))+M[0]+3921069994&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(O^k&(I^O))+M[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^O&(b^I))+M[10]+38016083&4294967295,k=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(k^b))+M[15]+3634488961&4294967295,O=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(O^k))+M[4]+3889429448&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(O^k&(I^O))+M[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^O&(b^I))+M[14]+3275163606&4294967295,k=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(k^b))+M[3]+4107603335&4294967295,O=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(O^k))+M[8]+1163531501&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(O^k&(I^O))+M[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^O&(b^I))+M[2]+4243563512&4294967295,k=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(k^b))+M[7]+1735328473&4294967295,O=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(O^k))+M[12]+2368359562&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(I^O^k)+M[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^O)+M[8]+2272392833&4294967295,k=b+(w<<11&4294967295|w>>>21),w=O+(k^b^I)+M[11]+1839030562&4294967295,O=k+(w<<16&4294967295|w>>>16),w=I+(O^k^b)+M[14]+4259657740&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(I^O^k)+M[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^O)+M[4]+1272893353&4294967295,k=b+(w<<11&4294967295|w>>>21),w=O+(k^b^I)+M[7]+4139469664&4294967295,O=k+(w<<16&4294967295|w>>>16),w=I+(O^k^b)+M[10]+3200236656&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(I^O^k)+M[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^O)+M[0]+3936430074&4294967295,k=b+(w<<11&4294967295|w>>>21),w=O+(k^b^I)+M[3]+3572445317&4294967295,O=k+(w<<16&4294967295|w>>>16),w=I+(O^k^b)+M[6]+76029189&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(I^O^k)+M[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^O)+M[12]+3873151461&4294967295,k=b+(w<<11&4294967295|w>>>21),w=O+(k^b^I)+M[15]+530742520&4294967295,O=k+(w<<16&4294967295|w>>>16),w=I+(O^k^b)+M[2]+3299628645&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(O^(I|~k))+M[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~O))+M[7]+1126891415&4294967295,k=b+(w<<10&4294967295|w>>>22),w=O+(b^(k|~I))+M[14]+2878612391&4294967295,O=k+(w<<15&4294967295|w>>>17),w=I+(k^(O|~b))+M[5]+4237533241&4294967295,I=O+(w<<21&4294967295|w>>>11),w=b+(O^(I|~k))+M[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~O))+M[3]+2399980690&4294967295,k=b+(w<<10&4294967295|w>>>22),w=O+(b^(k|~I))+M[10]+4293915773&4294967295,O=k+(w<<15&4294967295|w>>>17),w=I+(k^(O|~b))+M[1]+2240044497&4294967295,I=O+(w<<21&4294967295|w>>>11),w=b+(O^(I|~k))+M[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~O))+M[15]+4264355552&4294967295,k=b+(w<<10&4294967295|w>>>22),w=O+(b^(k|~I))+M[6]+2734768916&4294967295,O=k+(w<<15&4294967295|w>>>17),w=I+(k^(O|~b))+M[13]+1309151649&4294967295,I=O+(w<<21&4294967295|w>>>11),w=b+(O^(I|~k))+M[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~O))+M[11]+3174756917&4294967295,k=b+(w<<10&4294967295|w>>>22),w=O+(b^(k|~I))+M[2]+718787259&4294967295,O=k+(w<<15&4294967295|w>>>17),w=I+(k^(O|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+k&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,M=this.C;let O=this.h,k=0;for(;k<b;){if(O==0)for(;k<=I;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<b;)if(M[O++]=C.charCodeAt(k++),O==this.blockSize){l(this,M),O=0;break}}else for(;k<b;)if(M[O++]=C[k++],O==this.blockSize){l(this,M),O=0;break}}this.h=O,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[b++]=this.g[I]>>>M&255;return C};function c(C,b){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let M=!0;for(let O=C.length-1;O>=0;O--){const k=C[O]|0;M&&k==b||(I[O]=k,M=!1)}this.g=I}var g={};function y(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return J(_(-C));const b=[];let I=1;for(let M=0;C>=I;M++)b[M]=C/I|0,I*=4294967296;return new d(b,0)}function T(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return J(T(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(b,8));let M=S;for(let k=0;k<C.length;k+=8){var O=Math.min(8,C.length-k);const w=parseInt(C.substring(k,k+O),b);O<8?(O=_(Math.pow(b,O)),M=M.j(O).add(_(w))):(M=M.j(I),M=M.add(_(w)))}return M}var S=y(0),N=y(1),B=y(16777216);r=d.prototype,r.m=function(){if(W(this))return-J(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(X(this))return"0";if(W(this))return"-"+J(this).toString(C);const b=_(Math.pow(C,6));var I=this;let M="";for(;;){const O=Lt(I,b).g;I=lt(I,O.j(b));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,X(I))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function X(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function W(C){return C.h==-1}r.l=function(C){return C=lt(this,C),W(C)?-1:X(C)?0:1};function J(C){const b=C.g.length,I=[];for(let M=0;M<b;M++)I[M]=~C.g[M];return new d(I,~C.h).add(N)}r.abs=function(){return W(this)?J(this):this},r.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let O=0;O<=b;O++){let k=M+(this.i(O)&65535)+(C.i(O)&65535),w=(k>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);M=w>>>16,k&=65535,w&=65535,I[O]=w<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function lt(C,b){return C.add(J(b))}r.j=function(C){if(X(this)||X(C))return S;if(W(this))return W(C)?J(this).j(J(C)):J(J(this).j(C));if(W(C))return J(this.j(J(C)));if(this.l(B)<0&&C.l(B)<0)return _(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var M=0;M<2*b;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<C.g.length;O++){const k=this.i(M)>>>16,w=this.i(M)&65535,se=C.i(O)>>>16,Ne=C.i(O)&65535;I[2*M+2*O]+=w*Ne,gt(I,2*M+2*O),I[2*M+2*O+1]+=k*Ne,gt(I,2*M+2*O+1),I[2*M+2*O+1]+=w*se,gt(I,2*M+2*O+1),I[2*M+2*O+2]+=k*se,gt(I,2*M+2*O+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function gt(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function ft(C,b){this.g=C,this.h=b}function Lt(C,b){if(X(b))throw Error("division by zero");if(X(C))return new ft(S,S);if(W(C))return b=Lt(J(C),b),new ft(J(b.g),J(b.h));if(W(b))return b=Lt(C,J(b)),new ft(J(b.g),b.h);if(C.g.length>30){if(W(C)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var I=N,M=b;M.l(C)<=0;)I=te(I),M=te(M);var O=kt(I,1),k=kt(M,1);for(M=kt(M,2),I=kt(I,2);!X(M);){var w=k.add(M);w.l(C)<=0&&(O=O.add(I),k=w),M=kt(M,1),I=kt(I,1)}return b=lt(C,O.j(b)),new ft(O,b)}for(O=S;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=_(I),w=k.j(b);W(w)||w.l(C)>0;)I-=M,k=_(I),w=k.j(b);X(k)&&(k=N),O=O.add(k),C=lt(C,w)}return new ft(O,C)}r.B=function(C){return Lt(this,C).h},r.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},r.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},r.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function te(C){const b=C.g.length+1,I=[];for(let M=0;M<b;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function kt(C,b){const I=b>>5;b%=32;const M=C.g.length-I,O=[];for(let k=0;k<M;k++)O[k]=b>0?C.i(k+I)>>>b|C.i(k+I+1)<<32-b:C.i(k+I);return new d(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,L0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,Qr=d}).apply(typeof rv<"u"?rv:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},P0,vl,z0,Mc,em,j0,B0,q0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var v=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in v))break t;v=v[U]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,U,j){for(var tt=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)tt[Tt-2]=arguments[Tt];return m.prototype[U].apply(A,tt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function X(u,m){for(let A=1;A<arguments.length;A++){const U=arguments[A];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const j=U.length||0;u.length=v+j;for(let tt=0;tt<j;tt++)u[v+tt]=U[tt]}else u.push(U)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function lt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,v){const A=ft.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ft=new W(()=>new Lt,u=>u.reset());class Lt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let te,kt=!1,C=new gt,b=()=>{const u=Promise.resolve(void 0);te=()=>{u.then(I)}};function I(){for(var u;u=lt();){try{u.h.call(u.g)}catch(v){J(v)}var m=ft;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}kt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function se(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(se,O),se.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(u,m,v,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=U,this.key=++G,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)u[v]=A[v];for(let j=0;j<$.length;j++)v=$[j],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,A,U){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const tt=St(u,m,A,U);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new nt(m,this.src,j,!!A,U),m.fa=v,u.push(m)),m};function yt(u,m){const v=m.type;if(v in u.g){var A=u.g[v],U=Array.prototype.indexOf.call(A,m,void 0),j;(j=U>=0)&&Array.prototype.splice.call(A,U,1),j&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,A){for(let U=0;U<u.length;++U){const j=u[U];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==A)return U}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),De={};function ae(u,m,v,A,U){if(Array.isArray(m)){for(let j=0;j<m.length;j++)ae(u,m[j],v,A,U);return null}return v=go(v),u&&u[Ne]?u.J(m,v,g(A)?!!A.capture:!1,U):es(u,m,v,!1,A,U)}function es(u,m,v,A,U,j){if(!m)throw Error("Invalid event type");const tt=g(U)?!!U.capture:!!U;let Tt=ns(u);if(Tt||(u[Mt]=Tt=new st(u)),v=Tt.add(m,v,A,tt,j),v.proxy)return v;if(A=Ys(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)k||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(Zn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ys(){function u(v){return m.call(u.src,u.listener,v)}const m=fo;return u}function Xs(u,m,v,A,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)Xs(u,m[j],v,A,U);else A=g(A)?!!A.capture:!!A,v=go(v),u&&u[Ne]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],v=St(m,v,A,U),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=ns(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,A,U)),(v=u>-1?m[u]:null)&&$s(v))}function $s(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ne])yt(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(Zn(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=ns(m))?(yt(v,u),v.h==0&&(v.src=null,m[Mt]=null)):ht(u)}}}function Zn(u){return u in De?De[u]:De[u]="on"+u}function fo(u,m){if(u.da)u=!0;else{m=new se(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&$s(u),u=v.call(A,m)}return u}function ns(u){return u=u[Mt],u instanceof st?u:null}var mo="__closure_events_fn_"+(Math.random()*1e9>>>0);function go(u){return typeof u=="function"?u:(u[mo]||(u[mo]=function(m){return u.handleEvent(m)}),u[mo])}function ye(){M.call(this),this.i=new st(this),this.M=this,this.G=null}S(ye,M),ye.prototype[Ne]=!0,ye.prototype.removeEventListener=function(u,m,v,A){Xs(this,u,m,v,A)};function Oe(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(A,u),it(m,U)}U=!0;let j,tt;if(v)for(tt=v.length-1;tt>=0;tt--)j=m.g=v[tt],U=rr(j,A,!0,m)&&U;if(j=m.g=u,U=rr(j,A,!0,m)&&U,U=rr(j,A,!1,m)&&U,v)for(tt=0;tt<v.length;tt++)j=m.g=v[tt],U=rr(j,A,!1,m)&&U}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)ht(v[A]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},ye.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function rr(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let j=0;j<m.length;++j){const tt=m[j];if(tt&&!tt.da&&tt.capture==v){const Tt=tt.listener,de=tt.ha||tt.src;tt.fa&&yt(u.i,tt),U=Tt.call(de,A)!==!1&&U}}return U&&!A.defaultPrevented}function Mh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Xl(u){u.g=Mh(()=>{u.g=null,u.i&&(u.i=!1,Xl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(u){M.call(this),this.h=u,this.g={}}S(is,M);var po=[];function yo(u){Ut(u.g,function(m,v){this.g.hasOwnProperty(v)&&$s(m)},u),u.g={}}is.prototype.N=function(){is.Z.N.call(this),yo(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sr=d.JSON.stringify,xh=d.JSON.parse,$l=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Zl(){}function Jl(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){O.call(this,"d")}S(ze,O);function Tn(){O.call(this,"c")}S(Tn,O);var fe={},Wl=null;function Zs(){return Wl=Wl||new ye}fe.Ia="serverreachability";function tu(u){O.call(this,fe.Ia,u)}S(tu,O);function Jn(u){const m=Zs();Oe(m,new tu(m))}fe.STAT_EVENT="statevent";function rs(u,m){O.call(this,fe.STAT_EVENT,u),this.stat=m}S(rs,O);function _e(u){const m=Zs();Oe(m,new rs(m,u))}fe.Ja="timingevent";function Wn(u,m){O.call(this,fe.Ja,u),this.size=m}S(Wn,O);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function kh(u,m,v,A,U,j){u.info(function(){if(u.g)if(j){var tt="",Tt=j.split("&");for(let jt=0;jt<Tt.length;jt++){var de=Tt[jt].split("=");if(de.length>1){const oe=de[0];de=de[1];const wn=oe.split("_");tt=wn.length>=2&&wn[1]=="type"?tt+(oe+"="+de+"&"):tt+(oe+"=redacted&")}}}else tt=null;else tt=j;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+v+`
`+tt})}function eu(u,m,v,A,U,j,tt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+v+`
`+j+" "+tt})}function ei(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Uh(u,v)+(A?" "+A:"")})}function ss(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Uh(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var v=j[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<A.length;tt++)A[tt]=""}}}}return sr(j)}catch{return m}}var as={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_o={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vo;function os(){}S(os,Zl),os.prototype.g=function(){return new XMLHttpRequest},vo=new os;function Ni(u){return encodeURIComponent(String(u))}function nu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Pn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new is(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var ve={},ke={};function ni(u,m,v){u.M=1,u.A=ls(Te(m)),u.u=v,u.R=!0,Js(u,null)}function Js(u,m){u.F=Date.now(),ii(u),u.B=Te(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),na(v.i,"t",A),u.C=0,v=u.j.L,u.h=new zn,u.g=yu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(po[0]=U.toString()),U=po);for(let j=0;j<U.length;j++){const tt=ae(v,U[j],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Jn(),kh(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=qn(this.g),de=this.g.ya(),jt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||Tt!=4||de==7||(de==8||jt<=0?Jn(3):Jn(2)),ri(this);var m=this.g.ca();this.X=m;var v=Lh(this);if(this.o=m==200,eu(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(A)){var j=A;break e}}j=null}if(u=j)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,si(this,u);else{this.o=!1,this.m=3,_e(12),fn(this),An(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=ru(this,v),oe==ke){Tt==4&&(this.m=4,_e(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==ve){this.m=4,_e(15),ei(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,oe,null),si(this,oe);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),An(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),xo(tt),tt.P=!0,_e(11))}}else ei(this.i,this.l,v,null),si(this,v);Tt==4&&fn(this),this.o&&!this.K&&(Tt==4?du(this.j,this):(this.o=!1,ii(this)))}else Oi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),fn(this),An(this)}}}catch{}};function Lh(u){if(!iu(u))return u.g.la();const m=je(u.g);if(m==="")return"";let v="";const A=m.length,U=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),An(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<A;j++)u.h.h=!0,v+=u.h.i.decode(m[j],{stream:!(U&&j==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?ke:(v=Number(m.substring(v,A)),isNaN(v)?ve:(A+=1,A+v>m.length?ke:(m=m.slice(A,A+v),u.C=A+v,m)))}Pn.prototype.cancel=function(){this.K=!0,fn(this)};function ii(u){u.T=Date.now()+u.H,Ws(u,u.H)}function Ws(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(_(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ss(this.i,this.B),this.M!=2&&(Jn(),_e(17)),fn(this),this.m=2,An(this)):Ws(this,this.T-u)};function An(u){u.j.I==0||u.K||du(u.j,u)}function fn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,yo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function si(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||oi(v.h,u))){if(!u.L&&oi(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)oa(v),dr(v);else break t;gs(v),_e(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ti(_(v.Va,v),6e3));ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else di(v,11)}else if((u.L||v.g==u)&&oa(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let jt=U[m];const oe=jt[0];if(!(oe<=v.K))if(v.K=oe,jt=jt[1],v.I==2)if(jt[0]=="c"){v.M=jt[1],v.ba=jt[2];const wn=jt[3];wn!=null&&(v.ka=wn,v.j.info("VER="+v.ka));const mi=jt[4];mi!=null&&(v.za=mi,v.j.info("SVER="+v.za));const Hn=jt[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(A=1.5*Hn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Gn=u.g;if(Gn){const ps=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ps){var j=A.h;j.g||ps.indexOf("spdy")==-1&&ps.indexOf("quic")==-1&&ps.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ao(j,j.h),j.h=null))}if(A.G){const la=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(A.wa=la,Ft(A.J,A.G,la))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var tt=u;if(A.na=pu(A,A.L?A.ba:null,A.W),tt.L){So(A.h,tt);var Tt=tt,de=A.O;de&&(Tt.H=de),Tt.D&&(ri(Tt),ii(Tt)),A.g=tt}else hu(A);v.i.length>0&&fi(v)}else jt[0]!="stop"&&jt[0]!="close"||di(v,7);else v.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?di(v,7):Vo(v):jt[0]!="noop"&&v.l&&v.l.qa(jt),v.A=0)}}Jn(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function Eo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function To(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ao(u,m){u.g?u.g.add(m):u.h=m}function So(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Eo.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return B(u.i)}var su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let U,j=null;A>=0?(U=u[v].substring(0,A),j=u[v].substring(A+1)):U=u[v],m(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,ar(this,u.u),this.h=u.h,wo(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(su))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),ar(this,m[4]),this.h=li(m[5]||"",!0),wo(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new lr(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(us(m,ea,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(us(m,ea,!0),"@"),u.push(Ni(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(us(v,v.charAt(0)=="/"?Ro:au,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",us(v,ou)),u.join("")},dn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)ar(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=m.h.lastIndexOf("/");U!=-1&&(A=m.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const j=[];for(let tt=0;tt<U.length;){const Tt=U[tt++];Tt=="."?A&&tt==U.length&&j.push(""):Tt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),A&&tt==U.length&&j.push("")):(j.push(Tt),A=!0)}A=j.join("/")}else A=U}return v?m.h=A:v=u.i.toString()!=="",v?wo(m,uu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new dn(u)}function Ue(u,m,v){u.j=v?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ar(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function wo(u,m,v){m instanceof lr?(u.i=m,ia(u.i,u.l)):(v||(m=us(m,or)),u.i=new lr(m,u.l))}function Ft(u,m,v){u.i.set(m,v)}function ls(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function us(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ea=/[#\/\?@]/g,au=/[#\?:]/g,Ro=/[#\?]/g,or=/[#\?@]/g,ou=/#/g;function lr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=lr.prototype,r.add=function(u,m){rn(this),this.i=null,u=ur(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function lu(u,m){rn(u),m=ur(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Io(u,m){return rn(u),m=ur(u,m),u.g.has(m)}r.forEach=function(u,m){rn(this),this.g.forEach(function(v,A){v.forEach(function(U){u.call(m,U,A,this)},this)},this)};function Co(u,m){rn(u);let v=[];if(typeof m=="string")Io(u,m)&&(v=v.concat(u.g.get(ur(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return rn(this),this.i=null,u=ur(this,u),Io(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Co(this,u),u.length>0?String(u[0]):m):m};function na(u,m,v){lu(u,m),v.length>0&&(u.i=null,u.g.set(ur(u,m),B(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const U=Ni(v);v=Co(this,v);for(let j=0;j<v.length;j++){let tt=U;v[j]!==""&&(tt+="="+Ni(v[j])),u.push(tt)}}return this.i=u.join("&")};function uu(u){const m=new lr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ur(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ia(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(v,A){const U=A.toLowerCase();A!=U&&(lu(this,A),na(this,U,v))},u)),u.j=m}function jn(u,m){const v=new Ln;if(d.Image){const A=new Image;A.onload=T(Sn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Sn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Sn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Sn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function No(u,m){const v=new Ln,A=new AbortController,U=setTimeout(()=>{A.abort(),Sn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(j=>{clearTimeout(U),j.ok?Sn(v,"TestPingServer: ok",!0,m):Sn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Sn(v,"TestPingServer: error",!1,m)})}function Sn(u,m,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function cr(){this.g=new $l}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}S(ui,Zl),ui.prototype.g=function(){return new cs(this.i,this.h)};function cs(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(cs,ye),r=cs.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hr(this):Bn(this),this.readyState==3&&ra(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,hr(this))},r.Na=function(u){this.g&&(this.response=u,hr(this))},r.ga=function(){this.g&&hr(this)};function hr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bn(u){let m="";return Ut(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function hs(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=bn(v),typeof u=="string"?v!=null&&Ni(v):Ft(u,m,v))}function Yt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Yt,ye);var ci=/^https?$/i,Do=["POST","PUT"];r=Yt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vo.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){fs(this,j);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())v.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Do,m,void 0)>=0)||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,tt]of v)this.g.setRequestHeader(j,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){fs(this,j)}};function fs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Oo(u),Di(u)}function Oo(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Oe(this,"complete"),Oe(this,"abort"),Di(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Yt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ds(this):this.Xa())},r.Xa=function(){ds(this)};function ds(u){if(u.h&&typeof c<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Oe(u,"readystatechange"),qn(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=j===0){let tt=String(u.D).match(su)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),A=!ci.test(tt?tt.toLowerCase():"")}v=A}if(v)Oe(u,"complete"),Oe(u,"success");else{u.o=6;try{var U=qn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Oo(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Oe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xh(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(w(u[A]))continue;var v=nu(u[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[U]||[];m[U]=j,j.push(v)}Gt(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function fr(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Eo(u&&u.concurrentRequestLimit),this.Ba=new cr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=fr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,A){_e(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=pu(this,null,this.W),fi(this)};function Vo(u){if(sa(u),u.I==3){var m=u.V++,v=Te(u.J);if(Ft(v,"SID",u.M),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),ms(u,v),m=new Pn(u,u.j,m),m.M=2,m.A=ls(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}gu(u)}function dr(u){u.g&&(xo(u),u.g.cancel(),u.g=null)}function sa(u){dr(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!To(u.h)&&!u.m){u.m=!0;var m=u.Ea;te||b(),kt||(te(),kt=!0),C.add(m,u),u.D=0}}function aa(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(_(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Pn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=V(j),it(j,this.U)):j=this.U),this.u!==null||this.R||(U.J=j,j=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=cu(this,U,m),v=Te(this.J),Ft(v,"RID",u),Ft(v,"CVER",22),this.G&&Ft(v,"X-HTTP-Session-Id",this.G),ms(this,v),j&&(this.R?m="headers="+Ni(bn(j))+"&"+m:this.u&&hs(v,this.u,j)),Ao(this.h,U),this.Ra&&Ft(v,"TYPE","init"),this.S?(Ft(v,"$req",m),Ft(v,"SID","null"),U.U=!0,ni(U,v,null)):ni(U,v,m),this.I=2}}else this.I==3&&(u?Mo(this,u):this.i.length==0||To(this.h)||Mo(this))};function Mo(u,m){var v;m?v=m.l:v=u.V++;const A=Te(u.J);Ft(A,"SID",u.M),Ft(A,"RID",v),Ft(A,"AID",u.K),ms(u,A),u.u&&u.o&&hs(A,u.u,u.o),v=new Pn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ao(u.h,v),ni(v,A,m)}function ms(u,m){u.H&&Ut(u.H,function(v,A){Ft(m,A,v)}),u.l&&Ut({},function(v,A){Ft(m,A,v)})}function cu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let Tt=-1;for(;;){const de=["count="+v];Tt==-1?v>0?(Tt=U[0].g,de.push("ofs="+Tt)):Tt=0:de.push("ofs="+Tt);let jt=!0;for(let oe=0;oe<v;oe++){var j=U[oe].g;const wn=U[oe].map;if(j-=Tt,j<0)Tt=Math.max(0,U[oe].g-100),jt=!1;else try{j="req"+j+"_"||"";try{var tt=wn instanceof Map?wn:Object.entries(wn);for(const[mi,Hn]of tt){let Gn=Hn;g(Hn)&&(Gn=sr(Hn)),de.push(j+mi+"="+encodeURIComponent(Gn))}}catch(mi){throw de.push(j+"type="+encodeURIComponent("_badmap")),mi}}catch{A&&A(wn)}}if(jt){tt=de.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;te||b(),kt||(te(),kt=!0),C.add(m,u),u.A=0}}function gs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(_(u.Da,u),mu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),dr(this),fu(this))};function xo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),ms(u,m),u.u&&u.o&&hs(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ls(Te(m)),v.u=null,v.R=!0,Js(v,u)}r.Va=function(){this.C!=null&&(this.C=null,dr(this),gs(this),_e(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var v=null;if(u.g==m){oa(u),xo(u),u.g=null;var A=2}else if(oi(u.h,m))v=m.G,So(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;A=Zs(),Oe(A,new Wn(A,v)),fi(u)}else hu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(A==1&&aa(u,m)||A==2&&gs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function mu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),A=u.Ua;const U=!A;A=new dn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(A,"https"),ls(A),U?jn(A.toString(),v):No(A.toString(),v)}else _e(2);u.I=0,u.l&&u.l.pa(m),gu(u),sa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function gu(u){if(u.I=0,u.ja=[],u.l){const m=bo(u.h);(m.length!=0||u.i.length!=0)&&(X(u.ja,m),X(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function pu(u,m,v){var A=v instanceof dn?Te(v):new dn(v);if(A.g!="")m&&(A.g=m+"."+A.g),ar(A,A.u);else{var U=d.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const j=new dn(null);A&&Ue(j,A),m&&(j.g=m),U&&ar(j,U),v&&(j.h=v),A=j}return v=u.G,m=u.wa,v&&m&&Ft(A,v,m),Ft(A,"VER",u.ka),ms(u,A),A}function yu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new ui({ab:v})):new Yt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function mr(){}mr.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){ye.call(this),this.g=new fr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}S(tn,ye),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Vo(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=sr(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&fi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,tn.Z.N.call(this)};function vu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(vu,ze);function Eu(){Tn.call(this),this.status=1}S(Eu,Tn);function Vi(u){this.g=u}S(Vi,_u),Vi.prototype.ra=function(){Oe(this.g,"a")},Vi.prototype.qa=function(u){Oe(this.g,new vu(u))},Vi.prototype.pa=function(u){Oe(this.g,new Eu)},Vi.prototype.oa=function(){Oe(this.g,"b")},mr.prototype.createWebChannel=mr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,q0=function(){return new mr},B0=function(){return Zs()},j0=fe,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},as.NO_ERROR=0,as.TIMEOUT=8,as.HTTP_ERROR=6,Mc=as,_o.COMPLETE="complete",z0=_o,Jl.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",ye.prototype.listen=ye.prototype.J,vl=Jl,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,P0=Yt}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const sv="@firebase/firestore",av="4.9.3";let $e=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let oo="12.7.0";const js=new Am("@firebase/firestore");function Pa(){return js.logLevel}function rt(r,...t){if(js.logLevel<=Nt.DEBUG){const i=t.map(wm);js.debug(`Firestore (${oo}): ${r}`,...i)}}function Wi(r,...t){if(js.logLevel<=Nt.ERROR){const i=t.map(wm);js.error(`Firestore (${oo}): ${r}`,...i)}}function $a(r,...t){if(js.logLevel<=Nt.WARN){const i=t.map(wm);js.warn(`Firestore (${oo}): ${r}`,...i)}}function wm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function mt(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,H0(r,s,i)}function H0(r,t,i){let s=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Wi(s),new Error(s)}function qt(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||H0(t,l,s)}function Et(r,t){return r}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends ir{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class G0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class vb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class Eb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Tb{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Kr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Kr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new G0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class Ab{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Sb{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new Ab(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ov{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ei(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const s=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ov(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new ov(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wb(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Rm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=wb(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Dt(r,t){return r<t?-1:r>t?1:0}function nm(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return Hd(l)===Hd(c)?Dt(l,c):Hd(l)?1:-1}return Dt(r.length,t.length)}const Rb=55296,Ib=57343;function Hd(r){const t=r.charCodeAt(0);return t>=Rb&&t<=Ib}function Za(r,t,i){return r.length===t.length&&r.every(((s,l)=>i(s,t[l])))}const lv="__name__";class vi{constructor(t,i,s){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&mt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=vi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Dt(t.length,i.length)}static compareSegments(t,i){const s=vi.isNumericId(t),l=vi.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?vi.extractNumericId(t).compare(vi.extractNumericId(i)):nm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qr.fromString(t.substring(4,t.length-2))}}class Wt extends vi{construct(t,i,s){return new Wt(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new et(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const Cb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends vi{construct(t,i,s){return new Qe(t,i,s)}static isValidIdentifier(t){return Cb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lv}static keyField(){return new Qe([lv])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new et(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new et(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new et(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new et(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ut{constructor(t){this.path=t}static fromPath(t){return new ut(Wt.fromString(t))}static fromName(t){return new ut(Wt.fromString(t).popFirst(5))}static empty(){return new ut(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Wt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new Wt(t.slice()))}}function F0(r,t,i){if(!i)throw new et(Q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Nb(r,t,i,s){if(t===!0&&s===!0)throw new et(Q.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function uv(r){if(!ut.isDocumentKey(r))throw new et(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function cv(r){if(ut.isDocumentKey(r))throw new et(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Q0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function hh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":mt(12329,{type:typeof r})}function xs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new et(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=hh(r);throw new et(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Db(r,t){if(t<=0)throw new et(Q.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${t}.`)}function Ce(r,t){const i={typeString:r};return t&&(i.value=t),i}function Bl(r,t){if(!Q0(r))throw new et(Q.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new et(Q.INVALID_ARGUMENT,i);return!0}const hv=-62135596800,fv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*fv);return new re(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new et(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new et(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<hv)throw new et(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new et(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fv}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-hv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ce("string",re._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new re(0,0))}static max(){return new _t(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nl=-1;function Ob(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(s===1e9?new re(i+1,0):new re(i,s));return new Xr(l,ut.empty(),t)}function Vb(r){return new Xr(r.readTime,r.key,Nl)}class Xr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Xr(_t.min(),ut.empty(),Nl)}static max(){return new Xr(_t.max(),ut.empty(),Nl)}}function Mb(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ut.comparator(r.documentKey,t.documentKey),i!==0?i:Dt(r.largestBatchId,t.largestBatchId))}const xb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function lo(r){if(r.code!==Q.FAILED_PRECONDITION||r.message!==xb)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,s)=>{i(t)}))}static reject(t){return new Z(((i,s)=>{s(t)}))}static waitFor(t){return new Z(((i,s)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(y=>s(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const s of t)i=i.next((l=>l?Z.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new Z(((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((T=>{d[_]=T,++g,g===c&&s(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new Z(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function Ub(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function uo(r){return r.name==="IndexedDbTransactionError"}class fh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}fh.ce=-1;const Im=-1;function dh(r){return r==null}function Fc(r){return r===0&&1/r==-1/0}function Lb(r){return typeof r=="number"&&Number.isInteger(r)&&!Fc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const K0="";function Pb(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=dv(t)),t=zb(r.get(i),t);return dv(t)}function zb(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case K0:i+="";break;default:i+=c}}return i}function dv(r){return r+K0+""}function mv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Hs(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function Y0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wc(this.root,t,this.comparator,!0)}}class wc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new Fe(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new gv(this.data.getIterator())}getIteratorFrom(t){return new gv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new xe(this.comparator);return i.data=t,i}}class gv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Yn([])}unionWith(t){let i=new xe(Qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Yn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class X0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new X0("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const jb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const i=jb.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zr(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const $0="server_timestamp",Z0="__type__",J0="__previous_value__",W0="__local_write_time__";function mh(r){return(r?.mapValue?.fields||{})[Z0]?.stringValue===$0}function gh(r){const t=r.mapValue.fields[J0];return mh(t)?gh(t):t}function Dl(r){const t=$r(r.mapValue.fields[W0].timestampValue);return new re(t.seconds,t.nanos)}class Bb{constructor(t,i,s,l,c,d,g,y,_,T){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=T}}const Qc="(default)";class Ol{constructor(t,i){this.projectId=t,this.database=i||Qc}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(t){return t instanceof Ol&&t.projectId===this.projectId&&t.database===this.database}}const tE="__type__",qb="__max__",Rc={mapValue:{}},eE="__vector__",Kc="value";function Jr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?mh(r)?4:Gb(r)?9007199254740991:Hb(r)?10:11:mt(28295,{value:r})}function Ii(r,t){if(r===t)return!0;const i=Jr(r);if(i!==Jr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Dl(r).isEqual(Dl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=$r(l.timestampValue),g=$r(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Zr(l.bytesValue).isEqual(Zr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return pe(l.geoPointValue.latitude)===pe(c.geoPointValue.latitude)&&pe(l.geoPointValue.longitude)===pe(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return pe(l.integerValue)===pe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=pe(l.doubleValue),g=pe(c.doubleValue);return d===g?Fc(d)===Fc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Za(r.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(mv(d)!==mv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Ii(d[y],g[y])))return!1;return!0})(r,t);default:return mt(52216,{left:r})}}function Vl(r,t){return(r.values||[]).find((i=>Ii(i,t)))!==void 0}function Ja(r,t){if(r===t)return 0;const i=Jr(r),s=Jr(t);if(i!==s)return Dt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=pe(c.integerValue||c.doubleValue),y=pe(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,t);case 3:return pv(r.timestampValue,t.timestampValue);case 4:return pv(Dl(r),Dl(t));case 5:return nm(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=Zr(c),y=Zr(d);return g.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const T=Dt(g[_],y[_]);if(T!==0)return T}return Dt(g.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Dt(pe(c.latitude),pe(d.latitude));return g!==0?g:Dt(pe(c.longitude),pe(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return yv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[Kc]?.arrayValue,T=y[Kc]?.arrayValue,S=Dt(_?.values?.length||0,T?.values?.length||0);return S!==0?S:yv(_,T)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Rc.mapValue&&d===Rc.mapValue)return 0;if(c===Rc.mapValue)return 1;if(d===Rc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},T=Object.keys(_);y.sort(),T.sort();for(let S=0;S<y.length&&S<T.length;++S){const N=nm(y[S],T[S]);if(N!==0)return N;const B=Ja(g[y[S]],_[T[S]]);if(B!==0)return B}return Dt(y.length,T.length)})(r.mapValue,t.mapValue);default:throw mt(23264,{he:i})}}function pv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Dt(r,t);const i=$r(r),s=$r(t),l=Dt(i.seconds,s.seconds);return l!==0?l:Dt(i.nanos,s.nanos)}function yv(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Ja(i[l],s[l]);if(c)return c}return Dt(i.length,s.length)}function Wa(r){return im(r)}function im(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=$r(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Zr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ut.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=im(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${im(i.fields[d])}`;return l+"}"})(r.mapValue):mt(61005,{value:r})}function xc(r){switch(Jr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(r);return t?16+xc(t):16;case 5:return 2*r.stringValue.length;case 6:return Zr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+xc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Hs(s.fields,((c,d)=>{l+=c.length+xc(d)})),l})(r.mapValue);default:throw mt(13486,{value:r})}}function Yc(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function rm(r){return!!r&&"integerValue"in r}function Cm(r){return!!r&&"arrayValue"in r}function _v(r){return!!r&&"nullValue"in r}function vv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function kc(r){return!!r&&"mapValue"in r}function Hb(r){return(r?.mapValue?.fields||{})[tE]?.stringValue===eE}function bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Hs(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=bl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=bl(r.arrayValue.values[i]);return t}return{...r}}function Gb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===qb}class xn{constructor(t){this.value=t}static empty(){return new xn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!kc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=bl(i)}setAll(t){let i=Qe.emptyPath(),s={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=bl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){Hs(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new xn(bl(this.value))}}function nE(r){const t=[];return Hs(r.fields,((i,s)=>{const l=new Qe([i]);if(kc(s)){const c=nE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Yn(t)}class Ze{constructor(t,i,s,l,c,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ze(t,0,_t.min(),_t.min(),_t.min(),xn.empty(),0)}static newFoundDocument(t,i,s,l){return new Ze(t,1,i,_t.min(),s,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,_t.min(),_t.min(),xn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,_t.min(),_t.min(),xn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class to{constructor(t,i){this.position=t,this.inclusive=i}}function Ev(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=ut.comparator(ut.fromName(d.referenceValue),i.key):s=Ja(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Tv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ii(r.position[i],t.position[i]))return!1;return!0}class Ml{constructor(t,i="asc"){this.field=t,this.dir=i}}function Fb(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class iE{}class Ie extends iE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new Kb(t,i,s):i==="array-contains"?new $b(t,s):i==="in"?new Zb(t,s):i==="not-in"?new Jb(t,s):i==="array-contains-any"?new Wb(t,s):new Ie(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new Yb(t,s):new Xb(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&Jr(this.value)===Jr(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends iE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new $n(t,i)}matches(t){return rE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rE(r){return r.op==="and"}function sE(r){return Qb(r)&&rE(r)}function Qb(r){for(const t of r.filters)if(t instanceof $n)return!1;return!0}function sm(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(sE(r))return r.filters.map((t=>sm(t))).join(",");{const t=r.filters.map((i=>sm(i))).join(",");return`${r.op}(${t})`}}function aE(r,t){return r instanceof Ie?(function(s,l){return l instanceof Ie&&s.op===l.op&&s.field.isEqual(l.field)&&Ii(s.value,l.value)})(r,t):r instanceof $n?(function(s,l){return l instanceof $n&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,g)=>c&&aE(d,l.filters[g])),!0):!1})(r,t):void mt(19439)}function oE(r){return r instanceof Ie?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(r):r instanceof $n?(function(i){return i.op.toString()+" {"+i.getFilters().map(oE).join(" ,")+"}"})(r):"Filter"}class Kb extends Ie{constructor(t,i,s){super(t,i,s),this.key=ut.fromName(s.referenceValue)}matches(t){const i=ut.comparator(t.key,this.key);return this.matchesComparison(i)}}class Yb extends Ie{constructor(t,i){super(t,"in",i),this.keys=lE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Xb extends Ie{constructor(t,i){super(t,"not-in",i),this.keys=lE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function lE(r,t){return(t.arrayValue?.values||[]).map((i=>ut.fromName(i.referenceValue)))}class $b extends Ie{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Cm(i)&&Vl(i.arrayValue,this.value)}}class Zb extends Ie{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class Jb extends Ie{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class Wb extends Ie{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Cm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Vl(this.value.arrayValue,s)))}}class tw{constructor(t,i=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Av(r,t=null,i=[],s=[],l=null,c=null,d=null){return new tw(r,t,i,s,l,c,d)}function Nm(r){const t=Et(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>sm(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),dh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>Wa(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>Wa(s))).join(",")),t.Te=i}return t.Te}function Dm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Fb(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!aE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Tv(r.startAt,t.startAt)&&Tv(r.endAt,t.endAt)}function am(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Gs{constructor(t,i=null,s=[],l=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ew(r,t,i,s,l,c,d,g){return new Gs(r,t,i,s,l,c,d,g)}function Om(r){return new Gs(r)}function Sv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Vm(r){return r.collectionGroup!==null}function Ga(r){const t=Et(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new xe(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Ml(c,s))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new Ml(Qe.keyField(),s))}return t.Ie}function Ti(r){const t=Et(r);return t.Ee||(t.Ee=nw(t,Ga(r))),t.Ee}function nw(r,t){if(r.limitType==="F")return Av(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Ml(l.field,c)}));const i=r.endAt?new to(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new to(r.startAt.position,r.startAt.inclusive):null;return Av(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function om(r,t){const i=r.filters.concat([t]);return new Gs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Xc(r,t,i){return new Gs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function ph(r,t){return Dm(Ti(r),Ti(t))&&r.limitType===t.limitType}function uE(r){return`${Nm(Ti(r))}|lt:${r.limitType}`}function za(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>oE(l))).join(", ")}]`),dh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Wa(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Wa(l))).join(",")),`Target(${s})`})(Ti(r))}; limitType=${r.limitType})`}function yh(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ut.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of Ga(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,g,y){const _=Ev(d,g,y);return d.inclusive?_<=0:_<0})(s.startAt,Ga(s),l)||s.endAt&&!(function(d,g,y){const _=Ev(d,g,y);return d.inclusive?_>=0:_>0})(s.endAt,Ga(s),l))})(r,t)}function iw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function cE(r){return(t,i)=>{let s=!1;for(const l of Ga(r)){const c=rw(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function rw(r,t,i){const s=r.field.isKeyField()?ut.comparator(t.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?Ja(y,_):mt(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return mt(19790,{direction:r.dir})}}class Fs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Hs(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return Y0(this.inner)}size(){return this.innerSize}}const sw=new ue(ut.comparator);function tr(){return sw}const hE=new ue(ut.comparator);function El(...r){let t=hE;for(const i of r)t=t.insert(i.key,i);return t}function fE(r){let t=hE;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Ms(){return wl()}function dE(){return wl()}function wl(){return new Fs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const aw=new ue(ut.comparator),ow=new xe(ut.comparator);function Ot(...r){let t=ow;for(const i of r)t=t.add(i);return t}const lw=new xe(Dt);function uw(){return lw}function Mm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(t)?"-0":t}}function mE(r){return{integerValue:""+r}}function cw(r,t){return Lb(t)?mE(t):Mm(r,t)}class _h{constructor(){this._=void 0}}function hw(r,t,i){return r instanceof $c?(function(l,c){const d={fields:{[Z0]:{stringValue:$0},[W0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&mh(c)&&(c=gh(c)),c&&(d.fields[J0]=c),{mapValue:d}})(i,t):r instanceof xl?pE(r,t):r instanceof kl?yE(r,t):(function(l,c){const d=gE(l,c),g=bv(d)+bv(l.Ae);return rm(d)&&rm(l.Ae)?mE(g):Mm(l.serializer,g)})(r,t)}function fw(r,t,i){return r instanceof xl?pE(r,t):r instanceof kl?yE(r,t):i}function gE(r,t){return r instanceof Zc?(function(s){return rm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class $c extends _h{}class xl extends _h{constructor(t){super(),this.elements=t}}function pE(r,t){const i=_E(t);for(const s of r.elements)i.some((l=>Ii(l,s)))||i.push(s);return{arrayValue:{values:i}}}class kl extends _h{constructor(t){super(),this.elements=t}}function yE(r,t){let i=_E(t);for(const s of r.elements)i=i.filter((l=>!Ii(l,s)));return{arrayValue:{values:i}}}class Zc extends _h{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function bv(r){return pe(r.integerValue||r.doubleValue)}function _E(r){return Cm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function dw(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof xl&&l instanceof xl||s instanceof kl&&l instanceof kl?Za(s.elements,l.elements,Ii):s instanceof Zc&&l instanceof Zc?Ii(s.Ae,l.Ae):s instanceof $c&&l instanceof $c})(r.transform,t.transform)}class mw{constructor(t,i){this.version=t,this.transformResults=i}}class Zi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Zi}static exists(t){return new Zi(void 0,t)}static updateTime(t){return new Zi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class vh{}function vE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new TE(r.key,Zi.none()):new ql(r.key,r.data,Zi.none());{const i=r.data,s=xn.empty();let l=new xe(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Qs(r.key,s,new Yn(l.toArray()),Zi.none())}}function gw(r,t,i){r instanceof ql?(function(l,c,d){const g=l.value.clone(),y=Rv(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof Qs?(function(l,c,d){if(!Uc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Rv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(EE(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Rl(r,t,i,s){return r instanceof ql?(function(c,d,g,y){if(!Uc(c.precondition,d))return g;const _=c.value.clone(),T=Iv(c.fieldTransforms,y,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,s):r instanceof Qs?(function(c,d,g,y){if(!Uc(c.precondition,d))return g;const _=Iv(c.fieldTransforms,y,d),T=d.data;return T.setAll(EE(c)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,s):(function(c,d,g){return Uc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function pw(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=gE(s.transform,l||null);c!=null&&(i===null&&(i=xn.empty()),i.set(s.field,c))}return i||null}function wv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Za(s,l,((c,d)=>dw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class ql extends vh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Qs extends vh{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function EE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function Rv(r,t,i){const s=new Map;qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,fw(d,g,i[l]))}return s}function Iv(r,t,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,hw(c,d,t))}return s}class TE extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yw extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _w{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&gw(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Rl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Rl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=dE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const y=vE(d,g);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(_t.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,s)=>wv(i,s)))&&Za(this.baseMutations,t.baseMutations,((i,s)=>wv(i,s)))}}class xm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return aw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new xm(t,i,s,l)}}class vw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Ew{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,xt;function Tw(r){switch(r){case Q.OK:return mt(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return mt(15467,{code:r})}}function AE(r){if(r===void 0)return Wi("GRPC error has no .code"),Q.UNKNOWN;switch(r){case Re.OK:return Q.OK;case Re.CANCELLED:return Q.CANCELLED;case Re.UNKNOWN:return Q.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Q.INTERNAL;case Re.UNAVAILABLE:return Q.UNAVAILABLE;case Re.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Re.NOT_FOUND:return Q.NOT_FOUND;case Re.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Re.ABORTED:return Q.ABORTED;case Re.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Re.DATA_LOSS:return Q.DATA_LOSS;default:return mt(39323,{code:r})}}(xt=Re||(Re={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";function Aw(){return new TextEncoder}const Sw=new Qr([4294967295,4294967295],0);function Cv(r){const t=Aw().encode(r),i=new L0;return i.update(t),new Uint8Array(i.digest())}function Nv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Qr([i,s],0),new Qr([l,c],0)]}class km{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Tl(`Invalid padding: ${i}`);if(s<0)throw new Tl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Qr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Qr.fromNumber(s)));return l.compare(Sw)===1&&(l=new Qr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Cv(t),[s,l]=Nv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new km(c,l,i);return s.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Cv(t),[s,l]=Nv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Hl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Eh(_t.min(),l,new ue(Dt),tr(),Ot())}}class Hl{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Hl(s,i,Ot(),Ot(),Ot())}}class Lc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class SE{constructor(t,i){this.targetId=t,this.Ce=i}}class bE{constructor(t,i,s=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Dv{constructor(){this.ve=0,this.Fe=Ov(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),s=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:mt(38017,{changeType:c})}})),new Hl(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=Ov()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bw{constructor(t){this.Ge=t,this.ze=new Map,this.je=tr(),this.Je=Ic(),this.He=Ic(),this.Ye=new ue(Dt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(am(c))if(s===0){const d=new ut(c.path);this.et(i,d,Ze.newNoDocument(d,_t.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Zr(s).toUint8Array()}catch(y){if(y instanceof X0)return $a("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new km(d,l,c)}catch(y){return $a(y instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&am(g.target)){const y=new ut(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ze.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Ot();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Eh(t,i,this.Ye,this.je,s);return this.je=tr(),this.Je=Ic(),this.He=Ic(),this.Ye=new ue(Dt),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Dv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new xe(Dt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new xe(Dt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Dv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ic(){return new ue(ut.comparator)}function Ov(){return new ue(ut.comparator)}const ww={asc:"ASCENDING",desc:"DESCENDING"},Rw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Iw={and:"AND",or:"OR"};class Cw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lm(r,t){return r.useProto3Json||dh(t)?t:{value:t}}function Jc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Nw(r,t){return Jc(r,t.toTimestamp())}function Ai(r){return qt(!!r,49232),_t.fromTimestamp((function(i){const s=$r(i);return new re(s.seconds,s.nanos)})(r))}function Um(r,t){return um(r,t).canonicalString()}function um(r,t){const i=(function(l){return new Wt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function RE(r){const t=Wt.fromString(r);return qt(OE(t),10190,{key:t.toString()}),t}function cm(r,t){return Um(r.databaseId,t.path)}function Gd(r,t){const i=RE(t);if(i.get(1)!==r.databaseId.projectId)throw new et(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new et(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ut(CE(i))}function IE(r,t){return Um(r.databaseId,t)}function Dw(r){const t=RE(r);return t.length===4?Wt.emptyPath():CE(t)}function hm(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function CE(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Vv(r,t,i){return{name:cm(r,t),fields:i.value.mapValue.fields}}function Ow(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:mt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,T){return _.useProto3Json?(qt(T===void 0||typeof T=="string",58123),Ke.fromBase64String(T||"")):(qt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ke.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const T=_.code===void 0?Q.UNKNOWN:AE(_.code);return new et(T,_.message||"")})(d);i=new bE(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Gd(r,s.document.name),c=Ai(s.document.updateTime),d=s.document.createTime?Ai(s.document.createTime):_t.min(),g=new xn({mapValue:{fields:s.document.fields}}),y=Ze.newFoundDocument(l,c,d,g),_=s.targetIds||[],T=s.removedTargetIds||[];i=new Lc(_,T,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Gd(r,s.document),c=s.readTime?Ai(s.readTime):_t.min(),d=Ze.newNoDocument(l,c),g=s.removedTargetIds||[];i=new Lc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Gd(r,s.document),c=s.removedTargetIds||[];i=new Lc([],c,l,null)}else{if(!("filter"in t))return mt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new Ew(l,c),g=s.targetId;i=new SE(g,d)}}return i}function Vw(r,t){let i;if(t instanceof ql)i={update:Vv(r,t.key,t.value)};else if(t instanceof TE)i={delete:cm(r,t.key)};else if(t instanceof Qs)i={update:Vv(r,t.key,t.data),updateMask:Bw(t.fieldMask)};else{if(!(t instanceof yw))return mt(16599,{Vt:t.type});i={verify:cm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof $c)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof xl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Zc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw mt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Nw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt(27497)})(r,t.precondition)),i}function Mw(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ai(l.updateTime):Ai(c);return d.isEqual(_t.min())&&(d=Ai(c)),new mw(d,l.transformResults||[])})(i,t)))):[]}function xw(r,t){return{documents:[IE(r,t.path)]}}function kw(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=IE(r,l);const c=(function(_){if(_.length!==0)return DE($n.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((T=>(function(N){return{field:ja(N.field),direction:Pw(N.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=lm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function Uw(r){let t=Dw(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){qt(s===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const N=NE(S);return N instanceof $n&&sE(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((N=>(function(X){return new Ml(Ba(X.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let N;return N=typeof S=="object"?S.value:S,dh(N)?null:N})(i.limit));let y=null;i.startAt&&(y=(function(S){const N=!!S.before,B=S.values||[];return new to(B,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const N=!S.before,B=S.values||[];return new to(B,N)})(i.endAt)),ew(t,l,d,c,g,"F",y,_)}function Lw(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function NE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ba(i.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ba(i.unaryFilter.field);return Ie.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ba(i.unaryFilter.field);return Ie.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ba(i.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ie.create(Ba(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return $n.create(i.compositeFilter.filters.map((s=>NE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(r):mt(30097,{filter:r})}function Pw(r){return ww[r]}function zw(r){return Rw[r]}function jw(r){return Iw[r]}function ja(r){return{fieldPath:r.canonicalString()}}function Ba(r){return Qe.fromServerFormat(r.fieldPath)}function DE(r){return r instanceof Ie?(function(i){if(i.op==="=="){if(vv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NAN"}};if(_v(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(vv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NAN"}};if(_v(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(i.field),op:zw(i.op),value:i.value}}})(r):r instanceof $n?(function(i){const s=i.getFilters().map((l=>DE(l)));return s.length===1?s[0]:{compositeFilter:{op:jw(i.op),filters:s}}})(r):mt(54877,{filter:r})}function Bw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function OE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class qr{constructor(t,i,s,l,c=_t.min(),d=_t.min(),g=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class qw{constructor(t){this.yt=t}}function Hw(r){const t=Uw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Xc(t,t.limit,"L"):t}class Gw{constructor(){this.Cn=new Fw}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(Xr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(Xr.min())}updateCollectionGroup(t,i,s){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class Fw{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new xe(Wt.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new xe(Wt.comparator)).toArray()}}const Mv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VE=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(VE,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class eo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new eo(0)}static cr(){return new eo(-1)}}const xv="LruGarbageCollector",Qw=1048576;function kv([r,t],[i,s]){const l=Dt(r,i);return l===0?Dt(t,s):l}class Kw{constructor(t){this.Ir=t,this.buffer=new xe(kv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();kv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Yw{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(xv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){uo(i)?rt(xv,"Ignoring IndexedDB error during garbage collection: ",i):await lo(i)}await this.Vr(3e5)}))}}class Xw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(fh.ce);const s=new Kw(i);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Mv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,c,d,g,y,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,g=Date.now(),this.removeTargets(t,s,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(_=Date.now(),Pa()<=Nt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function $w(r,t){return new Xw(r,t)}class Zw{constructor(){this.changes=new Fs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Jw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Ww{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&Rl(s.mutation,l,Yn.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Ot()){const l=Ms();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=El();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Ms();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Ot())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,s,l){let c=tr();const d=wl(),g=(function(){return wl()})();return i.forEach(((y,_)=>{const T=s.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof Qs)?c=c.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Rl(T.mutation,_,T.mutation.getFieldMask(),re.now())):d.set(_.key,Yn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>g.set(_,new Jw(T,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const s=wl();let l=new ue(((d,g)=>d-g)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let T=s.get(y)||Yn.empty();T=g.applyToLocalView(_,T),s.set(y,T);const S=(l.get(g.batchId)||Ot()).add(y);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,T=y.value,S=dE();T.forEach((N=>{if(!c.has(N)){const B=vE(i.get(N),s.get(N));B!==null&&S.set(N,B),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return(function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Vm(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):Z.resolve(Ms());let g=Nl,y=c;return d.next((_=>Z.forEach(_,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(t,T).next((N=>{y=y.insert(T,N)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Ot()))).next((T=>({batchId:g,changes:fE(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ut(i)).next((s=>{let l=El();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=El();return this.indexManager.getCollectionParents(t,c).next((g=>Z.forEach(g,(y=>{const _=(function(S,N){return new Gs(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next((T=>{T.forEach(((S,N)=>{d=d.insert(S,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((y,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,Ze.newInvalidDocument(T)))}));let g=El();return d.forEach(((y,_)=>{const T=c.get(y);T!==void 0&&Rl(T.mutation,_,Yn.empty(),re.now()),yh(i,_)&&(g=g.insert(y,_))})),g}))}}class tR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ai(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Hw(l.bundledQuery),readTime:Ai(l.readTime)}})(i)),Z.resolve()}}class eR{constructor(){this.overlays=new ue(ut.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Ms();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(t,i,s){const l=Ms(),c=i.length+1,d=new ut(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new ue(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let T=c.get(_.largestBatchId);T===null&&(T=Ms(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=Ms(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,T)=>g.set(_,T))),!(g.size()>=l)););return Z.resolve(g)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new vw(i,s));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class nR{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class Lm{constructor(){this.Qr=new xe(Pe.$r),this.Ur=new xe(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Pe(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new Pe(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new ut(new Wt([])),s=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ut(new Wt([])),s=new Pe(i,t),l=new Pe(i,t+1);let c=Ot();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ut.comparator(t.key,i.key)||Dt(t.Yr,i.Yr)}static Kr(t,i){return Dt(t.Yr,i.Yr)||ut.comparator(t.key,i.key)}}class iR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new xe(Pe.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new _w(c,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Pe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Im:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new xe(Dt);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{s=s.add(g.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;ut.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new ut(c),0);let g=new xe(Dt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new Pe(i,0),l=this.Zr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class rR{constructor(t){this.ri=t,this.docs=(function(){return new ue(ut.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let s=tr();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),Z.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=tr();const d=i.path,g=new ut(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:T}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Mb(Vb(T),s)<=0||(l.has(T.key)||yh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,s,l){mt(9500)}ii(t,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new sR(this)}getSize(t){return Z.resolve(this.size)}}class sR extends Zw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class aR{constructor(t){this.persistence=t,this.si=new Fs((i=>Nm(i)),Dm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Lm,this.targetCount=0,this.ai=eo.ur()}forEachTarget(t,i){return this.si.forEach(((s,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new eo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return Z.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),Z.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return Z.resolve(s)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class ME{constructor(t,i){this.ui={},this.overlays={},this.ci=new fh(0),this.li=!1,this.li=!0,this.hi=new nR,this.referenceDelegate=t(this),this.Pi=new aR(this),this.indexManager=new Gw,this.remoteDocumentCache=(function(l){return new rR(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new qw(i),this.Ii=new tR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new eR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new iR(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){rt("MemoryPersistence","Starting transaction:",t);const l=new oR(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class oR extends kb{constructor(t){super(),this.currentSequenceNumber=t}}class Pm{constructor(t){this.persistence=t,this.Ri=new Lm,this.Vi=null}static mi(t){return new Pm(t)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Z.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const l=ut.fromPath(s);return this.gi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Wc{constructor(t,i){this.persistence=t,this.pi=new Fs((s=>Pb(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=$w(this,i)}static mi(t,i){return new Wc(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(s++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=xc(t.data.value)),i}br(t,i,s){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class zm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new zm(t,i.fromCache,s,l)}}class lR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class uR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return eS()?8:Ub(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new lR;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,s,l){return s.documentReadCount<this.fs?(Pa()<=Nt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Pa()<=Nt.DEBUG&&rt("QueryEngine","Query:",za(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Pa()<=Nt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):Z.resolve())}ys(t,i){if(Sv(i))return Z.resolve(null);let s=Ti(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Xc(i,null,"F"),s=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Ot(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,s).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(t,Xc(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,s,l){return Sv(i)||l.isEqual(_t.min())?Z.resolve(null):this.ps.getDocuments(t,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,l)?Z.resolve(null):(Pa()<=Nt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),za(i)),this.vs(t,d,i,Ob(l,Nl)).next((g=>g)))}))}Ds(t,i){let s=new xe(cE(t));return i.forEach(((l,c)=>{yh(t,c)&&(s=s.add(c))})),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,s){return Pa()<=Nt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",za(i)),this.ps.getDocumentsMatchingQuery(t,i,Xr.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const jm="LocalStore",cR=3e8;class hR{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ue(Dt),this.xs=new Fs((c=>Nm(c)),Dm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Ww(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function fR(r,t,i,s){return new hR(r,t,i,s)}async function xE(r,t){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let y=Ot();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}for(const _ of c){g.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(s,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function dR(r,t){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,T){const S=_.batch,N=S.keys();let B=Z.resolve();return N.forEach((X=>{B=B.next((()=>T.getEntry(y,X))).next((W=>{const J=_.docVersions.get(X);qt(J!==null,48541),W.version.compareTo(J)<0&&(S.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),T.addEntry(W)))}))})),B.next((()=>g.mutationQueue.removeMutationBatch(y,S)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=Ot();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function kE(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function mR(r,t){const i=Et(r),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((T,S)=>{const N=l.get(S);if(!N)return;g.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,S))));let B=N.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?B=B.withResumeToken(Ke.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,s)),l=l.insert(S,B),(function(W,J,lt){return W.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=cR?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(N,B,T)&&g.push(i.Pi.updateTargetData(c,B))}));let y=tr(),_=Ot();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(gR(c,d,t.documentUpdates).next((T=>{y=T.ks,_=T.qs}))),!s.isEqual(_t.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(T)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function gR(r,t,i){let s=Ot(),l=Ot();return i.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=tr();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(_t.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):rt(jm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function pR(r,t){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Im),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function yR(r,t){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(s).next((d=>(l=new qr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function fm(r,t,i){const s=Et(r),l=s.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!uo(d))throw d;rt(jm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function Uv(r,t,i){const s=Et(r);let l=_t.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,T){const S=Et(y),N=S.xs.get(T);return N!==void 0?Z.resolve(S.Ms.get(N)):S.Pi.getTargetData(_,T)})(s,d,Ti(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:Ot()))).next((g=>(_R(s,iw(t),g),{documents:g,Qs:c})))))}function _R(r,t,i){let s=r.Os.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(t,s)}class Lv{constructor(){this.activeTargetIds=uw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class vR{constructor(){this.Mo=new Lv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Lv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class ER{Oo(t){}shutdown(){}}const Pv="ConnectivityMonitor";class zv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(Pv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(Pv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cc=null;function dm(){return Cc===null?Cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cc++,"0x"+Cc.toString(16)}const Fd="RestConnection",TR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Qc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,c){const d=dm(),g=this.zo(t,i.toUriEncodedString());rt(Fd,`Sending RPC '${t}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(g),T=so(_);return this.Jo(t,g,y,s,T).then((S=>(rt(Fd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw $a(Fd,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",s),S}))}Ho(t,i,s,l,c,d){return this.Go(t,i,s,l,c)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const s=TR[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class SR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class bR extends AR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,c){const d=dm();return new Promise(((g,y)=>{const _=new P0;_.setWithCredentials(!0),_.listenOnce(z0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Mc.NO_ERROR:const S=_.getResponseJson();rt(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case Mc.TIMEOUT:rt(Xe,`RPC '${t}' ${d} timed out`),y(new et(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const N=_.getStatus();if(rt(Xe,`RPC '${t}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const X=B?.error;if(X&&X.status&&X.message){const W=(function(lt){const gt=lt.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(gt)>=0?gt:Q.UNKNOWN})(X.status);y(new et(W,X.message))}else y(new et(Q.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new et(Q.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(Xe,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);rt(Xe,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",T,s,15)}))}T_(t,i,s){const l=dm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=q0(),g=B0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const T=c.join("");rt(Xe,`Creating RPC '${t}' stream ${l}: ${T}`,y);const S=d.createWebChannel(T,y);this.I_(S);let N=!1,B=!1;const X=new SR({Yo:J=>{B?rt(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(N||(rt(Xe,`Opening RPC '${t}' stream ${l} transport.`),S.open(),N=!0),rt(Xe,`RPC '${t}' stream ${l} sending:`,J),S.send(J))},Zo:()=>S.close()}),W=(J,lt,gt)=>{J.listen(lt,(ft=>{try{gt(ft)}catch(Lt){setTimeout((()=>{throw Lt}),0)}}))};return W(S,vl.EventType.OPEN,(()=>{B||(rt(Xe,`RPC '${t}' stream ${l} transport opened.`),X.o_())})),W(S,vl.EventType.CLOSE,(()=>{B||(B=!0,rt(Xe,`RPC '${t}' stream ${l} transport closed`),X.a_(),this.E_(S))})),W(S,vl.EventType.ERROR,(J=>{B||(B=!0,$a(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),X.a_(new et(Q.UNAVAILABLE,"The operation could not be completed")))})),W(S,vl.EventType.MESSAGE,(J=>{if(!B){const lt=J.data[0];qt(!!lt,16349);const gt=lt,ft=gt?.error||gt[0]?.error;if(ft){rt(Xe,`RPC '${t}' stream ${l} received error:`,ft);const Lt=ft.status;let te=(function(b){const I=Re[b];if(I!==void 0)return AE(I)})(Lt),kt=ft.message;te===void 0&&(te=Q.INTERNAL,kt="Unknown error status: "+Lt+" with message "+ft.message),B=!0,X.a_(new et(te,kt)),S.close()}else rt(Xe,`RPC '${t}' stream ${l} received:`,lt),X.u_(lt)}})),W(g,j0.STAT_EVENT,(J=>{J.stat===em.PROXY?rt(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===em.NOPROXY&&rt(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{X.__()}),0),X}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Qd(){return typeof document<"u"?document:null}function Th(r){return new Cw(r,!0)}class UE{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const jv="PersistentStream";class LE{constructor(t,i,s,l,c,d,g,y){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new UE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Q.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new et(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(jv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(jv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wR extends LE{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Ow(this.serializer,t),s=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Ai(d.readTime):_t.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=am(y)?{documents:xw(c,y)}:{query:kw(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=wE(c,d.resumeToken);const _=lm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=Jc(c,d.snapshotVersion.toTimestamp());const _=lm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const s=Lw(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=hm(this.serializer),i.removeTarget=t,this.q_(i)}}class RR extends LE{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Mw(t.writeResults,t.commitTime),s=Ai(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=hm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>Vw(this.serializer,s)))};this.q_(i)}}class IR{}class CR extends IR{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new et(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,um(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new et(Q.UNKNOWN,c.toString())}))}Ho(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,um(i,s),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new et(Q.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Bs="RemoteStore";class DR{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Ks(this)&&(rt(Bs,"Restarting streams for network reachability change."),await(async function(y){const _=Et(y);_.Ea.add(4),await Gl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ah(_)})(this))}))})),this.Ra=new NR(s,l)}}async function Ah(r){if(Ks(r))for(const t of r.da)await t(!0)}async function Gl(r){for(const t of r.da)await t(!1)}function PE(r,t){const i=Et(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Gm(i)?Hm(i):co(i).O_()&&qm(i,t))}function Bm(r,t){const i=Et(r),s=co(i);i.Ia.delete(t),s.O_()&&zE(i,t),i.Ia.size===0&&(s.O_()?s.L_():Ks(i)&&i.Ra.set("Unknown"))}function qm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}co(r).Y_(t)}function zE(r,t){r.Va.Ue(t),co(r).Z_(t)}function Hm(r){r.Va=new bw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),co(r).start(),r.Ra.ua()}function Gm(r){return Ks(r)&&!co(r).x_()&&r.Ia.size>0}function Ks(r){return Et(r).Ea.size===0}function jE(r){r.Va=void 0}async function OR(r){r.Ra.set("Online")}async function VR(r){r.Ia.forEach(((t,i)=>{qm(r,t)}))}async function MR(r,t){jE(r),Gm(r)?(r.Ra.ha(t),Hm(r)):r.Ra.set("Unknown")}async function xR(r,t,i){if(r.Ra.set("Online"),t instanceof bE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,t)}catch(s){rt(Bs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await th(r,s)}else if(t instanceof Lc?r.Va.Ze(t):t instanceof SE?r.Va.st(t):r.Va.tt(t),!i.isEqual(_t.min()))try{const s=await kE(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.Ia.get(_);T&&c.Ia.set(_,T.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const T=c.Ia.get(y);if(!T)return;c.Ia.set(y,T.withResumeToken(Ke.EMPTY_BYTE_STRING,T.snapshotVersion)),zE(c,y);const S=new qr(T.target,y,_,T.sequenceNumber);qm(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){rt(Bs,"Failed to raise snapshot:",s),await th(r,s)}}async function th(r,t,i){if(!uo(t))throw t;r.Ea.add(1),await Gl(r),r.Ra.set("Offline"),i||(i=()=>kE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Bs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ah(r)}))}function BE(r,t){return t().catch((i=>th(r,i,t)))}async function Sh(r){const t=Et(r),i=Wr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Im;for(;kR(t);)try{const l=await pR(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,UR(t,l)}catch(l){await th(t,l)}qE(t)&&HE(t)}function kR(r){return Ks(r)&&r.Ta.length<10}function UR(r,t){r.Ta.push(t);const i=Wr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function qE(r){return Ks(r)&&!Wr(r).x_()&&r.Ta.length>0}function HE(r){Wr(r).start()}async function LR(r){Wr(r).ra()}async function PR(r){const t=Wr(r);for(const i of r.Ta)t.ea(i.mutations)}async function zR(r,t,i){const s=r.Ta.shift(),l=xm.from(s,t,i);await BE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Sh(r)}async function jR(r,t){t&&Wr(r).X_&&await(async function(s,l){if((function(d){return Tw(d)&&d!==Q.ABORTED})(l.code)){const c=s.Ta.shift();Wr(s).B_(),await BE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Sh(s)}})(r,t),qE(r)&&HE(r)}async function Bv(r,t){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),rt(Bs,"RemoteStore received new credentials");const s=Ks(i);i.Ea.add(3),await Gl(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ah(i)}async function BR(r,t){const i=Et(r);t?(i.Ea.delete(2),await Ah(i)):t||(i.Ea.add(2),await Gl(i),i.Ra.set("Unknown"))}function co(r){return r.ma||(r.ma=(function(i,s,l){const c=Et(i);return c.sa(),new wR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:OR.bind(null,r),t_:VR.bind(null,r),r_:MR.bind(null,r),H_:xR.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Gm(r)?Hm(r):r.Ra.set("Unknown")):(await r.ma.stop(),jE(r))}))),r.ma}function Wr(r){return r.fa||(r.fa=(function(i,s,l){const c=Et(i);return c.sa(),new RR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:LR.bind(null,r),r_:jR.bind(null,r),ta:PR.bind(null,r),na:zR.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Sh(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Bs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Fm{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,g=new Fm(t,i,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qm(r,t){if(Wi("AsyncQueue",`${t}: ${r}`),uo(r))return new et(Q.UNAVAILABLE,`${t}: ${r}`);throw r}class Fa{static emptySet(t){return new Fa(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ut.comparator(i.key,s.key):(i,s)=>ut.comparator(i.key,s.key),this.keyedMap=El(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Fa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Fa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class qv{constructor(){this.ga=new ue(ut.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):mt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class no{constructor(t,i,s,l,c,d,g,y,_){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new no(t,i,Fa.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class qR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class HR{constructor(){this.queries=Hv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Et(i),c=l.queries;l.queries=Hv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(s)}))})(this,new et(Q.ABORTED,"Firestore shutting down"))}}function Hv(){return new Fs((r=>uE(r)),ph)}async function GE(r,t){const i=Et(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new qR,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Qm(d,`Initialization of query '${za(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Km(i)}async function FE(r,t){const i=Et(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function GR(r,t){const i=Et(r);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(s=!0);d.wa=l}}s&&Km(i)}function FR(r,t,i){const s=Et(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(t)}function Km(r){r.Ca.forEach((t=>{t.next()}))}var mm,Gv;(Gv=mm||(mm={})).Ma="default",Gv.Cache="cache";class QE{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new no(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=no.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mm.Cache}}class KE{constructor(t){this.key=t}}class YE{constructor(t){this.key=t}}class QR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=cE(t),this.tu=new Fa(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new qv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const N=l.get(T),B=yh(this.query,S)?S:null,X=!!N&&this.mutatedKeys.has(N.key),W=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let J=!1;N&&B?N.data.isEqual(B.data)?X!==W&&(s.track({type:3,doc:B}),J=!0):this.su(N,B)||(s.track({type:2,doc:B}),J=!0,(y&&this.eu(B,y)>0||_&&this.eu(B,_)<0)&&(g=!0)):!N&&B?(s.track({type:0,doc:B}),J=!0):N&&!B&&(s.track({type:1,doc:N}),J=!0,(y||_)&&(g=!0)),J&&(B?(d=d.add(B),c=W?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,S)=>(function(B,X){const W=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:J})}};return W(B)-W(X)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new no(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new YE(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new KE(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return no.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ym="SyncEngine";class KR{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class YR{constructor(t){this.key=t,this.hu=!1}}class XR{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fs((g=>uE(g)),ph),this.Iu=new Map,this.Eu=new Set,this.du=new ue(ut.comparator),this.Au=new Map,this.Ru=new Lm,this.Vu={},this.mu=new Map,this.fu=eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $R(r,t,i=!0){const s=tT(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await XE(s,t,i,!0),l}async function ZR(r,t){const i=tT(r);await XE(i,t,!0,!1)}async function XE(r,t,i,s){const l=await yR(r.localStore,Ti(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await JR(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&PE(r.remoteStore,l),g}async function JR(r,t,i,s,l){r.pu=(S,N,B)=>(async function(W,J,lt,gt){let ft=J.view.ru(lt);ft.Cs&&(ft=await Uv(W.localStore,J.query,!1).then((({documents:C})=>J.view.ru(C,ft))));const Lt=gt&&gt.targetChanges.get(J.targetId),te=gt&&gt.targetMismatches.get(J.targetId)!=null,kt=J.view.applyChanges(ft,W.isPrimaryClient,Lt,te);return Qv(W,J.targetId,kt.au),kt.snapshot})(r,S,N,B);const c=await Uv(r.localStore,t,!0),d=new QR(t,c.Qs),g=d.ru(c.documents),y=Hl.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,y);Qv(r,i,_.au);const T=new KR(t,i,d);return r.Tu.set(t,T),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function WR(r,t,i){const s=Et(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!ph(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await fm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Bm(s.remoteStore,l.targetId),gm(s,l.targetId)})).catch(lo)):(gm(s,l.targetId),await fm(s.localStore,l.targetId,!0))}async function tI(r,t){const i=Et(r),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Bm(i.remoteStore,s.targetId))}async function eI(r,t,i){const s=lI(r);try{const l=await(function(d,g){const y=Et(d),_=re.now(),T=g.reduce(((B,X)=>B.add(X.key)),Ot());let S,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let X=tr(),W=Ot();return y.Ns.getEntries(B,T).next((J=>{X=J,X.forEach(((lt,gt)=>{gt.isValidDocument()||(W=W.add(lt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(B,X))).next((J=>{S=J;const lt=[];for(const gt of g){const ft=pw(gt,S.get(gt.key).overlayedDocument);ft!=null&&lt.push(new Qs(gt.key,ft,nE(ft.value.mapValue),Zi.exists(!0)))}return y.mutationQueue.addMutationBatch(B,_,lt,g)})).next((J=>{N=J;const lt=J.applyToLocalDocumentSet(S,W);return y.documentOverlayCache.saveOverlays(B,J.batchId,lt)}))})).then((()=>({batchId:N.batchId,changes:fE(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ue(Dt)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(s,l.batchId,i),await Fl(s,l.changes),await Sh(s.remoteStore)}catch(l){const c=Qm(l,"Failed to persist write");i.reject(c)}}async function $E(r,t){const i=Et(r);try{const s=await mR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await Fl(i,s,t)}catch(s){await lo(s)}}function Fv(r,t,i){const s=Et(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Et(d);y.onlineState=g;let _=!1;y.queries.forEach(((T,S)=>{for(const N of S.Sa)N.va(g)&&(_=!0)})),_&&Km(y)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function nI(r,t,i){const s=Et(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new ue(ut.comparator);d=d.insert(c,Ze.newNoDocument(c,_t.min()));const g=Ot().add(c),y=new Eh(_t.min(),new Map,new ue(Dt),d,g);await $E(s,y),s.du=s.du.remove(c),s.Au.delete(t),Xm(s)}else await fm(s.localStore,t,!1).then((()=>gm(s,t,i))).catch(lo)}async function iI(r,t){const i=Et(r),s=t.batch.batchId;try{const l=await dR(i.localStore,t);JE(i,s,null),ZE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Fl(i,l)}catch(l){await lo(l)}}async function rI(r,t,i){const s=Et(r);try{const l=await(function(d,g){const y=Et(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return y.mutationQueue.lookupMutationBatch(_,g).next((S=>(qt(S!==null,37113),T=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,T,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>y.localDocuments.getDocuments(_,T)))}))})(s.localStore,t);JE(s,t,i),ZE(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Fl(s,l)}catch(l){await lo(l)}}function ZE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function JE(r,t,i){const s=Et(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function gm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||WE(r,s)}))}function WE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Bm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Xm(r))}function Qv(r,t,i){for(const s of i)s instanceof KE?(r.Ru.addReference(s.key,t),sI(r,s)):s instanceof YE?(rt(Ym,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||WE(r,s.key)):mt(19791,{wu:s})}function sI(r,t){const i=t.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(rt(Ym,"New document in limbo: "+i),r.Eu.add(s),Xm(r))}function Xm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ut(Wt.fromString(t)),s=r.fu.next();r.Au.set(s,new YR(i)),r.du=r.du.insert(i,s),PE(r.remoteStore,new qr(Ti(Om(i.path)),s,"TargetPurposeLimboResolution",fh.ce))}}async function Fl(r,t,i){const s=Et(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{d.push(s.pu(y,t,i).then((_=>{if((_||i)&&s.isPrimaryClient){const T=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(_){l.push(_);const T=zm.As(y.targetId,_);c.push(T)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(y,_){const T=Et(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(_,(N=>Z.forEach(N.Es,(B=>T.persistence.referenceDelegate.addReference(S,N.targetId,B))).next((()=>Z.forEach(N.ds,(B=>T.persistence.referenceDelegate.removeReference(S,N.targetId,B)))))))))}catch(S){if(!uo(S))throw S;rt(jm,"Failed to update sequence numbers: "+S)}for(const S of _){const N=S.targetId;if(!S.fromCache){const B=T.Ms.get(N),X=B.snapshotVersion,W=B.withLastLimboFreeSnapshotVersion(X);T.Ms=T.Ms.insert(N,W)}}})(s.localStore,c))}async function aI(r,t){const i=Et(r);if(!i.currentUser.isEqual(t)){rt(Ym,"User change. New user:",t.toKey());const s=await xE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new et(Q.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Fl(i,s.Ls)}}function oI(r,t){const i=Et(r),s=i.Au.get(t);if(s&&s.hu)return Ot().add(s.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function tT(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=$E.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nI.bind(null,t),t.Pu.H_=GR.bind(null,t.eventManager),t.Pu.yu=FR.bind(null,t.eventManager),t}function lI(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rI.bind(null,t),t}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Th(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return fR(this.persistence,new uR,t.initialUser,this.serializer)}Cu(t){return new ME(Pm.mi,this.serializer)}Du(t){return new vR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class uI extends eh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof Wc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Yw(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new ME((s=>Wc.mi(s,i)),this.serializer)}}class pm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Fv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=aI.bind(null,this.syncEngine),await BR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new HR})()}createDatastore(t){const i=Th(t.databaseInfo.databaseId),s=(function(c){return new bR(c)})(t.databaseInfo);return(function(c,d,g,y){return new CR(c,d,g,y)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,g){return new DR(s,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Fv(this.syncEngine,i,0)),(function(){return zv.v()?new zv:new ER})())}createSyncEngine(t,i){return(function(l,c,d,g,y,_,T){const S=new XR(l,c,d,g,y,_);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Et(i);rt(Bs,"RemoteStore shutting down."),s.Ea.add(5),await Gl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pm.provider={build:()=>new pm};class eT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ts="FirestoreClient";class cI{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=Rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{rt(ts,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(rt(ts,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=Qm(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Kd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(ts,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await xE(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Kv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await hI(r);rt(ts,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>Bv(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>Bv(t.remoteStore,l))),r._onlineComponents=t}async function hI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(ts,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Q.FAILED_PRECONDITION||l.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await Kd(r,new eh)}}else rt(ts,"Using default OfflineComponentProvider"),await Kd(r,new uI(void 0));return r._offlineComponents}async function nT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(ts,"Using user provided OnlineComponentProvider"),await Kv(r,r._uninitializedComponentsProvider._online)):(rt(ts,"Using default OnlineComponentProvider"),await Kv(r,new pm))),r._onlineComponents}function fI(r){return nT(r).then((t=>t.syncEngine))}async function ym(r){const t=await nT(r),i=t.eventManager;return i.onListen=$R.bind(null,t.syncEngine),i.onUnlisten=WR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=ZR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=tI.bind(null,t.syncEngine),i}function dI(r,t,i={}){const s=new Kr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const T=new eT({next:N=>{T.Nu(),d.enqueueAndForget((()=>FE(c,S))),N.fromCache&&y.source==="server"?_.reject(new et(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(N)},error:N=>_.reject(N)}),S=new QE(g,T,{includeMetadataChanges:!0,qa:!0});return GE(c,S)})(await ym(r),r.asyncQueue,t,i,s))),s.promise}function iT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Yv=new Map,rT="firestore.googleapis.com",Xv=!0;class $v{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new et(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rT,this.ssl=Xv}else this.host=t.host,this.ssl=t.ssl??Xv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=VE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Qw)throw new et(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Nb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new et(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new et(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new et(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $v({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new et(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $v(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new vb;switch(s.type){case"firstParty":return new Sb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new et(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Yv.get(i);s&&(rt("ComponentProvider","Removing Datastore"),Yv.delete(i),s.terminate())})(this),Promise.resolve()}}function mI(r,t,i,s={}){r=xs(r,bh);const l=so(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(N0(`https://${g}`),D0("Firestore",!0)),c.host!==rT&&c.host!==g&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:s};if(!Ps(y,d)&&(r._setSettings(y),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=$e.MOCK_USER;else{_=QA(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new et(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new $e(S)}r._authCredentials=new Eb(new G0(_,T))}}class Ci{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ci(this.firestore,t,this._query)}}class Me{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(Bl(i,Me._jsonSchema))return new Me(t,s||null,new ut(Wt.fromString(i.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Ce("string",Me._jsonSchemaVersion),referencePath:Ce("string")};class Yr extends Ci{constructor(t,i,s){super(t,i,Om(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new ut(t))}withConverter(t){return new Yr(this.firestore,t,this._path)}}function wh(r,t,...i){if(r=hn(r),F0("collection","path",t),r instanceof bh){const s=Wt.fromString(t,...i);return cv(s),new Yr(r,null,s)}{if(!(r instanceof Me||r instanceof Yr))throw new et(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...i));return cv(s),new Yr(r.firestore,null,s)}}function gI(r,t,...i){if(r=hn(r),arguments.length===1&&(t=Rm.newId()),F0("doc","path",t),r instanceof bh){const s=Wt.fromString(t,...i);return uv(s),new Me(r,null,new ut(s))}{if(!(r instanceof Me||r instanceof Yr))throw new et(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...i));return uv(s),new Me(r.firestore,r instanceof Yr?r.converter:null,new ut(s))}}const Zv="AsyncQueue";class Jv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new UE(this,"async_queue_retry"),this._c=()=>{const s=Qd();s&&rt(Zv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Kr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!uo(t))throw t;rt(Zv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",Wv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Fm.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:Wv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Wv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function t0(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Ul extends bh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new Jv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Jv(t),this._firestoreClient=void 0,await t}}}function pI(r,t){const i=typeof r=="object"?r:x0(),s=typeof r=="string"?r:Qc,l=bm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=GA("firestore");c&&mI(l,...c)}return l}function $m(r){if(r._terminated)throw new et(Q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||yI(r),r._firestoreClient}function yI(r){const t=r._freezeSettings(),i=(function(l,c,d,g){return new Bb(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,iT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new cI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kn(Ke.fromBase64String(t))}catch(i){throw new et(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new kn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bl(t,kn._jsonSchema))return kn.fromBase64String(t.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Ce("string",kn._jsonSchemaVersion),bytes:Ce("string")};class Zm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new et(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class sT{constructor(t){this._methodName=t}}class Si{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new et(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new et(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(t){if(Bl(t,Si._jsonSchema))return new Si(t.latitude,t.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:Ce("string",Si._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class bi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bl(t,bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new bi(t.vectorValues);throw new et(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:Ce("string",bi._jsonSchemaVersion),vectorValues:Ce("object")};const _I=/^__.*__$/;class vI{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Qs(t,this.data,this.fieldMask,i,this.fieldTransforms):new ql(t,this.data,i,this.fieldTransforms)}}function aT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:r})}}class Jm{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Jm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return nh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(aT(this.Ac)&&_I.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class EI{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Th(t)}Cc(t,i,s,l=!1){return new Jm({Ac:t,methodName:i,Dc:s,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wm(r){const t=r._freezeSettings(),i=Th(r._databaseId);return new EI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function TI(r,t,i,s,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);cT("Data must be an object, but it was:",d,s);const g=lT(s,d);let y,_;if(c.merge)y=new Yn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const N=AI(t,S,i);if(!d.contains(N))throw new et(Q.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);bI(T,N)||T.push(N)}y=new Yn(T),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new vI(new xn(g),y,_)}function oT(r,t,i,s=!1){return tg(i,r.Cc(s?4:3,t))}function tg(r,t){if(uT(r=hn(r)))return cT("Unsupported field value:",t,r),lT(r,t);if(r instanceof sT)return(function(s,l){if(!aT(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const g of s){let y=tg(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=hn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return cw(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=re.fromDate(s);return{timestampValue:Jc(l.serializer,c)}}if(s instanceof re){const c=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Jc(l.serializer,c)}}if(s instanceof Si)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof kn)return{bytesValue:wE(l.serializer,s._byteString)};if(s instanceof Me){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Um(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof bi)return(function(d,g){return{mapValue:{fields:{[tE]:{stringValue:eE},[Kc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Mm(g.serializer,_)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${hh(s)}`)})(r,t)}function lT(r,t){const i={};return Y0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hs(r,((s,l)=>{const c=tg(l,t.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function uT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof Si||r instanceof kn||r instanceof Me||r instanceof sT||r instanceof bi)}function cT(r,t,i){if(!uT(i)||!Q0(i)){const s=hh(i);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function AI(r,t,i){if((t=hn(t))instanceof Zm)return t._internalPath;if(typeof t=="string")return hT(r,t);throw nh("Field path arguments must be of type string or ",r,!1,void 0,i)}const SI=new RegExp("[~\\*/\\[\\]]");function hT(r,t,i){if(t.search(SI)>=0)throw nh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Zm(...t.split("."))._internalPath}catch{throw nh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function nh(r,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new et(Q.INVALID_ARGUMENT,g+r+y)}function bI(r,t){return r.some((i=>i.isEqual(t)))}class eg{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new wI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Rh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class wI extends eg{data(){return super.data()}}function Rh(r,t){return typeof t=="string"?hT(r,t):t instanceof Zm?t._internalPath:t._delegate._internalPath}function fT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new et(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ng{}class Ih extends ng{}function io(r,t,...i){let s=[];t instanceof ng&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((y=>y instanceof ig)).length,g=c.filter((y=>y instanceof Ch)).length;if(d>1||d>0&&g>0)throw new et(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Ch extends Ih{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Ch(t,i,s)}_apply(t){const i=this._parse(t);return dT(t._query,i),new Ci(t.firestore,t.converter,om(t._query,i))}_parse(t){const i=Wm(t.firestore);return(function(c,d,g,y,_,T,S){let N;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new et(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){n0(S,T);const X=[];for(const W of S)X.push(e0(y,c,W));N={arrayValue:{values:X}}}else N=e0(y,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||n0(S,T),N=oT(g,d,S,T==="in"||T==="not-in");return Ie.create(_,T,N)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function qa(r,t,i){const s=t,l=Rh("where",r);return Ch._create(l,s,i)}class ig extends ng{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new ig(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:$n.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const y of g)dT(d,y),d=om(d,y)})(t._query,i),new Ci(t.firestore,t.converter,om(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rg extends Ih{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new rg(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new et(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new et(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ml(c,d)})(t._query,this._field,this._direction);return new Ci(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Gs(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function RI(r,t="asc"){const i=t,s=Rh("orderBy",r);return rg._create(s,i)}class sg extends Ih{constructor(t,i,s){super(),this.type=t,this._limit=i,this._limitType=s}static _create(t,i,s){return new sg(t,i,s)}_apply(t){return new Ci(t.firestore,t.converter,Xc(t._query,this._limit,this._limitType))}}function II(r){return Db("limit",r),sg._create("limit",r,"F")}class ag extends Ih{constructor(t,i,s){super(),this.type=t,this._docOrFields=i,this._inclusive=s}static _create(t,i,s){return new ag(t,i,s)}_apply(t){const i=NI(t,this.type,this._docOrFields,this._inclusive);return new Ci(t.firestore,t.converter,(function(l,c){return new Gs(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,c,l.endAt)})(t._query,i))}}function CI(...r){return ag._create("startAfter",r,!1)}function NI(r,t,i,s){if(i[0]=hn(i[0]),i[0]instanceof eg)return(function(c,d,g,y,_){if(!y)throw new et(Q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const T=[];for(const S of Ga(c))if(S.field.isKeyField())T.push(Yc(d,y.key));else{const N=y.data.field(S.field);if(mh(N))throw new et(Q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(N===null){const B=S.field.canonicalString();throw new et(Q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}T.push(N)}return new to(T,_)})(r._query,r.firestore._databaseId,t,i[0]._document,s);{const l=Wm(r.firestore);return(function(d,g,y,_,T,S){const N=d.explicitOrderBy;if(T.length>N.length)throw new et(Q.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let X=0;X<T.length;X++){const W=T[X];if(N[X].field.isKeyField()){if(typeof W!="string")throw new et(Q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof W}`);if(!Vm(d)&&W.indexOf("/")!==-1)throw new et(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${W}' contains a slash.`);const J=d.path.child(Wt.fromString(W));if(!ut.isDocumentKey(J))throw new et(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${J}' is not because it contains an odd number of segments.`);const lt=new ut(J);B.push(Yc(g,lt))}else{const J=oT(y,_,W);B.push(J)}}return new to(B,S)})(r._query,r.firestore._databaseId,l,t,i,s)}}function e0(r,t,i){if(typeof(i=hn(i))=="string"){if(i==="")throw new et(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vm(t)&&i.indexOf("/")!==-1)throw new et(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(Wt.fromString(i));if(!ut.isDocumentKey(s))throw new et(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Yc(r,new ut(s))}if(i instanceof Me)return Yc(r,i._key);throw new et(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hh(i)}.`)}function n0(r,t){if(!Array.isArray(r)||r.length===0)throw new et(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function dT(r,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new et(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new et(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class DI{convertValue(t,i="none"){switch(Jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Zr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Hs(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[Kc].arrayValue?.values?.map((s=>pe(s.doubleValue)));return new bi(i)}convertGeoPoint(t){return new Si(pe(t.latitude),pe(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=gh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Dl(t));default:return null}}convertTimestamp(t){const i=$r(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Wt.fromString(t);qt(OE(s),9688,{name:t});const l=new Ol(s.get(1),s.get(3)),c=new ut(s.popFirst(5));return l.isEqual(i)||Wi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function OI(r,t,i){let s;return s=r?r.toFirestore(t):t,s}class Al{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ks extends eg{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Rh("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ks._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",ks._jsonSchema={type:Ce("string",ks._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Pc extends ks{data(t={}){return super.data(t)}}class Us{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Pc(this._firestore,this._userDataWriter,s.key,s,new Al(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new et(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new Pc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Al(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Pc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Al(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:VI(g.type),doc:y,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Us._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Rm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function VI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:r})}}Us._jsonSchemaVersion="firestore/querySnapshot/1.0",Us._jsonSchema={type:Ce("string",Us._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class og extends DI{constructor(t){super(),this.firestore=t}convertBytes(t){return new kn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,i)}}function Ll(r){r=xs(r,Ci);const t=xs(r.firestore,Ul),i=$m(t),s=new og(t);return fT(r._query),dI(i,r._query).then((l=>new Us(t,s,r,l)))}function MI(r,t){const i=xs(r.firestore,Ul),s=gI(r),l=OI(r.converter,t);return kI(i,[TI(Wm(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Zi.exists(!1))]).then((()=>s))}function xI(r,...t){r=hn(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||t0(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(t0(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof Me)d=xs(r.firestore,Ul),g=Om(r._key.path),c={next:y=>{t[s]&&t[s](UI(d,r,y))},error:t[s+1],complete:t[s+2]};else{const y=xs(r,Ci);d=xs(y.firestore,Ul),g=y._query;const _=new og(d);c={next:T=>{t[s]&&t[s](new Us(d,_,y,T))},error:t[s+1],complete:t[s+2]},fT(r._query)}return(function(_,T,S,N){const B=new eT(N),X=new QE(T,B,S);return _.asyncQueue.enqueueAndForget((async()=>GE(await ym(_),X))),()=>{B.Nu(),_.asyncQueue.enqueueAndForget((async()=>FE(await ym(_),X)))}})($m(d),g,l,c)}function kI(r,t){return(function(s,l){const c=new Kr;return s.asyncQueue.enqueueAndForget((async()=>eI(await fI(s),l,c))),c.promise})($m(r),t)}function UI(r,t,i){const s=i.docs.get(t._key),l=new og(r);return new ks(r,l,t._key,s,new Al(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){oo=l})(ao),Xa(new zs("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Ul(new Tb(s.getProvider("auth-internal")),new bb(d,s.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new et(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(_.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Fr(sv,av,t),Fr(sv,av,"esm2020")})();var LI="firebase",PI="12.7.0";Fr(LI,PI,"app");function mT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zI=mT,gT=new zl("auth","Firebase",mT()),ih=new Am("@firebase/auth");function jI(r,...t){ih.logLevel<=Nt.WARN&&ih.warn(`Auth (${ao}): ${r}`,...t)}function zc(r,...t){ih.logLevel<=Nt.ERROR&&ih.error(`Auth (${ao}): ${r}`,...t)}function er(r,...t){throw lg(r,...t)}function wi(r,...t){return lg(r,...t)}function pT(r,t,i){const s={...zI(),[t]:i};return new zl("auth","Firebase",s).create(t,{appName:r.name})}function Ls(r){return pT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lg(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return gT.create(r,...t)}function pt(r,t,...i){if(!r)throw lg(t,...i)}function Xi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw zc(t),new Error(t)}function nr(r,t){r||Xi(t)}function _m(){return typeof self<"u"&&self.location?.href||""}function BI(){return i0()==="http:"||i0()==="https:"}function i0(){return typeof self<"u"&&self.location?.protocol||null}function qI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BI()||JA()||"connection"in navigator)?navigator.onLine:!0}function HI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,nr(i>t,"Short delay should be less than long delay!"),this.isMobile=XA()||WA()}get(){return qI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ug(r,t){nr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class yT{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},FI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QI=new Ql(3e4,6e4);function cg(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ho(r,t,i,s,l={}){return _T(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=jl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return ZA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&so(r.emulatorConfig.host)&&(_.credentials="include"),yT.fetch()(await vT(r,r.config.apiHost,i,g),_)})}async function _T(r,t,i){r._canInitEmulator=!1;const s={...GI,...t};try{const l=new YI(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Nc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Nc(r,"user-disabled",d);const T=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw pT(r,T,_);er(r,T)}}catch(l){if(l instanceof ir)throw l;er(r,"network-request-failed",{message:String(l)})}}async function KI(r,t,i,s,l={}){const c=await ho(r,t,i,s,l);return"mfaPendingCredential"in c&&er(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function vT(r,t,i,s){const l=`${t}${i}?${s}`,c=r,d=c.config.emulator?ug(r.config,l):`${r.config.apiScheme}://${l}`;return FI.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class YI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(wi(this.auth,"network-request-failed")),QI.get())})}}function Nc(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=wi(r,t,s);return l.customData._tokenResponse=i,l}async function XI(r,t){return ho(r,"POST","/v1/accounts:delete",t)}async function rh(r,t){return ho(r,"POST","/v1/accounts:lookup",t)}function Il(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $I(r,t=!1){const i=hn(r),s=await i.getIdToken(t),l=hg(s);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Il(Yd(l.auth_time)),issuedAtTime:Il(Yd(l.iat)),expirationTime:Il(Yd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Yd(r){return Number(r)*1e3}function hg(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const l=w0(i);return l?JSON.parse(l):(zc("Failed to decode base64 JWT payload"),null)}catch(l){return zc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function r0(r){const t=hg(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Pl(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof ir&&ZI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function ZI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class JI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sh(r){const t=r.auth,i=await r.getIdToken(),s=await Pl(r,rh(t,{idToken:i}));pt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?ET(l.providerUserInfo):[],d=tC(r.providerData,c),g=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=g?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new vm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,T)}async function WI(r){const t=hn(r);await sh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function tC(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function ET(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function eC(r,t){const i=await _T(r,{},async()=>{const s=jl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await vT(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:s};return r.emulatorConfig&&so(r.emulatorConfig.host)&&(y.credentials="include"),yT.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function nC(r,t){return ho(r,"POST","/v2/accounts:revokeToken",cg(r,t))}class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):r0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=r0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await eC(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Qa;return s&&(pt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function Lr(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new JI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new vm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Pl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return $I(this,t)}reload(){return WI(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await sh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ei(this.auth.app))return Promise.reject(Ls(this.auth));const t=await this.getIdToken();return await Pl(this,XI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:N,isAnonymous:B,providerData:X,stsTokenManager:W}=i;pt(S&&W,t,"internal-error");const J=Qa.fromJSON(this.name,W);pt(typeof S=="string",t,"internal-error"),Lr(s,t.name),Lr(l,t.name),pt(typeof N=="boolean",t,"internal-error"),pt(typeof B=="boolean",t,"internal-error"),Lr(c,t.name),Lr(d,t.name),Lr(g,t.name),Lr(y,t.name),Lr(_,t.name),Lr(T,t.name);const lt=new Xn({uid:S,auth:t,email:l,emailVerified:N,displayName:s,isAnonymous:B,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:J,createdAt:_,lastLoginAt:T});return X&&Array.isArray(X)&&(lt.providerData=X.map(gt=>({...gt}))),y&&(lt._redirectEventId=y),lt}static async _fromIdTokenResponse(t,i,s=!1){const l=new Qa;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await sh(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?ET(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Qa;g.updateFromIdToken(s);const y=new Xn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new vm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const s0=new Map;function $i(r){nr(r instanceof Function,"Expected a class definition");let t=s0.get(r);return t?(nr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,s0.set(r,t),t)}class TT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}TT.type="NONE";const a0=TT;function jc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ka{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=jc(this.userKey,l.apiKey,c),this.fullPersistenceKey=jc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await rh(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Ka($i(a0),t,s);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||$i(a0);const d=jc(s,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const T=await _._get(d);if(T){let S;if(typeof T=="string"){const N=await rh(t,{idToken:T}).catch(()=>{});if(!N)break;S=await Xn._fromGetAccountInfoResponse(t,N,T)}else S=Xn._fromJSON(t,T);_!==c&&(g=S),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ka(c,t,s):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ka(c,t,s))}}function o0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(AT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(IT(t))return"Blackberry";if(CT(t))return"Webos";if(ST(t))return"Safari";if((t.includes("chrome/")||bT(t))&&!t.includes("edge/"))return"Chrome";if(RT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function AT(r=Je()){return/firefox\//i.test(r)}function ST(r=Je()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function bT(r=Je()){return/crios\//i.test(r)}function wT(r=Je()){return/iemobile/i.test(r)}function RT(r=Je()){return/android/i.test(r)}function IT(r=Je()){return/blackberry/i.test(r)}function CT(r=Je()){return/webos/i.test(r)}function fg(r=Je()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function iC(r=Je()){return fg(r)&&!!window.navigator?.standalone}function rC(){return tS()&&document.documentMode===10}function NT(r=Je()){return fg(r)||RT(r)||CT(r)||IT(r)||/windows phone/i.test(r)||wT(r)}function DT(r,t=[]){let i;switch(r){case"Browser":i=o0(Je());break;case"Worker":i=`${o0(Je())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ao}/${s}`}class sC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,g)=>{try{const y=t(c);d(y)}catch(y){g(y)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function aC(r,t={}){return ho(r,"GET","/v2/passwordPolicy",cg(r,t))}const oC=6;class lC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??oC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class uC{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new l0(this),this.idTokenSubscription=new l0(this),this.beforeStateQueue=new sC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=$i(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await rh(this,{idToken:t}),s=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ei(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await sh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=HI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ei(this.app))return Promise.reject(Ls(this));const i=t?hn(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ei(this.app)?Promise.reject(Ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ei(this.app)?Promise.reject(Ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await aC(this),i=new lC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await nC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&$i(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[$i(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=DT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&jI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function dg(r){return hn(r)}class l0{constructor(t){this.auth=t,this.observer=null,this.addObserver=lS(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cC(r){mg=r}function hC(r){return mg.loadJS(r)}function fC(){return mg.gapiScript}function dC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function mC(r,t){const i=bm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ps(c,t??{}))return l;er(l,"already-initialized")}return i.initialize({options:t})}function gC(r,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map($i);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function pC(r,t,i){const s=dg(r);pt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=OT(t),{host:d,port:g}=yC(t),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){pt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),pt(Ps(_,s.config.emulator)&&Ps(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,so(d)?(N0(`${c}//${d}${y}`),D0("Auth",!0)):_C()}function OT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function yC(r){const t=OT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:u0(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:u0(d)}}}function u0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function _C(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class VT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function Ya(r,t){return KI(r,"POST","/v1/accounts:signInWithIdp",cg(r,t))}const vC="http://localhost";class qs extends VT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new qs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):er("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new qs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ya(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Ya(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ya(t,i)}buildRequest(){const t={requestUri:vC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=jl(i)}return t}}class MT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Kl extends MT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Pr extends Kl{constructor(){super("facebook.com")}static credential(t){return qs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";class zr extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return qs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return zr.credential(i,s)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";class jr extends Kl{constructor(){super("github.com")}static credential(t){return qs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";class Br extends Kl{constructor(){super("twitter.com")}static credential(t,i){return qs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Br.credential(i,s)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";class ro{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Xn._fromIdTokenResponse(t,s,l),d=c0(s);return new ro({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=c0(s);return new ro({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function c0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class ah extends ir{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new ah(t,i,s,l)}}function xT(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(r,c,t,s):c})}async function EC(r,t,i=!1){const s=await Pl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ro._forOperation(r,"link",s)}async function TC(r,t,i=!1){const{auth:s}=r;if(Ei(s.app))return Promise.reject(Ls(s));const l="reauthenticate";try{const c=await Pl(r,xT(s,l,t,r),i);pt(c.idToken,s,"internal-error");const d=hg(c.idToken);pt(d,s,"internal-error");const{sub:g}=d;return pt(r.uid===g,s,"user-mismatch"),ro._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&er(s,"user-mismatch"),c}}async function AC(r,t,i=!1){if(Ei(r.app))return Promise.reject(Ls(r));const s="signIn",l=await xT(r,s,t),c=await ro._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}function SC(r,t,i,s){return hn(r).onIdTokenChanged(t,i,s)}function bC(r,t,i){return hn(r).beforeAuthStateChanged(t,i)}const oh="__sak";class kT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const wC=1e3,RC=10;class UT extends kT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);rC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,RC):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},wC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}UT.type="LOCAL";const IC=UT;class LT extends kT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}LT.type="SESSION";const PT=LT;function CC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new Nh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await CC(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];function gg(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}class NC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=gg("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const N=S;if(N.data.eventId===_)switch(N.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(N.data.response);break;default:clearTimeout(T),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ri(){return window}function DC(r){Ri().location.href=r}function zT(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function OC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VC(){return navigator?.serviceWorker?.controller||null}function MC(){return zT()?self:null}const jT="firebaseLocalStorageDb",xC=1,lh="firebaseLocalStorage",BT="fbase_key";class Yl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Dh(r,t){return r.transaction([lh],t?"readwrite":"readonly").objectStore(lh)}function kC(){const r=indexedDB.deleteDatabase(jT);return new Yl(r).toPromise()}function Em(){const r=indexedDB.open(jT,xC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(lh,{keyPath:BT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(lh)?t(s):(s.close(),await kC(),t(await Em()))})})}async function h0(r,t,i){const s=Dh(r,!0).put({[BT]:t,value:i});return new Yl(s).toPromise()}async function UC(r,t){const i=Dh(r,!1).get(t),s=await new Yl(i).toPromise();return s===void 0?null:s.value}function f0(r,t){const i=Dh(r,!0).delete(t);return new Yl(i).toPromise()}const LC=800,PC=3;class qT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>PC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(MC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OC(),!this.activeServiceWorker)return;this.sender=new NC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||VC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Em();return await h0(t,oh,"1"),await f0(t,oh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>h0(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>UC(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>f0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Dh(l,!1).getAll();return new Yl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qT.type="LOCAL";const zC=qT;new Ql(3e4,6e4);function jC(r,t){return t?$i(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class pg extends VT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ya(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function BC(r){return AC(r.auth,new pg(r),r.bypassAuthState)}function qC(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),TC(i,new pg(r),r.bypassAuthState)}async function HC(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),EC(i,new pg(r),r.bypassAuthState)}class HT{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return BC;case"linkViaPopup":case"linkViaRedirect":return HC;case"reauthViaPopup":case"reauthViaRedirect":return qC;default:er(this.auth,"internal-error")}}resolve(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const GC=new Ql(2e3,1e4);class Ha extends HT{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const t=gg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,GC.get())};t()}}Ha.currentPopupAction=null;const FC="pendingRedirect",Bc=new Map;class QC extends HT{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Bc.get(this.auth._key());if(!t){try{const s=await KC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Bc.set(this.auth._key(),t)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KC(r,t){const i=$C(t),s=XC(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function YC(r,t){Bc.set(r._key(),t)}function XC(r){return $i(r._redirectPersistence)}function $C(r){return jc(FC,r.config.apiKey,r.name)}async function ZC(r,t,i=!1){if(Ei(r.app))return Promise.reject(Ls(r));const s=dg(r),l=jC(s,t),d=await new QC(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const JC=600*1e3;class WC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!tN(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!GT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(wi(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=JC&&this.cachedEventUids.clear(),this.cachedEventUids.has(d0(t))}saveEventToCache(t){this.cachedEventUids.add(d0(t)),this.lastProcessedEventTime=Date.now()}}function d0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function GT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function tN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GT(r);default:return!1}}async function eN(r,t={}){return ho(r,"GET","/v1/projects",t)}const nN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iN=/^https?/;async function rN(r){if(r.config.emulator)return;const{authorizedDomains:t}=await eN(r);for(const i of t)try{if(sN(i))return}catch{}er(r,"unauthorized-domain")}function sN(r){const t=_m(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!iN.test(i))return!1;if(nN.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const aN=new Ql(3e4,6e4);function m0(){const r=Ri().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function oN(r){return new Promise((t,i)=>{function s(){m0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{m0(),i(wi(r,"network-request-failed"))},timeout:aN.get()})}if(Ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ri().gapi?.load)s();else{const l=dC("iframefcb");return Ri()[l]=()=>{gapi.load?s():i(wi(r,"network-request-failed"))},hC(`${fC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw qc=null,t})}let qc=null;function lN(r){return qc=qc||oN(r),qc}const uN=new Ql(5e3,15e3),cN="__/auth/iframe",hN="emulator/auth/iframe",fN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mN(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?ug(t,hN):`https://${r.config.authDomain}/${cN}`,s={apiKey:t.apiKey,appName:r.name,v:ao},l=dN.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${jl(s).slice(1)}`}async function gN(r){const t=await lN(r),i=Ri().gapi;return pt(i,r,"internal-error"),t.open({where:document.body,url:mN(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fN,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=wi(r,"network-request-failed"),g=Ri().setTimeout(()=>{c(d)},uN.get());function y(){Ri().clearTimeout(g),l(s)}s.ping(y).then(y,()=>{c(d)})}))}const pN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yN=500,_N=600,vN="_blank",EN="http://localhost";class g0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TN(r,t,i,s=yN,l=_N){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y={...pN,width:s.toString(),height:l.toString(),top:c,left:d},_=Je().toLowerCase();i&&(g=bT(_)?vN:i),AT(_)&&(t=t||EN,y.scrollbars="yes");const T=Object.entries(y).reduce((N,[B,X])=>`${N}${B}=${X},`,"");if(iC(_)&&g!=="_self")return AN(t||"",g),new g0(null);const S=window.open(t||"",g,T);pt(S,r,"popup-blocked");try{S.focus()}catch{}return new g0(S)}function AN(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const SN="__/auth/handler",bN="emulator/auth/handler",wN=encodeURIComponent("fac");async function p0(r,t,i,s,l,c){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:ao,eventId:l};if(t instanceof MT){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",oS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(t instanceof Kl){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const y=await r._getAppCheckToken(),_=y?`#${wN}=${encodeURIComponent(y)}`:"";return`${RN(r)}?${jl(g).slice(1)}${_}`}function RN({config:r}){return r.emulator?ug(r,bN):`https://${r.authDomain}/${SN}`}const Xd="webStorageSupport";class IN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PT,this._completeRedirectFn=ZC,this._overrideRedirectResult=YC}async _openPopup(t,i,s,l){nr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await p0(t,i,s,_m(),l);return TN(t,c,gg())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await p0(t,i,s,_m(),l);return DC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(nr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await gN(t),s=new WC(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Xd,{type:Xd},l=>{const c=l?.[0]?.[Xd];c!==void 0&&i(!!c),er(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=rN(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return NT()||ST()||fg()}}const CN=IN;var y0="@firebase/auth",_0="1.12.0";class NN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function DN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ON(r){Xa(new zs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DT(r)},_=new uC(s,l,c,y);return gC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Xa(new zs("auth-internal",t=>{const i=dg(t.getProvider("auth").getImmediate());return(s=>new NN(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(y0,_0,DN(r)),Fr(y0,_0,"esm2020")}const VN=300,MN=C0("authIdTokenMaxAge")||VN;let v0=null;const xN=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>MN)return;const l=i?.token;v0!==l&&(v0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function kN(r=x0()){const t=bm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=mC(r,{popupRedirectResolver:CN,persistence:[zC,IC,PT]}),s=C0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=xN(c.toString());bC(i,d,()=>d(i.currentUser)),SC(i,g=>d(g))}}const l=R0("auth");return l&&pC(i,`http://${l}`),i}function UN(){return document.getElementsByTagName("head")?.[0]??document}cC({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=wi("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",UN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ON("Browser");const LN={apiKey:"AIzaSyAfllte-D_I3h3TwBaiSL4KVfWrCSVh9ro",authDomain:"sustore-63266.firebaseapp.com",projectId:"sustore-63266",storageBucket:"sustore-63266.firebasestorage.app",messagingSenderId:"684651914850",appId:"1:684651914850:web:f3df09e5caf6e50e9e533b",measurementId:"G-X3K7XGYPRD"},FT=M0(LN);kN(FT);const Oh=pI(FT),PN="sustore-prod-v3",Vh=["artifacts",PN,"public","data"],Dc=(r,t)=>{const i=wh(Oh,...Vh,r);return xI(i,s=>{const l=s.docs.map(c=>({id:c.id,...c.data()}));t(l)})},zN=async(r=20,t=null)=>{let i=io(wh(Oh,...Vh,"products"),RI("name"),II(r));t&&(i=io(i,CI(t)));const s=await Ll(i),l=s.docs.map(d=>({id:d.id,...d.data()})),c=s.docs[s.docs.length-1];return{products:l,lastDoc:c}},jN=async(r,t)=>{const i=wh(Oh,...Vh,"users");let s=io(i,qa("email","==",r),qa("password","==",t)),l=await Ll(s);if(l.empty&&(s=io(i,qa("username","==",r),qa("password","==",t)),l=await Ll(s)),l.empty)throw new Error("Credenciales incorrectas.");return{id:l.docs[0].id,...l.docs[0].data()}},BN=async r=>{const t=wh(Oh,...Vh,"users");if(!(await Ll(io(t,qa("email","==",r.email)))).empty)throw new Error("Email ya registrado.");if(!(await Ll(io(t,qa("username","==",r.username)))).empty)throw new Error("Usuario ya en uso.");return{id:(await MI(t,{...r,role:"user",joinDate:new Date().toISOString(),favorites:[],ordersCount:0})).id,...r}},uh="lautarocorazza63@gmail.com",qN={storeName:"SUSTORE",primaryColor:"#06b6d4",currency:"$",admins:uh,team:[{email:uh,role:"admin",name:"Lautaro Corazza"}],sellerEmail:"sustoresf@gmail.com",instagramUser:"sustore_sf",whatsappLink:"https://wa.me/message/3MU36VTEKINKP1",logoUrl:"",heroUrl:"",markupPercentage:0,announcementMessage:" ENVOS GRATIS EN COMPRAS SUPERIORES A $50.000 ",categories:["Celulares","Accesorios","Audio","Computacin","Gaming"],aboutUsText:`Somos una empresa dedicada a traer la mejor tecnologa al mejor precio del mercado.

Contamos con garanta oficial en todos nuestros productos y soporte personalizado.`},HN=()=>{const[r,t]=ie.useState([]),[i,s]=ie.useState(null),[l,c]=ie.useState(!0),[d,g]=ie.useState(!1),[y,_]=ie.useState([]),[T,S]=ie.useState([]),[N,B]=ie.useState([]),[X,W]=ie.useState(qN),J=ie.useCallback(async()=>{if(!(d||!l)){g(!0);try{const{products:lt,lastDoc:gt}=await zN(20,i);t(ft=>[...ft,...lt]),s(gt),lt.length<20&&c(!1)}catch(lt){console.error("Error loading products:",lt)}finally{g(!1)}}},[i,d,l]);return ie.useEffect(()=>{J();const lt=[Dc("promos",_),Dc("orders",S),Dc("users",B),Dc("settings",gt=>{const ft=gt.find(Lt=>Lt.id==="config");ft&&W(Lt=>({...Lt,...ft}))})];return()=>lt.forEach(gt=>gt())},[]),{products:r,promos:y,orders:T,users:N,settings:X,loadMoreProducts:J,hasMore:l,isLoading:d}},GN=()=>{const[r,t]=ie.useState(()=>{try{const d=localStorage.getItem("nexus_cart");return d?JSON.parse(d):[]}catch{return[]}});ie.useEffect(()=>{localStorage.setItem("nexus_cart",JSON.stringify(r))},[r]);const i=(d,g=1)=>{t(y=>y.find(T=>T.productId===(d.productId||d.id))?y.map(T=>T.productId===(d.productId||d.id)?{...T,quantity:T.quantity+g}:T):[...y,{productId:d.id||d.productId,name:d.name||d.title,price:d.basePrice||d.unit_price||d.price,image:d.image,quantity:g}])},s=d=>{t(g=>g.filter(y=>y.productId!==d))},l=()=>t([]),c=r.reduce((d,g)=>d+g.price*g.quantity,0);return{cart:r,addToCart:i,removeFromCart:s,clearCart:l,cartTotal:c}},FN=()=>{const[r,t]=ie.useState(()=>{try{const c=localStorage.getItem("nexus_user_data");return c?JSON.parse(c):null}catch{return null}});return ie.useEffect(()=>{r?localStorage.setItem("nexus_user_data",JSON.stringify(r)):localStorage.removeItem("nexus_user_data")},[r]),{currentUser:r,login:async(c,d)=>{const g=await jN(c,d);return t(g),g},register:async c=>{const d=await BN(c);return t(d),d},logout:()=>t(null)}},QN=(r,t,i,s,l)=>ie.useMemo(()=>{const c=t.filter(N=>N.status==="Realizado"),d=c.reduce((N,B)=>N+(Number(B.total)||0),0),g=i.reduce((N,B)=>N+(Number(B.amount)||0),0),y=s.reduce((N,B)=>N+(Number(B.cost)||0),0),_=d-g-y,T={};c.forEach(N=>{N.items?.forEach(B=>{const X=B.productId;T[X]||(T[X]={sales:0,revenue:0}),T[X].sales+=B.quantity,T[X].revenue+=B.quantity*B.unit_price})});const S=Object.entries(T).map(([N,B])=>{const X=r.find(W=>W.id===N);return X?{id:N,name:X.name,image:X.image,stock:X.stock,stats:B}:null}).filter(Boolean).sort((N,B)=>B.stats.sales-N.stats.sales).slice(0,5);return{revenue:d,expensesTotal:g,purchasesTotal:y,netIncome:_,trendingProducts:S,lowStockThreshold:l?.lowStockThreshold||5}},[r,t,i,s,l]),KN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YN=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase()),E0=r=>{const t=YN(r);return t.charAt(0).toUpperCase()+t.slice(1)},QT=(...r)=>r.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim(),XN=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var $N={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ZN=ie.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...g},y)=>ie.createElement("svg",{ref:y,...$N,width:t,height:t,stroke:r,strokeWidth:s?Number(i)*24/Number(t):i,className:QT("lucide",l),...!c&&!XN(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,T])=>ie.createElement(_,T)),...Array.isArray(c)?c:[c]])),Ht=(r,t)=>{const i=ie.forwardRef(({className:s,...l},c)=>ie.createElement(ZN,{ref:c,iconNode:t,className:QT(`lucide-${KN(E0(r))}`,`lucide-${r}`,s),...l}));return i.displayName=E0(r),i},JN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],WN=Ht("arrow-right",JN),t4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],e4=Ht("circle-alert",t4),n4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],i4=Ht("circle-check-big",n4),r4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],s4=Ht("dollar-sign",r4),a4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],o4=Ht("eye",a4),l4=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],T0=Ht("flame",l4),u4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],c4=Ht("funnel",u4),h4=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],f4=Ht("heart",h4),d4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],A0=Ht("info",d4),m4=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],g4=Ht("layout-dashboard",m4),p4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],y4=Ht("lock",p4),_4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],v4=Ht("log-out",_4),E4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],T4=Ht("mail",E4),A4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],S4=Ht("menu",A4),b4=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],w4=Ht("package",b4),R4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],I4=Ht("plus",R4),C4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],N4=Ht("settings",C4),D4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],O4=Ht("shield",D4),V4=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],M4=Ht("shopping-bag",V4),x4=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],k4=Ht("shopping-cart",x4),U4=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],L4=Ht("tag",U4),P4=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],z4=Ht("ticket",P4),j4=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],B4=Ht("trending-down",j4),q4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],H4=Ht("trending-up",q4),G4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],F4=Ht("triangle-alert",G4),Q4=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],K4=Ht("truck",Q4),Y4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],X4=Ht("user-plus",Y4),$4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Z4=Ht("user",$4),J4=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],KT=Ht("wallet",J4),W4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tD=Ht("x",W4),eD=({products:r,promos:t,settings:i,selectedCategory:s,setSelectedCategory:l,searchQuery:c,setSearchQuery:d,currentUser:g,toggleFavorite:y,manageCart:_,calculateItemPrice:T,setView:S,filteredProducts:N,setPreviewImage:B})=>F.jsxs("div",{className:"max-w-[1400px] mx-auto pb-32 min-h-screen block",children:[i?.announcementMessage&&F.jsx("div",{className:"w-full bg-gradient-to-r from-cyan-900/20 to-purple-900/20 border border-cyan-500/20 rounded-xl p-3 mb-8 text-center animate-pulse relative overflow-hidden group",children:F.jsxs("p",{className:"text-cyan-300 font-black text-xs md:text-sm tracking-[0.2em] uppercase flex items-center justify-center gap-3",children:[F.jsx(T0,{className:"w-4 h-4 text-orange-500"})," ",i.announcementMessage," ",F.jsx(T0,{className:"w-4 h-4 text-orange-500"})]})}),F.jsxs("div",{className:"relative w-full h-[400px] md:h-[550px] rounded-[3rem] overflow-hidden shadow-2xl mb-12 border border-slate-800 group bg-[#080808]",children:[i?.heroUrl?F.jsx("img",{src:i.heroUrl,className:"absolute inset-0 w-full h-full object-cover opacity-60 transition-transform duration-1000 group-hover:scale-105"}):F.jsx("img",{src:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=2070&auto=format&fit=crop",className:"absolute inset-0 w-full h-full object-cover opacity-60 transition-transform duration-1000 group-hover:scale-105"}),F.jsx("div",{className:"absolute inset-0 bg-gradient-to-t md:bg-gradient-to-r from-[#050505] via-[#050505]/80 to-transparent flex flex-col justify-center px-8 md:px-20 z-10 p-12",children:F.jsxs("div",{className:"max-w-2xl animate-fade-up",children:[F.jsxs("h1",{className:"text-5xl md:text-8xl font-black text-white leading-[0.9] drop-shadow-2xl mb-6 neon-text",children:["TECNOLOGA ",F.jsx("br",{}),F.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 animate-pulse-slow",children:"DEL FUTURO"})]}),F.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:F.jsxs("button",{onClick:()=>document.getElementById("catalog").scrollIntoView({behavior:"smooth"}),className:"px-8 py-4 bg-white text-black font-black rounded-xl hover:bg-cyan-400 transition flex items-center justify-center gap-2 group/btn",children:["VER CATLOGO ",F.jsx(WN,{className:"w-5 h-5 group-hover/btn:translate-x-1 transition"})]})})]})})]}),F.jsxs("div",{id:"catalog",className:"sticky top-24 z-40 bg-[#050505]/80 backdrop-blur-xl py-4 mb-8 flex items-center gap-4 overflow-x-auto no-scrollbar",children:[F.jsx(c4,{className:"w-5 h-5 text-slate-500 flex-shrink-0"}),F.jsx("button",{onClick:()=>l(""),className:`px-6 py-2.5 rounded-xl font-bold text-sm transition border whitespace-nowrap ${s===""?"bg-white text-black border-white":"bg-slate-900 border-slate-800 text-slate-400"}`,children:"Todos"}),i?.categories?.map(X=>F.jsx("button",{onClick:()=>l(X),className:`px-6 py-2.5 rounded-xl font-bold text-sm transition border whitespace-nowrap ${s===X?"bg-cyan-500 text-black border-cyan-500":"bg-slate-900 border-slate-800 text-slate-400"}`,children:X},X))]}),F.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:N.map(X=>F.jsx(nD,{product:X,manageCart:_,toggleFavorite:y,isFavorite:g?.favorites?.includes(X.id),calculateItemPrice:T,setPreviewImage:B},X.id))}),hasMore&&F.jsx("div",{className:"mt-12 flex justify-center",children:F.jsx("button",{onClick:loadMoreProducts,disabled:isLoading,className:"px-8 py-4 bg-slate-900 border border-slate-800 text-white rounded-xl font-bold hover:bg-slate-800 transition",children:isLoading?"CARGANDO...":"CARGAR MS PRODUCTOS"})})]}),nD=({product:r,manageCart:t,toggleFavorite:i,isFavorite:s,calculateItemPrice:l,setPreviewImage:c})=>{const d=l(r.basePrice,r.discount);return F.jsxs("div",{className:"bg-[#0a0a0a] rounded-[2rem] border border-slate-800/50 overflow-hidden group hover:border-cyan-500/50 transition duration-500 relative flex flex-col h-full",children:[F.jsxs("div",{className:"h-72 bg-gradient-to-b from-slate-900 to-[#0a0a0a] p-8 flex items-center justify-center relative overflow-hidden",onClick:()=>r.image&&c(r.image),children:[F.jsx("img",{src:r.image,className:`w-full h-full object-contain drop-shadow-2xl z-10 transition-transform duration-500 group-hover:scale-110 ${r.stock<=0?"grayscale opacity-50":""}`}),r.stock<=0&&F.jsx("div",{className:"absolute inset-0 z-30 flex items-center justify-center bg-black/40 backdrop-blur-[2px]",children:F.jsx("span",{className:"text-red-500 font-black text-2xl uppercase border-4 border-red-500 p-2",children:"AGOTADO"})}),F.jsx("button",{onClick:g=>{g.stopPropagation(),i(r)},className:`absolute top-4 right-4 p-3 rounded-full z-20 transition border ${s?"bg-red-500 text-white border-red-500":"bg-white/10 text-slate-300 border-white/10 hover:text-red-500"}`,children:F.jsx(f4,{className:`w-5 h-5 ${s?"fill-current":""}`})})]}),F.jsxs("div",{className:"p-6 flex-1 flex flex-col bg-[#0a0a0a]",children:[F.jsx("p",{className:"text-[10px] text-cyan-400 font-black uppercase tracking-widest mb-2",children:r.category}),F.jsx("h3",{className:"text-white font-bold text-lg leading-tight mb-4 line-clamp-2",children:r.name}),F.jsxs("div",{className:"mt-auto flex items-end justify-between",children:[F.jsxs("div",{className:"flex flex-col",children:[r.discount>0&&F.jsxs("span",{className:"text-xs text-slate-500 line-through",children:["$",r.basePrice.toLocaleString()]}),F.jsxs("span",{className:"text-2xl font-black text-white",children:["$",d.toLocaleString()]})]}),r.stock>0&&F.jsx("button",{onClick:g=>{g.stopPropagation(),t(r,1)},className:"w-12 h-12 bg-white text-black rounded-full flex items-center justify-center hover:bg-cyan-400 transition",children:F.jsx(I4,{className:"w-6 h-6"})})]})]})]})},iD=(r,t)=>r?r===uh?!0:t?.team?.some(i=>i.email===r&&i.role==="admin"):!1,rD=(r,t)=>r?r===uh?!0:t?.team?.some(i=>i.email===r):!1,sD=(r,t=0)=>{const i=Number(r)||0,s=Number(t)||0;return i-i*(s/100)},aD=({currentUser:r,settings:t,adminTab:i,setAdminTab:s,setView:l,isAdminMenuOpen:c,setIsAdminMenuOpen:d,dashboardMetrics:g,liveCarts:y,products:_,orders:T,setProducts:S,setOrders:N})=>rD(r?.email,t)?F.jsxs("div",{className:"flex h-screen bg-[#050505] overflow-hidden w-full font-sans",children:[F.jsxs("aside",{className:`fixed inset-y-0 left-0 z-40 w-72 bg-[#0a0a0a] border-r border-slate-800 flex flex-col transition-transform duration-300 ${c?"translate-x-0":"-translate-x-full md:translate-x-0"} md:static shadow-2xl`,children:[F.jsx("div",{className:"p-8 border-b border-slate-900",children:F.jsxs("h2",{className:"text-2xl font-black text-white tracking-tight flex items-center gap-3",children:[F.jsx("div",{className:"w-10 h-10 bg-cyan-600 rounded-xl flex items-center justify-center text-white",children:F.jsx(O4,{className:"w-6 h-6"})}),"ADMIN"]})}),F.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[F.jsx("p",{className:"text-[10px] font-black text-slate-600 uppercase tracking-widest px-4 py-2 mt-2",children:"Principal"}),F.jsx(Yi,{icon:g4,label:"Dashboard",active:i==="dashboard",onClick:()=>s("dashboard")}),F.jsx(Yi,{icon:M4,label:"Pedidos",active:i==="orders",onClick:()=>s("orders")}),F.jsx(Yi,{icon:w4,label:"Productos",active:i==="products",onClick:()=>s("products")}),iD(r?.email,t)&&F.jsxs(F.Fragment,{children:[F.jsx("p",{className:"text-[10px] font-black text-slate-600 uppercase tracking-widest px-4 py-2 mt-6",children:"Gestin"}),F.jsx(Yi,{icon:z4,label:"Cupones",active:i==="coupons",onClick:()=>s("coupons")}),F.jsx(Yi,{icon:K4,label:"Proveedores",active:i==="suppliers",onClick:()=>s("suppliers")}),F.jsx(Yi,{icon:k4,label:"Compras",active:i==="purchases",onClick:()=>s("purchases")}),F.jsx(Yi,{icon:L4,label:"Promos",active:i==="promos",onClick:()=>s("promos")}),F.jsx(Yi,{icon:KT,label:"Finanzas",active:i==="finance",onClick:()=>s("finance")}),F.jsx(Yi,{icon:N4,label:"Configuracin",active:i==="settings",onClick:()=>s("settings")})]})]}),F.jsx("div",{className:"p-6 border-t border-slate-900",children:F.jsxs("button",{onClick:()=>l("store"),className:"w-full py-4 bg-slate-900 rounded-xl text-slate-400 hover:text-white transition font-bold text-sm flex items-center justify-center gap-2 group border border-slate-800",children:[F.jsx(v4,{className:"w-4 h-4"})," Volver a Tienda"]})})]}),F.jsxs("main",{className:"flex-1 bg-[#050505] overflow-y-auto relative w-full p-6 md:p-10",children:[F.jsx("button",{onClick:()=>d(!0),className:"md:hidden mb-6 p-2 bg-slate-900 rounded-lg text-white border border-slate-800",children:F.jsx(S4,{className:"w-6 h-6"})}),i==="dashboard"&&F.jsx(oD,{metrics:g,liveCarts:y})]})]}):F.jsx("div",{className:"p-20 text-center text-white font-black text-2xl",children:"ACCESO DENEGADO"}),Yi=({icon:r,label:t,active:i,onClick:s})=>F.jsxs("button",{onClick:s,className:`w-full text-left px-5 py-3 rounded-xl flex items-center gap-3 font-bold text-sm transition ${i?"bg-cyan-900/20 text-cyan-400 border border-cyan-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`,children:[F.jsx(r,{className:"w-5 h-5"})," ",t]}),oD=({metrics:r,liveCarts:t})=>F.jsxs("div",{className:"animate-fade-up space-y-8 pb-20",children:[F.jsx("div",{className:"flex flex-col md:flex-row justify-between items-end mb-8 gap-4",children:F.jsxs("div",{children:[F.jsx("h1",{className:"text-4xl font-black text-white neon-text",children:"Panel de Control"}),F.jsx("p",{className:"text-slate-500 mt-2",children:"Visin general del rendimiento de tu negocio."})]})}),F.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[F.jsx(Oc,{label:"VENTAS",value:r.revenue,icon:s4,color:"green"}),F.jsx(Oc,{label:"BENEFICIO NETO",value:r.netIncome,icon:r.netIncome>=0?H4:B4,color:r.netIncome>=0?"cyan":"red"}),F.jsx(Oc,{label:"GASTOS + COMPRAS",value:r.expensesTotal+(r.purchasesTotal||0),icon:KT,color:"red"}),F.jsx(Oc,{label:"USUARIOS ACTIVOS",value:t.length,icon:o4,color:"cyan",pulse:!0})]})]}),Oc=({label:r,value:t,icon:i,color:s,pulse:l})=>F.jsxs("div",{className:"bg-[#0a0a0a] border border-slate-800 p-6 rounded-[2rem] hover:border-slate-700 transition relative overflow-hidden",children:[F.jsxs("div",{className:"flex justify-between items-start mb-4",children:[F.jsx("div",{className:`p-3 bg-${s}-900/20 text-${s}-400 rounded-xl`,children:F.jsx(i,{className:`w-6 h-6 ${l?"animate-pulse":""}`})}),F.jsx("span",{className:`text-[10px] font-bold bg-${s}-900/20 text-${s}-400 px-2 py-1 rounded-full`,children:r})]}),F.jsxs("p",{className:"text-3xl font-black text-white tracking-tight",children:["$",Number(t).toLocaleString()]})]}),lD=({loginMode:r,setLoginMode:t,authData:i,setAuthData:s,handleAuth:l,isLoading:c})=>F.jsx("div",{className:"max-w-md mx-auto pt-20 animate-fade-up",children:F.jsxs("div",{className:"bg-[#0a0a0a] border border-slate-800 p-10 rounded-[3rem] shadow-2xl relative overflow-hidden",children:[F.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-cyan-500 to-purple-600"}),F.jsx("h2",{className:"text-3xl font-black text-white mb-8 text-center uppercase tracking-tighter",children:r?"Iniciar Sesin":"Crear Cuenta"}),F.jsxs("div",{className:"space-y-4",children:[!r&&F.jsxs(F.Fragment,{children:[F.jsx(Vc,{icon:Z4,placeholder:"Nombre Completo",value:i.name,onChange:d=>s({...i,name:d})}),F.jsx(Vc,{icon:X4,placeholder:"Nombre de Usuario",value:i.username,onChange:d=>s({...i,username:d})})]}),F.jsx(Vc,{icon:T4,placeholder:"Email",value:i.email,onChange:d=>s({...i,email:d})}),F.jsx(Vc,{icon:y4,placeholder:"Contrasea",type:"password",value:i.password,onChange:d=>s({...i,password:d})})]}),F.jsx("button",{onClick:()=>l(!r),disabled:c,className:"w-full mt-8 py-4 bg-white text-black font-black rounded-2xl hover:bg-cyan-400 transition shadow-lg flex items-center justify-center gap-2",children:c?"PROCESANDO...":r?"INGRESAR":"REGISTRARME"}),F.jsxs("p",{className:"mt-8 text-center text-slate-500 text-sm font-bold",children:[r?"No tienes cuenta?":"Ya tienes cuenta?",F.jsx("button",{onClick:()=>t(!r),className:"text-cyan-400 ml-2 hover:underline",children:r?"Regstrate aqu":"Inicia sesin"})]})]})}),Vc=({icon:r,placeholder:t,value:i,onChange:s,type:l="text"})=>F.jsxs("div",{className:"relative",children:[F.jsx(r,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),F.jsx("input",{type:l,placeholder:t,className:"w-full bg-slate-900 border border-slate-800 rounded-xl p-4 pl-12 text-white placeholder-slate-600 focus:border-cyan-500 outline-none transition",value:i,onChange:c=>s(c.target.value)})]}),uD=({message:r,type:t,onClose:i})=>{let s="fixed top-24 right-4 z-[9999] flex items-center gap-4 p-5 rounded-2xl border-l-4 backdrop-blur-xl animate-fade-up shadow-2xl transition-all duration-300",l="p-2 rounded-full",c=A0;return t==="success"?(s+=" border-green-500 text-green-400 bg-black/90 shadow-[0_0_20px_rgba(34,197,94,0.3)]",l+=" bg-green-500/20",c=i4):t==="error"?(s+=" border-red-500 text-red-400 bg-black/90 shadow-[0_0_20px_rgba(239,68,68,0.3)]",l+=" bg-red-500/20",c=e4):t==="warning"?(s+=" border-yellow-500 text-yellow-400 bg-black/90 shadow-[0_0_20px_rgba(234,179,8,0.3)]",l+=" bg-yellow-500/20",c=F4):(s+=" border-cyan-500 text-cyan-400 bg-black/90 shadow-[0_0_20px_rgba(6,182,212,0.3)]",l+=" bg-cyan-500/20",c=A0),ie.useEffect(()=>{const d=setTimeout(i,4e3);return()=>clearTimeout(d)},[i]),F.jsxs("div",{className:s,children:[F.jsx("div",{className:l,children:F.jsx(c,{className:"w-5 h-5"})}),F.jsx("div",{children:F.jsx("p",{className:"font-bold text-sm tracking-wide",children:r})}),F.jsx("button",{onClick:i,className:"ml-2 text-white/50 hover:text-white transition",children:F.jsx(tD,{className:"w-4 h-4"})})]})};class cD extends CA.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,i){this.setState({error:t,errorInfo:i})}render(){return this.state.hasError?F.jsxs("div",{className:"min-h-screen bg-black text-red-500 p-10 font-mono",children:[F.jsx("h1",{className:"text-4xl font-bold mb-4",children:"CRITICAL SYSTEM FAILURE"}),F.jsxs("div",{className:"border border-red-900 bg-red-900/10 p-6 rounded-xl overflow-auto",children:[F.jsx("h2",{className:"text-xl font-bold mb-2",children:this.state.error?.toString()}),F.jsx("pre",{className:"text-xs text-red-400/70 whitespace-pre-wrap",children:this.state.errorInfo?.componentStack})]}),F.jsx("button",{onClick:()=>window.location.reload(),className:"mt-8 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-500 font-bold",children:"REINICIAR SISTEMA"})]}):this.props.children}}function hD(){const[r,t]=ie.useState("store"),[i,s]=ie.useState("dashboard"),[l,c]=ie.useState([]),{products:d,promos:g,orders:y,settings:_}=HN(),{addToCart:T}=GN(),{currentUser:S}=FN(),N=QN(d,y,[],[],_),B=X=>c(W=>W.filter(J=>J.id!==X));return F.jsx(cD,{children:F.jsxs("div",{className:"min-h-screen bg-[#050505] text-white selection:bg-cyan-500/30",children:[l.map(X=>F.jsx(uD,{message:X.message,type:X.type,onClose:()=>B(X.id)},X.id)),r==="store"&&F.jsx(eD,{products:d,promos:g,settings:_,currentUser:S,manageCart:T,calculateItemPrice:sD,setView:t,filteredProducts:d}),r==="admin"&&F.jsx(aD,{currentUser:S,settings:_,adminTab:i,setAdminTab:s,setView:t,dashboardMetrics:N,liveCarts:[]}),r==="login"&&F.jsx(lD,{loginMode:!0,setLoginMode:()=>t("register"),handleAuth:async X=>{}})]})})}const fD=kA.createRoot(document.getElementById("root"));fD.render(F.jsx(hD,{}));

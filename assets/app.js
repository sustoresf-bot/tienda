import{$ as af,A as md,Aa as mf,B as fd,Ba as ff,C as xy,Ca as Hr,D as Zm,Da as co,E as Ia,Ea as gf,F as yy,Fa as It,G as gd,Ga as vf,H as Rm,Ha as Wn,I as iu,J as wy,K as oo,L as _s,M as ou,N as Ny,O as _y,P as ui,Q as pr,R as ef,S as tf,T as nf,U as rf,V as sf,W as ci,X as vd,Y as Ey,Z as of,_ as mr,a as nu,aa as Iy,b as Gm,ba as lf,c as cy,ca as uf,d as ws,da as hn,e as ru,ea as cf,f as Hm,fa as di,g as Wm,ga as bd,h as Km,i as Qm,ia as df,j as dy,ja as hf,k as hy,ka as Tn,l as py,la as Es,m as my,ma as ao,n as fy,na as hi,o as li,oa as pi,p as Te,pa as lo,q as gy,qa as uo,r as Ea,ra as Sy,s as Jm,sa as Sa,t as vy,ta as Is,u as Ns,ua as ht,v as su,va as xd,w as Ym,wa as yd,x as by,xa as mi,y as pd,ya as Gr,z as Xm,za as pf}from"./chunk-M7U3H6YB.js";var Vy=nu(He=>{"use strict";function wf(t,e){var n=t.length;t.push(e);e:for(;0<n;){var s=n-1>>>1,i=t[s];if(0<wd(i,e))t[s]=e,t[n]=i,n=s;else break e}}function fr(t){return t.length===0?null:t[0]}function _d(t){if(t.length===0)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;e:for(var s=0,i=t.length,o=i>>>1;s<o;){var a=2*(s+1)-1,c=t[a],d=a+1,m=t[d];if(0>wd(c,n))d<i&&0>wd(m,c)?(t[s]=m,t[d]=n,s=d):(t[s]=c,t[a]=n,s=a);else if(d<i&&0>wd(m,n))t[s]=m,t[d]=n,s=d;else break e}}return e}function wd(t,e){var n=t.sortIndex-e.sortIndex;return n!==0?n:t.id-e.id}typeof performance=="object"&&typeof performance.now=="function"?(Ty=performance,He.unstable_now=function(){return Ty.now()}):(bf=Date,ky=bf.now(),He.unstable_now=function(){return bf.now()-ky});var Ty,bf,ky,Wr=[],fi=[],lT=1,Kn=null,Ht=3,Ed=!1,ho=!1,lu=!1,Py=typeof setTimeout=="function"?setTimeout:null,Dy=typeof clearTimeout=="function"?clearTimeout:null,Cy=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Nf(t){for(var e=fr(fi);e!==null;){if(e.callback===null)_d(fi);else if(e.startTime<=t)_d(fi),e.sortIndex=e.expirationTime,wf(Wr,e);else break;e=fr(fi)}}function _f(t){if(lu=!1,Nf(t),!ho)if(fr(Wr)!==null)ho=!0,If(Ef);else{var e=fr(fi);e!==null&&Sf(_f,e.startTime-t)}}function Ef(t,e){ho=!1,lu&&(lu=!1,Dy(uu),uu=-1),Ed=!0;var n=Ht;try{for(Nf(e),Kn=fr(Wr);Kn!==null&&(!(Kn.expirationTime>e)||t&&!My());){var s=Kn.callback;if(typeof s=="function"){Kn.callback=null,Ht=Kn.priorityLevel;var i=s(Kn.expirationTime<=e);e=He.unstable_now(),typeof i=="function"?Kn.callback=i:Kn===fr(Wr)&&_d(Wr),Nf(e)}else _d(Wr);Kn=fr(Wr)}if(Kn!==null)var o=!0;else{var a=fr(fi);a!==null&&Sf(_f,a.startTime-e),o=!1}return o}finally{Kn=null,Ht=n,Ed=!1}}var Id=!1,Nd=null,uu=-1,Oy=5,Ly=-1;function My(){return!(He.unstable_now()-Ly<Oy)}function xf(){if(Nd!==null){var t=He.unstable_now();Ly=t;var e=!0;try{e=Nd(!0,t)}finally{e?au():(Id=!1,Nd=null)}}else Id=!1}var au;typeof Cy=="function"?au=function(){Cy(xf)}:typeof MessageChannel<"u"?(yf=new MessageChannel,Ay=yf.port2,yf.port1.onmessage=xf,au=function(){Ay.postMessage(null)}):au=function(){Py(xf,0)};var yf,Ay;function If(t){Nd=t,Id||(Id=!0,au())}function Sf(t,e){uu=Py(function(){t(He.unstable_now())},e)}He.unstable_IdlePriority=5;He.unstable_ImmediatePriority=1;He.unstable_LowPriority=4;He.unstable_NormalPriority=3;He.unstable_Profiling=null;He.unstable_UserBlockingPriority=2;He.unstable_cancelCallback=function(t){t.callback=null};He.unstable_continueExecution=function(){ho||Ed||(ho=!0,If(Ef))};He.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Oy=0<t?Math.floor(1e3/t):5};He.unstable_getCurrentPriorityLevel=function(){return Ht};He.unstable_getFirstCallbackNode=function(){return fr(Wr)};He.unstable_next=function(t){switch(Ht){case 1:case 2:case 3:var e=3;break;default:e=Ht}var n=Ht;Ht=e;try{return t()}finally{Ht=n}};He.unstable_pauseExecution=function(){};He.unstable_requestPaint=function(){};He.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=Ht;Ht=t;try{return e()}finally{Ht=n}};He.unstable_scheduleCallback=function(t,e,n){var s=He.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?s+n:s):n=s,t){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=n+i,t={id:lT++,callback:e,priorityLevel:t,startTime:n,expirationTime:i,sortIndex:-1},n>s?(t.sortIndex=n,wf(fi,t),fr(Wr)===null&&t===fr(fi)&&(lu?(Dy(uu),uu=-1):lu=!0,Sf(_f,n-s))):(t.sortIndex=i,wf(Wr,t),ho||Ed||(ho=!0,If(Ef))),t};He.unstable_shouldYield=My;He.unstable_wrapCallback=function(t){var e=Ht;return function(){var n=Ht;Ht=e;try{return t.apply(this,arguments)}finally{Ht=n}}}});var Fy=nu((lD,$y)=>{"use strict";$y.exports=Vy()});var B_=nu(On=>{"use strict";var uT=cy(),Pn=Fy();function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hw=new Set,Pu={};function Io(t,e){Ka(t,e),Ka(t+"Capture",e)}function Ka(t,e){for(Pu[t]=e,t=0;t<e.length;t++)Hw.add(e[t])}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jf=Object.prototype.hasOwnProperty,cT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uy={},jy={};function dT(t){return Jf.call(jy,t)?!0:Jf.call(Uy,t)?!1:cT.test(t)?jy[t]=!0:(Uy[t]=!0,!1)}function hT(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pT(t,e,n,s){if(e===null||typeof e>"u"||hT(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,s,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jt[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jt[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jt[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jt[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jt[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jt[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jt[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jt[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jt[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var z0=/[\-:]([a-z])/g;function B0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(z0,B0);jt[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(z0,B0);jt[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(z0,B0);jt[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jt[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});jt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jt[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function q0(t,e,n,s){var i=jt.hasOwnProperty(e)?jt[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pT(e,n,i,s)&&(n=null),s||i===null?dT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,s=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var Ms=uT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sd=Symbol.for("react.element"),Ca=Symbol.for("react.portal"),Aa=Symbol.for("react.fragment"),G0=Symbol.for("react.strict_mode"),Yf=Symbol.for("react.profiler"),Ww=Symbol.for("react.provider"),Kw=Symbol.for("react.context"),H0=Symbol.for("react.forward_ref"),Xf=Symbol.for("react.suspense"),Zf=Symbol.for("react.suspense_list"),W0=Symbol.for("react.memo"),vi=Symbol.for("react.lazy"),Qw=Symbol.for("react.offscreen"),zy=Symbol.iterator;function cu(t){return t===null||typeof t!="object"?null:(t=zy&&t[zy]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,Tf;function bu(t){if(Tf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tf=e&&e[1]||""}return`
`+Tf+t}var kf=!1;function Cf(t,e){if(!t||kf)return"";kf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(m){var s=m}Reflect.construct(t,[],e)}else{try{e.call()}catch(m){s=m}t.call(e.prototype)}else{try{throw Error()}catch(m){s=m}t()}}catch(m){if(m&&s&&typeof m.stack=="string"){for(var i=m.stack.split(`
`),o=s.stack.split(`
`),a=i.length-1,c=o.length-1;1<=a&&0<=c&&i[a]!==o[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==o[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==o[c]){var d=`
`+i[a].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=a&&0<=c);break}}}finally{kf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bu(t):""}function mT(t){switch(t.tag){case 5:return bu(t.type);case 16:return bu("Lazy");case 13:return bu("Suspense");case 19:return bu("SuspenseList");case 0:case 2:case 15:return t=Cf(t.type,!1),t;case 11:return t=Cf(t.type.render,!1),t;case 1:return t=Cf(t.type,!0),t;default:return""}}function Rf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Aa:return"Fragment";case Ca:return"Portal";case Yf:return"Profiler";case G0:return"StrictMode";case Xf:return"Suspense";case Zf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Kw:return(t.displayName||"Context")+".Consumer";case Ww:return(t._context.displayName||"Context")+".Provider";case H0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W0:return e=t.displayName||null,e!==null?e:Rf(t.type)||"Memo";case vi:e=t._payload,t=t._init;try{return Rf(t(e))}catch{}}return null}function fT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rf(e);case 8:return e===G0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gT(t){var e=Jw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){s=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Td(t){t._valueTracker||(t._valueTracker=gT(t))}function Yw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=Jw(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function th(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function e0(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function By(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Pi(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Xw(t,e){e=e.checked,e!=null&&q0(t,"checked",e,!1)}function t0(t,e){Xw(t,e);var n=Pi(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?n0(t,e.type,n):e.hasOwnProperty("defaultValue")&&n0(t,e.type,Pi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function n0(t,e,n){(e!=="number"||th(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xu=Array.isArray;function za(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Pi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function r0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(xu(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pi(n)}}function Zw(t,e){var n=Pi(e.value),s=Pi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Hy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Rw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function s0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Rw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kd,eN=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,i)})}:t})(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kd=kd||document.createElement("div"),kd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Du(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vT=["Webkit","ms","Moz","O"];Object.keys(Nu).forEach(function(t){vT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nu[e]=Nu[t]})});function tN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nu.hasOwnProperty(t)&&Nu[t]?(""+e).trim():e+"px"}function nN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=tN(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}var bT=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function i0(t,e){if(e){if(bT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function o0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a0=null;function K0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var l0=null,Ba=null,qa=null;function Wy(t){if(t=Yu(t)){if(typeof l0!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=Ch(e),l0(t.stateNode,t.type,e))}}function rN(t){Ba?qa?qa.push(t):qa=[t]:Ba=t}function sN(){if(Ba){var t=Ba,e=qa;if(qa=Ba=null,Wy(t),e)for(t=0;t<e.length;t++)Wy(e[t])}}function iN(t,e){return t(e)}function oN(){}var Af=!1;function aN(t,e,n){if(Af)return t(e,n);Af=!0;try{return iN(t,e,n)}finally{Af=!1,(Ba!==null||qa!==null)&&(oN(),sN())}}function Ou(t,e){var n=t.stateNode;if(n===null)return null;var s=Ch(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var u0=!1;if(Ps)try{Ta={},Object.defineProperty(Ta,"passive",{get:function(){u0=!0}}),window.addEventListener("test",Ta,Ta),window.removeEventListener("test",Ta,Ta)}catch{u0=!1}var Ta;function xT(t,e,n,s,i,o,a,c,d){var m=Array.prototype.slice.call(arguments,3);try{e.apply(n,m)}catch(b){this.onError(b)}}var _u=!1,nh=null,rh=!1,c0=null,yT={onError:function(t){_u=!0,nh=t}};function wT(t,e,n,s,i,o,a,c,d){_u=!1,nh=null,xT.apply(yT,arguments)}function NT(t,e,n,s,i,o,a,c,d){if(wT.apply(this,arguments),_u){if(_u){var m=nh;_u=!1,nh=null}else throw Error(Z(198));rh||(rh=!0,c0=m)}}function So(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ky(t){if(So(t)!==t)throw Error(Z(188))}function _T(t){var e=t.alternate;if(!e){if(e=So(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ky(i),t;if(o===s)return Ky(i),e;o=o.sibling}throw Error(Z(188))}if(n.return!==s.return)n=i,s=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,s=o;break}if(c===s){a=!0,s=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,s=i;break}if(c===s){a=!0,s=o,n=i;break}c=c.sibling}if(!a)throw Error(Z(189))}}if(n.alternate!==s)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function uN(t){return t=_T(t),t!==null?cN(t):null}function cN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cN(t);if(e!==null)return e;t=t.sibling}return null}var dN=Pn.unstable_scheduleCallback,Qy=Pn.unstable_cancelCallback,ET=Pn.unstable_shouldYield,IT=Pn.unstable_requestPaint,pt=Pn.unstable_now,ST=Pn.unstable_getCurrentPriorityLevel,Q0=Pn.unstable_ImmediatePriority,hN=Pn.unstable_UserBlockingPriority,sh=Pn.unstable_NormalPriority,TT=Pn.unstable_LowPriority,pN=Pn.unstable_IdlePriority,Ih=null,Yr=null;function kT(t){if(Yr&&typeof Yr.onCommitFiberRoot=="function")try{Yr.onCommitFiberRoot(Ih,t,void 0,(t.current.flags&128)===128)}catch{}}var yr=Math.clz32?Math.clz32:PT,CT=Math.log,AT=Math.LN2;function PT(t){return t>>>=0,t===0?32:31-(CT(t)/AT|0)|0}var Cd=64,Ad=4194304;function yu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ih(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~i;c!==0?s=yu(c):(o&=a,o!==0&&(s=yu(o)))}else a=n&~i,a!==0?s=yu(a):o!==0&&(s=yu(o));if(s===0)return 0;if(e!==0&&e!==s&&(e&i)===0&&(i=s&-s,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if((s&4)!==0&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-yr(e),i=1<<n,s|=t[n],e&=~i;return s}function DT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OT(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-yr(o),c=1<<a,d=i[a];d===-1?((c&n)===0||(c&s)!==0)&&(i[a]=DT(c,e)):d<=e&&(t.expiredLanes|=c),o&=~c}}function d0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mN(){var t=Cd;return Cd<<=1,(Cd&4194240)===0&&(Cd=64),t}function Pf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yr(e),t[e]=n}function LT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-yr(n),o=1<<i;e[i]=0,s[i]=-1,t[i]=-1,n&=~o}}function J0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-yr(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}var Fe=0;function fN(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var gN,Y0,vN,bN,xN,h0=!1,Pd=[],_i=null,Ei=null,Ii=null,Lu=new Map,Mu=new Map,xi=[],MT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jy(t,e){switch(t){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":Lu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(e.pointerId)}}function du(t,e,n,s,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Yu(e),e!==null&&Y0(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function VT(t,e,n,s,i){switch(e){case"focusin":return _i=du(_i,t,e,n,s,i),!0;case"dragenter":return Ei=du(Ei,t,e,n,s,i),!0;case"mouseover":return Ii=du(Ii,t,e,n,s,i),!0;case"pointerover":var o=i.pointerId;return Lu.set(o,du(Lu.get(o)||null,t,e,n,s,i)),!0;case"gotpointercapture":return o=i.pointerId,Mu.set(o,du(Mu.get(o)||null,t,e,n,s,i)),!0}return!1}function yN(t){var e=fo(t.target);if(e!==null){var n=So(e);if(n!==null){if(e=n.tag,e===13){if(e=lN(n),e!==null){t.blockedOn=e,xN(t.priority,function(){vN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=p0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);a0=s,n.target.dispatchEvent(s),a0=null}else return e=Yu(n),e!==null&&Y0(e),t.blockedOn=n,!1;e.shift()}return!0}function Yy(t,e,n){Hd(t)&&n.delete(e)}function $T(){h0=!1,_i!==null&&Hd(_i)&&(_i=null),Ei!==null&&Hd(Ei)&&(Ei=null),Ii!==null&&Hd(Ii)&&(Ii=null),Lu.forEach(Yy),Mu.forEach(Yy)}function hu(t,e){t.blockedOn===e&&(t.blockedOn=null,h0||(h0=!0,Pn.unstable_scheduleCallback(Pn.unstable_NormalPriority,$T)))}function Vu(t){function e(i){return hu(i,t)}if(0<Pd.length){hu(Pd[0],t);for(var n=1;n<Pd.length;n++){var s=Pd[n];s.blockedOn===t&&(s.blockedOn=null)}}for(_i!==null&&hu(_i,t),Ei!==null&&hu(Ei,t),Ii!==null&&hu(Ii,t),Lu.forEach(e),Mu.forEach(e),n=0;n<xi.length;n++)s=xi[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<xi.length&&(n=xi[0],n.blockedOn===null);)yN(n),n.blockedOn===null&&xi.shift()}var Ga=Ms.ReactCurrentBatchConfig,oh=!0;function FT(t,e,n,s){var i=Fe,o=Ga.transition;Ga.transition=null;try{Fe=1,X0(t,e,n,s)}finally{Fe=i,Ga.transition=o}}function UT(t,e,n,s){var i=Fe,o=Ga.transition;Ga.transition=null;try{Fe=4,X0(t,e,n,s)}finally{Fe=i,Ga.transition=o}}function X0(t,e,n,s){if(oh){var i=p0(t,e,n,s);if(i===null)Ff(t,e,s,ah,n),Jy(t,s);else if(VT(i,t,e,n,s))s.stopPropagation();else if(Jy(t,s),e&4&&-1<MT.indexOf(t)){for(;i!==null;){var o=Yu(i);if(o!==null&&gN(o),o=p0(t,e,n,s),o===null&&Ff(t,e,s,ah,n),o===i)break;i=o}i!==null&&s.stopPropagation()}else Ff(t,e,s,null,n)}}var ah=null;function p0(t,e,n,s){if(ah=null,t=K0(s),t=fo(t),t!==null)if(e=So(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ah=t,null}function wN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ST()){case Q0:return 1;case hN:return 4;case sh:case TT:return 16;case pN:return 536870912;default:return 16}default:return 16}}var wi=null,Z0=null,Wd=null;function NN(){if(Wd)return Wd;var t,e=Z0,n=e.length,s,i="value"in wi?wi.value:wi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(s=1;s<=a&&e[n-s]===i[o-s];s++);return Wd=i.slice(t,1<s?1-s:void 0)}function Kd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dd(){return!0}function Xy(){return!1}function Dn(t){function e(n,s,i,o,a){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Dd:Xy,this.isPropagationStopped=Xy,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dd)},persist:function(){},isPersistent:Dd}),e}var el={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},R0=Dn(el),Ju=it({},el,{view:0,detail:0}),jT=Dn(Ju),Df,Of,pu,Sh=it({},Ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pu&&(pu&&t.type==="mousemove"?(Df=t.screenX-pu.screenX,Of=t.screenY-pu.screenY):Of=Df=0,pu=t),Df)},movementY:function(t){return"movementY"in t?t.movementY:Of}}),Zy=Dn(Sh),zT=it({},Sh,{dataTransfer:0}),BT=Dn(zT),qT=it({},Ju,{relatedTarget:0}),Lf=Dn(qT),GT=it({},el,{animationName:0,elapsedTime:0,pseudoElement:0}),HT=Dn(GT),WT=it({},el,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KT=Dn(WT),QT=it({},el,{data:0}),Ry=Dn(QT),JT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XT[t])?!!e[t]:!1}function eg(){return ZT}var RT=it({},Ju,{key:function(t){if(t.key){var e=JT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eg,charCode:function(t){return t.type==="keypress"?Kd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ek=Dn(RT),tk=it({},Sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ew=Dn(tk),nk=it({},Ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eg}),rk=Dn(nk),sk=it({},el,{propertyName:0,elapsedTime:0,pseudoElement:0}),ik=Dn(sk),ok=it({},Sh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ak=Dn(ok),lk=[9,13,27,32],tg=Ps&&"CompositionEvent"in window,Eu=null;Ps&&"documentMode"in document&&(Eu=document.documentMode);var uk=Ps&&"TextEvent"in window&&!Eu,_N=Ps&&(!tg||Eu&&8<Eu&&11>=Eu),tw=" ",nw=!1;function EN(t,e){switch(t){case"keyup":return lk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pa=!1;function ck(t,e){switch(t){case"compositionend":return IN(e);case"keypress":return e.which!==32?null:(nw=!0,tw);case"textInput":return t=e.data,t===tw&&nw?null:t;default:return null}}function dk(t,e){if(Pa)return t==="compositionend"||!tg&&EN(t,e)?(t=NN(),Wd=Z0=wi=null,Pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _N&&e.locale!=="ko"?null:e.data;default:return null}}var hk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hk[t.type]:e==="textarea"}function SN(t,e,n,s){rN(s),e=lh(e,"onChange"),0<e.length&&(n=new R0("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Iu=null,$u=null;function pk(t){$N(t,0)}function Th(t){var e=La(t);if(Yw(e))return t}function mk(t,e){if(t==="change")return e}var TN=!1;Ps&&(Ps?(Ld="oninput"in document,Ld||(Mf=document.createElement("div"),Mf.setAttribute("oninput","return;"),Ld=typeof Mf.oninput=="function"),Od=Ld):Od=!1,TN=Od&&(!document.documentMode||9<document.documentMode));var Od,Ld,Mf;function sw(){Iu&&(Iu.detachEvent("onpropertychange",kN),$u=Iu=null)}function kN(t){if(t.propertyName==="value"&&Th($u)){var e=[];SN(e,$u,t,K0(t)),aN(pk,e)}}function fk(t,e,n){t==="focusin"?(sw(),Iu=e,$u=n,Iu.attachEvent("onpropertychange",kN)):t==="focusout"&&sw()}function gk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Th($u)}function vk(t,e){if(t==="click")return Th(e)}function bk(t,e){if(t==="input"||t==="change")return Th(e)}function xk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nr=typeof Object.is=="function"?Object.is:xk;function Fu(t,e){if(Nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!Jf.call(e,i)||!Nr(t[i],e[i]))return!1}return!0}function iw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ow(t,e){var n=iw(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iw(n)}}function CN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function AN(){for(var t=window,e=th();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=th(t.document)}return e}function ng(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yk(t){var e=AN(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&CN(n.ownerDocument.documentElement,n)){if(s!==null&&ng(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(s.start,i);s=s.end===void 0?o:Math.min(s.end,i),!t.extend&&o>s&&(i=s,s=o,o=i),i=ow(n,o);var a=ow(n,s);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>s?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wk=Ps&&"documentMode"in document&&11>=document.documentMode,Da=null,m0=null,Su=null,f0=!1;function aw(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;f0||Da==null||Da!==th(s)||(s=Da,"selectionStart"in s&&ng(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Su&&Fu(Su,s)||(Su=s,s=lh(m0,"onSelect"),0<s.length&&(e=new R0("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Da)))}function Md(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oa={animationend:Md("Animation","AnimationEnd"),animationiteration:Md("Animation","AnimationIteration"),animationstart:Md("Animation","AnimationStart"),transitionend:Md("Transition","TransitionEnd")},Vf={},PN={};Ps&&(PN=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function kh(t){if(Vf[t])return Vf[t];if(!Oa[t])return t;var e=Oa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in PN)return Vf[t]=e[n];return t}var DN=kh("animationend"),ON=kh("animationiteration"),LN=kh("animationstart"),MN=kh("transitionend"),VN=new Map,lw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oi(t,e){VN.set(t,e),Io(e,[t])}for(Vd=0;Vd<lw.length;Vd++)$d=lw[Vd],uw=$d.toLowerCase(),cw=$d[0].toUpperCase()+$d.slice(1),Oi(uw,"on"+cw);var $d,uw,cw,Vd;Oi(DN,"onAnimationEnd");Oi(ON,"onAnimationIteration");Oi(LN,"onAnimationStart");Oi("dblclick","onDoubleClick");Oi("focusin","onFocus");Oi("focusout","onBlur");Oi(MN,"onTransitionEnd");Ka("onMouseEnter",["mouseout","mouseover"]);Ka("onMouseLeave",["mouseout","mouseover"]);Ka("onPointerEnter",["pointerout","pointerover"]);Ka("onPointerLeave",["pointerout","pointerover"]);Io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Io("onBeforeInput",["compositionend","keypress","textInput","paste"]);Io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nk=new Set("cancel close invalid load scroll toggle".split(" ").concat(wu));function dw(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,NT(s,e,void 0,t),t.currentTarget=null}function $N(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var o=void 0;if(e)for(var a=s.length-1;0<=a;a--){var c=s[a],d=c.instance,m=c.currentTarget;if(c=c.listener,d!==o&&i.isPropagationStopped())break e;dw(i,c,m),o=d}else for(a=0;a<s.length;a++){if(c=s[a],d=c.instance,m=c.currentTarget,c=c.listener,d!==o&&i.isPropagationStopped())break e;dw(i,c,m),o=d}}}if(rh)throw t=c0,rh=!1,c0=null,t}function Qe(t,e){var n=e[y0];n===void 0&&(n=e[y0]=new Set);var s=t+"__bubble";n.has(s)||(FN(e,t,2,!1),n.add(s))}function $f(t,e,n){var s=0;e&&(s|=4),FN(n,t,s,e)}var Fd="_reactListening"+Math.random().toString(36).slice(2);function Uu(t){if(!t[Fd]){t[Fd]=!0,Hw.forEach(function(n){n!=="selectionchange"&&(Nk.has(n)||$f(n,!1,t),$f(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fd]||(e[Fd]=!0,$f("selectionchange",!1,e))}}function FN(t,e,n,s){switch(wN(e)){case 1:var i=FT;break;case 4:i=UT;break;default:i=X0}n=i.bind(null,e,n,t),i=void 0,!u0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ff(t,e,n,s,i){var o=s;if((e&1)===0&&(e&2)===0&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var c=s.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=s.return;a!==null;){var d=a.tag;if((d===3||d===4)&&(d=a.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;a=a.return}for(;c!==null;){if(a=fo(c),a===null)return;if(d=a.tag,d===5||d===6){s=o=a;continue e}c=c.parentNode}}s=s.return}aN(function(){var m=o,b=K0(n),N=[];e:{var E=VN.get(t);if(E!==void 0){var S=R0,j=t;switch(t){case"keypress":if(Kd(n)===0)break e;case"keydown":case"keyup":S=ek;break;case"focusin":j="focus",S=Lf;break;case"focusout":j="blur",S=Lf;break;case"beforeblur":case"afterblur":S=Lf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Zy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=BT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=rk;break;case DN:case ON:case LN:S=HT;break;case MN:S=ik;break;case"scroll":S=jT;break;case"wheel":S=ak;break;case"copy":case"cut":case"paste":S=KT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=ew}var z=(e&4)!==0,f=!z&&t==="scroll",P=z?E!==null?E+"Capture":null:E;z=[];for(var w=m,C;w!==null;){C=w;var q=C.stateNode;if(C.tag===5&&q!==null&&(C=q,P!==null&&(q=Ou(w,P),q!=null&&z.push(ju(w,q,C)))),f)break;w=w.return}0<z.length&&(E=new S(E,j,null,n,b),N.push({event:E,listeners:z}))}}if((e&7)===0){e:{if(E=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",E&&n!==a0&&(j=n.relatedTarget||n.fromElement)&&(fo(j)||j[Ds]))break e;if((S||E)&&(E=b.window===b?b:(E=b.ownerDocument)?E.defaultView||E.parentWindow:window,S?(j=n.relatedTarget||n.toElement,S=m,j=j?fo(j):null,j!==null&&(f=So(j),j!==f||j.tag!==5&&j.tag!==6)&&(j=null)):(S=null,j=m),S!==j)){if(z=Zy,q="onMouseLeave",P="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(z=ew,q="onPointerLeave",P="onPointerEnter",w="pointer"),f=S==null?E:La(S),C=j==null?E:La(j),E=new z(q,w+"leave",S,n,b),E.target=f,E.relatedTarget=C,q=null,fo(b)===m&&(z=new z(P,w+"enter",j,n,b),z.target=C,z.relatedTarget=f,q=z),f=q,S&&j)t:{for(z=S,P=j,w=0,C=z;C;C=ka(C))w++;for(C=0,q=P;q;q=ka(q))C++;for(;0<w-C;)z=ka(z),w--;for(;0<C-w;)P=ka(P),C--;for(;w--;){if(z===P||P!==null&&z===P.alternate)break t;z=ka(z),P=ka(P)}z=null}else z=null;S!==null&&hw(N,E,S,z,!1),j!==null&&f!==null&&hw(N,f,j,z,!0)}}e:{if(E=m?La(m):window,S=E.nodeName&&E.nodeName.toLowerCase(),S==="select"||S==="input"&&E.type==="file")var te=mk;else if(rw(E))if(TN)te=bk;else{te=gk;var ee=fk}else(S=E.nodeName)&&S.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(te=vk);if(te&&(te=te(t,m))){SN(N,te,n,b);break e}ee&&ee(t,E,m),t==="focusout"&&(ee=E._wrapperState)&&ee.controlled&&E.type==="number"&&n0(E,"number",E.value)}switch(ee=m?La(m):window,t){case"focusin":(rw(ee)||ee.contentEditable==="true")&&(Da=ee,m0=m,Su=null);break;case"focusout":Su=m0=Da=null;break;case"mousedown":f0=!0;break;case"contextmenu":case"mouseup":case"dragend":f0=!1,aw(N,n,b);break;case"selectionchange":if(wk)break;case"keydown":case"keyup":aw(N,n,b)}var A;if(tg)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Pa?EN(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(_N&&n.locale!=="ko"&&(Pa||I!=="onCompositionStart"?I==="onCompositionEnd"&&Pa&&(A=NN()):(wi=b,Z0="value"in wi?wi.value:wi.textContent,Pa=!0)),ee=lh(m,I),0<ee.length&&(I=new Ry(I,t,null,n,b),N.push({event:I,listeners:ee}),A?I.data=A:(A=IN(n),A!==null&&(I.data=A)))),(A=uk?ck(t,n):dk(t,n))&&(m=lh(m,"onBeforeInput"),0<m.length&&(b=new Ry("onBeforeInput","beforeinput",null,n,b),N.push({event:b,listeners:m}),b.data=A))}$N(N,e)})}function ju(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lh(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ou(t,n),o!=null&&s.unshift(ju(t,o,i)),o=Ou(t,e),o!=null&&s.push(ju(t,o,i))),t=t.return}return s}function ka(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hw(t,e,n,s,i){for(var o=e._reactName,a=[];n!==null&&n!==s;){var c=n,d=c.alternate,m=c.stateNode;if(d!==null&&d===s)break;c.tag===5&&m!==null&&(c=m,i?(d=Ou(n,o),d!=null&&a.unshift(ju(n,d,c))):i||(d=Ou(n,o),d!=null&&a.push(ju(n,d,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var _k=/\r\n?/g,Ek=/\u0000|\uFFFD/g;function pw(t){return(typeof t=="string"?t:""+t).replace(_k,`
`).replace(Ek,"")}function Ud(t,e,n){if(e=pw(e),pw(t)!==e&&n)throw Error(Z(425))}function uh(){}var g0=null,v0=null;function b0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var x0=typeof setTimeout=="function"?setTimeout:void 0,Ik=typeof clearTimeout=="function"?clearTimeout:void 0,mw=typeof Promise=="function"?Promise:void 0,Sk=typeof queueMicrotask=="function"?queueMicrotask:typeof mw<"u"?function(t){return mw.resolve(null).then(t).catch(Tk)}:x0;function Tk(t){setTimeout(function(){throw t})}function Uf(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){t.removeChild(i),Vu(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Vu(e)}function Si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var tl=Math.random().toString(36).slice(2),Jr="__reactFiber$"+tl,zu="__reactProps$"+tl,Ds="__reactContainer$"+tl,y0="__reactEvents$"+tl,kk="__reactListeners$"+tl,Ck="__reactHandles$"+tl;function fo(t){var e=t[Jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ds]||n[Jr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fw(t);t!==null;){if(n=t[Jr])return n;t=fw(t)}return e}t=n,n=t.parentNode}return null}function Yu(t){return t=t[Jr]||t[Ds],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function La(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function Ch(t){return t[zu]||null}var w0=[],Ma=-1;function Li(t){return{current:t}}function Je(t){0>Ma||(t.current=w0[Ma],w0[Ma]=null,Ma--)}function We(t,e){Ma++,w0[Ma]=t.current,t.current=e}var Di={},Jt=Li(Di),fn=Li(!1),yo=Di;function Qa(t,e){var n=t.type.contextTypes;if(!n)return Di;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gn(t){return t=t.childContextTypes,t!=null}function ch(){Je(fn),Je(Jt)}function gw(t,e,n){if(Jt.current!==Di)throw Error(Z(168));We(Jt,e),We(fn,n)}function UN(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(Z(108,fT(t)||"Unknown",i));return it({},n,s)}function dh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Di,yo=Jt.current,We(Jt,t),We(fn,fn.current),!0}function vw(t,e,n){var s=t.stateNode;if(!s)throw Error(Z(169));n?(t=UN(t,e,yo),s.__reactInternalMemoizedMergedChildContext=t,Je(fn),Je(Jt),We(Jt,t)):Je(fn),We(fn,n)}var Ts=null,Ah=!1,jf=!1;function jN(t){Ts===null?Ts=[t]:Ts.push(t)}function Ak(t){Ah=!0,jN(t)}function Mi(){if(!jf&&Ts!==null){jf=!0;var t=0,e=Fe;try{var n=Ts;for(Fe=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}Ts=null,Ah=!1}catch(i){throw Ts!==null&&(Ts=Ts.slice(t+1)),dN(Q0,Mi),i}finally{Fe=e,jf=!1}}return null}var Va=[],$a=0,hh=null,ph=0,Qn=[],Jn=0,wo=null,ks=1,Cs="";function po(t,e){Va[$a++]=ph,Va[$a++]=hh,hh=t,ph=e}function zN(t,e,n){Qn[Jn++]=ks,Qn[Jn++]=Cs,Qn[Jn++]=wo,wo=t;var s=ks;t=Cs;var i=32-yr(s)-1;s&=~(1<<i),n+=1;var o=32-yr(e)+i;if(30<o){var a=i-i%5;o=(s&(1<<a)-1).toString(32),s>>=a,i-=a,ks=1<<32-yr(e)+i|n<<i|s,Cs=o+t}else ks=1<<o|n<<i|s,Cs=t}function rg(t){t.return!==null&&(po(t,1),zN(t,1,0))}function sg(t){for(;t===hh;)hh=Va[--$a],Va[$a]=null,ph=Va[--$a],Va[$a]=null;for(;t===wo;)wo=Qn[--Jn],Qn[Jn]=null,Cs=Qn[--Jn],Qn[Jn]=null,ks=Qn[--Jn],Qn[Jn]=null}var An=null,Cn=null,Ze=!1,xr=null;function BN(t,e){var n=Yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,An=t,Cn=Si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,An=t,Cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wo!==null?{id:ks,overflow:Cs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,An=t,Cn=null,!0):!1;default:return!1}}function N0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _0(t){if(Ze){var e=Cn;if(e){var n=e;if(!bw(t,e)){if(N0(t))throw Error(Z(418));e=Si(n.nextSibling);var s=An;e&&bw(t,e)?BN(s,n):(t.flags=t.flags&-4097|2,Ze=!1,An=t)}}else{if(N0(t))throw Error(Z(418));t.flags=t.flags&-4097|2,Ze=!1,An=t}}}function xw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;An=t}function jd(t){if(t!==An)return!1;if(!Ze)return xw(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!b0(t.type,t.memoizedProps)),e&&(e=Cn)){if(N0(t))throw qN(),Error(Z(418));for(;e;)BN(t,e),e=Si(e.nextSibling)}if(xw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cn=Si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cn=null}}else Cn=An?Si(t.stateNode.nextSibling):null;return!0}function qN(){for(var t=Cn;t;)t=Si(t.nextSibling)}function Ja(){Cn=An=null,Ze=!1}function ig(t){xr===null?xr=[t]:xr.push(t)}var Pk=Ms.ReactCurrentBatchConfig;function mu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var s=n.stateNode}if(!s)throw Error(Z(147,t));var i=s,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var c=i.refs;a===null?delete c[o]:c[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function zd(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yw(t){var e=t._init;return e(t._payload)}function GN(t){function e(P,w){if(t){var C=P.deletions;C===null?(P.deletions=[w],P.flags|=16):C.push(w)}}function n(P,w){if(!t)return null;for(;w!==null;)e(P,w),w=w.sibling;return null}function s(P,w){for(P=new Map;w!==null;)w.key!==null?P.set(w.key,w):P.set(w.index,w),w=w.sibling;return P}function i(P,w){return P=Ai(P,w),P.index=0,P.sibling=null,P}function o(P,w,C){return P.index=C,t?(C=P.alternate,C!==null?(C=C.index,C<w?(P.flags|=2,w):C):(P.flags|=2,w)):(P.flags|=1048576,w)}function a(P){return t&&P.alternate===null&&(P.flags|=2),P}function c(P,w,C,q){return w===null||w.tag!==6?(w=Kf(C,P.mode,q),w.return=P,w):(w=i(w,C),w.return=P,w)}function d(P,w,C,q){var te=C.type;return te===Aa?b(P,w,C.props.children,q,C.key):w!==null&&(w.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===vi&&yw(te)===w.type)?(q=i(w,C.props),q.ref=mu(P,w,C),q.return=P,q):(q=eh(C.type,C.key,C.props,null,P.mode,q),q.ref=mu(P,w,C),q.return=P,q)}function m(P,w,C,q){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=Qf(C,P.mode,q),w.return=P,w):(w=i(w,C.children||[]),w.return=P,w)}function b(P,w,C,q,te){return w===null||w.tag!==7?(w=xo(C,P.mode,q,te),w.return=P,w):(w=i(w,C),w.return=P,w)}function N(P,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Kf(""+w,P.mode,C),w.return=P,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Sd:return C=eh(w.type,w.key,w.props,null,P.mode,C),C.ref=mu(P,null,w),C.return=P,C;case Ca:return w=Qf(w,P.mode,C),w.return=P,w;case vi:var q=w._init;return N(P,q(w._payload),C)}if(xu(w)||cu(w))return w=xo(w,P.mode,C,null),w.return=P,w;zd(P,w)}return null}function E(P,w,C,q){var te=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return te!==null?null:c(P,w,""+C,q);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Sd:return C.key===te?d(P,w,C,q):null;case Ca:return C.key===te?m(P,w,C,q):null;case vi:return te=C._init,E(P,w,te(C._payload),q)}if(xu(C)||cu(C))return te!==null?null:b(P,w,C,q,null);zd(P,C)}return null}function S(P,w,C,q,te){if(typeof q=="string"&&q!==""||typeof q=="number")return P=P.get(C)||null,c(w,P,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Sd:return P=P.get(q.key===null?C:q.key)||null,d(w,P,q,te);case Ca:return P=P.get(q.key===null?C:q.key)||null,m(w,P,q,te);case vi:var ee=q._init;return S(P,w,C,ee(q._payload),te)}if(xu(q)||cu(q))return P=P.get(C)||null,b(w,P,q,te,null);zd(w,q)}return null}function j(P,w,C,q){for(var te=null,ee=null,A=w,I=w=0,T=null;A!==null&&I<C.length;I++){A.index>I?(T=A,A=null):T=A.sibling;var D=E(P,A,C[I],q);if(D===null){A===null&&(A=T);break}t&&A&&D.alternate===null&&e(P,A),w=o(D,w,I),ee===null?te=D:ee.sibling=D,ee=D,A=T}if(I===C.length)return n(P,A),Ze&&po(P,I),te;if(A===null){for(;I<C.length;I++)A=N(P,C[I],q),A!==null&&(w=o(A,w,I),ee===null?te=A:ee.sibling=A,ee=A);return Ze&&po(P,I),te}for(A=s(P,A);I<C.length;I++)T=S(A,P,I,C[I],q),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?I:T.key),w=o(T,w,I),ee===null?te=T:ee.sibling=T,ee=T);return t&&A.forEach(function($){return e(P,$)}),Ze&&po(P,I),te}function z(P,w,C,q){var te=cu(C);if(typeof te!="function")throw Error(Z(150));if(C=te.call(C),C==null)throw Error(Z(151));for(var ee=te=null,A=w,I=w=0,T=null,D=C.next();A!==null&&!D.done;I++,D=C.next()){A.index>I?(T=A,A=null):T=A.sibling;var $=E(P,A,D.value,q);if($===null){A===null&&(A=T);break}t&&A&&$.alternate===null&&e(P,A),w=o($,w,I),ee===null?te=$:ee.sibling=$,ee=$,A=T}if(D.done)return n(P,A),Ze&&po(P,I),te;if(A===null){for(;!D.done;I++,D=C.next())D=N(P,D.value,q),D!==null&&(w=o(D,w,I),ee===null?te=D:ee.sibling=D,ee=D);return Ze&&po(P,I),te}for(A=s(P,A);!D.done;I++,D=C.next())D=S(A,P,I,D.value,q),D!==null&&(t&&D.alternate!==null&&A.delete(D.key===null?I:D.key),w=o(D,w,I),ee===null?te=D:ee.sibling=D,ee=D);return t&&A.forEach(function(B){return e(P,B)}),Ze&&po(P,I),te}function f(P,w,C,q){if(typeof C=="object"&&C!==null&&C.type===Aa&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Sd:e:{for(var te=C.key,ee=w;ee!==null;){if(ee.key===te){if(te=C.type,te===Aa){if(ee.tag===7){n(P,ee.sibling),w=i(ee,C.props.children),w.return=P,P=w;break e}}else if(ee.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===vi&&yw(te)===ee.type){n(P,ee.sibling),w=i(ee,C.props),w.ref=mu(P,ee,C),w.return=P,P=w;break e}n(P,ee);break}else e(P,ee);ee=ee.sibling}C.type===Aa?(w=xo(C.props.children,P.mode,q,C.key),w.return=P,P=w):(q=eh(C.type,C.key,C.props,null,P.mode,q),q.ref=mu(P,w,C),q.return=P,P=q)}return a(P);case Ca:e:{for(ee=C.key;w!==null;){if(w.key===ee)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){n(P,w.sibling),w=i(w,C.children||[]),w.return=P,P=w;break e}else{n(P,w);break}else e(P,w);w=w.sibling}w=Qf(C,P.mode,q),w.return=P,P=w}return a(P);case vi:return ee=C._init,f(P,w,ee(C._payload),q)}if(xu(C))return j(P,w,C,q);if(cu(C))return z(P,w,C,q);zd(P,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(n(P,w.sibling),w=i(w,C),w.return=P,P=w):(n(P,w),w=Kf(C,P.mode,q),w.return=P,P=w),a(P)):n(P,w)}return f}var Ya=GN(!0),HN=GN(!1),mh=Li(null),fh=null,Fa=null,og=null;function ag(){og=Fa=fh=null}function lg(t){var e=mh.current;Je(mh),t._currentValue=e}function E0(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Ha(t,e){fh=t,og=Fa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(mn=!0),t.firstContext=null)}function Zn(t){var e=t._currentValue;if(og!==t)if(t={context:t,memoizedValue:e,next:null},Fa===null){if(fh===null)throw Error(Z(308));Fa=t,fh.dependencies={lanes:0,firstContext:t}}else Fa=Fa.next=t;return e}var go=null;function ug(t){go===null?go=[t]:go.push(t)}function WN(t,e,n,s){var i=e.interleaved;return i===null?(n.next=n,ug(e)):(n.next=i.next,i.next=n),e.interleaved=n,Os(t,s)}function Os(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bi=!1;function cg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function As(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ti(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,(Le&2)!==0){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,Os(t,n)}return i=s.interleaved,i===null?(e.next=e,ug(s)):(e.next=i.next,i.next=e),s.interleaved=e,Os(t,n)}function Qd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,J0(t,n)}}function ww(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gh(t,e,n,s){var i=t.updateQueue;bi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var d=c,m=d.next;d.next=null,a===null?o=m:a.next=m,a=d;var b=t.alternate;b!==null&&(b=b.updateQueue,c=b.lastBaseUpdate,c!==a&&(c===null?b.firstBaseUpdate=m:c.next=m,b.lastBaseUpdate=d))}if(o!==null){var N=i.baseState;a=0,b=m=d=null,c=o;do{var E=c.lane,S=c.eventTime;if((s&E)===E){b!==null&&(b=b.next={eventTime:S,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var j=t,z=c;switch(E=e,S=n,z.tag){case 1:if(j=z.payload,typeof j=="function"){N=j.call(S,N,E);break e}N=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=z.payload,E=typeof j=="function"?j.call(S,N,E):j,E==null)break e;N=it({},N,E);break e;case 2:bi=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,E=i.effects,E===null?i.effects=[c]:E.push(c))}else S={eventTime:S,lane:E,tag:c.tag,payload:c.payload,callback:c.callback,next:null},b===null?(m=b=S,d=N):b=b.next=S,a|=E;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;E=c,c=E.next,E.next=null,i.lastBaseUpdate=E,i.shared.pending=null}}while(!0);if(b===null&&(d=N),i.baseState=d,i.firstBaseUpdate=m,i.lastBaseUpdate=b,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);_o|=a,t.lanes=a,t.memoizedState=N}}function Nw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(Z(191,i));i.call(s)}}}var Xu={},Xr=Li(Xu),Bu=Li(Xu),qu=Li(Xu);function vo(t){if(t===Xu)throw Error(Z(174));return t}function dg(t,e){switch(We(qu,e),We(Bu,t),We(Xr,Xu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:s0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=s0(e,t)}Je(Xr),We(Xr,e)}function Xa(){Je(Xr),Je(Bu),Je(qu)}function QN(t){vo(qu.current);var e=vo(Xr.current),n=s0(e,t.type);e!==n&&(We(Bu,t),We(Xr,n))}function hg(t){Bu.current===t&&(Je(Xr),Je(Bu))}var rt=Li(0);function vh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zf=[];function pg(){for(var t=0;t<zf.length;t++)zf[t]._workInProgressVersionPrimary=null;zf.length=0}var Jd=Ms.ReactCurrentDispatcher,Bf=Ms.ReactCurrentBatchConfig,No=0,st=null,St=null,Dt=null,bh=!1,Tu=!1,Gu=0,Dk=0;function Wt(){throw Error(Z(321))}function mg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nr(t[n],e[n]))return!1;return!0}function fg(t,e,n,s,i,o){if(No=o,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jd.current=t===null||t.memoizedState===null?Vk:$k,t=n(s,i),Tu){o=0;do{if(Tu=!1,Gu=0,25<=o)throw Error(Z(301));o+=1,Dt=St=null,e.updateQueue=null,Jd.current=Fk,t=n(s,i)}while(Tu)}if(Jd.current=xh,e=St!==null&&St.next!==null,No=0,Dt=St=st=null,bh=!1,e)throw Error(Z(300));return t}function gg(){var t=Gu!==0;return Gu=0,t}function Qr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?st.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function Rn(){if(St===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var e=Dt===null?st.memoizedState:Dt.next;if(e!==null)Dt=e,St=t;else{if(t===null)throw Error(Z(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Dt===null?st.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function Hu(t,e){return typeof e=="function"?e(t):e}function qf(t){var e=Rn(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var s=St,i=s.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}s.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,s=s.baseState;var c=a=null,d=null,m=o;do{var b=m.lane;if((No&b)===b)d!==null&&(d=d.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),s=m.hasEagerState?m.eagerState:t(s,m.action);else{var N={lane:b,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};d===null?(c=d=N,a=s):d=d.next=N,st.lanes|=b,_o|=b}m=m.next}while(m!==null&&m!==o);d===null?a=s:d.next=c,Nr(s,e.memoizedState)||(mn=!0),e.memoizedState=s,e.baseState=a,e.baseQueue=d,n.lastRenderedState=s}if(t=n.interleaved,t!==null){i=t;do o=i.lane,st.lanes|=o,_o|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gf(t){var e=Rn(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Nr(o,e.memoizedState)||(mn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,s]}function JN(){}function YN(t,e){var n=st,s=Rn(),i=e(),o=!Nr(s.memoizedState,i);if(o&&(s.memoizedState=i,mn=!0),s=s.queue,vg(RN.bind(null,n,s,t),[t]),s.getSnapshot!==e||o||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,Wu(9,ZN.bind(null,n,s,i,e),void 0,null),Ot===null)throw Error(Z(349));(No&30)!==0||XN(n,e,i)}return i}function XN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ZN(t,e,n,s){e.value=n,e.getSnapshot=s,e_(e)&&t_(t)}function RN(t,e,n){return n(function(){e_(e)&&t_(t)})}function e_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nr(t,n)}catch{return!0}}function t_(t){var e=Os(t,1);e!==null&&wr(e,t,1,-1)}function _w(t){var e=Qr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hu,lastRenderedState:t},e.queue=t,t=t.dispatch=Mk.bind(null,st,t),[e.memoizedState,t]}function Wu(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function n_(){return Rn().memoizedState}function Yd(t,e,n,s){var i=Qr();st.flags|=t,i.memoizedState=Wu(1|e,n,void 0,s===void 0?null:s)}function Ph(t,e,n,s){var i=Rn();s=s===void 0?null:s;var o=void 0;if(St!==null){var a=St.memoizedState;if(o=a.destroy,s!==null&&mg(s,a.deps)){i.memoizedState=Wu(e,n,o,s);return}}st.flags|=t,i.memoizedState=Wu(1|e,n,o,s)}function Ew(t,e){return Yd(8390656,8,t,e)}function vg(t,e){return Ph(2048,8,t,e)}function r_(t,e){return Ph(4,2,t,e)}function s_(t,e){return Ph(4,4,t,e)}function i_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function o_(t,e,n){return n=n!=null?n.concat([t]):null,Ph(4,4,i_.bind(null,e,t),n)}function bg(){}function a_(t,e){var n=Rn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&mg(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function l_(t,e){var n=Rn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&mg(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function u_(t,e,n){return(No&21)===0?(t.baseState&&(t.baseState=!1,mn=!0),t.memoizedState=n):(Nr(n,e)||(n=mN(),st.lanes|=n,_o|=n,t.baseState=!0),e)}function Ok(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var s=Bf.transition;Bf.transition={};try{t(!1),e()}finally{Fe=n,Bf.transition=s}}function c_(){return Rn().memoizedState}function Lk(t,e,n){var s=Ci(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},d_(t))h_(e,n);else if(n=WN(t,e,n,s),n!==null){var i=sn();wr(n,t,s,i),p_(n,e,s)}}function Mk(t,e,n){var s=Ci(t),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(d_(t))h_(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,c=o(a,n);if(i.hasEagerState=!0,i.eagerState=c,Nr(c,a)){var d=e.interleaved;d===null?(i.next=i,ug(e)):(i.next=d.next,d.next=i),e.interleaved=i;return}}catch{}n=WN(t,e,i,s),n!==null&&(i=sn(),wr(n,t,s,i),p_(n,e,s))}}function d_(t){var e=t.alternate;return t===st||e!==null&&e===st}function h_(t,e){Tu=bh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function p_(t,e,n){if((n&4194240)!==0){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,J0(t,n)}}var xh={readContext:Zn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},Vk={readContext:Zn,useCallback:function(t,e){return Qr().memoizedState=[t,e===void 0?null:e],t},useContext:Zn,useEffect:Ew,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Yd(4194308,4,i_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yd(4,2,t,e)},useMemo:function(t,e){var n=Qr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Qr();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=Lk.bind(null,st,t),[s.memoizedState,t]},useRef:function(t){var e=Qr();return t={current:t},e.memoizedState=t},useState:_w,useDebugValue:bg,useDeferredValue:function(t){return Qr().memoizedState=t},useTransition:function(){var t=_w(!1),e=t[0];return t=Ok.bind(null,t[1]),Qr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=st,i=Qr();if(Ze){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),Ot===null)throw Error(Z(349));(No&30)!==0||XN(s,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Ew(RN.bind(null,s,o,t),[t]),s.flags|=2048,Wu(9,ZN.bind(null,s,o,n,e),void 0,null),n},useId:function(){var t=Qr(),e=Ot.identifierPrefix;if(Ze){var n=Cs,s=ks;n=(s&~(1<<32-yr(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Dk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$k={readContext:Zn,useCallback:a_,useContext:Zn,useEffect:vg,useImperativeHandle:o_,useInsertionEffect:r_,useLayoutEffect:s_,useMemo:l_,useReducer:qf,useRef:n_,useState:function(){return qf(Hu)},useDebugValue:bg,useDeferredValue:function(t){var e=Rn();return u_(e,St.memoizedState,t)},useTransition:function(){var t=qf(Hu)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:JN,useSyncExternalStore:YN,useId:c_,unstable_isNewReconciler:!1},Fk={readContext:Zn,useCallback:a_,useContext:Zn,useEffect:vg,useImperativeHandle:o_,useInsertionEffect:r_,useLayoutEffect:s_,useMemo:l_,useReducer:Gf,useRef:n_,useState:function(){return Gf(Hu)},useDebugValue:bg,useDeferredValue:function(t){var e=Rn();return St===null?e.memoizedState=t:u_(e,St.memoizedState,t)},useTransition:function(){var t=Gf(Hu)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:JN,useSyncExternalStore:YN,useId:c_,unstable_isNewReconciler:!1};function vr(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function I0(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dh={isMounted:function(t){return(t=t._reactInternals)?So(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=sn(),i=Ci(t),o=As(s,i);o.payload=e,n!=null&&(o.callback=n),e=Ti(t,o,i),e!==null&&(wr(e,t,i,s),Qd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=sn(),i=Ci(t),o=As(s,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ti(t,o,i),e!==null&&(wr(e,t,i,s),Qd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sn(),s=Ci(t),i=As(n,s);i.tag=2,e!=null&&(i.callback=e),e=Ti(t,i,s),e!==null&&(wr(e,t,s,n),Qd(e,t,s))}};function Iw(t,e,n,s,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,o,a):e.prototype&&e.prototype.isPureReactComponent?!Fu(n,s)||!Fu(i,o):!0}function m_(t,e,n){var s=!1,i=Di,o=e.contextType;return typeof o=="object"&&o!==null?o=Zn(o):(i=gn(e)?yo:Jt.current,s=e.contextTypes,o=(s=s!=null)?Qa(t,i):Di),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dh,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Sw(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Dh.enqueueReplaceState(e,e.state,null)}function S0(t,e,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},cg(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Zn(o):(o=gn(e)?yo:Jt.current,i.context=Qa(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(I0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Dh.enqueueReplaceState(i,i.state,null),gh(t,n,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Za(t,e){try{var n="",s=e;do n+=mT(s),s=s.return;while(s);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Hf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function T0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Uk=typeof WeakMap=="function"?WeakMap:Map;function f_(t,e,n){n=As(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){wh||(wh=!0,$0=s),T0(t,e)},n}function g_(t,e,n){n=As(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;n.payload=function(){return s(i)},n.callback=function(){T0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){T0(t,e),typeof s!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Tw(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new Uk;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(i.add(n),t=Rk.bind(null,t,e,n),e.then(t,t))}function kw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cw(t,e,n,s,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=As(-1,1),e.tag=2,Ti(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var jk=Ms.ReactCurrentOwner,mn=!1;function rn(t,e,n,s){e.child=t===null?HN(e,null,n,s):Ya(e,t.child,n,s)}function Aw(t,e,n,s,i){n=n.render;var o=e.ref;return Ha(e,i),s=fg(t,e,n,s,o,i),n=gg(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ls(t,e,i)):(Ze&&n&&rg(e),e.flags|=1,rn(t,e,s,i),e.child)}function Pw(t,e,n,s,i){if(t===null){var o=n.type;return typeof o=="function"&&!Sg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,v_(t,e,o,s,i)):(t=eh(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,(t.lanes&i)===0){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Fu,n(a,s)&&t.ref===e.ref)return Ls(t,e,i)}return e.flags|=1,t=Ai(o,s),t.ref=e.ref,t.return=e,e.child=t}function v_(t,e,n,s,i){if(t!==null){var o=t.memoizedProps;if(Fu(o,s)&&t.ref===e.ref)if(mn=!1,e.pendingProps=s=o,(t.lanes&i)!==0)(t.flags&131072)!==0&&(mn=!0);else return e.lanes=t.lanes,Ls(t,e,i)}return k0(t,e,n,s,i)}function b_(t,e,n){var s=e.pendingProps,i=s.children,o=t!==null?t.memoizedState:null;if(s.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(ja,kn),kn|=n;else{if((n&1073741824)===0)return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(ja,kn),kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:n,We(ja,kn),kn|=s}else o!==null?(s=o.baseLanes|n,e.memoizedState=null):s=n,We(ja,kn),kn|=s;return rn(t,e,i,n),e.child}function x_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function k0(t,e,n,s,i){var o=gn(n)?yo:Jt.current;return o=Qa(e,o),Ha(e,i),n=fg(t,e,n,s,o,i),s=gg(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ls(t,e,i)):(Ze&&s&&rg(e),e.flags|=1,rn(t,e,n,i),e.child)}function Dw(t,e,n,s,i){if(gn(n)){var o=!0;dh(e)}else o=!1;if(Ha(e,i),e.stateNode===null)Xd(t,e),m_(e,n,s),S0(e,n,s,i),s=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var d=a.context,m=n.contextType;typeof m=="object"&&m!==null?m=Zn(m):(m=gn(n)?yo:Jt.current,m=Qa(e,m));var b=n.getDerivedStateFromProps,N=typeof b=="function"||typeof a.getSnapshotBeforeUpdate=="function";N||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==s||d!==m)&&Sw(e,a,s,m),bi=!1;var E=e.memoizedState;a.state=E,gh(e,s,a,i),d=e.memoizedState,c!==s||E!==d||fn.current||bi?(typeof b=="function"&&(I0(e,n,b,s),d=e.memoizedState),(c=bi||Iw(e,n,c,s,E,d,m))?(N||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=d),a.props=s,a.state=d,a.context=m,s=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{a=e.stateNode,KN(t,e),c=e.memoizedProps,m=e.type===e.elementType?c:vr(e.type,c),a.props=m,N=e.pendingProps,E=a.context,d=n.contextType,typeof d=="object"&&d!==null?d=Zn(d):(d=gn(n)?yo:Jt.current,d=Qa(e,d));var S=n.getDerivedStateFromProps;(b=typeof S=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==N||E!==d)&&Sw(e,a,s,d),bi=!1,E=e.memoizedState,a.state=E,gh(e,s,a,i);var j=e.memoizedState;c!==N||E!==j||fn.current||bi?(typeof S=="function"&&(I0(e,n,S,s),j=e.memoizedState),(m=bi||Iw(e,n,m,s,E,j,d)||!1)?(b||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,j,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,j,d)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=j),a.props=s,a.state=j,a.context=d,s=m):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),s=!1)}return C0(t,e,n,s,o,i)}function C0(t,e,n,s,i,o){x_(t,e);var a=(e.flags&128)!==0;if(!s&&!a)return i&&vw(e,n,!1),Ls(t,e,o);s=e.stateNode,jk.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&a?(e.child=Ya(e,t.child,null,o),e.child=Ya(e,null,c,o)):rn(t,e,c,o),e.memoizedState=s.state,i&&vw(e,n,!0),e.child}function y_(t){var e=t.stateNode;e.pendingContext?gw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gw(t,e.context,!1),dg(t,e.containerInfo)}function Ow(t,e,n,s,i){return Ja(),ig(i),e.flags|=256,rn(t,e,n,s),e.child}var A0={dehydrated:null,treeContext:null,retryLane:0};function P0(t){return{baseLanes:t,cachePool:null,transitions:null}}function w_(t,e,n){var s=e.pendingProps,i=rt.current,o=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),We(rt,i&1),t===null)return _0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(a=s.children,t=s.fallback,o?(s=e.mode,o=e.child,a={mode:"hidden",children:a},(s&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Mh(a,s,0,null),t=xo(t,s,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=P0(n),e.memoizedState=A0,t):xg(e,a));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return zk(t,e,a,s,c,i,n);if(o){o=s.fallback,a=e.mode,i=t.child,c=i.sibling;var d={mode:"hidden",children:s.children};return(a&1)===0&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=d,e.deletions=null):(s=Ai(i,d),s.subtreeFlags=i.subtreeFlags&14680064),c!==null?o=Ai(c,o):(o=xo(o,a,n,null),o.flags|=2),o.return=e,s.return=e,s.sibling=o,e.child=s,s=o,o=e.child,a=t.child.memoizedState,a=a===null?P0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=A0,s}return o=t.child,t=o.sibling,s=Ai(o,{mode:"visible",children:s.children}),(e.mode&1)===0&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function xg(t,e){return e=Mh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Bd(t,e,n,s){return s!==null&&ig(s),Ya(e,t.child,null,n),t=xg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zk(t,e,n,s,i,o,a){if(n)return e.flags&256?(e.flags&=-257,s=Hf(Error(Z(422))),Bd(t,e,a,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=s.fallback,i=e.mode,s=Mh({mode:"visible",children:s.children},i,0,null),o=xo(o,i,a,null),o.flags|=2,s.return=e,o.return=e,s.sibling=o,e.child=s,(e.mode&1)!==0&&Ya(e,t.child,null,a),e.child.memoizedState=P0(a),e.memoizedState=A0,o);if((e.mode&1)===0)return Bd(t,e,a,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var c=s.dgst;return s=c,o=Error(Z(419)),s=Hf(o,s,void 0),Bd(t,e,a,s)}if(c=(a&t.childLanes)!==0,mn||c){if(s=Ot,s!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(s.suspendedLanes|a))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Os(t,i),wr(s,t,i,-1))}return Ig(),s=Hf(Error(Z(421))),Bd(t,e,a,s)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=eC.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Cn=Si(i.nextSibling),An=e,Ze=!0,xr=null,t!==null&&(Qn[Jn++]=ks,Qn[Jn++]=Cs,Qn[Jn++]=wo,ks=t.id,Cs=t.overflow,wo=e),e=xg(e,s.children),e.flags|=4096,e)}function Lw(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),E0(t.return,e,n)}function Wf(t,e,n,s,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=n,o.tailMode=i)}function N_(t,e,n){var s=e.pendingProps,i=s.revealOrder,o=s.tail;if(rn(t,e,s.children,n),s=rt.current,(s&2)!==0)s=s&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lw(t,n,e);else if(t.tag===19)Lw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(We(rt,s),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&vh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wf(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wf(e,!0,n,null,o);break;case"together":Wf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xd(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ls(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_o|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=Ai(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ai(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Bk(t,e,n){switch(e.tag){case 3:y_(e),Ja();break;case 5:QN(e);break;case 1:gn(e.type)&&dh(e);break;case 4:dg(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;We(mh,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(We(rt,rt.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?w_(t,e,n):(We(rt,rt.current&1),t=Ls(t,e,n),t!==null?t.sibling:null);We(rt,rt.current&1);break;case 19:if(s=(n&e.childLanes)!==0,(t.flags&128)!==0){if(s)return N_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(rt,rt.current),s)break;return null;case 22:case 23:return e.lanes=0,b_(t,e,n)}return Ls(t,e,n)}var __,D0,E_,I_;__=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};D0=function(){};E_=function(t,e,n,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,vo(Xr.current);var o=null;switch(n){case"input":i=e0(t,i),s=e0(t,s),o=[];break;case"select":i=it({},i,{value:void 0}),s=it({},s,{value:void 0}),o=[];break;case"textarea":i=r0(t,i),s=r0(t,s),o=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=uh)}i0(n,s);var a;n=null;for(m in i)if(!s.hasOwnProperty(m)&&i.hasOwnProperty(m)&&i[m]!=null)if(m==="style"){var c=i[m];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Pu.hasOwnProperty(m)?o||(o=[]):(o=o||[]).push(m,null));for(m in s){var d=s[m];if(c=i?.[m],s.hasOwnProperty(m)&&d!==c&&(d!=null||c!=null))if(m==="style")if(c){for(a in c)!c.hasOwnProperty(a)||d&&d.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in d)d.hasOwnProperty(a)&&c[a]!==d[a]&&(n||(n={}),n[a]=d[a])}else n||(o||(o=[]),o.push(m,n)),n=d;else m==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(o=o||[]).push(m,d)):m==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(m,""+d):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Pu.hasOwnProperty(m)?(d!=null&&m==="onScroll"&&Qe("scroll",t),o||c===d||(o=[])):(o=o||[]).push(m,d))}n&&(o=o||[]).push("style",n);var m=o;(e.updateQueue=m)&&(e.flags|=4)}};I_=function(t,e,n,s){n!==s&&(e.flags|=4)};function fu(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function qk(t,e,n){var s=e.pendingProps;switch(sg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return gn(e.type)&&ch(),Kt(e),null;case 3:return s=e.stateNode,Xa(),Je(fn),Je(Jt),pg(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(jd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,xr!==null&&(j0(xr),xr=null))),D0(t,e),Kt(e),null;case 5:hg(e);var i=vo(qu.current);if(n=e.type,t!==null&&e.stateNode!=null)E_(t,e,n,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(Z(166));return Kt(e),null}if(t=vo(Xr.current),jd(e)){s=e.stateNode,n=e.type;var o=e.memoizedProps;switch(s[Jr]=e,s[zu]=o,t=(e.mode&1)!==0,n){case"dialog":Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":case"embed":Qe("load",s);break;case"video":case"audio":for(i=0;i<wu.length;i++)Qe(wu[i],s);break;case"source":Qe("error",s);break;case"img":case"image":case"link":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"input":By(s,o),Qe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},Qe("invalid",s);break;case"textarea":Gy(s,o),Qe("invalid",s)}i0(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="children"?typeof c=="string"?s.textContent!==c&&(o.suppressHydrationWarning!==!0&&Ud(s.textContent,c,t),i=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&Ud(s.textContent,c,t),i=["children",""+c]):Pu.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Qe("scroll",s)}switch(n){case"input":Td(s),qy(s,o,!0);break;case"textarea":Td(s),Hy(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=uh)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=a.createElement(n,{is:s.is}):(t=a.createElement(n),n==="select"&&(a=t,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):t=a.createElementNS(t,n),t[Jr]=e,t[zu]=s,__(t,e,!1,!1),e.stateNode=t;e:{switch(a=o0(n,s),n){case"dialog":Qe("cancel",t),Qe("close",t),i=s;break;case"iframe":case"object":case"embed":Qe("load",t),i=s;break;case"video":case"audio":for(i=0;i<wu.length;i++)Qe(wu[i],t);i=s;break;case"source":Qe("error",t),i=s;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),i=s;break;case"details":Qe("toggle",t),i=s;break;case"input":By(t,s),i=e0(t,s),Qe("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=it({},s,{value:void 0}),Qe("invalid",t);break;case"textarea":Gy(t,s),i=r0(t,s),Qe("invalid",t);break;default:i=s}i0(n,i),c=i;for(o in c)if(c.hasOwnProperty(o)){var d=c[o];o==="style"?nN(t,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&eN(t,d)):o==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Du(t,d):typeof d=="number"&&Du(t,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Pu.hasOwnProperty(o)?d!=null&&o==="onScroll"&&Qe("scroll",t):d!=null&&q0(t,o,d,a))}switch(n){case"input":Td(t),qy(t,s,!1);break;case"textarea":Td(t),Hy(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Pi(s.value));break;case"select":t.multiple=!!s.multiple,o=s.value,o!=null?za(t,!!s.multiple,o,!1):s.defaultValue!=null&&za(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=uh)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kt(e),null;case 6:if(t&&e.stateNode!=null)I_(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(Z(166));if(n=vo(qu.current),vo(Xr.current),jd(e)){if(s=e.stateNode,n=e.memoizedProps,s[Jr]=e,(o=s.nodeValue!==n)&&(t=An,t!==null))switch(t.tag){case 3:Ud(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ud(s.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Jr]=e,e.stateNode=s}return Kt(e),null;case 13:if(Je(rt),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&Cn!==null&&(e.mode&1)!==0&&(e.flags&128)===0)qN(),Ja(),e.flags|=98560,o=!1;else if(o=jd(e),s!==null&&s.dehydrated!==null){if(t===null){if(!o)throw Error(Z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Z(317));o[Jr]=e}else Ja(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Kt(e),o=!1}else xr!==null&&(j0(xr),xr=null),o=!0;if(!o)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(rt.current&1)!==0?Tt===0&&(Tt=3):Ig())),e.updateQueue!==null&&(e.flags|=4),Kt(e),null);case 4:return Xa(),D0(t,e),t===null&&Uu(e.stateNode.containerInfo),Kt(e),null;case 10:return lg(e.type._context),Kt(e),null;case 17:return gn(e.type)&&ch(),Kt(e),null;case 19:if(Je(rt),o=e.memoizedState,o===null)return Kt(e),null;if(s=(e.flags&128)!==0,a=o.rendering,a===null)if(s)fu(o,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(a=vh(t),a!==null){for(e.flags|=128,fu(o,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)o=n,t=s,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(rt,rt.current&1|2),e.child}t=t.sibling}o.tail!==null&&pt()>Ra&&(e.flags|=128,s=!0,fu(o,!1),e.lanes=4194304)}else{if(!s)if(t=vh(a),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ze)return Kt(e),null}else 2*pt()-o.renderingStartTime>Ra&&n!==1073741824&&(e.flags|=128,s=!0,fu(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=pt(),e.sibling=null,n=rt.current,We(rt,s?n&1|2:n&1),e):(Kt(e),null);case 22:case 23:return Eg(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&(e.mode&1)!==0?(kn&1073741824)!==0&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function Gk(t,e){switch(sg(e),e.tag){case 1:return gn(e.type)&&ch(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xa(),Je(fn),Je(Jt),pg(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return hg(e),null;case 13:if(Je(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));Ja()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(rt),null;case 4:return Xa(),null;case 10:return lg(e.type._context),null;case 22:case 23:return Eg(),null;case 24:return null;default:return null}}var qd=!1,Qt=!1,Hk=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Ua(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){lt(t,e,s)}else n.current=null}function O0(t,e,n){try{n()}catch(s){lt(t,e,s)}}var Mw=!1;function Wk(t,e){if(g0=oh,t=AN(),ng(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,c=-1,d=-1,m=0,b=0,N=t,E=null;t:for(;;){for(var S;N!==n||i!==0&&N.nodeType!==3||(c=a+i),N!==o||s!==0&&N.nodeType!==3||(d=a+s),N.nodeType===3&&(a+=N.nodeValue.length),(S=N.firstChild)!==null;)E=N,N=S;for(;;){if(N===t)break t;if(E===n&&++m===i&&(c=a),E===o&&++b===s&&(d=a),(S=N.nextSibling)!==null)break;N=E,E=N.parentNode}N=S}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(v0={focusedElem:t,selectionRange:n},oh=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var j=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var z=j.memoizedProps,f=j.memoizedState,P=e.stateNode,w=P.getSnapshotBeforeUpdate(e.elementType===e.type?z:vr(e.type,z),f);P.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(q){lt(e,e.return,q)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return j=Mw,Mw=!1,j}function ku(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&O0(e,n,o)}i=i.next}while(i!==s)}}function Oh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function L0(t){var e=t.ref;if(e!==null){var n=t.stateNode;t.tag,t=n,typeof e=="function"?e(t):e.current=t}}function S_(t){var e=t.alternate;e!==null&&(t.alternate=null,S_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jr],delete e[zu],delete e[y0],delete e[kk],delete e[Ck])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function T_(t){return t.tag===5||t.tag===3||t.tag===4}function Vw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function M0(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=uh));else if(s!==4&&(t=t.child,t!==null))for(M0(t,e,n),t=t.sibling;t!==null;)M0(t,e,n),t=t.sibling}function V0(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(V0(t,e,n),t=t.sibling;t!==null;)V0(t,e,n),t=t.sibling}var Ft=null,br=!1;function gi(t,e,n){for(n=n.child;n!==null;)k_(t,e,n),n=n.sibling}function k_(t,e,n){if(Yr&&typeof Yr.onCommitFiberUnmount=="function")try{Yr.onCommitFiberUnmount(Ih,n)}catch{}switch(n.tag){case 5:Qt||Ua(n,e);case 6:var s=Ft,i=br;Ft=null,gi(t,e,n),Ft=s,br=i,Ft!==null&&(br?(t=Ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(br?(t=Ft,n=n.stateNode,t.nodeType===8?Uf(t.parentNode,n):t.nodeType===1&&Uf(t,n),Vu(t)):Uf(Ft,n.stateNode));break;case 4:s=Ft,i=br,Ft=n.stateNode.containerInfo,br=!0,gi(t,e,n),Ft=s,br=i;break;case 0:case 11:case 14:case 15:if(!Qt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&((o&2)!==0||(o&4)!==0)&&O0(n,e,a),i=i.next}while(i!==s)}gi(t,e,n);break;case 1:if(!Qt&&(Ua(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(c){lt(n,e,c)}gi(t,e,n);break;case 21:gi(t,e,n);break;case 22:n.mode&1?(Qt=(s=Qt)||n.memoizedState!==null,gi(t,e,n),Qt=s):gi(t,e,n);break;default:gi(t,e,n)}}function $w(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Hk),e.forEach(function(s){var i=tC.bind(null,t,s);n.has(s)||(n.add(s),s.then(i,i))})}}function gr(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var o=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:Ft=c.stateNode,br=!1;break e;case 3:Ft=c.stateNode.containerInfo,br=!0;break e;case 4:Ft=c.stateNode.containerInfo,br=!0;break e}c=c.return}if(Ft===null)throw Error(Z(160));k_(o,a,i),Ft=null,br=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(m){lt(i,e,m)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)C_(e,t),e=e.sibling}function C_(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gr(e,t),Kr(t),s&4){try{ku(3,t,t.return),Oh(3,t)}catch(z){lt(t,t.return,z)}try{ku(5,t,t.return)}catch(z){lt(t,t.return,z)}}break;case 1:gr(e,t),Kr(t),s&512&&n!==null&&Ua(n,n.return);break;case 5:if(gr(e,t),Kr(t),s&512&&n!==null&&Ua(n,n.return),t.flags&32){var i=t.stateNode;try{Du(i,"")}catch(z){lt(t,t.return,z)}}if(s&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,c=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&Xw(i,o),o0(c,a);var m=o0(c,o);for(a=0;a<d.length;a+=2){var b=d[a],N=d[a+1];b==="style"?nN(i,N):b==="dangerouslySetInnerHTML"?eN(i,N):b==="children"?Du(i,N):q0(i,b,N,m)}switch(c){case"input":t0(i,o);break;case"textarea":Zw(i,o);break;case"select":var E=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var S=o.value;S!=null?za(i,!!o.multiple,S,!1):E!==!!o.multiple&&(o.defaultValue!=null?za(i,!!o.multiple,o.defaultValue,!0):za(i,!!o.multiple,o.multiple?[]:"",!1))}i[zu]=o}catch(z){lt(t,t.return,z)}}break;case 6:if(gr(e,t),Kr(t),s&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(z){lt(t,t.return,z)}}break;case 3:if(gr(e,t),Kr(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Vu(e.containerInfo)}catch(z){lt(t,t.return,z)}break;case 4:gr(e,t),Kr(t);break;case 13:gr(e,t),Kr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Ng=pt())),s&4&&$w(t);break;case 22:if(b=n!==null&&n.memoizedState!==null,t.mode&1?(Qt=(m=Qt)||b,gr(e,t),Qt=m):gr(e,t),Kr(t),s&8192){if(m=t.memoizedState!==null,(t.stateNode.isHidden=m)&&!b&&(t.mode&1)!==0)for(ae=t,b=t.child;b!==null;){for(N=ae=b;ae!==null;){switch(E=ae,S=E.child,E.tag){case 0:case 11:case 14:case 15:ku(4,E,E.return);break;case 1:Ua(E,E.return);var j=E.stateNode;if(typeof j.componentWillUnmount=="function"){s=E,n=E.return;try{e=s,j.props=e.memoizedProps,j.state=e.memoizedState,j.componentWillUnmount()}catch(z){lt(s,n,z)}}break;case 5:Ua(E,E.return);break;case 22:if(E.memoizedState!==null){Uw(N);continue}}S!==null?(S.return=E,ae=S):Uw(N)}b=b.sibling}e:for(b=null,N=t;;){if(N.tag===5){if(b===null){b=N;try{i=N.stateNode,m?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=N.stateNode,d=N.memoizedProps.style,a=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=tN("display",a))}catch(z){lt(t,t.return,z)}}}else if(N.tag===6){if(b===null)try{N.stateNode.nodeValue=m?"":N.memoizedProps}catch(z){lt(t,t.return,z)}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===t)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===t)break e;for(;N.sibling===null;){if(N.return===null||N.return===t)break e;b===N&&(b=null),N=N.return}b===N&&(b=null),N.sibling.return=N.return,N=N.sibling}}break;case 19:gr(e,t),Kr(t),s&4&&$w(t);break;case 21:break;default:gr(e,t),Kr(t)}}function Kr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(T_(n)){var s=n;break e}n=n.return}throw Error(Z(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Du(i,""),s.flags&=-33);var o=Vw(t);V0(t,o,i);break;case 3:case 4:var a=s.stateNode.containerInfo,c=Vw(t);M0(t,c,a);break;default:throw Error(Z(161))}}catch(d){lt(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Kk(t,e,n){ae=t,A_(t,e,n)}function A_(t,e,n){for(var s=(t.mode&1)!==0;ae!==null;){var i=ae,o=i.child;if(i.tag===22&&s){var a=i.memoizedState!==null||qd;if(!a){var c=i.alternate,d=c!==null&&c.memoizedState!==null||Qt;c=qd;var m=Qt;if(qd=a,(Qt=d)&&!m)for(ae=i;ae!==null;)a=ae,d=a.child,a.tag===22&&a.memoizedState!==null?jw(i):d!==null?(d.return=a,ae=d):jw(i);for(;o!==null;)ae=o,A_(o,e,n),o=o.sibling;ae=i,qd=c,Qt=m}Fw(t,e,n)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,ae=o):Fw(t,e,n)}}function Fw(t){for(;ae!==null;){var e=ae;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Qt||Oh(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Qt)if(n===null)s.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:vr(e.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Nw(e,o,s);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nw(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var m=e.alternate;if(m!==null){var b=m.memoizedState;if(b!==null){var N=b.dehydrated;N!==null&&Vu(N)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Qt||e.flags&512&&L0(e)}catch(E){lt(e,e.return,E)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function Uw(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function jw(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Oh(4,e)}catch(d){lt(e,n,d)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(d){lt(e,i,d)}}var o=e.return;try{L0(e)}catch(d){lt(e,o,d)}break;case 5:var a=e.return;try{L0(e)}catch(d){lt(e,a,d)}}}catch(d){lt(e,e.return,d)}if(e===t){ae=null;break}var c=e.sibling;if(c!==null){c.return=e.return,ae=c;break}ae=e.return}}var Qk=Math.ceil,yh=Ms.ReactCurrentDispatcher,yg=Ms.ReactCurrentOwner,Xn=Ms.ReactCurrentBatchConfig,Le=0,Ot=null,vt=null,Ut=0,kn=0,ja=Li(0),Tt=0,Ku=null,_o=0,Lh=0,wg=0,Cu=null,pn=null,Ng=0,Ra=1/0,Ss=null,wh=!1,$0=null,ki=null,Gd=!1,Ni=null,Nh=0,Au=0,F0=null,Zd=-1,Rd=0;function sn(){return(Le&6)!==0?pt():Zd!==-1?Zd:Zd=pt()}function Ci(t){return(t.mode&1)===0?1:(Le&2)!==0&&Ut!==0?Ut&-Ut:Pk.transition!==null?(Rd===0&&(Rd=mN()),Rd):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:wN(t.type)),t)}function wr(t,e,n,s){if(50<Au)throw Au=0,F0=null,Error(Z(185));Qu(t,n,s),((Le&2)===0||t!==Ot)&&(t===Ot&&((Le&2)===0&&(Lh|=n),Tt===4&&yi(t,Ut)),vn(t,s),n===1&&Le===0&&(e.mode&1)===0&&(Ra=pt()+500,Ah&&Mi()))}function vn(t,e){var n=t.callbackNode;OT(t,e);var s=ih(t,t===Ot?Ut:0);if(s===0)n!==null&&Qy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Qy(n),e===1)t.tag===0?Ak(zw.bind(null,t)):jN(zw.bind(null,t)),Sk(function(){(Le&6)===0&&Mi()}),n=null;else{switch(fN(s)){case 1:n=Q0;break;case 4:n=hN;break;case 16:n=sh;break;case 536870912:n=pN;break;default:n=sh}n=F_(n,P_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function P_(t,e){if(Zd=-1,Rd=0,(Le&6)!==0)throw Error(Z(327));var n=t.callbackNode;if(Wa()&&t.callbackNode!==n)return null;var s=ih(t,t===Ot?Ut:0);if(s===0)return null;if((s&30)!==0||(s&t.expiredLanes)!==0||e)e=_h(t,s);else{e=s;var i=Le;Le|=2;var o=O_();(Ot!==t||Ut!==e)&&(Ss=null,Ra=pt()+500,bo(t,e));do try{Xk();break}catch(c){D_(t,c)}while(!0);ag(),yh.current=o,Le=i,vt!==null?e=0:(Ot=null,Ut=0,e=Tt)}if(e!==0){if(e===2&&(i=d0(t),i!==0&&(s=i,e=U0(t,i))),e===1)throw n=Ku,bo(t,0),yi(t,s),vn(t,pt()),n;if(e===6)yi(t,s);else{if(i=t.current.alternate,(s&30)===0&&!Jk(i)&&(e=_h(t,s),e===2&&(o=d0(t),o!==0&&(s=o,e=U0(t,o))),e===1))throw n=Ku,bo(t,0),yi(t,s),vn(t,pt()),n;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(Z(345));case 2:mo(t,pn,Ss);break;case 3:if(yi(t,s),(s&130023424)===s&&(e=Ng+500-pt(),10<e)){if(ih(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=x0(mo.bind(null,t,pn,Ss),e);break}mo(t,pn,Ss);break;case 4:if(yi(t,s),(s&4194240)===s)break;for(e=t.eventTimes,i=-1;0<s;){var a=31-yr(s);o=1<<a,a=e[a],a>i&&(i=a),s&=~o}if(s=i,s=pt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Qk(s/1960))-s,10<s){t.timeoutHandle=x0(mo.bind(null,t,pn,Ss),s);break}mo(t,pn,Ss);break;case 5:mo(t,pn,Ss);break;default:throw Error(Z(329))}}}return vn(t,pt()),t.callbackNode===n?P_.bind(null,t):null}function U0(t,e){var n=Cu;return t.current.memoizedState.isDehydrated&&(bo(t,e).flags|=256),t=_h(t,e),t!==2&&(e=pn,pn=n,e!==null&&j0(e)),t}function j0(t){pn===null?pn=t:pn.push.apply(pn,t)}function Jk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],o=i.getSnapshot;i=i.value;try{if(!Nr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yi(t,e){for(e&=~wg,e&=~Lh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yr(e),s=1<<n;t[n]=-1,e&=~s}}function zw(t){if((Le&6)!==0)throw Error(Z(327));Wa();var e=ih(t,0);if((e&1)===0)return vn(t,pt()),null;var n=_h(t,e);if(t.tag!==0&&n===2){var s=d0(t);s!==0&&(e=s,n=U0(t,s))}if(n===1)throw n=Ku,bo(t,0),yi(t,e),vn(t,pt()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mo(t,pn,Ss),vn(t,pt()),null}function _g(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(Ra=pt()+500,Ah&&Mi())}}function Eo(t){Ni!==null&&Ni.tag===0&&(Le&6)===0&&Wa();var e=Le;Le|=1;var n=Xn.transition,s=Fe;try{if(Xn.transition=null,Fe=1,t)return t()}finally{Fe=s,Xn.transition=n,Le=e,(Le&6)===0&&Mi()}}function Eg(){kn=ja.current,Je(ja)}function bo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ik(n)),vt!==null)for(n=vt.return;n!==null;){var s=n;switch(sg(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ch();break;case 3:Xa(),Je(fn),Je(Jt),pg();break;case 5:hg(s);break;case 4:Xa();break;case 13:Je(rt);break;case 19:Je(rt);break;case 10:lg(s.type._context);break;case 22:case 23:Eg()}n=n.return}if(Ot=t,vt=t=Ai(t.current,null),Ut=kn=e,Tt=0,Ku=null,wg=Lh=_o=0,pn=Cu=null,go!==null){for(e=0;e<go.length;e++)if(n=go[e],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,s.next=a}n.pending=s}go=null}return t}function D_(t,e){do{var n=vt;try{if(ag(),Jd.current=xh,bh){for(var s=st.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}bh=!1}if(No=0,Dt=St=st=null,Tu=!1,Gu=0,yg.current=null,n===null||n.return===null){Tt=1,Ku=e,vt=null;break}e:{var o=t,a=n.return,c=n,d=e;if(e=Ut,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var m=d,b=c,N=b.tag;if((b.mode&1)===0&&(N===0||N===11||N===15)){var E=b.alternate;E?(b.updateQueue=E.updateQueue,b.memoizedState=E.memoizedState,b.lanes=E.lanes):(b.updateQueue=null,b.memoizedState=null)}var S=kw(a);if(S!==null){S.flags&=-257,Cw(S,a,c,o,e),S.mode&1&&Tw(o,m,e),e=S,d=m;var j=e.updateQueue;if(j===null){var z=new Set;z.add(d),e.updateQueue=z}else j.add(d);break e}else{if((e&1)===0){Tw(o,m,e),Ig();break e}d=Error(Z(426))}}else if(Ze&&c.mode&1){var f=kw(a);if(f!==null){(f.flags&65536)===0&&(f.flags|=256),Cw(f,a,c,o,e),ig(Za(d,c));break e}}o=d=Za(d,c),Tt!==4&&(Tt=2),Cu===null?Cu=[o]:Cu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var P=f_(o,d,e);ww(o,P);break e;case 1:c=d;var w=o.type,C=o.stateNode;if((o.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ki===null||!ki.has(C)))){o.flags|=65536,e&=-e,o.lanes|=e;var q=g_(o,c,e);ww(o,q);break e}}o=o.return}while(o!==null)}M_(n)}catch(te){e=te,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function O_(){var t=yh.current;return yh.current=xh,t===null?xh:t}function Ig(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Ot===null||(_o&268435455)===0&&(Lh&268435455)===0||yi(Ot,Ut)}function _h(t,e){var n=Le;Le|=2;var s=O_();(Ot!==t||Ut!==e)&&(Ss=null,bo(t,e));do try{Yk();break}catch(i){D_(t,i)}while(!0);if(ag(),Le=n,yh.current=s,vt!==null)throw Error(Z(261));return Ot=null,Ut=0,Tt}function Yk(){for(;vt!==null;)L_(vt)}function Xk(){for(;vt!==null&&!ET();)L_(vt)}function L_(t){var e=$_(t.alternate,t,kn);t.memoizedProps=t.pendingProps,e===null?M_(t):vt=e,yg.current=null}function M_(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=qk(n,e,kn),n!==null){vt=n;return}}else{if(n=Gk(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tt=6,vt=null;return}}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);Tt===0&&(Tt=5)}function mo(t,e,n){var s=Fe,i=Xn.transition;try{Xn.transition=null,Fe=1,Zk(t,e,n,s)}finally{Xn.transition=i,Fe=s}return null}function Zk(t,e,n,s){do Wa();while(Ni!==null);if((Le&6)!==0)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(LT(t,o),t===Ot&&(vt=Ot=null,Ut=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Gd||(Gd=!0,F_(sh,function(){return Wa(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=Xn.transition,Xn.transition=null;var a=Fe;Fe=1;var c=Le;Le|=4,yg.current=null,Wk(t,n),C_(n,t),yk(v0),oh=!!g0,v0=g0=null,t.current=n,Kk(n,t,i),IT(),Le=c,Fe=a,Xn.transition=o}else t.current=n;if(Gd&&(Gd=!1,Ni=t,Nh=i),o=t.pendingLanes,o===0&&(ki=null),kT(n.stateNode,s),vn(t,pt()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(wh)throw wh=!1,t=$0,$0=null,t;return(Nh&1)!==0&&t.tag!==0&&Wa(),o=t.pendingLanes,(o&1)!==0?t===F0?Au++:(Au=0,F0=t):Au=0,Mi(),null}function Wa(){if(Ni!==null){var t=fN(Nh),e=Xn.transition,n=Fe;try{if(Xn.transition=null,Fe=16>t?16:t,Ni===null)var s=!1;else{if(t=Ni,Ni=null,Nh=0,(Le&6)!==0)throw Error(Z(331));var i=Le;for(Le|=4,ae=t.current;ae!==null;){var o=ae,a=o.child;if((ae.flags&16)!==0){var c=o.deletions;if(c!==null){for(var d=0;d<c.length;d++){var m=c[d];for(ae=m;ae!==null;){var b=ae;switch(b.tag){case 0:case 11:case 15:ku(8,b,o)}var N=b.child;if(N!==null)N.return=b,ae=N;else for(;ae!==null;){b=ae;var E=b.sibling,S=b.return;if(S_(b),b===m){ae=null;break}if(E!==null){E.return=S,ae=E;break}ae=S}}}var j=o.alternate;if(j!==null){var z=j.child;if(z!==null){j.child=null;do{var f=z.sibling;z.sibling=null,z=f}while(z!==null)}}ae=o}}if((o.subtreeFlags&2064)!==0&&a!==null)a.return=o,ae=a;else e:for(;ae!==null;){if(o=ae,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:ku(9,o,o.return)}var P=o.sibling;if(P!==null){P.return=o.return,ae=P;break e}ae=o.return}}var w=t.current;for(ae=w;ae!==null;){a=ae;var C=a.child;if((a.subtreeFlags&2064)!==0&&C!==null)C.return=a,ae=C;else e:for(a=w;ae!==null;){if(c=ae,(c.flags&2048)!==0)try{switch(c.tag){case 0:case 11:case 15:Oh(9,c)}}catch(te){lt(c,c.return,te)}if(c===a){ae=null;break e}var q=c.sibling;if(q!==null){q.return=c.return,ae=q;break e}ae=c.return}}if(Le=i,Mi(),Yr&&typeof Yr.onPostCommitFiberRoot=="function")try{Yr.onPostCommitFiberRoot(Ih,t)}catch{}s=!0}return s}finally{Fe=n,Xn.transition=e}}return!1}function Bw(t,e,n){e=Za(n,e),e=f_(t,e,1),t=Ti(t,e,1),e=sn(),t!==null&&(Qu(t,1,e),vn(t,e))}function lt(t,e,n){if(t.tag===3)Bw(t,t,n);else for(;e!==null;){if(e.tag===3){Bw(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ki===null||!ki.has(s))){t=Za(n,t),t=g_(e,t,1),e=Ti(e,t,1),t=sn(),e!==null&&(Qu(e,1,t),vn(e,t));break}}e=e.return}}function Rk(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=sn(),t.pingedLanes|=t.suspendedLanes&n,Ot===t&&(Ut&n)===n&&(Tt===4||Tt===3&&(Ut&130023424)===Ut&&500>pt()-Ng?bo(t,0):wg|=n),vn(t,e)}function V_(t,e){e===0&&((t.mode&1)===0?e=1:(e=Ad,Ad<<=1,(Ad&130023424)===0&&(Ad=4194304)));var n=sn();t=Os(t,e),t!==null&&(Qu(t,e,n),vn(t,n))}function eC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),V_(t,n)}function tC(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(Z(314))}s!==null&&s.delete(e),V_(t,n)}var $_;$_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fn.current)mn=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return mn=!1,Bk(t,e,n);mn=(t.flags&131072)!==0}else mn=!1,Ze&&(e.flags&1048576)!==0&&zN(e,ph,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Xd(t,e),t=e.pendingProps;var i=Qa(e,Jt.current);Ha(e,n),i=fg(null,e,s,t,i,n);var o=gg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(s)?(o=!0,dh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cg(e),i.updater=Dh,e.stateNode=i,i._reactInternals=e,S0(e,s,t,n),e=C0(null,e,s,!0,o,n)):(e.tag=0,Ze&&o&&rg(e),rn(null,e,i,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Xd(t,e),t=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=rC(s),t=vr(s,t),i){case 0:e=k0(null,e,s,t,n);break e;case 1:e=Dw(null,e,s,t,n);break e;case 11:e=Aw(null,e,s,t,n);break e;case 14:e=Pw(null,e,s,vr(s.type,t),n);break e}throw Error(Z(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:vr(s,i),k0(t,e,s,i,n);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:vr(s,i),Dw(t,e,s,i,n);case 3:e:{if(y_(e),t===null)throw Error(Z(387));s=e.pendingProps,o=e.memoizedState,i=o.element,KN(t,e),gh(e,s,null,n);var a=e.memoizedState;if(s=a.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Za(Error(Z(423)),e),e=Ow(t,e,s,n,i);break e}else if(s!==i){i=Za(Error(Z(424)),e),e=Ow(t,e,s,n,i);break e}else for(Cn=Si(e.stateNode.containerInfo.firstChild),An=e,Ze=!0,xr=null,n=HN(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ja(),s===i){e=Ls(t,e,n);break e}rn(t,e,s,n)}e=e.child}return e;case 5:return QN(e),t===null&&_0(e),s=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,b0(s,i)?a=null:o!==null&&b0(s,o)&&(e.flags|=32),x_(t,e),rn(t,e,a,n),e.child;case 6:return t===null&&_0(e),null;case 13:return w_(t,e,n);case 4:return dg(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Ya(e,null,s,n):rn(t,e,s,n),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:vr(s,i),Aw(t,e,s,i,n);case 7:return rn(t,e,e.pendingProps,n),e.child;case 8:return rn(t,e,e.pendingProps.children,n),e.child;case 12:return rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,We(mh,s._currentValue),s._currentValue=a,o!==null)if(Nr(o.value,a)){if(o.children===i.children&&!fn.current){e=Ls(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){a=o.child;for(var d=c.firstContext;d!==null;){if(d.context===s){if(o.tag===1){d=As(-1,n&-n),d.tag=2;var m=o.updateQueue;if(m!==null){m=m.shared;var b=m.pending;b===null?d.next=d:(d.next=b.next,b.next=d),m.pending=d}}o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),E0(o.return,n,e),c.lanes|=n;break}d=d.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Z(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),E0(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}rn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,Ha(e,n),i=Zn(i),s=s(i),e.flags|=1,rn(t,e,s,n),e.child;case 14:return s=e.type,i=vr(s,e.pendingProps),i=vr(s.type,i),Pw(t,e,s,i,n);case 15:return v_(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:vr(s,i),Xd(t,e),e.tag=1,gn(s)?(t=!0,dh(e)):t=!1,Ha(e,n),m_(e,s,i),S0(e,s,i,n),C0(null,e,s,!0,t,n);case 19:return N_(t,e,n);case 22:return b_(t,e,n)}throw Error(Z(156,e.tag))};function F_(t,e){return dN(t,e)}function nC(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(t,e,n,s){return new nC(t,e,n,s)}function Sg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rC(t){if(typeof t=="function")return Sg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===H0)return 11;if(t===W0)return 14}return 2}function Ai(t,e){var n=t.alternate;return n===null?(n=Yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function eh(t,e,n,s,i,o){var a=2;if(s=t,typeof t=="function")Sg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Aa:return xo(n.children,i,o,e);case G0:a=8,i|=8;break;case Yf:return t=Yn(12,n,e,i|2),t.elementType=Yf,t.lanes=o,t;case Xf:return t=Yn(13,n,e,i),t.elementType=Xf,t.lanes=o,t;case Zf:return t=Yn(19,n,e,i),t.elementType=Zf,t.lanes=o,t;case Qw:return Mh(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ww:a=10;break e;case Kw:a=9;break e;case H0:a=11;break e;case W0:a=14;break e;case vi:a=16,s=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=Yn(a,n,e,i),e.elementType=t,e.type=s,e.lanes=o,e}function xo(t,e,n,s){return t=Yn(7,t,s,e),t.lanes=n,t}function Mh(t,e,n,s){return t=Yn(22,t,s,e),t.elementType=Qw,t.lanes=n,t.stateNode={isHidden:!1},t}function Kf(t,e,n){return t=Yn(6,t,null,e),t.lanes=n,t}function Qf(t,e,n){return e=Yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sC(t,e,n,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pf(0),this.expirationTimes=Pf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pf(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Tg(t,e,n,s,i,o,a,c,d){return t=new sC(t,e,n,c,d),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Yn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cg(o),t}function iC(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ca,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function U_(t){if(!t)return Di;t=t._reactInternals;e:{if(So(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(gn(n))return UN(t,n,e)}return e}function j_(t,e,n,s,i,o,a,c,d){return t=Tg(n,s,!0,t,i,o,a,c,d),t.context=U_(null),n=t.current,s=sn(),i=Ci(n),o=As(s,i),o.callback=e??null,Ti(n,o,i),t.current.lanes=i,Qu(t,i,s),vn(t,s),t}function Vh(t,e,n,s){var i=e.current,o=sn(),a=Ci(i);return n=U_(n),e.context===null?e.context=n:e.pendingContext=n,e=As(o,a),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Ti(i,e,a),t!==null&&(wr(t,i,a,o),Qd(t,i,a)),a}function Eh(t){return t=t.current,t.child?(t.child.tag===5,t.child.stateNode):null}function qw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kg(t,e){qw(t,e),(t=t.alternate)&&qw(t,e)}function oC(){return null}var z_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cg(t){this._internalRoot=t}$h.prototype.render=Cg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));Vh(t,e,null,null)};$h.prototype.unmount=Cg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Eo(function(){Vh(null,t,null,null)}),e[Ds]=null}};function $h(t){this._internalRoot=t}$h.prototype.unstable_scheduleHydration=function(t){if(t){var e=bN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xi.length&&e!==0&&e<xi[n].priority;n++);xi.splice(n,0,t),n===0&&yN(t)}};function Ag(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Gw(){}function aC(t,e,n,s,i){if(i){if(typeof s=="function"){var o=s;s=function(){var m=Eh(a);o.call(m)}}var a=j_(e,s,t,0,null,!1,!1,"",Gw);return t._reactRootContainer=a,t[Ds]=a.current,Uu(t.nodeType===8?t.parentNode:t),Eo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var c=s;s=function(){var m=Eh(d);c.call(m)}}var d=Tg(t,0,!1,null,null,!1,!1,"",Gw);return t._reactRootContainer=d,t[Ds]=d.current,Uu(t.nodeType===8?t.parentNode:t),Eo(function(){Vh(e,d,n,s)}),d}function Uh(t,e,n,s,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var c=i;i=function(){var d=Eh(a);c.call(d)}}Vh(e,a,t,i)}else a=aC(n,e,t,i,s);return Eh(a)}gN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yu(e.pendingLanes);n!==0&&(J0(e,n|1),vn(e,pt()),(Le&6)===0&&(Ra=pt()+500,Mi()))}break;case 13:Eo(function(){var s=Os(t,1);if(s!==null){var i=sn();wr(s,t,1,i)}}),kg(t,1)}};Y0=function(t){if(t.tag===13){var e=Os(t,134217728);if(e!==null){var n=sn();wr(e,t,134217728,n)}kg(t,134217728)}};vN=function(t){if(t.tag===13){var e=Ci(t),n=Os(t,e);if(n!==null){var s=sn();wr(n,t,e,s)}kg(t,e)}};bN=function(){return Fe};xN=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};l0=function(t,e,n){switch(e){case"input":if(t0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=Ch(s);if(!i)throw Error(Z(90));Yw(s),t0(s,i)}}}break;case"textarea":Zw(t,n);break;case"select":e=n.value,e!=null&&za(t,!!n.multiple,e,!1)}};iN=_g;oN=Eo;var lC={usingClientEntryPoint:!1,Events:[Yu,La,Ch,rN,sN,_g]},gu={findFiberByHostInstance:fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uC={bundleType:gu.bundleType,version:gu.version,rendererPackageName:gu.rendererPackageName,rendererConfig:gu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uN(t),t===null?null:t.stateNode},findFiberByHostInstance:gu.findFiberByHostInstance||oC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(vu=__REACT_DEVTOOLS_GLOBAL_HOOK__,!vu.isDisabled&&vu.supportsFiber))try{Ih=vu.inject(uC),Yr=vu}catch{}var vu;On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lC;On.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ag(e))throw Error(Z(200));return iC(t,e,null,n)};On.createRoot=function(t,e){if(!Ag(t))throw Error(Z(299));var n=!1,s="",i=z_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Tg(t,1,!1,null,null,n,!1,s,i),t[Ds]=e.current,Uu(t.nodeType===8?t.parentNode:t),new Cg(e)};On.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=uN(e),t=t===null?null:t.stateNode,t};On.flushSync=function(t){return Eo(t)};On.hydrate=function(t,e,n){if(!Fh(e))throw Error(Z(200));return Uh(null,t,e,!0,n)};On.hydrateRoot=function(t,e,n){if(!Ag(t))throw Error(Z(405));var s=n!=null&&n.hydratedSources||null,i=!1,o="",a=z_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=j_(e,null,t,1,n??null,i,!1,o,a),t[Ds]=e.current,Uu(t),s)for(t=0;t<s.length;t++)n=s[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new $h(e)};On.render=function(t,e,n){if(!Fh(e))throw Error(Z(200));return Uh(null,t,e,!1,n)};On.unmountComponentAtNode=function(t){if(!Fh(t))throw Error(Z(40));return t._reactRootContainer?(Eo(function(){Uh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ds]=null})}),!0):!1};On.unstable_batchedUpdates=_g;On.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Fh(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Uh(t,e,n,!1,s)};On.version="18.3.1-next-f1338f8080-20240426"});var Pg=nu((cD,G_)=>{"use strict";function q_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(q_)}catch(t){console.error(t)}}q_(),G_.exports=B_()});var W_=nu(Dg=>{"use strict";var H_=Pg();Dg.createRoot=H_.createRoot,Dg.hydrateRoot=H_.hydrateRoot;var dD});var r=Gm(cy(),1),yS=Gm(W_(),1),wS=Gm(Pg(),1);var Q_=function(t){let e=[],n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cC=function(t){let e=[],n=0,s=0;for(;n<t.length;){let i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[s++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],a=t[n++],c=t[n++],d=((i&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{let o=t[n++],a=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},J_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){let o=t[i],a=i+1<t.length,c=a?t[i+1]:0,d=i+2<t.length,m=d?t[i+2]:0,b=o>>2,N=(o&3)<<4|c>>4,E=(c&15)<<2|m>>6,S=m&63;d||(S=64,a||(E=64)),s.push(n[b],n[N],n[E],n[S])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Q_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let m=i<t.length?n[t.charAt(i)]:64;++i;let N=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||m==null||N==null)throw new Og;let E=o<<2|c>>4;if(s.push(E),m!==64){let S=c<<4&240|m>>2;if(s.push(S),N!==64){let j=m<<6&192|N;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Og=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},dC=function(t){let e=Q_(t);return J_.encodeByteArray(e,!0)},Lg=function(t){return dC(t).replace(/\./g,"")},hC=function(t){try{return J_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var mC=()=>pC().__FIREBASE_DEFAULTS__,fC=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&hC(t[1]);return e&&JSON.parse(e)},vC=()=>{try{return mC()||fC()||gC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}};var Mg=()=>{var t;return(t=vC())===null||t===void 0?void 0:t.config};var jh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}};function Y_(){try{return typeof indexedDB=="object"}catch{return!1}}function X_(){return new Promise((t,e)=>{try{let n=!0,s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var bC="FirebaseError",To=class t extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=bC,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zu.prototype.create)}},Zu=class{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){let s=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?xC(o,s):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new To(i,c,s)}};function xC(t,e){return t.replace(yC,(n,s)=>{let i=e[s];return i!=null?String(i):`<${s}?>`})}var yC=/\{\$([^}]+)}/g;function zh(t,e){if(t===e)return!0;let n=Object.keys(t),s=Object.keys(e);for(let i of n){if(!s.includes(i))return!1;let o=t[i],a=e[i];if(K_(o)&&K_(a)){if(!zh(o,a))return!1}else if(o!==a)return!1}for(let i of s)if(!n.includes(i))return!1;return!0}function K_(t){return t!==null&&typeof t=="object"}var pD=14400*1e3;var Co=class{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ko="[DEFAULT]";var Vg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let s=new jh;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let s=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NC(e))try{this.getOrInitializeService({instanceIdentifier:ko})}catch{}for(let[n,s]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});s.resolve(o)}catch{}}}}clearInstance(e=ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ko){return this.instances.has(e)}getOptions(e=ko){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(let[o,a]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);s===c&&a.resolve(i)}return i}onInit(e,n){var s;let i=this.normalizeInstanceIdentifier(n),o=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;o.add(e),this.onInitCallbacks.set(i,o);let a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let s=this.onInitCallbacks.get(n);if(s)for(let i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:wC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ko){return this.component?this.component.multipleInstances?e:ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wC(t){return t===ko?void 0:t}function NC(t){return t.instantiationMode==="EAGER"}var Bh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Vg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var _C=[],Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));var EC={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},IC=Ye.INFO,SC={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},TC=(t,e,...n)=>{if(e<t.logLevel)return;let s=new Date().toISOString(),i=SC[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},qh=class{constructor(e){this.name=e,this._logLevel=IC,this._logHandler=TC,this._userLogHandler=null,_C.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}};var kC=(t,e)=>e.some(n=>t instanceof n),Z_,R_;function CC(){return Z_||(Z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AC(){return R_||(R_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var eE=new WeakMap,Fg=new WeakMap,tE=new WeakMap,$g=new WeakMap,jg=new WeakMap;function PC(t){let e=new Promise((n,s)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Zr(t.result)),i()},a=()=>{s(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&eE.set(n,t)}).catch(()=>{}),jg.set(e,t),e}function DC(t){if(Fg.has(t))return;let e=new Promise((n,s)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Fg.set(t,e)}var Ug={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nE(t){Ug=t(Ug)}function OC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let s=t.call(Gh(this),e,...n);return tE.set(s,e.sort?e.sort():[e]),Zr(s)}:AC().includes(t)?function(...e){return t.apply(Gh(this),e),Zr(eE.get(this))}:function(...e){return Zr(t.apply(Gh(this),e))}}function LC(t){return typeof t=="function"?OC(t):(t instanceof IDBTransaction&&DC(t),kC(t,CC())?new Proxy(t,Ug):t)}function Zr(t){if(t instanceof IDBRequest)return PC(t);if($g.has(t))return $g.get(t);let e=LC(t);return e!==t&&($g.set(t,e),jg.set(e,t)),e}var Gh=t=>jg.get(t);function sE(t,e,{blocked:n,upgrade:s,blocking:i,terminated:o}={}){let a=indexedDB.open(t,e),c=Zr(a);return s&&a.addEventListener("upgradeneeded",d=>{s(Zr(a.result),d.oldVersion,d.newVersion,Zr(a.transaction),d)}),n&&a.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),c}var MC=["get","getKey","getAll","getAllKeys","count"],VC=["put","add","delete","clear"],zg=new Map;function rE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zg.get(e))return zg.get(e);let n=e.replace(/FromIndex$/,""),s=e!==n,i=VC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||MC.includes(n)))return;let o=async function(a,...c){let d=this.transaction(a,i?"readwrite":"readonly"),m=d.store;return s&&(m=m.index(c.shift())),(await Promise.all([m[n](...c),i&&d.done]))[0]};return zg.set(e,o),o}nE(t=>({...t,get:(e,n,s)=>rE(e,n)||t.get(e,n,s),has:(e,n)=>!!rE(e,n)||t.has(e,n)}));var qg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($C(n)){let s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}};function $C(t){let e=t.getComponent();return e?.type==="VERSION"}var Gg="@firebase/app",iE="0.10.13";var Vs=new qh("@firebase/app"),FC="@firebase/app-compat",UC="@firebase/analytics-compat",jC="@firebase/analytics",zC="@firebase/app-check-compat",BC="@firebase/app-check",qC="@firebase/auth",GC="@firebase/auth-compat",HC="@firebase/database",WC="@firebase/data-connect",KC="@firebase/database-compat",QC="@firebase/functions",JC="@firebase/functions-compat",YC="@firebase/installations",XC="@firebase/installations-compat",ZC="@firebase/messaging",RC="@firebase/messaging-compat",e2="@firebase/performance",t2="@firebase/performance-compat",n2="@firebase/remote-config",r2="@firebase/remote-config-compat",s2="@firebase/storage",i2="@firebase/storage-compat",o2="@firebase/firestore",a2="@firebase/vertexai-preview",l2="@firebase/firestore-compat",u2="firebase",c2="10.14.1";var Hg="[DEFAULT]",d2={[Gg]:"fire-core",[FC]:"fire-core-compat",[jC]:"fire-analytics",[UC]:"fire-analytics-compat",[BC]:"fire-app-check",[zC]:"fire-app-check-compat",[qC]:"fire-auth",[GC]:"fire-auth-compat",[HC]:"fire-rtdb",[WC]:"fire-data-connect",[KC]:"fire-rtdb-compat",[QC]:"fire-fn",[JC]:"fire-fn-compat",[YC]:"fire-iid",[XC]:"fire-iid-compat",[ZC]:"fire-fcm",[RC]:"fire-fcm-compat",[e2]:"fire-perf",[t2]:"fire-perf-compat",[n2]:"fire-rc",[r2]:"fire-rc-compat",[s2]:"fire-gcs",[i2]:"fire-gcs-compat",[o2]:"fire-fst",[l2]:"fire-fst-compat",[a2]:"fire-vertex","fire-js":"fire-js",[u2]:"fire-js-all"};var Hh=new Map,h2=new Map,Wg=new Map;function oE(t,e){try{t.container.addComponent(e)}catch(n){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $i(t){let e=t.name;if(Wg.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;Wg.set(e,t);for(let n of Hh.values())oE(n,t);for(let n of h2.values())oE(n,t);return!0}function ec(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ln(t){return t.settings!==void 0}var p2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new Zu("app","Firebase",p2);var Kg=class{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}};var Fi=c2;function Yg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let s=Object.assign({name:Hg,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw Vi.create("bad-app-name",{appName:String(i)});if(n||(n=Mg()),!n)throw Vi.create("no-options");let o=Hh.get(i);if(o){if(zh(n,o.options)&&zh(s,o.config))return o;throw Vi.create("duplicate-app",{appName:i})}let a=new Bh(i);for(let d of Wg.values())a.addComponent(d);let c=new Kg(n,s,a);return Hh.set(i,c),c}function Wh(t=Hg){let e=Hh.get(t);if(!e&&t===Hg&&Mg())return Yg();if(!e)throw Vi.create("no-app",{appName:t});return e}function _r(t,e,n){var s;let i=(s=d2[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(c.join(" "));return}$i(new Co(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var m2="firebase-heartbeat-database",f2=1,Ru="firebase-heartbeat-store",Bg=null;function cE(){return Bg||(Bg=sE(m2,f2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ru)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vi.create("idb-open",{originalErrorMessage:t.message})})),Bg}async function g2(t){try{let n=(await cE()).transaction(Ru),s=await n.objectStore(Ru).get(dE(t));return await n.done,s}catch(e){if(e instanceof To)Vs.warn(e.message);else{let n=Vi.create("idb-get",{originalErrorMessage:e?.message});Vs.warn(n.message)}}}async function aE(t,e){try{let s=(await cE()).transaction(Ru,"readwrite");await s.objectStore(Ru).put(e,dE(t)),await s.done}catch(n){if(n instanceof To)Vs.warn(n.message);else{let s=Vi.create("idb-set",{originalErrorMessage:n?.message});Vs.warn(s.message)}}}function dE(t){return`${t.name}!${t.options.appId}`}var v2=1024,b2=720*60*60*1e3,Qg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Jg(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=lE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let c=new Date(a.date).valueOf();return Date.now()-c<=b2}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Vs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=lE(),{heartbeatsToSend:s,unsentEntries:i}=x2(this._heartbeatsCache.heartbeats),o=Lg(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Vs.warn(n),""}}};function lE(){return new Date().toISOString().substring(0,10)}function x2(t,e=v2){let n=[],s=t.slice();for(let i of t){let o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),uE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),uE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}var Jg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y_()?X_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await g2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return aE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return aE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function uE(t){return Lg(JSON.stringify({version:2,heartbeats:t})).length}function y2(t){$i(new Co("platform-logger",e=>new qg(e),"PRIVATE")),$i(new Co("heartbeat",e=>new Qg(e),"PRIVATE")),_r(Gg,iE,t),_r(Gg,iE,"esm2017"),_r("fire-js","")}y2("");var w2="firebase",N2="10.14.1";_r(w2,N2,"app");var _2=function(t){let e=[],n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},E2=function(t){let e=[],n=0,s=0;for(;n<t.length;){let i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[s++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],a=t[n++],c=t[n++],d=((i&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{let o=t[n++],a=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},I2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){let o=t[i],a=i+1<t.length,c=a?t[i+1]:0,d=i+2<t.length,m=d?t[i+2]:0,b=o>>2,N=(o&3)<<4|c>>4,E=(c&15)<<2|m>>6,S=m&63;d||(S=64,a||(E=64)),s.push(n[b],n[N],n[E],n[S])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):E2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let m=i<t.length?n[t.charAt(i)]:64;++i;let N=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||m==null||N==null)throw new Zg;let E=o<<2|c>>4;if(s.push(E),m!==64){let S=c<<4&240|m>>2;if(s.push(S),N!==64){let j=m<<6&192|N;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Zg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};var ev=function(t){try{return I2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function S2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var T2=()=>S2().__FIREBASE_DEFAULTS__,k2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},C2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&ev(t[1]);return e&&JSON.parse(e)},pE=()=>{try{return T2()||k2()||C2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mE=t=>{var e,n;return(n=(e=pE())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]};var tv=t=>{var e;return(e=pE())===null||e===void 0?void 0:e[`_${t}`]};function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function gE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vE(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xE(){let t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}var A2="FirebaseError",Ao=class t extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=A2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Po.prototype.create)}},Po=class{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){let s=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?P2(o,s):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new Ao(i,c,s)}};function P2(t,e){return t.replace(D2,(n,s)=>{let i=e[s];return i!=null?String(i):`<${s}?>`})}var D2=/\{\$([^}]+)}/g;function yE(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nv(t,e){if(t===e)return!0;let n=Object.keys(t),s=Object.keys(e);for(let i of n){if(!s.includes(i))return!1;let o=t[i],a=e[i];if(hE(o)&&hE(a)){if(!nv(o,a))return!1}else if(o!==a)return!1}for(let i of s)if(!n.includes(i))return!1;return!0}function hE(t){return t!==null&&typeof t=="object"}function nl(t){let e=[];for(let[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function rl(t){let e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){let[i,o]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function sl(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wE(t,e){let n=new Rg(t,e);return n.subscribe.bind(n)}var Rg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");O2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=Xg),i.error===void 0&&(i.error=Xg),i.complete===void 0&&(i.complete=Xg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function O2(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xg(){}var MD=14400*1e3;function Rr(t){return t&&t._delegate?t._delegate:t}var L2=[],ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));var M2={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},V2=ze.INFO,$2={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},F2=(t,e,...n)=>{if(e<t.logLevel)return;let s=new Date().toISOString(),i=$2[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Kh=class{constructor(e){this.name=e,this._logLevel=V2,this._logHandler=F2,this._userLogHandler=null,L2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}};function Qh(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}var tc=class{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};function FE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var UE=FE,jE=new Po("auth","Firebase",FE());var ep=new Kh("@firebase/auth");function U2(t,...e){ep.logLevel<=ze.WARN&&ep.warn(`Auth (${Fi}): ${t}`,...e)}function Yh(t,...e){ep.logLevel<=ze.ERROR&&ep.error(`Auth (${Fi}): ${t}`,...e)}function Ir(t,...e){throw Ev(t,...e)}function ts(t,...e){return Ev(t,...e)}function zE(t,e,n){let s=Object.assign(Object.assign({},UE()),{[e]:n});return new Po("auth","Firebase",s).create(e,{appName:t.name})}function Er(t){return zE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ev(t,...e){if(typeof t!="string"){let n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return jE.create(t,...e)}function he(t,e,...n){if(!t)throw Ev(e,...n)}function es(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Yh(e),new Error(e)}function Fs(t,e){t||es(e)}function iv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function j2(){return NE()==="http:"||NE()==="https:"}function NE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function z2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j2()||vE()||"connection"in navigator)?navigator.onLine:!0}function B2(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Do=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fs(n>e,"Short delay should be less than long delay!"),this.isMobile=fE()||bE()}get(){return z2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Iv(t,e){Fs(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var tp=class{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var q2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var G2=new Do(3e4,6e4);function bt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xt(t,e,n,s,i={}){return BE(t,i,async()=>{let o={},a={};s&&(e==="GET"?a=s:o={body:JSON.stringify(s)});let c=nl(Object.assign({key:t.config.apiKey},a)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);let m=Object.assign({method:e,headers:d},o);return gE()||(m.referrerPolicy="no-referrer"),tp.fetch()(qE(t,t.config.apiHost,n,c),m)})}async function BE(t,e,n){t._canInitEmulator=!1;let s=Object.assign(Object.assign({},q2),e);try{let i=new ov(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let a=await o.json();if("needConfirmation"in a)throw nc(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{let c=o.ok?a.errorMessage:a.error.message,[d,m]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw nc(t,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw nc(t,"email-already-in-use",a);if(d==="USER_DISABLED")throw nc(t,"user-disabled",a);let b=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw zE(t,b,m);Ir(t,b)}}catch(i){if(i instanceof Ao)throw i;Ir(t,"network-request-failed",{message:String(i)})}}async function js(t,e,n,s,i={}){let o=await Xt(t,e,n,s,i);return"mfaPendingCredential"in o&&Ir(t,"multi-factor-auth-required",{_serverResponse:o}),o}function qE(t,e,n,s){let i=`${e}${n}?${s}`;return t.config.emulator?Iv(t.config,i):`${t.config.apiScheme}://${i}`}function H2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ov=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ts(this.auth,"network-request-failed")),G2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function nc(t,e,n){let s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);let i=ts(t,e,s);return i.customData._tokenResponse=n,i}function _E(t){return t!==void 0&&t.enterprise!==void 0}var av=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return H2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};async function W2(t,e){return Xt(t,"GET","/v2/recaptchaConfig",bt(t,e))}async function K2(t,e){return Xt(t,"POST","/v1/accounts:delete",e)}async function GE(t,e){return Xt(t,"POST","/v1/accounts:lookup",e)}function rc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HE(t,e=!1){let n=Rr(t),s=await n.getIdToken(e),i=Sv(s);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,a=o?.sign_in_provider;return{claims:i,token:s,authTime:rc(rv(i.auth_time)),issuedAtTime:rc(rv(i.iat)),expirationTime:rc(rv(i.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}}function rv(t){return Number(t)*1e3}function Sv(t){let[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Yh("JWT malformed, contained fewer than 3 sections"),null;try{let i=ev(n);return i?JSON.parse(i):(Yh("Failed to decode base64 JWT payload"),null)}catch(i){return Yh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function EE(t){let e=Sv(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ic(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ao&&Q2(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Q2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var lv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var oc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rc(this.lastLoginAt),this.creationTime=rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function np(t){var e;let n=t.auth,s=await t.getIdToken(),i=await ic(t,GE(n,{idToken:s}));he(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?KE(o.providerUserInfo):[],c=J2(t.providerData,a),d=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!c?.length,b=d?m:!1,N={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new oc(o.createdAt,o.lastLoginAt),isAnonymous:b};Object.assign(t,N)}async function WE(t){let e=Rr(t);await np(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J2(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function KE(t){return t.map(e=>{var{providerId:n}=e,s=Qh(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}async function Y2(t,e){let n=await BE(t,{},async()=>{let s=nl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=qE(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",tp.fetch()(a,{method:"POST",headers:c,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function X2(t,e){return Xt(t,"POST","/v2/accounts:revokeToken",bt(t,e))}var sc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):EE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");let n=EE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:s,refreshToken:i,expiresIn:o}=await Y2(e,n);this.updateTokensAndExpiration(s,i,Number(o))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){let{refreshToken:s,accessToken:i,expirationTime:o}=n,a=new t;return s&&(he(typeof s=="string","internal-error",{appName:e}),a.refreshToken=s),i&&(he(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(he(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return es("not implemented")}};function Ui(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ol=class t{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,o=Qh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new oc(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let n=await ic(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HE(this,e)}reload(){return WE(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await np(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Er(this.auth));let e=await this.getIdToken();return await ic(this,K2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,o,a,c,d,m,b;let N=(s=n.displayName)!==null&&s!==void 0?s:void 0,E=(i=n.email)!==null&&i!==void 0?i:void 0,S=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,j=(a=n.photoURL)!==null&&a!==void 0?a:void 0,z=(c=n.tenantId)!==null&&c!==void 0?c:void 0,f=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,P=(m=n.createdAt)!==null&&m!==void 0?m:void 0,w=(b=n.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:C,emailVerified:q,isAnonymous:te,providerData:ee,stsTokenManager:A}=n;he(C&&A,e,"internal-error");let I=sc.fromJSON(this.name,A);he(typeof C=="string",e,"internal-error"),Ui(N,e.name),Ui(E,e.name),he(typeof q=="boolean",e,"internal-error"),he(typeof te=="boolean",e,"internal-error"),Ui(S,e.name),Ui(j,e.name),Ui(z,e.name),Ui(f,e.name),Ui(P,e.name),Ui(w,e.name);let T=new t({uid:C,auth:e,email:E,emailVerified:q,displayName:N,isAnonymous:te,photoURL:j,phoneNumber:S,tenantId:z,stsTokenManager:I,createdAt:P,lastLoginAt:w});return ee&&Array.isArray(ee)&&(T.providerData=ee.map(D=>Object.assign({},D))),f&&(T._redirectEventId=f),T}static async _fromIdTokenResponse(e,n,s=!1){let i=new sc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await np(o),o}static async _fromGetAccountInfoResponse(e,n,s){let i=n.users[0];he(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?KE(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!o?.length,c=new sc;c.updateFromIdToken(s);let d=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new oc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(d,m),d}};var IE=new Map;function $s(t){Fs(t instanceof Function,"Expected a class definition");let e=IE.get(t);return e?(Fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,IE.set(t,e),e)}var rp=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){let n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};rp.type="NONE";var uv=rp;function Xh(t,e,n){return`firebase:${t}:${e}:${n}`}var sp=class t{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;let{config:i,name:o}=this.auth;this.fullUserKey=Xh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Xh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?ol._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new t($s(uv),e,s);let i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m),o=i[0]||$s(uv),a=Xh(s,e.config.apiKey,e.name),c=null;for(let m of n)try{let b=await m._get(a);if(b){let N=ol._fromJSON(e,b);m!==o&&(c=N),o=m;break}}catch{}let d=i.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new t(o,e,s):(o=d[0],c&&await o._set(a,c.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(a)}catch{}})),new t(o,e,s))}};function SE(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RE(e))return"Blackberry";if(eI(e))return"Webos";if(JE(e))return"Safari";if((e.includes("chrome/")||YE(e))&&!e.includes("edge/"))return"Chrome";if(ZE(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function QE(t=Yt()){return/firefox\//i.test(t)}function JE(t=Yt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YE(t=Yt()){return/crios\//i.test(t)}function XE(t=Yt()){return/iemobile/i.test(t)}function ZE(t=Yt()){return/android/i.test(t)}function RE(t=Yt()){return/blackberry/i.test(t)}function eI(t=Yt()){return/webos/i.test(t)}function Tv(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Z2(t=Yt()){var e;return Tv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function R2(){return xE()&&document.documentMode===10}function tI(t=Yt()){return Tv(t)||ZE(t)||eI(t)||RE(t)||/windows phone/i.test(t)||XE(t)}function nI(t,e=[]){let n;switch(t){case"Browser":n=SE(Yt());break;case"Worker":n=`${SE(Yt())}-${t}`;break;default:n=t}let s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fi}/${s}`}var cv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let s=o=>new Promise((a,c)=>{try{let d=e(o);a(d)}catch(d){c(d)}});s.onAbort=n,this.queue.push(s);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}};async function eA(t,e={}){return Xt(t,"GET","/v2/passwordPolicy",bt(t,e))}var tA=6,dv=class{constructor(e){var n,s,i,o;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:tA,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,i,o,a,c;let d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(s=d.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(a=d.containsNumericCharacter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){let s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var hv=class{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ip(this),this.idTokenSubscription=new ip(this),this.beforeStateQueue=new cv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$s(n)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await sp.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await GE(this,{idToken:e}),s=await ol._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ln(this.app)){let a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}let s=await this.assertedPersistence.getCurrentUser(),i=s,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===c)&&d?.user&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await np(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=B2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(Er(this));let n=e?Rr(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(Er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await eA(this),n=new dv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Po("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await X2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){let s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&$s(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await sp.create(this,[$s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),a=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(c,this,"internal-error"),c.then(()=>{a||o(this.currentUser)}),typeof n=="function"){let d=e.addObserver(n,s,i);return()=>{a=!0,d()}}else{let d=e.addObserver(n);return()=>{a=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);let i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;let n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&U2(`Error while retrieving App Check token: ${n.error}`),n?.token}};function rs(t){return Rr(t)}var ip=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wE(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Np={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nA(t){Np=t}function rI(t){return Np.loadJS(t)}function rA(){return Np.recaptchaEnterpriseScript}function sA(){return Np.gapiScript}function sI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var iA="recaptcha-enterprise",oA="NO_RECAPTCHA",pv=class{constructor(e){this.type=iA,this.auth=rs(e)}async verify(e="verify",n=!1){async function s(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,c)=>{W2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let m=new av(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,a(m.siteKey)}}).catch(d=>{c(d)})})}function i(o,a,c){let d=window.grecaptcha;_E(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(m=>{a(m)}).catch(()=>{a(oA)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{s(this.auth).then(c=>{if(!n&&_E(window.grecaptcha))i(c,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let d=rA();d.length!==0&&(d+=c),rI(d).then(()=>{i(c,o,a)}).catch(m=>{a(m)})}}).catch(c=>{a(c)})})}};async function TE(t,e,n,s=!1){let i=new pv(t),o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}let a=Object.assign({},e);return s?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function mv(t,e,n,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=await TE(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let a=await TE(t,e,n,n==="getOobCode");return s(t,a)}else return Promise.reject(o)})}function iI(t,e){let n=ec(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(nv(o,e??{}))return i;Ir(i,"already-initialized")}return n.initialize({options:e})}function aA(t,e){let n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map($s);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function oI(t,e,n){let s=rs(t);he(s._canInitEmulator,s,"emulator-config-failed"),he(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=aI(e),{host:a,port:c}=lA(e),d=c===null?"":`:${c}`;s.config.emulator={url:`${o}//${a}${d}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||uA()}function aI(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lA(t){let e=aI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){let o=i[1];return{host:o,port:kE(s.substr(o.length+1))}}else{let[o,a]=s.split(":");return{host:o,port:kE(a)}}}function kE(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function uA(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Oo=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,n){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}};async function cA(t,e){return Xt(t,"POST","/v1/accounts:signUp",e)}async function dA(t,e){return js(t,"POST","/v1/accounts:signInWithPassword",bt(t,e))}async function hA(t,e){return js(t,"POST","/v1/accounts:signInWithEmailLink",bt(t,e))}async function pA(t,e){return js(t,"POST","/v1/accounts:signInWithEmailLink",bt(t,e))}var ac=class t extends Oo{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new t(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mv(e,n,"signInWithPassword",dA);case"emailLink":return hA(e,{email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":let s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mv(e,s,"signUpPassword",cA);case"emailLink":return pA(e,{idToken:n,email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function il(t,e){return js(t,"POST","/v1/accounts:signInWithIdp",bt(t,e))}var mA="http://localhost",Lo=class t extends Oo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,o=Qh(n,["providerId","signInMethod"]);if(!s||!i)return null;let a=new t(s,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){let n=this.buildRequest();return il(e,n)}_linkToIdToken(e,n){let s=this.buildRequest();return s.idToken=n,il(e,s)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,il(e,n)}buildRequest(){let e={requestUri:mA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nl(n)}return e}};async function fA(t,e){return Xt(t,"POST","/v1/accounts:sendVerificationCode",bt(t,e))}async function gA(t,e){return js(t,"POST","/v1/accounts:signInWithPhoneNumber",bt(t,e))}async function vA(t,e){let n=await js(t,"POST","/v1/accounts:signInWithPhoneNumber",bt(t,e));if(n.temporaryProof)throw nc(t,"account-exists-with-different-credential",n);return n}var bA={USER_NOT_FOUND:"user-not-found"};async function xA(t,e){let n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return js(t,"POST","/v1/accounts:signInWithPhoneNumber",bt(t,n),bA)}var lc=class t extends Oo{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new t({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new t({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return gA(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return vA(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return xA(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:n,verificationId:s,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:s,code:i}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:n,verificationCode:s,phoneNumber:i,temporaryProof:o}=e;return!s&&!n&&!i&&!o?null:new t({verificationId:n,verificationCode:s,phoneNumber:i,temporaryProof:o})}};function yA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wA(t){let e=rl(sl(t)).link,n=e?rl(sl(e)).deep_link_id:null,s=rl(sl(t)).deep_link_id;return(s?rl(sl(s)).link:null)||s||n||e||t}var op=class t{constructor(e){var n,s,i,o,a,c;let d=rl(sl(e)),m=(n=d.apiKey)!==null&&n!==void 0?n:null,b=(s=d.oobCode)!==null&&s!==void 0?s:null,N=yA((i=d.mode)!==null&&i!==void 0?i:null);he(m&&b&&N,"argument-error"),this.apiKey=m,this.operation=N,this.code=b,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=d.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=wA(e);try{return new t(n)}catch{return null}}};var Mo=class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(e,n){return ac._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){let s=op.parseLink(n);return he(s,"argument-error"),ac._fromEmailAndCode(e,s.code,s.tenantId)}};Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ap=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Vo=class extends ap{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var uc=class t extends Vo{constructor(){super("facebook.com")}static credential(e){return Lo._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch{return null}}};uc.FACEBOOK_SIGN_IN_METHOD="facebook.com";uc.PROVIDER_ID="facebook.com";var cc=class t extends Vo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Lo._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return t.credential(n,s)}catch{return null}}};cc.GOOGLE_SIGN_IN_METHOD="google.com";cc.PROVIDER_ID="google.com";var dc=class t extends Vo{constructor(){super("github.com")}static credential(e){return Lo._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch{return null}}};dc.GITHUB_SIGN_IN_METHOD="github.com";dc.PROVIDER_ID="github.com";var hc=class t extends Vo{constructor(){super("twitter.com")}static credential(e,n){return Lo._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return t.credential(n,s)}catch{return null}}};hc.TWITTER_SIGN_IN_METHOD="twitter.com";hc.PROVIDER_ID="twitter.com";async function lI(t,e){return js(t,"POST","/v1/accounts:signUp",bt(t,e))}var Us=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){let o=await ol._fromIdTokenResponse(e,s,i),a=CE(s);return new t({user:o,providerId:a,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);let i=CE(s);return new t({user:e,providerId:i,_tokenResponse:s,operationType:n})}};function CE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function kv(t){var e;if(Ln(t.app))return Promise.reject(Er(t));let n=rs(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Us({user:n.currentUser,providerId:null,operationType:"signIn"});let s=await lI(n,{returnSecureToken:!0}),i=await Us._fromIdTokenResponse(n,"signIn",s,!0);return await n._updateCurrentUser(i.user),i}var fv=class t extends Ao{constructor(e,n,s,i){var o;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new t(e,n,s,i)}};function uI(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fv._fromErrorAndOperation(t,o,e,s):o})}async function NA(t,e,n=!1){let s=await ic(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Us._forOperation(t,"link",s)}async function _A(t,e,n=!1){let{auth:s}=t;if(Ln(s.app))return Promise.reject(Er(s));let i="reauthenticate";try{let o=await ic(t,uI(s,i,e,t),n);he(o.idToken,s,"internal-error");let a=Sv(o.idToken);he(a,s,"internal-error");let{sub:c}=a;return he(t.uid===c,s,"user-mismatch"),Us._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ir(s,"user-mismatch"),o}}async function cI(t,e,n=!1){if(Ln(t.app))return Promise.reject(Er(t));let s="signIn",i=await uI(t,s,e),o=await Us._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(o.user),o}async function dI(t,e){return cI(rs(t),e)}async function EA(t,e){return js(t,"POST","/v1/accounts:signInWithCustomToken",bt(t,e))}async function _p(t,e){if(Ln(t.app))return Promise.reject(Er(t));let n=rs(t),s=await EA(n,{token:e,returnSecureToken:!0}),i=await Us._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(i.user),i}async function hI(t){let e=rs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Cv(t,e,n){if(Ln(t.app))return Promise.reject(Er(t));let s=rs(t),a=await mv(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lI).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&hI(t),d}),c=await Us._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(c.user),c}function Ep(t,e,n){return Ln(t.app)?Promise.reject(Er(t)):dI(Rr(t),Mo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&hI(t),s})}function pI(t,e,n,s){return Rr(t).onIdTokenChanged(e,n,s)}function mI(t,e,n){return Rr(t).beforeAuthStateChanged(e,n)}function Ip(t,e,n,s){return Rr(t).onAuthStateChanged(e,n,s)}function IA(t,e){return Xt(t,"POST","/v2/accounts/mfaEnrollment:start",bt(t,e))}function SA(t,e){return Xt(t,"POST","/v2/accounts/mfaEnrollment:finalize",bt(t,e))}function TA(t,e){return Xt(t,"POST","/v2/accounts/mfaEnrollment:start",bt(t,e))}function kA(t,e){return Xt(t,"POST","/v2/accounts/mfaEnrollment:finalize",bt(t,e))}var lp="__sak";var up=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lp,"1"),this.storage.removeItem(lp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var CA=1e3,AA=10,cp=class extends up{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let n of Object.keys(this.listeners)){let s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,d)=>{this.notifyListeners(a,d)});return}let s=e.key;n?this.detachListener():this.stopPolling();let i=()=>{let a=this.storage.getItem(s);!n&&this.localCache[s]===a||this.notifyListeners(s,a)},o=this.storage.getItem(s);R2()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,AA):i()}notifyListeners(e,n){this.localCache[e]=n;let s=this.listeners[e];if(s)for(let i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},CA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){let n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}};cp.type="LOCAL";var fI=cp;var dp=class extends up{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}};dp.type="SESSION";var Av=dp;function PA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}var hp=class t{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;let s=new t(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let n=e,{eventId:s,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});let c=Array.from(a).map(async m=>m(n.origin,o)),d=await PA(c);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};hp.receivers=[];function Pv(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}var gv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((c,d)=>{let m=Pv("",20);i.port1.start();let b=setTimeout(()=>{d(new Error("unsupported_event"))},s);a={messageChannel:i,onMessage(N){let E=N;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(b),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(E.data.response);break;default:clearTimeout(b),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}};function ns(){return window}function DA(t){ns().location.href=t}function gI(){return typeof ns().WorkerGlobalScope<"u"&&typeof ns().importScripts=="function"}async function OA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LA(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function MA(){return gI()?self:null}var vI="firebaseLocalStorageDb",VA=1,pp="firebaseLocalStorage",bI="fbase_key",$o=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Sp(t,e){return t.transaction([pp],e?"readwrite":"readonly").objectStore(pp)}function $A(){let t=indexedDB.deleteDatabase(vI);return new $o(t).toPromise()}function vv(){let t=indexedDB.open(vI,VA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let s=t.result;try{s.createObjectStore(pp,{keyPath:bI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{let s=t.result;s.objectStoreNames.contains(pp)?e(s):(s.close(),await $A(),e(await vv()))})})}async function AE(t,e,n){let s=Sp(t,!0).put({[bI]:e,value:n});return new $o(s).toPromise()}async function FA(t,e){let n=Sp(t,!1).get(e),s=await new $o(n).toPromise();return s===void 0?null:s.value}function PE(t,e){let n=Sp(t,!0).delete(e);return new $o(n).toPromise()}var UA=800,jA=3,mp=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vv(),this.db)}async _withRetries(e){let n=0;for(;;)try{let s=await this._openDb();return await e(s)}catch(s){if(n++>jA)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hp._getInstance(MA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await OA(),!this.activeServiceWorker)return;this.sender=new gv(this.activeServiceWorker);let s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await vv();return await AE(e,lp,"1"),await PE(e,lp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>AE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){let n=await this._withRetries(s=>FA(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>PE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(i=>{let o=Sp(i,!1).getAll();return new $o(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let n=[],s=new Set;if(e.length!==0)for(let{fbase_key:i,value:o}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(let i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;let s=this.listeners[e];if(s)for(let i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};mp.type="LOCAL";var xI=mp;function zA(t,e){return Xt(t,"POST","/v2/accounts/mfaSignIn:start",bt(t,e))}function BA(t,e){return Xt(t,"POST","/v2/accounts/mfaSignIn:finalize",bt(t,e))}function qA(t,e){return Xt(t,"POST","/v2/accounts/mfaSignIn:finalize",bt(t,e))}var KD=sI("rcb"),QD=new Do(3e4,6e4);var GA="recaptcha";async function HA(t,e,n){var s;let i=await n.verify();try{he(typeof i=="string",t,"argument-error"),he(n.type===GA,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){let a=o.session;if("phoneNumber"in o)return he(a.type==="enroll",t,"internal-error"),(await IA(t,{idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{he(a.type==="signin",t,"internal-error");let c=((s=o.multiFactorHint)===null||s===void 0?void 0:s.uid)||o.multiFactorUid;return he(c,t,"missing-multi-factor-info"),(await zA(t,{mfaPendingCredential:a.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{let{sessionInfo:a}=await fA(t,{phoneNumber:o.phoneNumber,recaptchaToken:i});return a}}finally{n._reset()}}var pc=class t{constructor(e){this.providerId=t.PROVIDER_ID,this.auth=rs(e)}verifyPhoneNumber(e,n){return HA(this.auth,e,Rr(n))}static credential(e,n){return lc._fromVerification(e,n)}static credentialFromResult(e){let n=e;return t.credentialFromTaggedObject(n)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:n,temporaryProof:s}=e;return n&&s?lc._fromTokenResponse(n,s):null}};pc.PROVIDER_ID="phone";pc.PHONE_SIGN_IN_METHOD="phone";function WA(t,e){return e?$s(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var mc=class extends Oo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return il(e,this._buildIdpRequest())}_linkToIdToken(e,n){return il(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return il(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function KA(t){return cI(t.auth,new mc(t),t.bypassAuthState)}function QA(t){let{auth:e,user:n}=t;return he(n,e,"internal-error"),_A(n,new mc(t),t.bypassAuthState)}async function JA(t){let{auth:e,user:n}=t;return he(n,e,"internal-error"),NA(n,new mc(t),t.bypassAuthState)}var fp=class{constructor(e,n,s,i,o=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:s,postBody:i,tenantId:o,error:a,type:c}=e;if(a){this.reject(a);return}let d={auth:this.auth,requestUri:n,sessionId:s,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KA;case"linkViaPopup":case"linkViaRedirect":return JA;case"reauthViaPopup":case"reauthViaRedirect":return QA;default:Ir(this.auth,"internal-error")}}resolve(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var YA=new Do(2e3,1e4);var bv=class t extends fp{constructor(e,n,s,i,o){super(e,n,i,o),this.provider=s,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){Fs(this.filter.length===1,"Popup operations only handle one event");let e=Pv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YA.get())};e()}};bv.currentPopupAction=null;var XA="pendingRedirect",Zh=new Map,xv=class extends fp{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Zh.get(this.auth._key());if(!e){try{let s=await ZA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Zh.set(this.auth._key(),e)}return this.bypassAuthState||Zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function ZA(t,e){let n=tP(e),s=eP(t);if(!await s._isAvailable())return!1;let i=await s._get(n)==="true";return await s._remove(n),i}function RA(t,e){Zh.set(t._key(),e)}function eP(t){return $s(t._redirectPersistence)}function tP(t){return Xh(XA,t.config.apiKey,t.name)}async function nP(t,e,n=!1){if(Ln(t.app))return Promise.reject(Er(t));let s=rs(t),i=WA(s,e),a=await new xv(s,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await s._persistUserIfCurrent(a.user),await s._setRedirectUser(null,e)),a}var rP=600*1e3,yv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!yI(e)){let i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ts(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rP&&this.cachedEventUids.clear(),this.cachedEventUids.has(DE(e))}saveEventToCache(e){this.cachedEventUids.add(DE(e)),this.lastProcessedEventTime=Date.now()}};function DE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function sP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yI(t);default:return!1}}async function iP(t,e={}){return Xt(t,"GET","/v1/projects",e)}var oP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aP=/^https?/;async function lP(t){if(t.config.emulator)return;let{authorizedDomains:e}=await iP(t);for(let n of e)try{if(uP(n))return}catch{}Ir(t,"unauthorized-domain")}function uP(t){let e=iv(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){let a=new URL(t);return a.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===s}if(!aP.test(n))return!1;if(oP.test(t))return s===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}var cP=new Do(3e4,6e4);function OE(){let t=ns().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dP(t){return new Promise((e,n)=>{var s,i,o;function a(){OE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OE(),n(ts(t,"network-request-failed"))},timeout:cP.get()})}if(!((i=(s=ns().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ns().gapi)===null||o===void 0)&&o.load)a();else{let c=sI("iframefcb");return ns()[c]=()=>{gapi.load?a():n(ts(t,"network-request-failed"))},rI(`${sA()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw Rh=null,e})}var Rh=null;function hP(t){return Rh=Rh||dP(t),Rh}var pP=new Do(5e3,15e3),mP="__/auth/iframe",fP="emulator/auth/iframe",gP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bP(t){let e=t.config;he(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Iv(e,fP):`https://${t.config.authDomain}/${mP}`,s={apiKey:e.apiKey,appName:t.name,v:Fi},i=vP.get(t.config.apiHost);i&&(s.eid=i);let o=t._getFrameworks();return o.length&&(s.fw=o.join(",")),`${n}?${nl(s).slice(1)}`}async function xP(t){let e=await hP(t),n=ns().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:bP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gP,dontclear:!0},s=>new Promise(async(i,o)=>{await s.restyle({setHideOnLeave:!1});let a=ts(t,"network-request-failed"),c=ns().setTimeout(()=>{o(a)},pP.get());function d(){ns().clearTimeout(c),i(s)}s.ping(d).then(d,()=>{o(a)})}))}var yP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wP=500,NP=600,_P="_blank",EP="http://localhost",gp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function IP(t,e,n,s=wP,i=NP){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-s)/2,0).toString(),c="",d=Object.assign(Object.assign({},yP),{width:s.toString(),height:i.toString(),top:o,left:a}),m=Yt().toLowerCase();n&&(c=YE(m)?_P:n),QE(m)&&(e=e||EP,d.scrollbars="yes");let b=Object.entries(d).reduce((E,[S,j])=>`${E}${S}=${j},`,"");if(Z2(m)&&c!=="_self")return SP(e||"",c),new gp(null);let N=window.open(e||"",c,b);he(N,t,"popup-blocked");try{N.focus()}catch{}return new gp(N)}function SP(t,e){let n=document.createElement("a");n.href=t,n.target=e;let s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}var TP="__/auth/handler",kP="emulator/auth/handler",CP=encodeURIComponent("fac");async function LE(t,e,n,s,i,o){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");let a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Fi,eventId:i};if(e instanceof ap){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",yE(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[b,N]of Object.entries(o||{}))a[b]=N}if(e instanceof Vo){let b=e.getScopes().filter(N=>N!=="");b.length>0&&(a.scopes=b.join(","))}t.tenantId&&(a.tid=t.tenantId);let c=a;for(let b of Object.keys(c))c[b]===void 0&&delete c[b];let d=await t._getAppCheckToken(),m=d?`#${CP}=${encodeURIComponent(d)}`:"";return`${AP(t)}?${nl(c).slice(1)}${m}`}function AP({config:t}){return t.emulator?Iv(t,kP):`https://${t.authDomain}/${TP}`}var sv="webStorageSupport",wv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Av,this._completeRedirectFn=nP,this._overrideRedirectResult=RA}async _openPopup(e,n,s,i){var o;Fs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let a=await LE(e,n,s,iv(),i);return IP(e,a,Pv())}async _openRedirect(e,n,s,i){await this._originValidation(e);let o=await LE(e,n,s,iv(),i);return DA(o),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Fs(o,"If manager is not set, promise should be"),o)}let s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){let n=await xP(e),s=new yv(e);return n.register("authEvent",i=>(he(i?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sv,{type:sv},i=>{var o;let a=(o=i?.[0])===null||o===void 0?void 0:o[sv];a!==void 0&&n(!!a),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tI()||JE()||Tv()}},wI=wv,vp=class{constructor(e){this.factorId=e}_process(e,n,s){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,s);case"signin":return this._finalizeSignIn(e,n.credential);default:return es("unexpected MultiFactorSessionType")}}},Nv=class t extends vp{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new t(e)}_finalizeEnroll(e,n,s){return SA(e,{idToken:n,displayName:s,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return BA(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},bp=class{constructor(){}static assertion(e){return Nv._fromCredential(e)}};bp.FACTOR_ID="phone";var xp=class{static assertionForEnrollment(e,n){return yp._fromSecret(e,n)}static assertionForSignIn(e,n){return yp._fromEnrollmentId(e,n)}static async generateSecret(e){var n;let s=e;he(typeof((n=s.user)===null||n===void 0?void 0:n.auth)<"u","internal-error");let i=await TA(s.user.auth,{idToken:s.credential,totpEnrollmentInfo:{}});return wp._fromStartTotpMfaEnrollmentResponse(i,s.user.auth)}};xp.FACTOR_ID="totp";var yp=class t extends vp{constructor(e,n,s){super("totp"),this.otp=e,this.enrollmentId=n,this.secret=s}static _fromSecret(e,n){return new t(n,void 0,e)}static _fromEnrollmentId(e,n){return new t(n,e)}async _finalizeEnroll(e,n,s){return he(typeof this.secret<"u",e,"argument-error"),kA(e,{idToken:n,displayName:s,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,n){he(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");let s={verificationCode:this.otp};return qA(e,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:s})}},wp=class t{constructor(e,n,s,i,o,a,c){this.sessionInfo=a,this.auth=c,this.secretKey=e,this.hashingAlgorithm=n,this.codeLength=s,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=o}static _fromStartTotpMfaEnrollmentResponse(e,n){return new t(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,n){var s;let i=!1;return(Jh(e)||Jh(n))&&(i=!0),i&&(Jh(e)&&(e=((s=this.auth.currentUser)===null||s===void 0?void 0:s.email)||"unknownuser"),Jh(n)&&(n=this.auth.name)),`otpauth://totp/${n}:${e}?secret=${this.secretKey}&issuer=${n}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};function Jh(t){return typeof t>"u"||t?.length===0}var ME="@firebase/auth",VE="1.7.9";var _v=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function PP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DP(t){$i(new tc("auth",(e,{options:n})=>{let s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=s.options;he(a&&!a.includes(":"),"invalid-api-key",{appName:s.name});let d={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nI(t)},m=new hv(s,i,o,d);return aA(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),$i(new tc("auth-internal",e=>{let n=rs(e.getProvider("auth").getImmediate());return(s=>new _v(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_r(ME,VE,PP(t)),_r(ME,VE,"esm2017")}var OP=300,LP=tv("authIdTokenMaxAge")||OP,$E=null,MP=t=>async e=>{let n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>LP)return;let i=n?.token;$E!==i&&($E=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Dv(t=Wh()){let e=ec(t,"auth");if(e.isInitialized())return e.getImmediate();let n=iI(t,{popupRedirectResolver:wI,persistence:[xI,fI,Av]}),s=tv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(s,location.origin);if(location.origin===o.origin){let a=MP(o.toString());mI(n,a,()=>a(n.currentUser)),pI(n,c=>a(c))}}let i=mE("auth");return i&&oI(n,`http://${i}`),n}function VP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}nA({loadJS(t){return new Promise((e,n)=>{let s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{let o=ts("internal-error");o.customData=i,n(o)},s.type="text/javascript",s.charset="UTF-8",VP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DP("Browser");var _I=function(t){let e=[],n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$P=function(t){let e=[],n=0,s=0;for(;n<t.length;){let i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[s++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],a=t[n++],c=t[n++],d=((i&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{let o=t[n++],a=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},EI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){let o=t[i],a=i+1<t.length,c=a?t[i+1]:0,d=i+2<t.length,m=d?t[i+2]:0,b=o>>2,N=(o&3)<<4|c>>4,E=(c&15)<<2|m>>6,S=m&63;d||(S=64,a||(E=64)),s.push(n[b],n[N],n[E],n[S])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_I(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$P(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let m=i<t.length?n[t.charAt(i)]:64;++i;let N=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||m==null||N==null)throw new Ov;let E=o<<2|c>>4;if(s.push(E),m!==64){let S=c<<4&240|m>>2;if(s.push(S),N!==64){let j=m<<6&192|N;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ov=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},FP=function(t){let e=_I(t);return EI.encodeByteArray(e,!0)},NI=function(t){return FP(t).replace(/\./g,"")},UP=function(t){try{return EI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var zP=()=>jP().__FIREBASE_DEFAULTS__,BP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&UP(t[1]);return e&&JSON.parse(e)},II=()=>{try{return zP()||BP()||qP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GP=t=>{var e,n;return(n=(e=II())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},SI=t=>{let e=GP(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]};function TI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[NI(JSON.stringify(n)),NI(JSON.stringify(a)),""].join(".")}function kI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HP(){var t;let e=(t=II())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CI(){return!HP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var WP="FirebaseError",fc=class t extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=WP,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lv.prototype.create)}},Lv=class{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){let s=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?KP(o,s):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new fc(i,c,s)}};function KP(t,e){return t.replace(QP,(n,s)=>{let i=e[s];return i!=null?String(i):`<${s}?>`})}var QP=/\{\$([^}]+)}/g;var t3=14400*1e3;function bn(t){return t&&t._delegate?t._delegate:t}var Tp=class{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var JP=[],De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));var YP={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},XP=De.INFO,ZP={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},RP=(t,e,...n)=>{if(e<t.logLevel)return;let s=new Date().toISOString(),i=ZP[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},kp=class{constructor(e){this.name=e,this._logLevel=XP,this._logHandler=RP,this._userLogHandler=null,JP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}};var AI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},PI={};var ji,Mv;(function(){var t;function e(A,I){function T(){}T.prototype=I.prototype,A.D=I.prototype,A.prototype=new T,A.prototype.constructor=A,A.C=function(D,$,B){for(var O=Array(arguments.length-2),K=2;K<arguments.length;K++)O[K-2]=arguments[K];return I.prototype[$].apply(D,O)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,I,T){T||(T=0);var D=Array(16);if(typeof I=="string")for(var $=0;16>$;++$)D[$]=I.charCodeAt(T++)|I.charCodeAt(T++)<<8|I.charCodeAt(T++)<<16|I.charCodeAt(T++)<<24;else for($=0;16>$;++$)D[$]=I[T++]|I[T++]<<8|I[T++]<<16|I[T++]<<24;I=A.g[0],T=A.g[1],$=A.g[2];var B=A.g[3],O=I+(B^T&($^B))+D[0]+3614090360&4294967295;I=T+(O<<7&4294967295|O>>>25),O=B+($^I&(T^$))+D[1]+3905402710&4294967295,B=I+(O<<12&4294967295|O>>>20),O=$+(T^B&(I^T))+D[2]+606105819&4294967295,$=B+(O<<17&4294967295|O>>>15),O=T+(I^$&(B^I))+D[3]+3250441966&4294967295,T=$+(O<<22&4294967295|O>>>10),O=I+(B^T&($^B))+D[4]+4118548399&4294967295,I=T+(O<<7&4294967295|O>>>25),O=B+($^I&(T^$))+D[5]+1200080426&4294967295,B=I+(O<<12&4294967295|O>>>20),O=$+(T^B&(I^T))+D[6]+2821735955&4294967295,$=B+(O<<17&4294967295|O>>>15),O=T+(I^$&(B^I))+D[7]+4249261313&4294967295,T=$+(O<<22&4294967295|O>>>10),O=I+(B^T&($^B))+D[8]+1770035416&4294967295,I=T+(O<<7&4294967295|O>>>25),O=B+($^I&(T^$))+D[9]+2336552879&4294967295,B=I+(O<<12&4294967295|O>>>20),O=$+(T^B&(I^T))+D[10]+4294925233&4294967295,$=B+(O<<17&4294967295|O>>>15),O=T+(I^$&(B^I))+D[11]+2304563134&4294967295,T=$+(O<<22&4294967295|O>>>10),O=I+(B^T&($^B))+D[12]+1804603682&4294967295,I=T+(O<<7&4294967295|O>>>25),O=B+($^I&(T^$))+D[13]+4254626195&4294967295,B=I+(O<<12&4294967295|O>>>20),O=$+(T^B&(I^T))+D[14]+2792965006&4294967295,$=B+(O<<17&4294967295|O>>>15),O=T+(I^$&(B^I))+D[15]+1236535329&4294967295,T=$+(O<<22&4294967295|O>>>10),O=I+($^B&(T^$))+D[1]+4129170786&4294967295,I=T+(O<<5&4294967295|O>>>27),O=B+(T^$&(I^T))+D[6]+3225465664&4294967295,B=I+(O<<9&4294967295|O>>>23),O=$+(I^T&(B^I))+D[11]+643717713&4294967295,$=B+(O<<14&4294967295|O>>>18),O=T+(B^I&($^B))+D[0]+3921069994&4294967295,T=$+(O<<20&4294967295|O>>>12),O=I+($^B&(T^$))+D[5]+3593408605&4294967295,I=T+(O<<5&4294967295|O>>>27),O=B+(T^$&(I^T))+D[10]+38016083&4294967295,B=I+(O<<9&4294967295|O>>>23),O=$+(I^T&(B^I))+D[15]+3634488961&4294967295,$=B+(O<<14&4294967295|O>>>18),O=T+(B^I&($^B))+D[4]+3889429448&4294967295,T=$+(O<<20&4294967295|O>>>12),O=I+($^B&(T^$))+D[9]+568446438&4294967295,I=T+(O<<5&4294967295|O>>>27),O=B+(T^$&(I^T))+D[14]+3275163606&4294967295,B=I+(O<<9&4294967295|O>>>23),O=$+(I^T&(B^I))+D[3]+4107603335&4294967295,$=B+(O<<14&4294967295|O>>>18),O=T+(B^I&($^B))+D[8]+1163531501&4294967295,T=$+(O<<20&4294967295|O>>>12),O=I+($^B&(T^$))+D[13]+2850285829&4294967295,I=T+(O<<5&4294967295|O>>>27),O=B+(T^$&(I^T))+D[2]+4243563512&4294967295,B=I+(O<<9&4294967295|O>>>23),O=$+(I^T&(B^I))+D[7]+1735328473&4294967295,$=B+(O<<14&4294967295|O>>>18),O=T+(B^I&($^B))+D[12]+2368359562&4294967295,T=$+(O<<20&4294967295|O>>>12),O=I+(T^$^B)+D[5]+4294588738&4294967295,I=T+(O<<4&4294967295|O>>>28),O=B+(I^T^$)+D[8]+2272392833&4294967295,B=I+(O<<11&4294967295|O>>>21),O=$+(B^I^T)+D[11]+1839030562&4294967295,$=B+(O<<16&4294967295|O>>>16),O=T+($^B^I)+D[14]+4259657740&4294967295,T=$+(O<<23&4294967295|O>>>9),O=I+(T^$^B)+D[1]+2763975236&4294967295,I=T+(O<<4&4294967295|O>>>28),O=B+(I^T^$)+D[4]+1272893353&4294967295,B=I+(O<<11&4294967295|O>>>21),O=$+(B^I^T)+D[7]+4139469664&4294967295,$=B+(O<<16&4294967295|O>>>16),O=T+($^B^I)+D[10]+3200236656&4294967295,T=$+(O<<23&4294967295|O>>>9),O=I+(T^$^B)+D[13]+681279174&4294967295,I=T+(O<<4&4294967295|O>>>28),O=B+(I^T^$)+D[0]+3936430074&4294967295,B=I+(O<<11&4294967295|O>>>21),O=$+(B^I^T)+D[3]+3572445317&4294967295,$=B+(O<<16&4294967295|O>>>16),O=T+($^B^I)+D[6]+76029189&4294967295,T=$+(O<<23&4294967295|O>>>9),O=I+(T^$^B)+D[9]+3654602809&4294967295,I=T+(O<<4&4294967295|O>>>28),O=B+(I^T^$)+D[12]+3873151461&4294967295,B=I+(O<<11&4294967295|O>>>21),O=$+(B^I^T)+D[15]+530742520&4294967295,$=B+(O<<16&4294967295|O>>>16),O=T+($^B^I)+D[2]+3299628645&4294967295,T=$+(O<<23&4294967295|O>>>9),O=I+($^(T|~B))+D[0]+4096336452&4294967295,I=T+(O<<6&4294967295|O>>>26),O=B+(T^(I|~$))+D[7]+1126891415&4294967295,B=I+(O<<10&4294967295|O>>>22),O=$+(I^(B|~T))+D[14]+2878612391&4294967295,$=B+(O<<15&4294967295|O>>>17),O=T+(B^($|~I))+D[5]+4237533241&4294967295,T=$+(O<<21&4294967295|O>>>11),O=I+($^(T|~B))+D[12]+1700485571&4294967295,I=T+(O<<6&4294967295|O>>>26),O=B+(T^(I|~$))+D[3]+2399980690&4294967295,B=I+(O<<10&4294967295|O>>>22),O=$+(I^(B|~T))+D[10]+4293915773&4294967295,$=B+(O<<15&4294967295|O>>>17),O=T+(B^($|~I))+D[1]+2240044497&4294967295,T=$+(O<<21&4294967295|O>>>11),O=I+($^(T|~B))+D[8]+1873313359&4294967295,I=T+(O<<6&4294967295|O>>>26),O=B+(T^(I|~$))+D[15]+4264355552&4294967295,B=I+(O<<10&4294967295|O>>>22),O=$+(I^(B|~T))+D[6]+2734768916&4294967295,$=B+(O<<15&4294967295|O>>>17),O=T+(B^($|~I))+D[13]+1309151649&4294967295,T=$+(O<<21&4294967295|O>>>11),O=I+($^(T|~B))+D[4]+4149444226&4294967295,I=T+(O<<6&4294967295|O>>>26),O=B+(T^(I|~$))+D[11]+3174756917&4294967295,B=I+(O<<10&4294967295|O>>>22),O=$+(I^(B|~T))+D[2]+718787259&4294967295,$=B+(O<<15&4294967295|O>>>17),O=T+(B^($|~I))+D[9]+3951481745&4294967295,A.g[0]=A.g[0]+I&4294967295,A.g[1]=A.g[1]+($+(O<<21&4294967295|O>>>11))&4294967295,A.g[2]=A.g[2]+$&4294967295,A.g[3]=A.g[3]+B&4294967295}s.prototype.u=function(A,I){I===void 0&&(I=A.length);for(var T=I-this.blockSize,D=this.B,$=this.h,B=0;B<I;){if($==0)for(;B<=T;)i(this,A,B),B+=this.blockSize;if(typeof A=="string"){for(;B<I;)if(D[$++]=A.charCodeAt(B++),$==this.blockSize){i(this,D),$=0;break}}else for(;B<I;)if(D[$++]=A[B++],$==this.blockSize){i(this,D),$=0;break}}this.h=$,this.o+=I},s.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var I=1;I<A.length-8;++I)A[I]=0;var T=8*this.o;for(I=A.length-8;I<A.length;++I)A[I]=T&255,T/=256;for(this.u(A),A=Array(16),I=T=0;4>I;++I)for(var D=0;32>D;D+=8)A[T++]=this.g[I]>>>D&255;return A};function o(A,I){var T=c;return Object.prototype.hasOwnProperty.call(T,A)?T[A]:T[A]=I(A)}function a(A,I){this.h=I;for(var T=[],D=!0,$=A.length-1;0<=$;$--){var B=A[$]|0;D&&B==I||(T[$]=B,D=!1)}this.g=T}var c={};function d(A){return-128<=A&&128>A?o(A,function(I){return new a([I|0],0>I?-1:0)}):new a([A|0],0>A?-1:0)}function m(A){if(isNaN(A)||!isFinite(A))return N;if(0>A)return f(m(-A));for(var I=[],T=1,D=0;A>=T;D++)I[D]=A/T|0,T*=4294967296;return new a(I,0)}function b(A,I){if(A.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A.charAt(0)=="-")return f(b(A.substring(1),I));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=m(Math.pow(I,8)),D=N,$=0;$<A.length;$+=8){var B=Math.min(8,A.length-$),O=parseInt(A.substring($,$+B),I);8>B?(B=m(Math.pow(I,B)),D=D.j(B).add(m(O))):(D=D.j(T),D=D.add(m(O)))}return D}var N=d(0),E=d(1),S=d(16777216);t=a.prototype,t.m=function(){if(z(this))return-f(this).m();for(var A=0,I=1,T=0;T<this.g.length;T++){var D=this.i(T);A+=(0<=D?D:4294967296+D)*I,I*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(j(this))return"0";if(z(this))return"-"+f(this).toString(A);for(var I=m(Math.pow(A,6)),T=this,D="";;){var $=q(T,I).g;T=P(T,$.j(I));var B=((0<T.g.length?T.g[0]:T.h)>>>0).toString(A);if(T=$,j(T))return B+D;for(;6>B.length;)B="0"+B;D=B+D}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function j(A){if(A.h!=0)return!1;for(var I=0;I<A.g.length;I++)if(A.g[I]!=0)return!1;return!0}function z(A){return A.h==-1}t.l=function(A){return A=P(this,A),z(A)?-1:j(A)?0:1};function f(A){for(var I=A.g.length,T=[],D=0;D<I;D++)T[D]=~A.g[D];return new a(T,~A.h).add(E)}t.abs=function(){return z(this)?f(this):this},t.add=function(A){for(var I=Math.max(this.g.length,A.g.length),T=[],D=0,$=0;$<=I;$++){var B=D+(this.i($)&65535)+(A.i($)&65535),O=(B>>>16)+(this.i($)>>>16)+(A.i($)>>>16);D=O>>>16,B&=65535,O&=65535,T[$]=O<<16|B}return new a(T,T[T.length-1]&-2147483648?-1:0)};function P(A,I){return A.add(f(I))}t.j=function(A){if(j(this)||j(A))return N;if(z(this))return z(A)?f(this).j(f(A)):f(f(this).j(A));if(z(A))return f(this.j(f(A)));if(0>this.l(S)&&0>A.l(S))return m(this.m()*A.m());for(var I=this.g.length+A.g.length,T=[],D=0;D<2*I;D++)T[D]=0;for(D=0;D<this.g.length;D++)for(var $=0;$<A.g.length;$++){var B=this.i(D)>>>16,O=this.i(D)&65535,K=A.i($)>>>16,mt=A.i($)&65535;T[2*D+2*$]+=O*mt,w(T,2*D+2*$),T[2*D+2*$+1]+=B*mt,w(T,2*D+2*$+1),T[2*D+2*$+1]+=O*K,w(T,2*D+2*$+1),T[2*D+2*$+2]+=B*K,w(T,2*D+2*$+2)}for(D=0;D<I;D++)T[D]=T[2*D+1]<<16|T[2*D];for(D=I;D<2*I;D++)T[D]=0;return new a(T,0)};function w(A,I){for(;(A[I]&65535)!=A[I];)A[I+1]+=A[I]>>>16,A[I]&=65535,I++}function C(A,I){this.g=A,this.h=I}function q(A,I){if(j(I))throw Error("division by zero");if(j(A))return new C(N,N);if(z(A))return I=q(f(A),I),new C(f(I.g),f(I.h));if(z(I))return I=q(A,f(I)),new C(f(I.g),I.h);if(30<A.g.length){if(z(A)||z(I))throw Error("slowDivide_ only works with positive integers.");for(var T=E,D=I;0>=D.l(A);)T=te(T),D=te(D);var $=ee(T,1),B=ee(D,1);for(D=ee(D,2),T=ee(T,2);!j(D);){var O=B.add(D);0>=O.l(A)&&($=$.add(T),B=O),D=ee(D,1),T=ee(T,1)}return I=P(A,$.j(I)),new C($,I)}for($=N;0<=A.l(I);){for(T=Math.max(1,Math.floor(A.m()/I.m())),D=Math.ceil(Math.log(T)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),B=m(T),O=B.j(I);z(O)||0<O.l(A);)T-=D,B=m(T),O=B.j(I);j(B)&&(B=E),$=$.add(B),A=P(A,O)}return new C($,A)}t.A=function(A){return q(this,A).h},t.and=function(A){for(var I=Math.max(this.g.length,A.g.length),T=[],D=0;D<I;D++)T[D]=this.i(D)&A.i(D);return new a(T,this.h&A.h)},t.or=function(A){for(var I=Math.max(this.g.length,A.g.length),T=[],D=0;D<I;D++)T[D]=this.i(D)|A.i(D);return new a(T,this.h|A.h)},t.xor=function(A){for(var I=Math.max(this.g.length,A.g.length),T=[],D=0;D<I;D++)T[D]=this.i(D)^A.i(D);return new a(T,this.h^A.h)};function te(A){for(var I=A.g.length+1,T=[],D=0;D<I;D++)T[D]=A.i(D)<<1|A.i(D-1)>>>31;return new a(T,A.h)}function ee(A,I){var T=I>>5;I%=32;for(var D=A.g.length-T,$=[],B=0;B<D;B++)$[B]=0<I?A.i(B+T)>>>I|A.i(B+T+1)<<32-I:A.i(B+T);return new a($,A.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Mv=PI.Md5=s,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=m,a.fromString=b,ji=PI.Integer=a}).apply(typeof AI<"u"?AI:typeof self<"u"?self:typeof window<"u"?window:{});var Cp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zs={};var Vv,e5,al,$v,gc,Ap,Fv,Uv,jv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,v){return l==Array.prototype||l==Object.prototype||(l[h]=v.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cp=="object"&&Cp];for(var h=0;h<l.length;++h){var v=l[h];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function i(l,h){if(h)e:{var v=s;l=l.split(".");for(var _=0;_<l.length-1;_++){var F=l[_];if(!(F in v))break e;v=v[F]}l=l[l.length-1],_=v[l],h=h(_),h!=_&&h!=null&&e(v,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var v=0,_=!1,F={next:function(){if(!_&&v<l.length){var H=v++;return{value:h(H,l[H]),done:!1}}return _=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,v){return v})}});var a=a||{},c=this||self;function d(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function m(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function b(l,h,v){return l.call.apply(l.bind,arguments)}function N(l,h,v){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,_),l.apply(h,F)}}return function(){return l.apply(h,arguments)}}function E(l,h,v){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:N,E.apply(null,arguments)}function S(l,h){var v=Array.prototype.slice.call(arguments,1);return function(){var _=v.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function j(l,h){function v(){}v.prototype=h.prototype,l.aa=h.prototype,l.prototype=new v,l.prototype.constructor=l,l.Qb=function(_,F,H){for(var ne=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ne[$e-2]=arguments[$e];return h.prototype[F].apply(_,ne)}}function z(l){let h=l.length;if(0<h){let v=Array(h);for(let _=0;_<h;_++)v[_]=l[_];return v}return[]}function f(l,h){for(let v=1;v<arguments.length;v++){let _=arguments[v];if(d(_)){let F=l.length||0,H=_.length||0;l.length=F+H;for(let ne=0;ne<H;ne++)l[F+ne]=_[ne]}else l.push(_)}}class P{constructor(h,v){this.i=h,this.j=v,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function w(l){return/^[\s\xa0]*$/.test(l)}function C(){var l=c.navigator;return l&&(l=l.userAgent)?l:""}function q(l){return q[" "](l),l}q[" "]=function(){};var te=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function ee(l,h,v){for(let _ in l)h.call(v,l[_],_,l)}function A(l,h){for(let v in l)h.call(void 0,l[v],v,l)}function I(l){let h={};for(let v in l)h[v]=l[v];return h}let T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,h){let v,_;for(let F=1;F<arguments.length;F++){_=arguments[F];for(v in _)l[v]=_[v];for(let H=0;H<T.length;H++)v=T[H],Object.prototype.hasOwnProperty.call(_,v)&&(l[v]=_[v])}}function $(l){var h=1;l=l.split(":");let v=[];for(;0<h&&l.length;)v.push(l.shift()),h--;return l.length&&v.push(l.join(":")),v}function B(l){c.setTimeout(()=>{throw l},0)}function O(){var l=Nt;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class K{constructor(){this.h=this.g=null}add(h,v){let _=mt.get();_.set(h,v),this.h?this.h.next=_:this.g=_,this.h=_}}var mt=new P(()=>new Be,l=>l.reset());class Be{constructor(){this.next=this.g=this.h=null}set(h,v){this.h=h,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Wi,Ys=!1,Nt=new K,Dr=()=>{let l=c.Promise.resolve(void 0);Wi=()=>{l.then(Ki)}};var Ki=()=>{for(var l;l=O();){try{l.h.call(l.g)}catch(v){B(v)}var h=mt;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}Ys=!1};function Or(){this.s=this.s,this.C=this.C}Or.prototype.s=!1,Or.prototype.ma=function(){this.s||(this.s=!0,this.N())},Or.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _t(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}_t.prototype.h=function(){this.defaultPrevented=!0};var yn=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let v=()=>{};c.addEventListener("test",v,h),c.removeEventListener("test",v,h)}catch{}return l})();function Qi(l,h){if(_t.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var v=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(te){e:{try{q(h.nodeName);var F=!0;break e}catch{}F=!1}F||(h=null)}}else v=="mouseover"?h=l.fromElement:v=="mouseout"&&(h=l.toElement);this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Xs[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Qi.aa.h.call(this)}}j(Qi,_t);var Xs={2:"touch",3:"pen",4:"mouse"};Qi.prototype.h=function(){Qi.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Lr="closure_listenable_"+(1e6*Math.random()|0),Pl=0;function Bc(l,h,v,_,F){this.listener=l,this.proxy=null,this.src=h,this.type=v,this.capture=!!_,this.ha=F,this.key=++Pl,this.da=this.fa=!1}function Ji(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Zo(l){this.src=l,this.g={},this.h=0}Zo.prototype.add=function(l,h,v,_,F){var H=l.toString();l=this.g[H],l||(l=this.g[H]=[],this.h++);var ne=le(l,h,_,F);return-1<ne?(h=l[ne],v||(h.fa=!1)):(h=new Bc(h,this.src,H,!!_,F),h.fa=v,l.push(h)),h};function Dl(l,h){var v=h.type;if(v in l.g){var _=l.g[v],F=Array.prototype.indexOf.call(_,h,void 0),H;(H=0<=F)&&Array.prototype.splice.call(_,F,1),H&&(Ji(h),l.g[v].length==0&&(delete l.g[v],l.h--))}}function le(l,h,v,_){for(var F=0;F<l.length;++F){var H=l[F];if(!H.da&&H.listener==h&&H.capture==!!v&&H.ha==_)return F}return-1}var Ol="closure_lm_"+(1e6*Math.random()|0),an={};function Ll(l,h,v,_,F){if(_&&_.once)return Gc(l,h,v,_,F);if(Array.isArray(h)){for(var H=0;H<h.length;H++)Ll(l,h[H],v,_,F);return null}return v=ta(v),l&&l[Lr]?l.K(h,v,m(_)?!!_.capture:!!_,F):Ro(l,h,v,!1,_,F)}function Ro(l,h,v,_,F,H){if(!h)throw Error("Invalid event type");var ne=m(F)?!!F.capture:!!F,$e=Yi(l);if($e||(l[Ol]=$e=new Zo(l)),v=$e.add(h,v,_,ne,H),v.proxy)return v;if(_=qc(),v.proxy=_,_.src=l,_.listener=v,l.addEventListener)yn||(F=ne),F===void 0&&(F=!1),l.addEventListener(h.toString(),_,F);else if(l.attachEvent)l.attachEvent(ds(h.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return v}function qc(){function l(v){return h.call(l.src,l.listener,v)}let h=nr;return l}function Gc(l,h,v,_,F){if(Array.isArray(h)){for(var H=0;H<h.length;H++)Gc(l,h[H],v,_,F);return null}return v=ta(v),l&&l[Lr]?l.L(h,v,m(_)?!!_.capture:!!_,F):Ro(l,h,v,!0,_,F)}function Hc(l,h,v,_,F){if(Array.isArray(h))for(var H=0;H<h.length;H++)Hc(l,h[H],v,_,F);else _=m(_)?!!_.capture:!!_,v=ta(v),l&&l[Lr]?(l=l.i,h=String(h).toString(),h in l.g&&(H=l.g[h],v=le(H,v,_,F),-1<v&&(Ji(H[v]),Array.prototype.splice.call(H,v,1),H.length==0&&(delete l.g[h],l.h--)))):l&&(l=Yi(l))&&(h=l.g[h.toString()],l=-1,h&&(l=le(h,v,_,F)),(v=-1<l?h[l]:null)&&je(v))}function je(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Lr])Dl(h.i,l);else{var v=l.type,_=l.proxy;h.removeEventListener?h.removeEventListener(v,_,l.capture):h.detachEvent?h.detachEvent(ds(v),_):h.addListener&&h.removeListener&&h.removeListener(_),(v=Yi(h))?(Dl(v,l),v.h==0&&(v.src=null,h[Ol]=null)):Ji(l)}}}function ds(l){return l in an?an[l]:an[l]="on"+l}function nr(l,h){if(l.da)l=!0;else{h=new Qi(h,this);var v=l.listener,_=l.ha||l.src;l.fa&&je(l),l=v.call(_,h)}return l}function Yi(l){return l=l[Ol],l instanceof Zo?l:null}var ea="__closure_events_fn_"+(1e9*Math.random()>>>0);function ta(l){return typeof l=="function"?l:(l[ea]||(l[ea]=function(h){return l.handleEvent(h)}),l[ea])}function Ce(){Or.call(this),this.i=new Zo(this),this.M=this,this.F=null}j(Ce,Or),Ce.prototype[Lr]=!0,Ce.prototype.removeEventListener=function(l,h,v,_){Hc(this,l,h,v,_)};function ft(l,h){var v,_=l.F;if(_)for(v=[];_;_=_.F)v.push(_);if(l=l.M,_=h.type||h,typeof h=="string")h=new _t(h,l);else if(h instanceof _t)h.target=h.target||l;else{var F=h;h=new _t(_,l),D(h,F)}if(F=!0,v)for(var H=v.length-1;0<=H;H--){var ne=h.g=v[H];F=Un(ne,_,!0,h)&&F}if(ne=h.g=l,F=Un(ne,_,!0,h)&&F,F=Un(ne,_,!1,h)&&F,v)for(H=0;H<v.length;H++)ne=h.g=v[H],F=Un(ne,_,!1,h)&&F}Ce.prototype.N=function(){if(Ce.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var v=l.g[h],_=0;_<v.length;_++)Ji(v[_]);delete l.g[h],l.h--}}this.F=null},Ce.prototype.K=function(l,h,v,_){return this.i.add(String(l),h,!1,v,_)},Ce.prototype.L=function(l,h,v,_){return this.i.add(String(l),h,!0,v,_)};function Un(l,h,v,_){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var F=!0,H=0;H<h.length;++H){var ne=h[H];if(ne&&!ne.da&&ne.capture==v){var $e=ne.listener,Ct=ne.ha||ne.src;ne.fa&&Dl(l.i,ne),F=$e.call(Ct,_)!==!1&&F}}return F&&!_.defaultPrevented}function na(l,h,v){if(typeof l=="function")v&&(l=E(l,v));else if(l&&typeof l.handleEvent=="function")l=E(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:c.setTimeout(l,h||0)}function Mr(l){l.g=na(()=>{l.g=null,l.i&&(l.i=!1,Mr(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class Wc extends Or{constructor(h,v){super(),this.m=h,this.l=v,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Mr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(l){Or.call(this),this.h=l,this.g={}}j(hs,Or);var Ml=[];function p(l){ee(l.g,function(h,v){this.g.hasOwnProperty(v)&&je(h)},l),l.g={}}hs.prototype.N=function(){hs.aa.N.call(this),p(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var W=c.JSON.stringify,Bt=c.JSON.parse,Kc=class{stringify(l){return c.JSON.stringify(l,void 0)}parse(l){return c.JSON.parse(l,void 0)}};function Xi(){}Xi.prototype.h=null;function Vl(l){return l.h||(l.h=l.i())}function kt(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ps(){_t.call(this,"d")}j(ps,_t);function ra(){_t.call(this,"c")}j(ra,_t);var rr={},Qc=null;function sa(){return Qc=Qc||new Ce}rr.La="serverreachability";function Jc(l){_t.call(this,rr.La,l)}j(Jc,_t);function Zi(l){let h=sa();ft(h,new Jc(h))}rr.STAT_EVENT="statevent";function Yc(l,h){_t.call(this,rr.STAT_EVENT,l),this.stat=h}j(Yc,_t);function Mt(l){let h=sa();ft(h,new Yc(h,l))}rr.Ma="timingevent";function Xc(l,h){_t.call(this,rr.Ma,l),this.size=h}j(Xc,_t);function Ri(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){l()},h)}function Ne(){this.g=!0}Ne.prototype.xa=function(){this.g=!1};function sr(l,h,v,_,F,H){l.info(function(){if(l.g)if(H)for(var ne="",$e=H.split("&"),Ct=0;Ct<$e.length;Ct++){var M=$e[Ct].split("=");if(1<M.length){var At=M[0];M=M[1];var Pt=At.split("_");ne=2<=Pt.length&&Pt[1]=="type"?ne+(At+"="+M+"&"):ne+(At+"=redacted&")}}else ne=null;else ne=H;return"XMLHTTP REQ ("+_+") [attempt "+F+"]: "+h+`
`+v+`
`+ne})}function zn(l,h,v,_,F,H,ne){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+F+"]: "+h+`
`+v+`
`+H+" "+ne})}function Zs(l,h,v,_){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+ia(l,v)+(_?" "+_:"")})}function ir(l,h){l.info(function(){return"TIMEOUT: "+h})}Ne.prototype.info=function(){};function ia(l,h){if(!l.g)return h;if(!h)return null;try{var v=JSON.parse(h);if(v){for(l=0;l<v.length;l++)if(Array.isArray(v[l])){var _=v[l];if(!(2>_.length)){var F=_[1];if(Array.isArray(F)&&!(1>F.length)){var H=F[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ne=1;ne<F.length;ne++)F[ne]=""}}}}return W(v)}catch{return h}}var ct={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ms={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ot;function Vr(){}j(Vr,Xi),Vr.prototype.g=function(){return new XMLHttpRequest},Vr.prototype.i=function(){return{}},ot=new Vr;function Ve(l,h,v,_){this.j=l,this.i=h,this.l=v,this.R=_||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $r}function $r(){this.i=null,this.g="",this.h=!1}var Rs={},oa={};function dt(l,h,v){l.L=1,l.v=vs(ln(h)),l.m=v,l.P=!0,or(l,null)}function or(l,h){l.F=Date.now(),la(l),l.A=ln(l.v);var v=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),Bl(v.i,"t",_),l.C=0,v=l.j.J,l.h=new $r,l.g=ys(l.j,v?h:null,!l.m),0<l.O&&(l.M=new Wc(E(l.Y,l,l.g),l.O)),h=l.U,v=l.g,_=l.ca;var F="readystatechange";Array.isArray(F)||(F&&(Ml[0]=F.toString()),F=Ml);for(var H=0;H<F.length;H++){var ne=Ll(v,F[H],_||h.handleEvent,!1,h.h||h);if(!ne)break;h.g[ne.key]=ne}h=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Zi(),sr(l.i,l.u,l.A,l.l,l.R,l.m)}Ve.prototype.ca=function(l){l=l.target;let h=this.M;h&&En(l)==3?h.j():this.Y(l)},Ve.prototype.Y=function(l){try{if(l==this.g)e:{let Pt=En(this.g);var h=this.g.Ba();let Gn=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||sd(this.g)))){this.J||Pt!=4||h==7||(h==8||0>=Gn?Zi(3):Zi(2)),Vt(this);var v=this.g.Z();this.X=v;t:if(aa(this)){var _=sd(this.g);l="";var F=_.length,H=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fr(this),ar(this);var ne="";break t}this.h.i=new c.TextDecoder}for(h=0;h<F;h++)this.h.h=!0,l+=this.h.i.decode(_[h],{stream:!(H&&h==F-1)});_.length=0,this.h.g+=l,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=v==200,zn(this.i,this.u,this.A,this.l,this.R,Pt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Ct=this.g;if(($e=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w($e)){var M=$e;break t}}M=null}if(v=M)Zs(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ur(this,v);else{this.o=!1,this.s=3,Mt(12),Fr(this),ar(this);break e}}if(this.P){v=!0;let $t;for(;!this.J&&this.C<ne.length;)if($t=$l(this,ne),$t==oa){Pt==4&&(this.s=4,Mt(14),v=!1),Zs(this.i,this.l,null,"[Incomplete Response]");break}else if($t==Rs){this.s=4,Mt(15),Zs(this.i,this.l,ne,"[Invalid Chunk]"),v=!1;break}else Zs(this.i,this.l,$t,null),Ur(this,$t);if(aa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||ne.length!=0||this.h.h||(this.s=1,Mt(16),v=!1),this.o=this.o&&v,!v)Zs(this.i,this.l,ne,"[Invalid Chunked Response]"),Fr(this),ar(this);else if(0<ne.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),ba(At),At.M=!0,Mt(11))}}else Zs(this.i,this.l,ne,null),Ur(this,ne);Pt==4&&Fr(this),this.o&&!this.J&&(Pt==4?Xl(this.j,this):(this.o=!1,la(this)))}else id(this.g),v==400&&0<ne.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),Fr(this),ar(this)}}}catch{}};function aa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function $l(l,h){var v=l.C,_=h.indexOf(`
`,v);return _==-1?oa:(v=Number(h.substring(v,_)),isNaN(v)?Rs:(_+=1,_+v>h.length?oa:(h=h.slice(_,_+v),l.C=_+v,h)))}Ve.prototype.cancel=function(){this.J=!0,Fr(this)};function la(l){l.S=Date.now()+l.I,eo(l,l.I)}function eo(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Ri(E(l.ba,l),h)}function Vt(l){l.B&&(c.clearTimeout(l.B),l.B=null)}Ve.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(ir(this.i,this.A),this.L!=2&&(Zi(),Mt(17)),Fr(this),this.s=2,ar(this)):eo(this,this.S-l)};function ar(l){l.j.G==0||l.J||Xl(l.j,l)}function Fr(l){Vt(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,p(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Ur(l,h){try{var v=l.j;if(v.G!=0&&(v.g==l||Fl(v.h,l))){if(!l.K&&Fl(v.h,l)&&v.G==3){try{var _=v.Da.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var F=_;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<l.F)xa(v),Jl(v);else break e;va(v),Mt(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ri(E(v.Za,v),6e3));if(1>=Zc(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else dr(v,11)}else if((l.K||v.g==l)&&xa(v),!w(h))for(F=v.Da.g.parse(h),h=0;h<F.length;h++){let M=F[h];if(v.T=M[0],M=M[1],v.G==2)if(M[0]=="c"){v.K=M[1],v.ia=M[2];let At=M[3];At!=null&&(v.la=At,v.j.info("VER="+v.la));let Pt=M[4];Pt!=null&&(v.Aa=Pt,v.j.info("SVER="+v.Aa));let Gn=M[5];Gn!=null&&typeof Gn=="number"&&0<Gn&&(_=1.5*Gn,v.L=_,v.j.info("backChannelRequestTimeoutMs_="+_)),_=v;let $t=l.g;if($t){let ya=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var H=_.h;H.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ul(H,H.h),H.h=null))}if(_.D){let Rl=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;Rl&&(_.ya=Rl,Ee(_.I,_.D,Rl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-l.F,v.j.info("Handshake RTT: "+v.R+"ms")),_=v;var ne=l;if(_.qa=ld(_,_.J?_.ia:null,_.W),ne.K){ua(_.h,ne);var $e=ne,Ct=_.L;Ct&&($e.I=Ct),$e.B&&(Vt($e),la($e)),_.g=ne}else Yl(_);0<v.i.length&&ve(v)}else M[0]!="stop"&&M[0]!="close"||dr(v,7);else v.G==3&&(M[0]=="stop"||M[0]=="close"?M[0]=="stop"?dr(v,7):ma(v):M[0]!="noop"&&v.l&&v.l.ta(M),v.v=0)}}Zi(4)}catch{}}var Ae=class{constructor(l,h){this.g=l,this.map=h}};function fs(l){this.l=l||10,c.PerformanceNavigationTiming?(l=c.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Zc(l){return l.h?1:l.g?l.g.size:0}function Fl(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Ul(l,h){l.g?l.g.add(h):l.h=h}function ua(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}fs.prototype.cancel=function(){if(this.i=Rc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function Rc(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let v of l.g.values())h=h.concat(v.D);return h}return z(l.i)}function jl(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(d(l)){for(var h=[],v=l.length,_=0;_<v;_++)h.push(l[_]);return h}h=[],v=0;for(_ in l)h[v++]=l[_];return h}function Tm(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(d(l)||typeof l=="string"){var h=[];l=l.length;for(var v=0;v<l;v++)h.push(v);return h}h=[],v=0;for(let _ in l)h[v++]=_;return h}}}function ed(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(d(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var v=Tm(l),_=jl(l),F=_.length,H=0;H<F;H++)h.call(void 0,_[H],v&&v[H],l)}var ue=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wn(l,h){if(l){l=l.split("&");for(var v=0;v<l.length;v++){var _=l[v].indexOf("="),F=null;if(0<=_){var H=l[v].substring(0,_);F=l[v].substring(_+1)}else H=l[v];h(H,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function gt(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof gt){this.h=l.h,ca(this,l.j),this.o=l.o,this.g=l.g,gs(this,l.s),this.l=l.l;var h=l.i,v=new ha;v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),ye(this,v),this.m=l.m}else l&&(h=String(l).match(ue))?(this.h=!1,ca(this,h[1]||"",!0),this.o=bs(h[2]||""),this.g=bs(h[3]||"",!0),gs(this,h[4]),this.l=bs(h[5]||"",!0),ye(this,h[6]||"",!0),this.m=bs(h[7]||"")):(this.h=!1,this.i=new ha(null,this.h))}gt.prototype.toString=function(){var l=[],h=this.j;h&&l.push(to(h,nn,!0),":");var v=this.g;return(v||h=="file")&&(l.push("//"),(h=this.o)&&l.push(to(h,nn,!0),"@"),l.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&l.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&l.push("/"),l.push(to(v,v.charAt(0)=="/"?qe:km,!0))),(v=this.i.toString())&&l.push("?",v),(v=this.m)&&l.push("#",to(v,Rx)),l.join("")};function ln(l){return new gt(l)}function ca(l,h,v){l.j=v?bs(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function gs(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function ye(l,h,v){h instanceof ha?(l.i=h,ql(l.i,l.h)):(v||(h=to(h,Nn)),l.i=new ha(h,l.h))}function Ee(l,h,v){l.i.set(h,v)}function vs(l){return Ee(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function bs(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function to(l,h,v){return typeof l=="string"?(l=encodeURI(l).replace(h,da),v&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function da(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var nn=/[#\/\?@]/g,km=/[#\?:]/g,qe=/[#\?]/g,Nn=/[#\?@]/g,Rx=/#/g;function ha(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function un(l){l.g||(l.g=new Map,l.h=0,l.i&&wn(l.i,function(h,v){l.add(decodeURIComponent(h.replace(/\+/g," ")),v)}))}t=ha.prototype,t.add=function(l,h){un(this),this.i=null,l=_n(this,l);var v=this.g.get(l);return v||this.g.set(l,v=[]),v.push(h),this.h+=1,this};function zl(l,h){un(l),h=_n(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function pa(l,h){return un(l),h=_n(l,h),l.g.has(h)}t.forEach=function(l,h){un(this),this.g.forEach(function(v,_){v.forEach(function(F){l.call(h,F,_,this)},this)},this)},t.na=function(){un(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),v=[];for(let _=0;_<h.length;_++){let F=l[_];for(let H=0;H<F.length;H++)v.push(h[_])}return v},t.V=function(l){un(this);let h=[];if(typeof l=="string")pa(this,l)&&(h=h.concat(this.g.get(_n(this,l))));else{l=Array.from(this.g.values());for(let v=0;v<l.length;v++)h=h.concat(l[v])}return h},t.set=function(l,h){return un(this),this.i=null,l=_n(this,l),pa(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Bl(l,h,v){zl(l,h),0<v.length&&(l.i=null,l.g.set(_n(l,h),z(v)),l.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var v=0;v<h.length;v++){var _=h[v];let H=encodeURIComponent(String(_)),ne=this.V(_);for(_=0;_<ne.length;_++){var F=H;ne[_]!==""&&(F+="="+encodeURIComponent(String(ne[_]))),l.push(F)}}return this.i=l.join("&")};function _n(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function ql(l,h){h&&!l.j&&(un(l),l.i=null,l.g.forEach(function(v,_){var F=_.toLowerCase();_!=F&&(zl(this,_),Bl(this,F,v))},l)),l.j=h}function td(l,h){let v=new Ne;if(c.Image){let _=new Image;_.onload=S(be,v,"TestLoadImage: loaded",!0,h,_),_.onerror=S(be,v,"TestLoadImage: error",!1,h,_),_.onabort=S(be,v,"TestLoadImage: abort",!1,h,_),_.ontimeout=S(be,v,"TestLoadImage: timeout",!1,h,_),c.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else h(!1)}function Gl(l,h){let v=new Ne,_=new AbortController,F=setTimeout(()=>{_.abort(),be(v,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:_.signal}).then(H=>{clearTimeout(F),H.ok?be(v,"TestPingServer: ok",!0,h):be(v,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(F),be(v,"TestPingServer: error",!1,h)})}function be(l,h,v,_,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),_(v)}catch{}}function Bn(){this.g=new Kc}function jr(l,h,v){let _=v||"";try{ed(l,function(F,H){let ne=F;m(F)&&(ne=W(F)),h.push(_+H+"="+encodeURIComponent(ne))})}catch(F){throw h.push(_+"type="+encodeURIComponent("_badmap")),F}}function lr(l){this.l=l.Ub||null,this.j=l.eb||!1}j(lr,Xi),lr.prototype.g=function(){return new Hl(this.l,this.j)},lr.prototype.i=(function(l){return function(){return l}})({});function Hl(l,h){Ce.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Hl,Ce),t=Hl.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,xs(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||c).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,xs(this)),this.g&&(this.readyState=3,xs(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?zr(this):xs(this),this.readyState==3&&Wl(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,zr(this))},t.Qa=function(l){this.g&&(this.response=l,zr(this))},t.ga=function(){this.g&&zr(this)};function zr(l){l.readyState=4,l.l=null,l.j=null,l.v=null,xs(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var v=h.next();!v.done;)v=v.value,l.push(v[0]+": "+v[1]),v=h.next();return l.join(`\r
`)};function xs(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Hl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Cm(l){let h="";return ee(l,function(v,_){h+=_,h+=":",h+=v,h+=`\r
`}),h}function nd(l,h,v){e:{for(_ in v){var _=!1;break e}_=!0}_||(v=Cm(v),typeof l=="string"?v!=null&&encodeURIComponent(String(v)):Ee(l,h,v))}function Xe(l){Ce.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Xe,Ce);var rd=/^https?$/i,no=["POST","PUT"];t=Xe.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,v,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ot.g(),this.v=this.o?Vl(this.o):Vl(ot),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(H){Am(this,H);return}if(l=v||"",v=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var F in _)v.set(F,_[F]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(let H of _.keys())v.set(H,_.get(H));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),F=c.FormData&&l instanceof c.FormData,!(0<=Array.prototype.indexOf.call(no,h,void 0))||_||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[H,ne]of v)this.g.setRequestHeader(H,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ql(this),this.u=!0,this.g.send(l),this.u=!1}catch(H){Am(this,H)}};function Am(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,ro(l),ur(l)}function ro(l){l.A||(l.A=!0,ft(l,"complete"),ft(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ft(this,"complete"),ft(this,"abort"),ur(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ur(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Kl(this):this.bb())},t.bb=function(){Kl(this)};function Kl(l){if(l.h&&typeof a<"u"&&(!l.v[1]||En(l)!=4||l.Z()!=2)){if(l.u&&En(l)==4)na(l.Ea,0,l);else if(ft(l,"readystatechange"),En(l)==4){l.h=!1;try{let ne=l.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var v;if(!(v=h)){var _;if(_=ne===0){var F=String(l.D).match(ue)[1]||null;!F&&c.self&&c.self.location&&(F=c.self.location.protocol.slice(0,-1)),_=!rd.test(F?F.toLowerCase():"")}v=_}if(v)ft(l,"complete"),ft(l,"success");else{l.m=6;try{var H=2<En(l)?l.g.statusText:""}catch{H=""}l.l=H+" ["+l.Z()+"]",ro(l)}}finally{ur(l)}}}}function ur(l,h){if(l.g){Ql(l);let v=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||ft(l,"ready");try{v.onreadystatechange=_}catch{}}}function Ql(l){l.I&&(c.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function En(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Bt(h)}};function sd(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function id(l){let h={};l=(l.g&&2<=En(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(w(l[_]))continue;var v=$(l[_]);let F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();let H=h[F]||[];h[F]=H,H.push(v)}A(h,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qn(l,h,v){return v&&v.internalChannelParams&&v.internalChannelParams[l]||h}function ei(l){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qn("baseRetryDelayMs",5e3,l),this.cb=qn("retryDelaySeedMs",1e4,l),this.Wa=qn("forwardChannelMaxRetries",2,l),this.wa=qn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new fs(l&&l.concurrentRequestLimit),this.Da=new Bn,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ei.prototype,t.la=8,t.G=1,t.connect=function(l,h,v,_){Mt(0),this.W=l,this.H=h||{},v&&_!==void 0&&(this.H.OSID=v,this.H.OAID=_),this.F=this.X,this.I=ld(this,null,this.W),ve(this)};function ma(l){if(Pm(l),l.G==3){var h=l.U++,v=ln(l.I);if(Ee(v,"SID",l.K),Ee(v,"RID",h),Ee(v,"TYPE","terminate"),ti(l,v),h=new Ve(l,l.j,h),h.L=2,h.v=vs(ln(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(h.v.toString(),"")}catch{}!v&&c.Image&&(new Image().src=h.v,v=!0),v||(h.g=ys(h.j,null),h.g.ea(h.v)),h.F=Date.now(),la(h)}ad(l)}function Jl(l){l.g&&(ba(l),l.g.cancel(),l.g=null)}function Pm(l){Jl(l),l.u&&(c.clearTimeout(l.u),l.u=null),xa(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&c.clearTimeout(l.s),l.s=null)}function ve(l){if(!qt(l.h)&&!l.s){l.s=!0;var h=l.Ga;Wi||Dr(),Ys||(Wi(),Ys=!0),Nt.add(h,l),l.B=0}}function cr(l,h){return Zc(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Ri(E(l.Ga,l,h),od(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let F=new Ve(this,this.j,l),H=this.o;if(this.S&&(H?(H=I(H),D(H,this.S)):H=this.S),this.m!==null||this.O||(F.H=H,H=null),this.P)e:{for(var h=0,v=0;v<this.i.length;v++){t:{var _=this.i[v];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,4096<h){h=v;break e}if(h===4096||v===this.i.length-1){h=v+1;break e}}h=1e3}else h=1e3;h=ga(this,F,h),v=ln(this.I),Ee(v,"RID",l),Ee(v,"CVER",22),this.D&&Ee(v,"X-HTTP-Session-Id",this.D),ti(this,v),H&&(this.O?h="headers="+encodeURIComponent(String(Cm(H)))+"&"+h:this.m&&nd(v,this.m,H)),Ul(this.h,F),this.Ua&&Ee(v,"TYPE","init"),this.P?(Ee(v,"$req",h),Ee(v,"SID","null"),F.T=!0,dt(F,v,null)):dt(F,v,h),this.G=2}}else this.G==3&&(l?fa(this,l):this.i.length==0||qt(this.h)||fa(this))};function fa(l,h){var v;h?v=h.l:v=l.U++;let _=ln(l.I);Ee(_,"SID",l.K),Ee(_,"RID",v),Ee(_,"AID",l.T),ti(l,_),l.m&&l.o&&nd(_,l.m,l.o),v=new Ve(l,l.j,v,l.B+1),l.m===null&&(v.H=l.o),h&&(l.i=h.D.concat(l.i)),h=ga(l,v,1e3),v.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ul(l.h,v),dt(v,_,h)}function ti(l,h){l.H&&ee(l.H,function(v,_){Ee(h,_,v)}),l.l&&ed({},function(v,_){Ee(h,_,v)})}function ga(l,h,v){v=Math.min(l.i.length,v);var _=l.l?E(l.l.Na,l.l,l):null;e:{var F=l.i;let H=-1;for(;;){let ne=["count="+v];H==-1?0<v?(H=F[0].g,ne.push("ofs="+H)):H=0:ne.push("ofs="+H);let $e=!0;for(let Ct=0;Ct<v;Ct++){let M=F[Ct].g,At=F[Ct].map;if(M-=H,0>M)H=Math.max(0,F[Ct].g-100),$e=!1;else try{jr(At,ne,"req"+M+"_")}catch{_&&_(At)}}if($e){_=ne.join("&");break e}}}return l=l.i.splice(0,v),h.D=l,_}function Yl(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Wi||Dr(),Ys||(Wi(),Ys=!0),Nt.add(h,l),l.v=0}}function va(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Ri(E(l.Fa,l),od(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Dm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Ri(E(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Jl(this),Dm(this))};function ba(l){l.A!=null&&(c.clearTimeout(l.A),l.A=null)}function Dm(l){l.g=new Ve(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=ln(l.qa);Ee(h,"RID","rpc"),Ee(h,"SID",l.K),Ee(h,"AID",l.T),Ee(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ee(h,"TO",l.ja),Ee(h,"TYPE","xmlhttp"),ti(l,h),l.m&&l.o&&nd(h,l.m,l.o),l.L&&(l.g.I=l.L);var v=l.g;l=l.ia,v.L=1,v.v=vs(ln(h)),v.m=null,v.P=!0,or(v,l)}t.Za=function(){this.C!=null&&(this.C=null,Jl(this),va(this),Mt(19))};function xa(l){l.C!=null&&(c.clearTimeout(l.C),l.C=null)}function Xl(l,h){var v=null;if(l.g==h){xa(l),ba(l),l.g=null;var _=2}else if(Fl(l.h,h))v=h.D,ua(l.h,h),_=1;else return;if(l.G!=0){if(h.o)if(_==1){v=h.m?h.m.length:0,h=Date.now()-h.F;var F=l.B;_=sa(),ft(_,new Xc(_,v)),ve(l)}else Yl(l);else if(F=h.s,F==3||F==0&&0<h.X||!(_==1&&cr(l,h)||_==2&&va(l)))switch(v&&0<v.length&&(h=l.h,h.i=h.i.concat(v)),F){case 1:dr(l,5);break;case 4:dr(l,10);break;case 3:dr(l,6);break;default:dr(l,2)}}}function od(l,h){let v=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(v*=2),v*h}function dr(l,h){if(l.j.info("Error code "+h),h==2){var v=E(l.fb,l),_=l.Xa;let F=!_;_=new gt(_||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ca(_,"https"),vs(_),F?td(_.toString(),v):Gl(_.toString(),v)}else Mt(2);l.G=0,l.l&&l.l.sa(h),ad(l),Pm(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function ad(l){if(l.G=0,l.ka=[],l.l){let h=Rc(l.h);(h.length!=0||l.i.length!=0)&&(f(l.ka,h),f(l.ka,l.i),l.h.i.length=0,z(l.i),l.i.length=0),l.l.ra()}}function ld(l,h,v){var _=v instanceof gt?ln(v):new gt(v);if(_.g!="")h&&(_.g=h+"."+_.g),gs(_,_.s);else{var F=c.location;_=F.protocol,h=h?h+"."+F.hostname:F.hostname,F=+F.port;var H=new gt(null);_&&ca(H,_),h&&(H.g=h),F&&gs(H,F),v&&(H.l=v),_=H}return v=l.D,h=l.ya,v&&h&&Ee(_,v,h),Ee(_,"VER",l.la),ti(l,_),_}function ys(l,h,v){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Xe(new lr({eb:v})):new Xe(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Om(){}t=Om.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zl(){}Zl.prototype.g=function(l,h){return new cn(l,h)};function cn(l,h){Ce.call(this),this.g=new ei(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!w(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!w(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Sn(this)}j(cn,Ce),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){ma(this.g)},cn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var v={};v.__data__=l,l=v}else this.u&&(v={},v.__data__=W(l),l=v);h.i.push(new Ae(h.Ya++,l)),h.G==3&&ve(h)},cn.prototype.N=function(){this.g.l=null,delete this.j,ma(this.g),delete this.g,cn.aa.N.call(this)};function ud(l){ps.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let v in h){l=v;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}j(ud,ps);function In(){ra.call(this),this.status=1}j(In,ra);function Sn(l){this.g=l}j(Sn,Om),Sn.prototype.ua=function(){ft(this.g,"a")},Sn.prototype.ta=function(l){ft(this.g,new ud(l))},Sn.prototype.sa=function(l){ft(this.g,new In)},Sn.prototype.ra=function(){ft(this.g,"b")},Zl.prototype.createWebChannel=Zl.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,jv=zs.createWebChannelTransport=function(){return new Zl},Uv=zs.getStatEventTarget=function(){return sa()},Fv=zs.Event=rr,Ap=zs.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ct.NO_ERROR=0,ct.TIMEOUT=8,ct.HTTP_ERROR=6,gc=zs.ErrorCode=ct,ms.COMPLETE="complete",$v=zs.EventType=ms,kt.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",Ce.prototype.listen=Ce.prototype.K,al=zs.WebChannel=kt,e5=zs.FetchXmlHttpFactory=lr,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,Vv=zs.XhrIo=Xe}).apply(typeof Cp<"u"?Cp:typeof self<"u"?self:typeof window<"u"?window:{});var DI="@firebase/firestore";var Lt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");var kl="10.14.0";var zo=new kp("@firebase/firestore");function vc(){return zo.logLevel}function ce(t,...e){if(zo.logLevel<=De.DEBUG){let n=e.map(Cx);zo.debug(`Firestore (${kl}): ${t}`,...n)}}function Bs(t,...e){if(zo.logLevel<=De.ERROR){let n=e.map(Cx);zo.error(`Firestore (${kl}): ${t}`,...n)}}function fl(t,...e){if(zo.logLevel<=De.WARN){let n=e.map(Cx);zo.warn(`Firestore (${kl}): ${t}`,...n)}}function Cx(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function xe(t="Unexpected state"){let e=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: `+t;throw Bs(e),new Error(e)}function Ue(t,e){t||xe()}function we(t,e){return t}var Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},re=class extends fc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var is=class{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}};var Mp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Wv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Lt.UNAUTHENTICATED)))}shutdown(){}},Kv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}},Qv=class{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0);let s=this.i,i=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve(),o=new is;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new is,e.enqueueRetryable((()=>i(this.currentUser)))};let a=()=>{let d=o;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?c(d):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new is)}}),0),a()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ue(typeof s.accessToken=="string"),new Mp(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Lt(e)}},Jv=class{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Yv=class{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Jv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(Lt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}},Xv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Zv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ue(this.o===void 0);let s=o=>{o.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let a=o.token!==this.R;return this.R=o.token,ce("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>s(o)))};let i=o=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new Xv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function t5(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}var Vp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,s="";for(;s.length<20;){let i=t5(40);for(let o=0;o<i.length;++o)s.length<20&&i[o]<n&&(s+=e.charAt(i[o]%e.length))}return s}};function Me(t,e){return t<e?-1:t>e?1:0}function gl(t,e,n){return t.length===e.length&&t.every(((s,i)=>n(s,e[i])))}var zt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new t(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var _e=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new zt(0,0))}static max(){return new t(new zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var $p=class t{constructor(e,n,s){n===void 0?n=0:n>e.length&&xe(),s===void 0?s=e.length-n:s>e.length-n&&xe(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let s=Math.min(e.length,n.length);for(let i=0;i<s;i++){let o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},et=class t extends $p{construct(e,n,s){return new t(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let s of e){if(s.indexOf("//")>=0)throw new re(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((i=>i.length>0)))}return new t(n)}static emptyPath(){return new t([])}},n5=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vn=class t extends $p{construct(e,n,s){return new t(e,n,s)}static isValidIdentifier(e){return n5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],s="",i=0,o=()=>{if(s.length===0)throw new re(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""},a=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new re(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new re(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(s+=c,i++):(o(),i++)}if(o(),a)throw new re(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var pe=class t{constructor(e){this.path=e}static fromPath(e){return new t(et.fromString(e))}static fromName(e){return new t(et.fromString(e).popFirst(5))}static empty(){return new t(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new et(e.slice()))}};var Rv=class{constructor(e,n,s,i){this.indexId=e,this.collectionGroup=n,this.fields=s,this.indexState=i}};Rv.UNKNOWN_ID=-1;function r5(t,e){let n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(s===1e9?new zt(n+1,0):new zt(n,s));return new Bo(i,pe.empty(),e)}function s5(t){return new Bo(t.readTime,t.key,-1)}var Bo=class t{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new t(_e.min(),pe.empty(),-1)}static max(){return new t(_e.max(),pe.empty(),-1)}};function i5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}var o5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",eb=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}};async function Vc(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==o5)throw t;ce("LocalStore","Unexpectedly lost primary lease")}var R=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(((s,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(s,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(s,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):t.reject(n)}static resolve(e){return new t(((n,s)=>{n(e)}))}static reject(e){return new t(((n,s)=>{s(e)}))}static waitFor(e){return new t(((n,s)=>{let i=0,o=0,a=!1;e.forEach((c=>{++i,c.next((()=>{++o,a&&o===i&&n()}),(d=>s(d)))})),a=!0,o===i&&n()}))}static or(e){let n=t.resolve(!1);for(let s of e)n=n.next((i=>i?t.resolve(i):s()));return n}static forEach(e,n){let s=[];return e.forEach(((i,o)=>{s.push(n.call(this,i,o))})),this.waitFor(s)}static mapArray(e,n){return new t(((s,i)=>{let o=e.length,a=new Array(o),c=0;for(let d=0;d<o;d++){let m=d;n(e[m]).next((b=>{a[m]=b,++c,c===o&&s(a)}),(b=>i(b)))}}))}static doWhile(e,n){return new t(((s,i)=>{let o=()=>{e()===!0?n().next((()=>{o()}),i):s()};o()}))}};function a5(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $c(t){return t.name==="IndexedDbTransactionError"}var Nc=class{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.se&&this.se(e),e}};Nc.oe=-1;function fm(t){return t==null}function _c(t){return t===0&&1/t==-1/0}function l5(t){return typeof t=="number"&&Number.isInteger(t)&&!_c(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var u5=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],y3=[...u5,"documentOverlays"],c5=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],d5=c5,h5=[...d5,"indexConfiguration","indexState","indexEntries"];var w3=[...h5,"globals"];function OI(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function d1(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ut=class t{constructor(e,n){this.comparator=e,this.root=n||os.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,os.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,os.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){let i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){let e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dl(this.root,e,this.comparator,!1)}getReverseIterator(){return new dl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dl(this.root,e,this.comparator,!0)}},dl=class{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?s(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},os=class t{constructor(e,n,s,i,o){this.key=e,this.value=n,this.color=s??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,o){return new t(e??this.key,n??this.value,s??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this,o=s(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,s),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();let e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}};os.EMPTY=null,os.RED=!0,os.BLACK=!1;os.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,n,s,i,o){return this}insert(e,n,s){return new os(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Rt=class t{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){let s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){let i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fp(this.data.getIterator())}getIteratorFrom(e){return new Fp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=s.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach((n=>{e.push(n)})),e}toString(){let e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Fp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var er=class t{constructor(e){this.fields=e,e.sort(Vn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Rt(Vn.comparator);for(let s of this.fields)n=n.add(s);for(let s of e)n=n.add(s);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}};var Up=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var tn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Up("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};tn.EMPTY_BYTE_STRING=new tn("");var p5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(t){if(Ue(!!t),typeof t=="string"){let e=0,n=p5.exec(t);if(Ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Re(t.seconds),nanos:Re(t.nanos)}}function Re(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bi(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}function gm(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ax(t){let e=t.mapValue.fields.__previous_value__;return gm(e)?Ax(e):e}function Ec(t){let e=qs(t.mapValue.fields.__local_write_time__.timestampValue);return new zt(e.seconds,e.nanos)}var tb=class{constructor(e,n,s,i,o,a,c,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=m}},jp=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Pp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gm(t)?4:p1(t)?9007199254740991:h1(t)?10:11:xe()}function us(t,e){if(t===e)return!0;let n=qo(t);if(n!==qo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ec(t).isEqual(Ec(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let a=qs(i.timestampValue),c=qs(o.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Bi(i.bytesValue).isEqual(Bi(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Re(i.geoPointValue.latitude)===Re(o.geoPointValue.latitude)&&Re(i.geoPointValue.longitude)===Re(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Re(i.integerValue)===Re(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let a=Re(i.doubleValue),c=Re(o.doubleValue);return a===c?_c(a)===_c(c):isNaN(a)&&isNaN(c)}return!1})(t,e);case 9:return gl(t.arrayValue.values||[],e.arrayValue.values||[],us);case 10:case 11:return(function(i,o){let a=i.mapValue.fields||{},c=o.mapValue.fields||{};if(OI(a)!==OI(c))return!1;for(let d in a)if(a.hasOwnProperty(d)&&(c[d]===void 0||!us(a[d],c[d])))return!1;return!0})(t,e);default:return xe()}}function Ic(t,e){return(t.values||[]).find((n=>us(n,e)))!==void 0}function vl(t,e){if(t===e)return 0;let n=qo(t),s=qo(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return(function(o,a){let c=Re(o.integerValue||o.doubleValue),d=Re(a.integerValue||a.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return LI(t.timestampValue,e.timestampValue);case 4:return LI(Ec(t),Ec(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return(function(o,a){let c=Bi(o),d=Bi(a);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,a){let c=o.split("/"),d=a.split("/");for(let m=0;m<c.length&&m<d.length;m++){let b=Me(c[m],d[m]);if(b!==0)return b}return Me(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,a){let c=Me(Re(o.latitude),Re(a.latitude));return c!==0?c:Me(Re(o.longitude),Re(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return MI(t.arrayValue,e.arrayValue);case 10:return(function(o,a){var c,d,m,b;let N=o.fields||{},E=a.fields||{},S=(c=N.value)===null||c===void 0?void 0:c.arrayValue,j=(d=E.value)===null||d===void 0?void 0:d.arrayValue,z=Me(((m=S?.values)===null||m===void 0?void 0:m.length)||0,((b=j?.values)===null||b===void 0?void 0:b.length)||0);return z!==0?z:MI(S,j)})(t.mapValue,e.mapValue);case 11:return(function(o,a){if(o===Pp.mapValue&&a===Pp.mapValue)return 0;if(o===Pp.mapValue)return 1;if(a===Pp.mapValue)return-1;let c=o.fields||{},d=Object.keys(c),m=a.fields||{},b=Object.keys(m);d.sort(),b.sort();for(let N=0;N<d.length&&N<b.length;++N){let E=Me(d[N],b[N]);if(E!==0)return E;let S=vl(c[d[N]],m[b[N]]);if(S!==0)return S}return Me(d.length,b.length)})(t.mapValue,e.mapValue);default:throw xe()}}function LI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);let n=qs(t),s=qs(e),i=Me(n.seconds,s.seconds);return i!==0?i:Me(n.nanos,s.nanos)}function MI(t,e){let n=t.values||[],s=e.values||[];for(let i=0;i<n.length&&i<s.length;++i){let o=vl(n[i],s[i]);if(o)return o}return Me(n.length,s.length)}function bl(t){return nb(t)}function nb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let s=qs(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Bi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return pe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",i=!0;for(let o of n.values||[])i?i=!1:s+=",",s+=nb(o);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){let s=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let a of s)o?o=!1:i+=",",i+=`${a}:${nb(n.fields[a])}`;return i+"}"})(t.mapValue):xe()}function zp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rb(t){return!!t&&"integerValue"in t}function Px(t){return!!t&&"arrayValue"in t}function VI(t){return!!t&&"nullValue"in t}function $I(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Op(t){return!!t&&"mapValue"in t}function h1(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function xc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Yo(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=xc(s))),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function p1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Mn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Op(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xc(n)}setAll(e){let n=Vn.emptyPath(),s={},i=[];e.forEach(((a,c)=>{if(!n.isImmediateParentOf(c)){let d=this.getFieldsMap(n);this.applyChanges(d,s,i),s={},i=[],n=c.popLast()}a?s[c.lastSegment()]=xc(a):i.push(c.lastSegment())}));let o=this.getFieldsMap(n);this.applyChanges(o,s,i)}delete(e){let n=this.field(e.popLast());Op(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];Op(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){Yo(n,((i,o)=>e[i]=o));for(let i of s)delete e[i]}clone(){return new t(xc(this.value))}};function m1(t){let e=[];return Yo(t.fields,((n,s)=>{let i=new Vn([n]);if(Op(s)){let o=m1(s.mapValue).fields;if(o.length===0)e.push(i);else for(let a of o)e.push(i.child(a))}else e.push(i)})),new er(e)}var Sr=class t{constructor(e,n,s,i,o,a,c){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=o,this.data=a,this.documentState=c}static newInvalidDocument(e){return new t(e,0,_e.min(),_e.min(),_e.min(),Mn.empty(),0)}static newFoundDocument(e,n,s,i){return new t(e,1,n,_e.min(),s,i,0)}static newNoDocument(e,n){return new t(e,2,n,_e.min(),_e.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,_e.min(),_e.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var qi=class{constructor(e,n){this.position=e,this.inclusive=n}};function FI(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){let o=e[i],a=t.position[i];if(o.field.isKeyField()?s=pe.comparator(pe.fromName(a.referenceValue),n.key):s=vl(a,n.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function UI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!us(t.position[n],e.position[n]))return!1;return!0}var Go=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function m5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Bp=class{},wt=class t extends Bp{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new ib(e,n,s):n==="array-contains"?new lb(e,s):n==="in"?new ub(e,s):n==="not-in"?new cb(e,s):n==="array-contains-any"?new db(e,s):new t(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new ob(e,s):new ab(e,s)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vl(n,this.value)):n!==null&&qo(this.value)===qo(n)&&this.matchesComparison(vl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Tr=class t extends Bp{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return f1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function f1(t){return t.op==="and"}function g1(t){return f5(t)&&f1(t)}function f5(t){for(let e of t.filters)if(e instanceof Tr)return!1;return!0}function sb(t){if(t instanceof wt)return t.field.canonicalString()+t.op.toString()+bl(t.value);if(g1(t))return t.filters.map((e=>sb(e))).join(",");{let e=t.filters.map((n=>sb(n))).join(",");return`${t.op}(${e})`}}function v1(t,e){return t instanceof wt?(function(s,i){return i instanceof wt&&s.op===i.op&&s.field.isEqual(i.field)&&us(s.value,i.value)})(t,e):t instanceof Tr?(function(s,i){return i instanceof Tr&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce(((o,a,c)=>o&&v1(a,i.filters[c])),!0):!1})(t,e):void xe()}function b1(t){return t instanceof wt?(function(n){return`${n.field.canonicalString()} ${n.op} ${bl(n.value)}`})(t):t instanceof Tr?(function(n){return n.op.toString()+" {"+n.getFilters().map(b1).join(" ,")+"}"})(t):"Filter"}var ib=class extends wt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){let n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}},ob=class extends wt{constructor(e,n){super(e,"in",n),this.keys=x1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}},ab=class extends wt{constructor(e,n){super(e,"not-in",n),this.keys=x1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}};function x1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>pe.fromName(s.referenceValue)))}var lb=class extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Px(n)&&Ic(n.arrayValue,this.value)}},ub=class extends wt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ic(this.value.arrayValue,n)}},cb=class extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ic(this.value.arrayValue,n)}},db=class extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Px(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ic(this.value.arrayValue,s)))}};var hb=class{constructor(e,n=null,s=[],i=[],o=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=o,this.startAt=a,this.endAt=c,this.ue=null}};function jI(t,e=null,n=[],s=[],i=null,o=null,a=null){return new hb(t,e,n,s,i,o,a)}function Dx(t){let e=we(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>sb(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(o){return o.field.canonicalString()+o.dir})(s))).join(","),fm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>bl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>bl(s))).join(",")),e.ue=n}return e.ue}function Ox(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!m5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!v1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UI(t.startAt,e.startAt)&&UI(t.endAt,e.endAt)}function pb(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Gs=class{constructor(e,n=null,s=[],i=[],o=null,a="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=o,this.limitType=a,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function g5(t,e,n,s,i,o,a,c){return new Gs(t,e,n,s,i,o,a,c)}function vm(t){return new Gs(t)}function zI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Lx(t){return t.collectionGroup!==null}function hl(t){let e=we(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Rt(Vn.comparator);return a.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(c=c.add(m.field))}))})),c})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Go(o,s))})),n.has(Vn.keyField().canonicalString())||e.ce.push(new Go(Vn.keyField(),s))}return e.ce}function as(t){let e=we(t);return e.le||(e.le=v5(e,hl(t))),e.le}function v5(t,e){if(t.limitType==="F")return jI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{let o=i.dir==="desc"?"asc":"desc";return new Go(i.field,o)}));let n=t.endAt?new qi(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new qi(t.startAt.position,t.startAt.inclusive):null;return jI(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function mb(t,e){let n=t.filters.concat([e]);return new Gs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qp(t,e,n){return new Gs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bm(t,e){return Ox(as(t),as(e))&&t.limitType===e.limitType}function y1(t){return`${Dx(as(t))}|lt:${t.limitType}`}function ll(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((i=>b1(i))).join(", ")}]`),fm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((i=>bl(i))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((i=>bl(i))).join(",")),`Target(${s})`})(as(t))}; limitType=${t.limitType})`}function xm(t,e){return e.isFoundDocument()&&(function(s,i){let o=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):pe.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)})(t,e)&&(function(s,i){for(let o of hl(s))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(s,i){for(let o of s.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(s,i){return!(s.startAt&&!(function(a,c,d){let m=FI(a,c,d);return a.inclusive?m<=0:m<0})(s.startAt,hl(s),i)||s.endAt&&!(function(a,c,d){let m=FI(a,c,d);return a.inclusive?m>=0:m>0})(s.endAt,hl(s),i))})(t,e)}function b5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function w1(t){return(e,n)=>{let s=!1;for(let i of hl(t)){let o=x5(i,e,n);if(o!==0)return o;s=s||i.field.isKeyField()}return 0}}function x5(t,e,n){let s=t.field.isKeyField()?pe.comparator(e.key,n.key):(function(o,a,c){let d=a.data.field(o),m=c.data.field(o);return d!==null&&m!==null?vl(d,m):xe()})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return xe()}}var Gi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(let[i,o]of s)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yo(this.inner,((n,s)=>{for(let[i,o]of s)e(i,o)}))}isEmpty(){return d1(this.inner)}size(){return this.innerSize}};var y5=new ut(pe.comparator);function Hs(){return y5}var N1=new ut(pe.comparator);function bc(...t){let e=N1;for(let n of t)e=e.insert(n.key,n);return e}function _1(t){let e=N1;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Fo(){return yc()}function E1(){return yc()}function yc(){return new Gi((t=>t.toString()),((t,e)=>t.isEqual(e)))}var w5=new ut(pe.comparator),N5=new Rt(pe.comparator);function ke(...t){let e=N5;for(let n of t)e=e.add(n);return e}var _5=new Rt(Me);function E5(){return _5}function Mx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(e)?"-0":e}}function I1(t){return{integerValue:""+t}}function S1(t,e){return l5(e)?I1(e):Mx(t,e)}var xl=class{constructor(){this._=void 0}};function I5(t,e,n){return t instanceof yl?(function(i,o){let a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&gm(o)&&(o=Ax(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}})(n,e):t instanceof Ho?k1(t,e):t instanceof Wo?C1(t,e):(function(i,o){let a=T1(i,o),c=BI(a)+BI(i.Pe);return rb(a)&&rb(i.Pe)?I1(c):Mx(i.serializer,c)})(t,e)}function S5(t,e,n){return t instanceof Ho?k1(t,e):t instanceof Wo?C1(t,e):n}function T1(t,e){return t instanceof Ko?(function(s){return rb(s)||(function(o){return!!o&&"doubleValue"in o})(s)})(e)?e:{integerValue:0}:null}var yl=class extends xl{},Ho=class extends xl{constructor(e){super(),this.elements=e}};function k1(t,e){let n=A1(e);for(let s of t.elements)n.some((i=>us(i,s)))||n.push(s);return{arrayValue:{values:n}}}var Wo=class extends xl{constructor(e){super(),this.elements=e}};function C1(t,e){let n=A1(e);for(let s of t.elements)n=n.filter((i=>!us(i,s)));return{arrayValue:{values:n}}}var Ko=class extends xl{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function BI(t){return Re(t.integerValue||t.doubleValue)}function A1(t){return Px(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var fb=class{constructor(e,n){this.field=e,this.transform=n}};function T5(t,e){return t.field.isEqual(e.field)&&(function(s,i){return s instanceof Ho&&i instanceof Ho||s instanceof Wo&&i instanceof Wo?gl(s.elements,i.elements,us):s instanceof Ko&&i instanceof Ko?us(s.Pe,i.Pe):s instanceof yl&&i instanceof yl})(t.transform,e.transform)}var gb=class{constructor(e,n){this.version=e,this.transformResults=n}},$n=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Lp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var wl=class{};function P1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Nl(t.key,$n.none()):new Qo(t.key,t.data,$n.none());{let n=t.data,s=Mn.empty(),i=new Rt(Vn.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?s.delete(o):s.set(o,a),i=i.add(o)}return new cs(t.key,s,new er(i.toArray()),$n.none())}}function k5(t,e,n){t instanceof Qo?(function(i,o,a){let c=i.value.clone(),d=GI(i.fieldTransforms,o,a.transformResults);c.setAll(d),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):t instanceof cs?(function(i,o,a){if(!Lp(i.precondition,o))return void o.convertToUnknownDocument(a.version);let c=GI(i.fieldTransforms,o,a.transformResults),d=o.data;d.setAll(D1(i)),d.setAll(c),o.convertToFoundDocument(a.version,d).setHasCommittedMutations()})(t,e,n):(function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function wc(t,e,n,s){return t instanceof Qo?(function(o,a,c,d){if(!Lp(o.precondition,a))return c;let m=o.value.clone(),b=HI(o.fieldTransforms,d,a);return m.setAll(b),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),null})(t,e,n,s):t instanceof cs?(function(o,a,c,d){if(!Lp(o.precondition,a))return c;let m=HI(o.fieldTransforms,d,a),b=a.data;return b.setAll(D1(o)),b.setAll(m),a.convertToFoundDocument(a.version,b).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((N=>N.field)))})(t,e,n,s):(function(o,a,c){return Lp(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c})(t,e,n)}function C5(t,e){let n=null;for(let s of t.fieldTransforms){let i=e.data.field(s.field),o=T1(s.transform,i||null);o!=null&&(n===null&&(n=Mn.empty()),n.set(s.field,o))}return n||null}function qI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&gl(s,i,((o,a)=>T5(o,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Qo=class extends wl{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},cs=class extends wl{constructor(e,n,s,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function D1(t){let e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){let s=t.data.field(n);e.set(n,s)}})),e}function GI(t,e,n){let s=new Map;Ue(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],a=o.transform,c=e.data.field(o.field);s.set(o.field,S5(a,c,n[i]))}return s}function HI(t,e,n){let s=new Map;for(let i of t){let o=i.transform,a=n.data.field(i.field);s.set(i.field,I5(o,a,e))}return s}var Nl=class extends wl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},vb=class extends wl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var bb=class{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){let s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&k5(o,e,s[i])}}applyToLocalView(e,n){for(let s of this.baseMutations)s.key.isEqual(e.key)&&(n=wc(s,e,n,this.localWriteTime));for(let s of this.mutations)s.key.isEqual(e.key)&&(n=wc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let s=E1();return this.mutations.forEach((i=>{let o=e.get(i.key),a=o.overlayedDocument,c=this.applyToLocalView(a,o.mutatedFields);c=n.has(i.key)?null:c;let d=P1(a,c);d!==null&&s.set(i.key,d),a.isValidDocument()||a.convertToNoDocument(_e.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,((n,s)=>qI(n,s)))&&gl(this.baseMutations,e.baseMutations,((n,s)=>qI(n,s)))}},xb=class t{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){Ue(e.mutations.length===s.length);let i=(function(){return w5})(),o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,s[a].version);return new t(e,n,s,i)}};var yb=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var wb=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var xt,Oe;function A5(t){switch(t){default:return xe();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function O1(t){if(t===void 0)return Bs("GRPC error has no .code"),Q.UNKNOWN;switch(t){case xt.OK:return Q.OK;case xt.CANCELLED:return Q.CANCELLED;case xt.UNKNOWN:return Q.UNKNOWN;case xt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case xt.INTERNAL:return Q.INTERNAL;case xt.UNAVAILABLE:return Q.UNAVAILABLE;case xt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case xt.NOT_FOUND:return Q.NOT_FOUND;case xt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case xt.ABORTED:return Q.ABORTED;case xt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case xt.DATA_LOSS:return Q.DATA_LOSS;default:return xe()}}(Oe=xt||(xt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";var WI=null;function P5(){return new TextEncoder}var D5=new ji([4294967295,4294967295],0);function KI(t){let e=P5().encode(t),n=new Mv;return n.update(e),new Uint8Array(n.digest())}function QI(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ji([n,s],0),new ji([i,o],0)]}var Nb=class t{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Uo(`Invalid padding: ${n}`);if(s<0)throw new Uo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Uo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Uo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ji.fromNumber(this.Ie)}Ee(e,n,s){let i=e.add(n.multiply(ji.fromNumber(s)));return i.compare(D5)===1&&(i=new ji([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=KI(e),[s,i]=QI(n);for(let o=0;o<this.hashCount;o++){let a=this.Ee(s,i,o);if(!this.de(a))return!1}return!0}static create(e,n,s){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new t(o,i,n);return s.forEach((c=>a.insert(c))),a}insert(e){if(this.Ie===0)return;let n=KI(e),[s,i]=QI(n);for(let o=0;o<this.hashCount;o++){let a=this.Ee(s,i,o);this.Ae(a)}}Ae(e){let n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}},Uo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Gp=class t{constructor(e,n,s,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,s){let i=new Map;return i.set(e,Sc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new t(_e.min(),i,new ut(Me),Hs(),ke())}},Sc=class t{constructor(e,n,s,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new t(s,n,ke(),ke(),ke())}};var pl=class{constructor(e,n,s,i){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=i}},Hp=class{constructor(e,n){this.targetId=e,this.me=n}},Wp=class{constructor(e,n,s=tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}},Kp=class{constructor(){this.fe=0,this.ge=YI(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),n=ke(),s=ke();return this.ge.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:xe()}})),new Sc(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=YI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},_b=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hs(),this.qe=JI(),this.Qe=new ut(Me)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{let s=this.Ge(n);switch(e.state){case 0:this.ze(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),s.De(e.resumeToken));break;default:xe()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((s,i)=>{this.ze(i)&&n(i)}))}He(e){let n=e.targetId,s=e.me.count,i=this.Je(n);if(i){let o=i.target;if(pb(o))if(s===0){let a=new pe(o.path);this.Ue(n,a,Sr.newNoDocument(a,_e.min()))}else Ue(s===1);else{let a=this.Ye(n);if(a!==s){let c=this.Ze(e),d=c?this.Xe(c,e,a):1;if(d!==0){this.je(n);let m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,m)}WI?.et((function(b,N,E,S,j){var z,f,P,w,C,q;let te={localCacheCount:b,existenceFilterCount:N.count,databaseId:E.database,projectId:E.projectId},ee=N.unchangedNames;return ee&&(te.bloomFilter={applied:j===0,hashCount:(z=ee?.hashCount)!==null&&z!==void 0?z:0,bitmapLength:(w=(P=(f=ee?.bits)===null||f===void 0?void 0:f.bitmap)===null||P===void 0?void 0:P.length)!==null&&w!==void 0?w:0,padding:(q=(C=ee?.bits)===null||C===void 0?void 0:C.padding)!==null&&q!==void 0?q:0,mightContain:A=>{var I;return(I=S?.mightContain(A))!==null&&I!==void 0&&I}}),te})(a,e.me,this.Le.tt(),c,d))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:s="",padding:i=0},hashCount:o=0}=n,a,c;try{a=Bi(s).toUint8Array()}catch(d){if(d instanceof Up)return fl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Nb(a,i,o)}catch(d){return fl(d instanceof Uo?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ie===0?null:c}Xe(e,n,s){return n.me.count===s-this.nt(e,n.targetId)?0:2}nt(e,n){let s=this.Le.getRemoteKeysForTarget(n),i=0;return s.forEach((o=>{let a=this.Le.tt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,o,null),i++)})),i}rt(e){let n=new Map;this.Be.forEach(((o,a)=>{let c=this.Je(a);if(c){if(o.current&&pb(c.target)){let d=new pe(c.target.path);this.ke.get(d)!==null||this.it(a,d)||this.Ue(a,d,Sr.newNoDocument(d,e))}o.be&&(n.set(a,o.ve()),o.Ce())}}));let s=ke();this.qe.forEach(((o,a)=>{let c=!0;a.forEachWhile((d=>{let m=this.Je(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(s=s.add(o))})),this.ke.forEach(((o,a)=>a.setReadTime(e)));let i=new Gp(e,n,this.Qe,this.ke,s);return this.ke=Hs(),this.qe=JI(),this.Qe=new ut(Me),i}$e(e,n){if(!this.ze(e))return;let s=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,s){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Kp,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Rt(Me),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Kp),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function JI(){return new ut(pe.comparator)}function YI(){return new ut(pe.comparator)}var O5={asc:"ASCENDING",desc:"DESCENDING"},L5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M5={and:"AND",or:"OR"},Eb=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Ib(t,e){return t.useProto3Json||fm(e)?e:{value:e}}function Qp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function V5(t,e){return Qp(t,e.toTimestamp())}function ls(t){return Ue(!!t),_e.fromTimestamp((function(n){let s=qs(n);return new zt(s.seconds,s.nanos)})(t))}function Vx(t,e){return Sb(t,e).canonicalString()}function Sb(t,e){let n=(function(i){return new et(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function M1(t){let e=et.fromString(t);return Ue(j1(e)),e}function Tb(t,e){return Vx(t.databaseId,e.path)}function zv(t,e){let n=M1(e);if(n.get(1)!==t.databaseId.projectId)throw new re(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe($1(n))}function V1(t,e){return Vx(t.databaseId,e)}function $5(t){let e=M1(t);return e.length===4?et.emptyPath():$1(e)}function kb(t){return new et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $1(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function XI(t,e,n){return{name:Tb(t,e),fields:n.value.mapValue.fields}}function F5(t,e){let n;if("targetChange"in e){e.targetChange;let s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:xe()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(m,b){return m.useProto3Json?(Ue(b===void 0||typeof b=="string"),tn.fromBase64String(b||"")):(Ue(b===void 0||b instanceof Buffer||b instanceof Uint8Array),tn.fromUint8Array(b||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&(function(m){let b=m.code===void 0?Q.UNKNOWN:O1(m.code);return new re(b,m.message||"")})(a);n=new Wp(s,i,o,c||null)}else if("documentChange"in e){e.documentChange;let s=e.documentChange;s.document,s.document.name,s.document.updateTime;let i=zv(t,s.document.name),o=ls(s.document.updateTime),a=s.document.createTime?ls(s.document.createTime):_e.min(),c=new Mn({mapValue:{fields:s.document.fields}}),d=Sr.newFoundDocument(i,o,a,c),m=s.targetIds||[],b=s.removedTargetIds||[];n=new pl(m,b,d.key,d)}else if("documentDelete"in e){e.documentDelete;let s=e.documentDelete;s.document;let i=zv(t,s.document),o=s.readTime?ls(s.readTime):_e.min(),a=Sr.newNoDocument(i,o),c=s.removedTargetIds||[];n=new pl([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;let s=e.documentRemove;s.document;let i=zv(t,s.document),o=s.removedTargetIds||[];n=new pl([],o,i,null)}else{if(!("filter"in e))return xe();{e.filter;let s=e.filter;s.targetId;let{count:i=0,unchangedNames:o}=s,a=new wb(i,o),c=s.targetId;n=new Hp(c,a)}}return n}function U5(t,e){let n;if(e instanceof Qo)n={update:XI(t,e.key,e.value)};else if(e instanceof Nl)n={delete:Tb(t,e.key)};else if(e instanceof cs)n={update:XI(t,e.key,e.data),updateMask:Q5(e.fieldMask)};else{if(!(e instanceof vb))return xe();n={verify:Tb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(o,a){let c=a.transform;if(c instanceof yl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ho)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Wo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ko)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw xe()})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:V5(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe()})(t,e.precondition)),n}function j5(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map((n=>(function(i,o){let a=i.updateTime?ls(i.updateTime):ls(o);return a.isEqual(_e.min())&&(a=ls(o)),new gb(a,i.transformResults||[])})(n,e)))):[]}function z5(t,e){return{documents:[V1(t,e.path)]}}function B5(t,e){let n={structuredQuery:{}},s=e.path,i;e.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=V1(t,i);let o=(function(m){if(m.length!==0)return U1(Tr.create(m,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let a=(function(m){if(m.length!==0)return m.map((b=>(function(E){return{field:ul(E.field),direction:H5(E.dir)}})(b)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);let c=Ib(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{_t:n,parent:i}}function q5(t){let e=$5(t.parent),n=t.structuredQuery,s=n.from?n.from.length:0,i=null;if(s>0){Ue(s===1);let b=n.from[0];b.allDescendants?i=b.collectionId:e=e.child(b.collectionId)}let o=[];n.where&&(o=(function(N){let E=F1(N);return E instanceof Tr&&g1(E)?E.getFilters():[E]})(n.where));let a=[];n.orderBy&&(a=(function(N){return N.map((E=>(function(j){return new Go(cl(j.field),(function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(E)))})(n.orderBy));let c=null;n.limit&&(c=(function(N){let E;return E=typeof N=="object"?N.value:N,fm(E)?null:E})(n.limit));let d=null;n.startAt&&(d=(function(N){let E=!!N.before,S=N.values||[];return new qi(S,E)})(n.startAt));let m=null;return n.endAt&&(m=(function(N){let E=!N.before,S=N.values||[];return new qi(S,E)})(n.endAt)),g5(e,i,a,o,c,"F",d,m)}function G5(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function F1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let s=cl(n.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":let i=cl(n.unaryFilter.field);return wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=cl(n.unaryFilter.field);return wt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=cl(n.unaryFilter.field);return wt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return xe()}})(t):t.fieldFilter!==void 0?(function(n){return wt.create(cl(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Tr.create(n.compositeFilter.filters.map((s=>F1(s))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe()}})(n.compositeFilter.op))})(t):xe()}function H5(t){return O5[t]}function W5(t){return L5[t]}function K5(t){return M5[t]}function ul(t){return{fieldPath:t.canonicalString()}}function cl(t){return Vn.fromServerFormat(t.fieldPath)}function U1(t){return t instanceof wt?(function(n){if(n.op==="=="){if($I(n.value))return{unaryFilter:{field:ul(n.field),op:"IS_NAN"}};if(VI(n.value))return{unaryFilter:{field:ul(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($I(n.value))return{unaryFilter:{field:ul(n.field),op:"IS_NOT_NAN"}};if(VI(n.value))return{unaryFilter:{field:ul(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ul(n.field),op:W5(n.op),value:n.value}}})(t):t instanceof Tr?(function(n){let s=n.getFilters().map((i=>U1(i)));return s.length===1?s[0]:{compositeFilter:{op:K5(n.op),filters:s}}})(t):xe()}function Q5(t){let e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function j1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Tc=class t{constructor(e,n,s,i,o=_e.min(),a=_e.min(),c=tn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Cb=class{constructor(e){this.ct=e}};function J5(t){let e=q5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qp(e,e.limit,"L"):e}var Jp=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Re(e.integerValue));else if("doubleValue"in e){let s=Re(e.doubleValue);isNaN(s)?this.dt(n,13):(this.dt(n,15),_c(s)?n.At(0):n.At(s))}else if("timestampValue"in e){let s=e.timestampValue;this.dt(n,20),typeof s=="string"&&(s=qs(s)),n.Rt(`${s.seconds||""}`),n.At(s.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Bi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let s=e.geoPointValue;this.dt(n,45),n.At(s.latitude||0),n.At(s.longitude||0)}else"mapValue"in e?p1(e)?this.dt(n,Number.MAX_SAFE_INTEGER):h1(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):xe()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let s=e.fields||{};this.dt(n,55);for(let i of Object.keys(s))this.Vt(i,n),this.Tt(s[i],n)}wt(e,n){var s,i;let o=e.fields||{};this.dt(n,53);let a="value",c=((i=(s=o[a].arrayValue)===null||s===void 0?void 0:s.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Re(c)),this.Vt(a,n),this.Tt(o[a],n)}bt(e,n){let s=e.values||[];this.dt(n,50);for(let i of s)this.Tt(i,n)}yt(e,n){this.dt(n,37),pe.fromName(e).path.forEach((s=>{this.dt(n,60),this.Dt(s,n)}))}dt(e,n){e.At(n)}ft(e){e.At(2)}};Jp.vt=new Jp;var Ab=class{constructor(){this.un=new Pb}addToCollectionParentIndex(e,n){return this.un.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(Bo.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(Bo.min())}updateCollectionGroup(e,n,s){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}},Pb=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new Rt(et.comparator),o=!i.has(s);return this.index[n]=i.add(s),o}has(e){let n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new Rt(et.comparator)).toArray()}};var _3=new Uint8Array(0);var ss=class t{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ss.DEFAULT_COLLECTION_PERCENTILE=10,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ss.DEFAULT=new ss(41943040,ss.DEFAULT_COLLECTION_PERCENTILE,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ss.DISABLED=new ss(-1,0,0);var kc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Db=class{constructor(){this.changes=new Gi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Sr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let s=this.changes.get(n);return s!==void 0?R.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Ob=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Lb=class{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(s=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(s!==null&&wc(s.mutation,i,er.empty(),zt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){let i=Fo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,s).next((o=>{let a=bc();return o.forEach(((c,d)=>{a=a.insert(c,d.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){let s=Fo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){let i=[];return s.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((a,c)=>{n.set(a,c)}))}))}computeViews(e,n,s,i){let o=Hs(),a=yc(),c=(function(){return yc()})();return n.forEach(((d,m)=>{let b=s.get(m.key);i.has(m.key)&&(b===void 0||b.mutation instanceof cs)?o=o.insert(m.key,m):b!==void 0?(a.set(m.key,b.mutation.getFieldMask()),wc(b.mutation,m,b.mutation.getFieldMask(),zt.now())):a.set(m.key,er.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((m,b)=>a.set(m,b))),n.forEach(((m,b)=>{var N;return c.set(m,new Ob(b,(N=a.get(m))!==null&&N!==void 0?N:null))})),c)))}recalculateAndSaveOverlays(e,n){let s=yc(),i=new ut(((a,c)=>a-c)),o=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(let c of a)c.keys().forEach((d=>{let m=n.get(d);if(m===null)return;let b=s.get(d)||er.empty();b=c.applyToLocalView(m,b),s.set(d,b);let N=(i.get(c.batchId)||ke()).add(d);i=i.insert(c.batchId,N)}))})).next((()=>{let a=[],c=i.getReverseIterator();for(;c.hasNext();){let d=c.getNext(),m=d.key,b=d.value,N=E1();b.forEach((E=>{if(!o.has(E)){let S=P1(n.get(E),s.get(E));S!==null&&N.set(E,S),o=o.add(E)}})),a.push(this.documentOverlayCache.saveOverlays(e,m,N))}return R.waitFor(a)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,i){return(function(a){return pe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Lx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,i):this.getDocumentsMatchingCollectionQuery(e,n,s,i)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next((o=>{let a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-o.size):R.resolve(Fo()),c=-1,d=o;return a.next((m=>R.forEach(m,((b,N)=>(c<N.largestBatchId&&(c=N.largestBatchId),o.get(b)?R.resolve():this.remoteDocumentCache.getEntry(e,b).next((E=>{d=d.insert(b,E)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,d,m,ke()))).next((b=>({batchId:c,changes:_1(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let i=bc();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,i){let o=n.collectionGroup,a=bc();return this.indexManager.getCollectionParents(e,o).next((c=>R.forEach(c,(d=>{let m=(function(N,E){return new Gs(E,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,s,i).next((b=>{b.forEach(((N,E)=>{a=a.insert(N,E)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,s,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,o,i)))).next((a=>{o.forEach(((d,m)=>{let b=m.getKey();a.get(b)===null&&(a=a.insert(b,Sr.newInvalidDocument(b)))}));let c=bc();return a.forEach(((d,m)=>{let b=o.get(d);b!==void 0&&wc(b.mutation,m,er.empty(),zt.now()),xm(n,m)&&(c=c.insert(d,m))})),c}))}};var Mb=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return R.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ls(i.createTime)}})(n)),R.resolve()}getNamedQuery(e,n){return R.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(i){return{name:i.name,query:J5(i.bundledQuery),readTime:ls(i.readTime)}})(n)),R.resolve()}};var Vb=class{constructor(){this.overlays=new ut(pe.comparator),this.Ir=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){let s=Fo();return R.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&s.set(i,o)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((i,o)=>{this.ht(e,n,o)})),R.resolve()}removeOverlaysForBatchId(e,n,s){let i=this.Ir.get(s);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Ir.delete(s)),R.resolve()}getOverlaysForCollection(e,n,s){let i=Fo(),o=n.length+1,a=new pe(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){let d=c.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>s&&i.set(d.getKey(),d)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let o=new ut(((m,b)=>m-b)),a=this.overlays.getIterator();for(;a.hasNext();){let m=a.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>s){let b=o.get(m.largestBatchId);b===null&&(b=Fo(),o=o.insert(m.largestBatchId,b)),b.set(m.getKey(),m)}}let c=Fo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,b)=>c.set(m,b))),!(c.size()>=i)););return R.resolve(c)}ht(e,n,s){let i=this.overlays.get(s.key);if(i!==null){let a=this.Ir.get(i.largestBatchId).delete(s.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(s.key,new yb(n,s));let o=this.Ir.get(n);o===void 0&&(o=ke(),this.Ir.set(n,o)),this.Ir.set(n,o.add(s.key))}};var $b=class{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return R.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,R.resolve()}};var Cc=class{constructor(){this.Tr=new Rt(yt.Er),this.dr=new Rt(yt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let s=new yt(e,n);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Vr(new yt(e,n))}mr(e,n){e.forEach((s=>this.removeReference(s,n)))}gr(e){let n=new pe(new et([])),s=new yt(n,e),i=new yt(n,e+1),o=[];return this.dr.forEachInRange([s,i],(a=>{this.Vr(a),o.push(a.key)})),o}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new pe(new et([])),s=new yt(n,e),i=new yt(n,e+1),o=ke();return this.dr.forEachInRange([s,i],(a=>{o=o.add(a.key)})),o}containsKey(e){let n=new yt(e,0),s=this.Tr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}},yt=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return pe.comparator(e.key,n.key)||Me(e.wr,n.wr)}static Ar(e,n){return Me(e.wr,n.wr)||pe.comparator(e.key,n.key)}};var Fb=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Rt(yt.Er)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new bb(o,n,s,i);this.mutationQueue.push(a);for(let c of i)this.br=this.br.add(new yt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return R.resolve(a)}lookupMutationBatch(e,n){return R.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let s=n+1,i=this.vr(s),o=i<0?0:i;return R.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let s=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([s,i],(a=>{let c=this.Dr(a.wr);o.push(c)})),R.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Rt(Me);return n.forEach((i=>{let o=new yt(i,0),a=new yt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],(c=>{s=s.add(c.wr)}))})),R.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,n){let s=n.path,i=s.length+1,o=s;pe.isDocumentKey(o)||(o=o.child(""));let a=new yt(new pe(o),0),c=new Rt(Me);return this.br.forEachWhile((d=>{let m=d.key.path;return!!s.isPrefixOf(m)&&(m.length===i&&(c=c.add(d.wr)),!0)}),a),R.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach((s=>{let i=this.Dr(s);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ue(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return R.forEach(n.mutations,(i=>{let o=new yt(i.key,n.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=s}))}On(e){}containsKey(e,n){let s=new yt(n,0),i=this.br.firstAfterOrEqual(s);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Ub=class{constructor(e){this.Mr=e,this.docs=(function(){return new ut(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let s=n.key,i=this.docs.get(s),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let s=this.docs.get(n);return R.resolve(s?s.document.mutableCopy():Sr.newInvalidDocument(n))}getEntries(e,n){let s=Hs();return n.forEach((i=>{let o=this.docs.get(i);s=s.insert(i,o?o.document.mutableCopy():Sr.newInvalidDocument(i))})),R.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let o=Hs(),a=n.path,c=new pe(a.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){let{key:m,value:{document:b}}=d.getNext();if(!a.isPrefixOf(m.path))break;m.path.length>a.length+1||i5(s5(b),s)<=0||(i.has(b.key)||xm(n,b))&&(o=o.insert(b.key,b.mutableCopy()))}return R.resolve(o)}getAllFromCollectionGroup(e,n,s,i){xe()}Or(e,n){return R.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new jb(this)}getSize(e){return R.resolve(this.size)}},jb=class extends Db{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach(((s,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(s)})),R.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var zb=class{constructor(e){this.persistence=e,this.Nr=new Gi((n=>Dx(n)),Ox),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Cc,this.targetCount=0,this.kr=kc.Bn()}forEachTarget(e,n){return this.Nr.forEach(((s,i)=>n(i))),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Lr&&(this.Lr=n),R.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new kc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.Kn(n),R.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,s){let i=0,o=[];return this.Nr.forEach(((a,c)=>{c.sequenceNumber<=n&&s.get(c.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),R.waitFor(o).next((()=>i))}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){let s=this.Nr.get(n)||null;return R.resolve(s)}addMatchingKeys(e,n,s){return this.Br.Rr(n,s),R.resolve()}removeMatchingKeys(e,n,s){this.Br.mr(n,s);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((a=>{o.push(i.markPotentiallyOrphaned(e,a))})),R.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),R.resolve()}getMatchingKeysForTargetId(e,n){let s=this.Br.yr(n);return R.resolve(s)}containsKey(e,n){return R.resolve(this.Br.containsKey(n))}};var Bb=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Nc(0),this.Kr=!1,this.Kr=!0,this.$r=new $b,this.referenceDelegate=e(this),this.Ur=new zb(this),this.indexManager=new Ab,this.remoteDocumentCache=(function(i){return new Ub(i)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new Cb(n),this.Gr=new Mb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Vb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.qr[e.toKey()];return s||(s=new Fb(n,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);let i=new qb(this.Qr.next());return this.referenceDelegate.zr(),s(i).next((o=>this.referenceDelegate.jr(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Hr(e,n){return R.or(Object.values(this.qr).map((s=>()=>s.containsKey(e,n))))}},qb=class extends eb{constructor(e){super(),this.currentSequenceNumber=e}},Gb=class t{constructor(e){this.persistence=e,this.Jr=new Cc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw xe()}addReference(e,n,s){return this.Jr.addReference(s,n),this.Xr.delete(s.toString()),R.resolve()}removeReference(e,n,s){return this.Jr.removeReference(s,n),this.Xr.add(s.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),R.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((i=>this.Xr.add(i.toString())));let s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.Xr.add(o.toString())))})).next((()=>s.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Xr,(s=>{let i=pe.fromPath(s);return this.ei(e,i).next((o=>{o||n.removeEntry(i,_e.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((s=>{s?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return R.or([()=>R.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Hb=class t{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.$i=s,this.Ui=i}static Wi(e,n){let s=ke(),i=ke();for(let o of n.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,s,i)}};var Wb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Kb=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return CI()?8:a5(kI())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,s,i){let o={result:null};return this.Yi(e,n).next((a=>{o.result=a})).next((()=>{if(!o.result)return this.Zi(e,n,i,s).next((a=>{o.result=a}))})).next((()=>{if(o.result)return;let a=new Wb;return this.Xi(e,n,a).next((c=>{if(o.result=c,this.zi)return this.es(e,n,a,c.size)}))})).next((()=>o.result))}es(e,n,s,i){return s.documentReadCount<this.ji?(vc()<=De.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ll(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),R.resolve()):(vc()<=De.DEBUG&&ce("QueryEngine","Query:",ll(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.Hi*i?(vc()<=De.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ll(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,as(n))):R.resolve())}Yi(e,n){if(zI(n))return R.resolve(null);let s=as(n);return this.indexManager.getIndexType(e,s).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=qp(n,null,"F"),s=as(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((o=>{let a=ke(...o);return this.Ji.getDocuments(e,a).next((c=>this.indexManager.getMinOffset(e,s).next((d=>{let m=this.ts(n,c);return this.ns(n,m,a,d.readTime)?this.Yi(e,qp(n,null,"F")):this.rs(e,m,n,d)}))))})))))}Zi(e,n,s,i){return zI(n)||i.isEqual(_e.min())?R.resolve(null):this.Ji.getDocuments(e,s).next((o=>{let a=this.ts(n,o);return this.ns(n,a,s,i)?R.resolve(null):(vc()<=De.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ll(n)),this.rs(e,a,n,r5(i,-1)).next((c=>c)))}))}ts(e,n){let s=new Rt(w1(e));return n.forEach(((i,o)=>{xm(e,o)&&(s=s.add(o))})),s}ns(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,s){return vc()<=De.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ll(n)),this.Ji.getDocumentsMatchingQuery(e,n,Bo.min(),s)}rs(e,n,s,i){return this.Ji.getDocumentsMatchingQuery(e,s,i).next((o=>(n.forEach((a=>{o=o.insert(a.key,a)})),o)))}};var Qb=class{constructor(e,n,s,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ut(Me),this._s=new Gi((o=>Dx(o)),Ox),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lb(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}};function Y5(t,e,n,s){return new Qb(t,e,n,s)}async function z1(t,e){let n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next((o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(s)))).next((o=>{let a=[],c=[],d=ke();for(let m of i){a.push(m.batchId);for(let b of m.mutations)d=d.add(b.key)}for(let m of o){c.push(m.batchId);for(let b of m.mutations)d=d.add(b.key)}return n.localDocuments.getDocuments(s,d).next((m=>({hs:m,removedBatchIds:a,addedBatchIds:c})))}))}))}function X5(t,e){let n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return(function(c,d,m,b){let N=m.batch,E=N.keys(),S=R.resolve();return E.forEach((j=>{S=S.next((()=>b.getEntry(d,j))).next((z=>{let f=m.docVersions.get(j);Ue(f!==null),z.version.compareTo(f)<0&&(N.applyToRemoteDocument(z,m),z.isValidDocument()&&(z.setReadTime(m.commitVersion),b.addEntry(z)))}))})),S.next((()=>c.mutationQueue.removeMutationBatch(d,N)))})(n,s,e,o).next((()=>o.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(c){let d=ke();for(let m=0;m<c.mutationResults.length;++m)c.mutationResults[m].transformResults.length>0&&(d=d.add(c.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(s,i)))}))}function B1(t){let e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function Z5(t,e){let n=we(t),s=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{let a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let c=[];e.targetChanges.forEach(((b,N)=>{let E=i.get(N);if(!E)return;c.push(n.Ur.removeMatchingKeys(o,b.removedDocuments,N).next((()=>n.Ur.addMatchingKeys(o,b.addedDocuments,N))));let S=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(N)!==null?S=S.withResumeToken(tn.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):b.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(b.resumeToken,s)),i=i.insert(N,S),(function(z,f,P){return z.resumeToken.approximateByteSize()===0||f.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(E,S,b)&&c.push(n.Ur.updateTargetData(o,S))}));let d=Hs(),m=ke();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,b))})),c.push(R5(o,a,e.documentUpdates).next((b=>{d=b.Ps,m=b.Is}))),!s.isEqual(_e.min())){let b=n.Ur.getLastRemoteSnapshotVersion(o).next((N=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,s)));c.push(b)}return R.waitFor(c).next((()=>a.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,m))).next((()=>d))})).then((o=>(n.os=i,o)))}function R5(t,e,n){let s=ke(),i=ke();return n.forEach((o=>s=s.add(o))),e.getEntries(t,s).next((o=>{let a=Hs();return n.forEach(((c,d)=>{let m=o.get(c);d.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(_e.min())?(e.removeEntry(c,d.readTime),a=a.insert(c,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),a=a.insert(c,d)):ce("LocalStore","Ignoring outdated watch update for ",c,". Current version:",m.version," Watch version:",d.version)})),{Ps:a,Is:i}}))}function e4(t,e){let n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function t4(t,e){let n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let i;return n.Ur.getTargetData(s,e).next((o=>o?(i=o,R.resolve(i)):n.Ur.allocateTargetId(s).next((a=>(i=new Tc(e,a,"TargetPurposeListen",s.currentSequenceNumber),n.Ur.addTargetData(s,i).next((()=>i)))))))})).then((s=>{let i=n.os.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(s.targetId,s),n._s.set(e,s.targetId)),s}))}async function Jb(t,e,n){let s=we(t),i=s.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",o,(a=>s.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!$c(a))throw a;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}s.os=s.os.remove(e),s._s.delete(i.target)}function ZI(t,e,n){let s=we(t),i=_e.min(),o=ke();return s.persistence.runTransaction("Execute query","readwrite",(a=>(function(d,m,b){let N=we(d),E=N._s.get(b);return E!==void 0?R.resolve(N.os.get(E)):N.Ur.getTargetData(m,b)})(s,a,as(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(a,c.targetId).next((d=>{o=d}))})).next((()=>s.ss.getDocumentsMatchingQuery(a,e,n?i:_e.min(),n?o:ke()))).next((c=>(n4(s,b5(e),c),{documents:c,Ts:o})))))}function n4(t,e,n){let s=t.us.get(e)||_e.min();n.forEach(((i,o)=>{o.readTime.compareTo(s)>0&&(s=o.readTime)})),t.us.set(e,s)}var Yp=class{constructor(){this.activeTargetIds=E5()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Yb=class{constructor(){this.so=new Yp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,s){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Yp,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Xb=class{_o(e){}shutdown(){}};var Xp=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Dp=null;function Bv(){return Dp===null?Dp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dp++,"0x"+Dp.toString(16)}var r4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Zb=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Zt="WebChannelConnection",Rb=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let s=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,s,i,o,a){let c=Bv(),d=this.xo(n,s.toUriEncodedString());ce("RestConnection",`Sending RPC '${n}' ${c}:`,d,i);let m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,o,a),this.No(n,d,m,i).then((b=>(ce("RestConnection",`Received RPC '${n}' ${c}: `,b),b)),(b=>{throw fl("RestConnection",`RPC '${n}' ${c} failed with error: `,b,"url: ",d,"request:",i),b}))}Lo(n,s,i,o,a,c){return this.Mo(n,s,i,o,a)}Oo(n,s,i){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kl})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((o,a)=>n[a]=o)),i&&i.headers.forEach(((o,a)=>n[a]=o))}xo(n,s){let i=r4[n];return`${this.Do}/v1/${s}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,s,i){let o=Bv();return new Promise(((a,c)=>{let d=new Vv;d.setWithCredentials(!0),d.listenOnce($v.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case gc.NO_ERROR:let b=d.getResponseJson();ce(Zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(b)),a(b);break;case gc.TIMEOUT:ce(Zt,`RPC '${e}' ${o} timed out`),c(new re(Q.DEADLINE_EXCEEDED,"Request time out"));break;case gc.HTTP_ERROR:let N=d.getStatus();if(ce(Zt,`RPC '${e}' ${o} failed with status:`,N,"response text:",d.getResponseText()),N>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);let S=E?.error;if(S&&S.status&&S.message){let j=(function(f){let P=f.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(P)>=0?P:Q.UNKNOWN})(S.status);c(new re(j,S.message))}else c(new re(Q.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new re(Q.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{ce(Zt,`RPC '${e}' ${o} completed.`)}}));let m=JSON.stringify(i);ce(Zt,`RPC '${e}' ${o} sending request:`,i),d.send(n,"POST",m,s,15)}))}Bo(e,n,s){let i=Bv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=jv(),c=Uv(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;let b=o.join("");ce(Zt,`Creating RPC '${e}' stream ${i}: ${b}`,d);let N=a.createWebChannel(b,d),E=!1,S=!1,j=new Zb({Io:f=>{S?ce(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,f):(E||(ce(Zt,`Opening RPC '${e}' stream ${i} transport.`),N.open(),E=!0),ce(Zt,`RPC '${e}' stream ${i} sending:`,f),N.send(f))},To:()=>N.close()}),z=(f,P,w)=>{f.listen(P,(C=>{try{w(C)}catch(q){setTimeout((()=>{throw q}),0)}}))};return z(N,al.EventType.OPEN,(()=>{S||(ce(Zt,`RPC '${e}' stream ${i} transport opened.`),j.yo())})),z(N,al.EventType.CLOSE,(()=>{S||(S=!0,ce(Zt,`RPC '${e}' stream ${i} transport closed`),j.So())})),z(N,al.EventType.ERROR,(f=>{S||(S=!0,fl(Zt,`RPC '${e}' stream ${i} transport errored:`,f),j.So(new re(Q.UNAVAILABLE,"The operation could not be completed")))})),z(N,al.EventType.MESSAGE,(f=>{var P;if(!S){let w=f.data[0];Ue(!!w);let C=w,q=C.error||((P=C[0])===null||P===void 0?void 0:P.error);if(q){ce(Zt,`RPC '${e}' stream ${i} received error:`,q);let te=q.status,ee=(function(T){let D=xt[T];if(D!==void 0)return O1(D)})(te),A=q.message;ee===void 0&&(ee=Q.INTERNAL,A="Unknown error status: "+te+" with message "+q.message),S=!0,j.So(new re(ee,A)),N.close()}else ce(Zt,`RPC '${e}' stream ${i} received:`,w),j.bo(w)}})),z(c,Fv.STAT_EVENT,(f=>{f.stat===Ap.PROXY?ce(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):f.stat===Ap.NOPROXY&&ce(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{j.wo()}),0),j}};function qv(){return typeof document<"u"?document:null}function ym(t){return new Eb(t,!0)}var Zp=class{constructor(e,n,s=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=s,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-s);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Rp=class{constructor(e,n,s,i,o,a,c,d){this.ui=e,this.Ho=s,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Zp(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Bs(n.toString()),Bs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,i])=>{this.Yo===n&&this.P_(s,i)}),(s=>{e((()=>{let i=new re(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(i)}))}))}P_(e,n){let s=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{s((()=>this.I_(i)))})),this.stream.onMessage((i=>{s((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}},ex=class extends Rp{constructor(e,n,s,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=F5(this.serializer,e),s=(function(o){if(!("targetChange"in o))return _e.min();let a=o.targetChange;return a.targetIds&&a.targetIds.length?_e.min():a.readTime?ls(a.readTime):_e.min()})(e);return this.listener.d_(n,s)}A_(e){let n={};n.database=kb(this.serializer),n.addTarget=(function(o,a){let c,d=a.target;if(c=pb(d)?{documents:z5(o,d)}:{query:B5(o,d)._t},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=L1(o,a.resumeToken);let m=Ib(o,a.expectedCount);m!==null&&(c.expectedCount=m)}else if(a.snapshotVersion.compareTo(_e.min())>0){c.readTime=Qp(o,a.snapshotVersion.toTimestamp());let m=Ib(o,a.expectedCount);m!==null&&(c.expectedCount=m)}return c})(this.serializer,e);let s=G5(this.serializer,e);s&&(n.labels=s),this.a_(n)}R_(e){let n={};n.database=kb(this.serializer),n.removeTarget=e,this.a_(n)}},tx=class extends Rp{constructor(e,n,s,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=j5(e.writeResults,e.commitTime),s=ls(e.commitTime);return this.listener.g_(s,n)}p_(){let e={};e.database=kb(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map((s=>U5(this.serializer,s)))};this.a_(n)}};var nx=class extends class{}{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new re(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Mo(e,Sb(n,s),i,o,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(Q.UNKNOWN,o.toString())}))}Lo(e,n,s,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Lo(e,Sb(n,s),i,a,c,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new re(Q.UNKNOWN,a.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}},rx=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Bs(n),this.D_=!1):ce("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var sx=class{constructor(e,n,s,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o((a=>{s.enqueueAndForget((async()=>{Xo(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await(async function(d){let m=we(d);m.L_.add(4),await Fc(m),m.q_.set("Unknown"),m.L_.delete(4),await wm(m)})(this))}))})),this.q_=new rx(s,i)}};async function wm(t){if(Xo(t))for(let e of t.B_)await e(!0)}async function Fc(t){for(let e of t.B_)await e(!1)}function q1(t,e){let n=we(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),jx(n)?Ux(n):Cl(n).r_()&&Fx(n,e))}function $x(t,e){let n=we(t),s=Cl(n);n.N_.delete(e),s.r_()&&G1(n,e),n.N_.size===0&&(s.r_()?s.o_():Xo(n)&&n.q_.set("Unknown"))}function Fx(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cl(t).A_(e)}function G1(t,e){t.Q_.xe(e),Cl(t).R_(e)}function Ux(t){t.Q_=new _b({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Cl(t).start(),t.q_.v_()}function jx(t){return Xo(t)&&!Cl(t).n_()&&t.N_.size>0}function Xo(t){return we(t).L_.size===0}function H1(t){t.Q_=void 0}async function s4(t){t.q_.set("Online")}async function i4(t){t.N_.forEach(((e,n)=>{Fx(t,e)}))}async function o4(t,e){H1(t),jx(t)?(t.q_.M_(e),Ux(t)):t.q_.set("Unknown")}async function a4(t,e,n){if(t.q_.set("Online"),e instanceof Wp&&e.state===2&&e.cause)try{await(async function(i,o){let a=o.cause;for(let c of o.targetIds)i.N_.has(c)&&(await i.remoteSyncer.rejectListen(c,a),i.N_.delete(c),i.Q_.removeTarget(c))})(t,e)}catch(s){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await em(t,s)}else if(e instanceof pl?t.Q_.Ke(e):e instanceof Hp?t.Q_.He(e):t.Q_.We(e),!n.isEqual(_e.min()))try{let s=await B1(t.localStore);n.compareTo(s)>=0&&await(function(o,a){let c=o.Q_.rt(a);return c.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){let b=o.N_.get(m);b&&o.N_.set(m,b.withResumeToken(d.resumeToken,a))}})),c.targetMismatches.forEach(((d,m)=>{let b=o.N_.get(d);if(!b)return;o.N_.set(d,b.withResumeToken(tn.EMPTY_BYTE_STRING,b.snapshotVersion)),G1(o,d);let N=new Tc(b.target,d,m,b.sequenceNumber);Fx(o,N)})),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(s){ce("RemoteStore","Failed to raise snapshot:",s),await em(t,s)}}async function em(t,e,n){if(!$c(e))throw e;t.L_.add(1),await Fc(t),t.q_.set("Offline"),n||(n=()=>B1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await wm(t)}))}function W1(t,e){return e().catch((n=>em(t,n,e)))}async function Nm(t){let e=we(t),n=Hi(e),s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;l4(e);)try{let i=await e4(e.localStore,s);if(i===null){e.O_.length===0&&n.o_();break}s=i.batchId,u4(e,i)}catch(i){await em(e,i)}K1(e)&&Q1(e)}function l4(t){return Xo(t)&&t.O_.length<10}function u4(t,e){t.O_.push(e);let n=Hi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function K1(t){return Xo(t)&&!Hi(t).n_()&&t.O_.length>0}function Q1(t){Hi(t).start()}async function c4(t){Hi(t).p_()}async function d4(t){let e=Hi(t);for(let n of t.O_)e.m_(n.mutations)}async function h4(t,e,n){let s=t.O_.shift(),i=xb.from(s,e,n);await W1(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Nm(t)}async function p4(t,e){e&&Hi(t).V_&&await(async function(s,i){if((function(a){return A5(a)&&a!==Q.ABORTED})(i.code)){let o=s.O_.shift();Hi(s).s_(),await W1(s,(()=>s.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Nm(s)}})(t,e),K1(t)&&Q1(t)}async function RI(t,e){let n=we(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");let s=Xo(n);n.L_.add(3),await Fc(n),s&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await wm(n)}async function m4(t,e){let n=we(t);e?(n.L_.delete(2),await wm(n)):e||(n.L_.add(2),await Fc(n),n.q_.set("Unknown"))}function Cl(t){return t.K_||(t.K_=(function(n,s,i){let o=we(n);return o.w_(),new ex(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Eo:s4.bind(null,t),Ro:i4.bind(null,t),mo:o4.bind(null,t),d_:a4.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),jx(t)?Ux(t):t.q_.set("Unknown")):(await t.K_.stop(),H1(t))}))),t.K_}function Hi(t){return t.U_||(t.U_=(function(n,s,i){let o=we(n);return o.w_(),new tx(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:c4.bind(null,t),mo:p4.bind(null,t),f_:d4.bind(null,t),g_:h4.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Nm(t)):(await t.U_.stop(),t.O_.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var ix=class t{constructor(e,n,s,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=o,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,i,o){let a=Date.now()+s,c=new t(e,n,a,i,o);return c.start(s),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function zx(t,e){if(Bs("AsyncQueue",`${e}: ${t}`),$c(t))return new re(Q.UNAVAILABLE,`${e}: ${t}`);throw t}var tm=class t{constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=bc(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=s.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let s=new t;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}};var nm=class{constructor(){this.W_=new ut(pe.comparator)}track(e){let n=e.doc.key,s=this.W_.get(n);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(n,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(n):e.type===1&&s.type===2?this.W_=this.W_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):xe():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal(((n,s)=>{e.push(s)})),e}},_l=class t{constructor(e,n,s,i,o,a,c,d,m){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,s,i,o){let a=[];return n.forEach((c=>{a.push({type:0,doc:c})})),new t(e,n,tm.emptySet(n),a,s,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}};var ox=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}},ax=class{constructor(){this.queries=e1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,s){let i=we(n),o=i.queries;i.queries=e1(),o.forEach(((a,c)=>{for(let d of c.j_)d.onError(s)}))})(this,new re(Q.ABORTED,"Firestore shutting down"))}};function e1(){return new Gi((t=>y1(t)),bm)}async function J1(t,e){let n=we(t),s=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(s=2):(o=new ox,s=e.J_()?0:1);try{switch(s){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){let c=zx(a,`Initialization of query '${ll(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Bx(n)}async function Y1(t,e){let n=we(t),s=e.query,i=3,o=n.queries.get(s);if(o){let a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function f4(t,e){let n=we(t),s=!1;for(let i of e){let o=i.query,a=n.queries.get(o);if(a){for(let c of a.j_)c.X_(i)&&(s=!0);a.z_=i}}s&&Bx(n)}function g4(t,e,n){let s=we(t),i=s.queries.get(e);if(i)for(let o of i.j_)o.onError(n);s.queries.delete(e)}function Bx(t){t.Y_.forEach((e=>{e.next()}))}var lx,t1;(t1=lx||(lx={})).ea="default",t1.Cache="cache";var rm=class{constructor(e,n,s){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){let s=[];for(let i of e.docChanges)i.type!==3&&s.push(i);e=new _l(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let s=n!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==lx.Cache}};var sm=class{constructor(e){this.key=e}},im=class{constructor(e){this.key=e}},ux=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ke(),this.mutatedKeys=ke(),this.Aa=w1(e),this.Ra=new tm(this.Aa)}get Va(){return this.Ta}ma(e,n){let s=n?n.fa:new nm,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,a=i,c=!1,d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((b,N)=>{let E=i.get(b),S=xm(this.query,N)?N:null,j=!!E&&this.mutatedKeys.has(E.key),z=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations),f=!1;E&&S?E.data.isEqual(S.data)?j!==z&&(s.track({type:3,doc:S}),f=!0):this.ga(E,S)||(s.track({type:2,doc:S}),f=!0,(d&&this.Aa(S,d)>0||m&&this.Aa(S,m)<0)&&(c=!0)):!E&&S?(s.track({type:0,doc:S}),f=!0):E&&!S&&(s.track({type:1,doc:E}),f=!0,(d||m)&&(c=!0)),f&&(S?(a=a.add(S),o=z?o.add(b):o.delete(b)):(a=a.delete(b),o=o.delete(b)))})),this.query.limit!==null)for(;a.size>this.query.limit;){let b=this.query.limitType==="F"?a.last():a.first();a=a.delete(b.key),o=o.delete(b.key),s.track({type:1,doc:b})}return{Ra:a,fa:s,ns:c,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let a=e.fa.G_();a.sort(((b,N)=>(function(S,j){let z=f=>{switch(f){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return z(S)-z(j)})(b.type,N.type)||this.Aa(b.doc,N.doc))),this.pa(s),i=i!=null&&i;let c=n&&!i?this.ya():[],d=this.da.size===0&&this.current&&!i?1:0,m=d!==this.Ea;return this.Ea=d,a.length!==0||m?{snapshot:new _l(this.query,e.Ra,o,a,e.mutatedKeys,d===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new nm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ke(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));let n=[];return e.forEach((s=>{this.da.has(s)||n.push(new im(s))})),this.da.forEach((s=>{e.has(s)||n.push(new sm(s))})),n}ba(e){this.Ta=e.Ts,this.da=ke();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return _l.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},cx=class{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}},dx=class{constructor(e){this.key=e,this.va=!1}},hx=class{constructor(e,n,s,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Gi((c=>y1(c)),bm),this.Ma=new Map,this.xa=new Set,this.Oa=new ut(pe.comparator),this.Na=new Map,this.La=new Cc,this.Ba={},this.ka=new Map,this.qa=kc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};async function v4(t,e,n=!0){let s=nS(t),i,o=s.Fa.get(e);return o?(s.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await X1(s,e,n,!0),i}async function b4(t,e){let n=nS(t);await X1(n,e,!0,!1)}async function X1(t,e,n,s){let i=await t4(t.localStore,as(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n),c;return s&&(c=await x4(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&q1(t.remoteStore,i),c}async function x4(t,e,n,s,i){t.Ka=(N,E,S)=>(async function(z,f,P,w){let C=f.view.ma(P);C.ns&&(C=await ZI(z.localStore,f.query,!1).then((({documents:A})=>f.view.ma(A,C))));let q=w&&w.targetChanges.get(f.targetId),te=w&&w.targetMismatches.get(f.targetId)!=null,ee=f.view.applyChanges(C,z.isPrimaryClient,q,te);return r1(z,f.targetId,ee.wa),ee.snapshot})(t,N,E,S);let o=await ZI(t.localStore,e,!0),a=new ux(e,o.Ts),c=a.ma(o.documents),d=Sc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),m=a.applyChanges(c,t.isPrimaryClient,d);r1(t,n,m.wa);let b=new cx(e,n,a);return t.Fa.set(e,b),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),m.snapshot}async function y4(t,e,n){let s=we(t),i=s.Fa.get(e),o=s.Ma.get(i.targetId);if(o.length>1)return s.Ma.set(i.targetId,o.filter((a=>!bm(a,e)))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await Jb(s.localStore,i.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(i.targetId),n&&$x(s.remoteStore,i.targetId),px(s,i.targetId)})).catch(Vc)):(px(s,i.targetId),await Jb(s.localStore,i.targetId,!0))}async function w4(t,e){let n=we(t),s=n.Fa.get(e),i=n.Ma.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),$x(n.remoteStore,s.targetId))}async function N4(t,e,n){let s=C4(t);try{let i=await(function(a,c){let d=we(a),m=zt.now(),b=c.reduce(((S,j)=>S.add(j.key)),ke()),N,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let j=Hs(),z=ke();return d.cs.getEntries(S,b).next((f=>{j=f,j.forEach(((P,w)=>{w.isValidDocument()||(z=z.add(P))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,j))).next((f=>{N=f;let P=[];for(let w of c){let C=C5(w,N.get(w.key).overlayedDocument);C!=null&&P.push(new cs(w.key,C,m1(C.value.mapValue),$n.exists(!0)))}return d.mutationQueue.addMutationBatch(S,m,P,c)})).next((f=>{E=f;let P=f.applyToLocalDocumentSet(N,z);return d.documentOverlayCache.saveOverlays(S,f.batchId,P)}))})).then((()=>({batchId:E.batchId,changes:_1(N)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),(function(a,c,d){let m=a.Ba[a.currentUser.toKey()];m||(m=new ut(Me)),m=m.insert(c,d),a.Ba[a.currentUser.toKey()]=m})(s,i.batchId,n),await Uc(s,i.changes),await Nm(s.remoteStore)}catch(i){let o=zx(i,"Failed to persist write");n.reject(o)}}async function Z1(t,e){let n=we(t);try{let s=await Z5(n.localStore,e);e.targetChanges.forEach(((i,o)=>{let a=n.Na.get(o);a&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Ue(a.va):i.removedDocuments.size>0&&(Ue(a.va),a.va=!1))})),await Uc(n,s,e)}catch(s){await Vc(s)}}function n1(t,e,n){let s=we(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){let i=[];s.Fa.forEach(((o,a)=>{let c=a.view.Z_(e);c.snapshot&&i.push(c.snapshot)})),(function(a,c){let d=we(a);d.onlineState=c;let m=!1;d.queries.forEach(((b,N)=>{for(let E of N.j_)E.Z_(c)&&(m=!0)})),m&&Bx(d)})(s.eventManager,e),i.length&&s.Ca.d_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function _4(t,e,n){let s=we(t);s.sharedClientState.updateQueryState(e,"rejected",n);let i=s.Na.get(e),o=i&&i.key;if(o){let a=new ut(pe.comparator);a=a.insert(o,Sr.newNoDocument(o,_e.min()));let c=ke().add(o),d=new Gp(_e.min(),new Map,new ut(Me),a,c);await Z1(s,d),s.Oa=s.Oa.remove(o),s.Na.delete(e),qx(s)}else await Jb(s.localStore,e,!1).then((()=>px(s,e,n))).catch(Vc)}async function E4(t,e){let n=we(t),s=e.batch.batchId;try{let i=await X5(n.localStore,e);eS(n,s,null),R1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Uc(n,i)}catch(i){await Vc(i)}}async function I4(t,e,n){let s=we(t);try{let i=await(function(a,c){let d=we(a);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let b;return d.mutationQueue.lookupMutationBatch(m,c).next((N=>(Ue(N!==null),b=N.keys(),d.mutationQueue.removeMutationBatch(m,N)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,b,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,b))).next((()=>d.localDocuments.getDocuments(m,b)))}))})(s.localStore,e);eS(s,e,n),R1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Uc(s,i)}catch(i){await Vc(i)}}function R1(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function eS(t,e,n){let s=we(t),i=s.Ba[s.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),s.Ba[s.currentUser.toKey()]=i}}function px(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let s of t.Ma.get(e))t.Fa.delete(s),n&&t.Ca.$a(s,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((s=>{t.La.containsKey(s)||tS(t,s)}))}function tS(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&($x(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),qx(t))}function r1(t,e,n){for(let s of n)s instanceof sm?(t.La.addReference(s.key,e),S4(t,s)):s instanceof im?(ce("SyncEngine","Document no longer in limbo: "+s.key),t.La.removeReference(s.key,e),t.La.containsKey(s.key)||tS(t,s.key)):xe()}function S4(t,e){let n=e.key,s=n.path.canonicalString();t.Oa.get(n)||t.xa.has(s)||(ce("SyncEngine","New document in limbo: "+n),t.xa.add(s),qx(t))}function qx(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new pe(et.fromString(e)),s=t.qa.next();t.Na.set(s,new dx(n)),t.Oa=t.Oa.insert(n,s),q1(t.remoteStore,new Tc(as(vm(n.path)),s,"TargetPurposeLimboResolution",Nc.oe))}}async function Uc(t,e,n){let s=we(t),i=[],o=[],a=[];s.Fa.isEmpty()||(s.Fa.forEach(((c,d)=>{a.push(s.Ka(d,e,n).then((m=>{var b;if((m||n)&&s.isPrimaryClient){let N=m?!m.fromCache:(b=n?.targetChanges.get(d.targetId))===null||b===void 0?void 0:b.current;s.sharedClientState.updateQueryState(d.targetId,N?"current":"not-current")}if(m){i.push(m);let N=Hb.Wi(d.targetId,m);o.push(N)}})))})),await Promise.all(a),s.Ca.d_(i),await(async function(d,m){let b=we(d);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(N=>R.forEach(m,(E=>R.forEach(E.$i,(S=>b.persistence.referenceDelegate.addReference(N,E.targetId,S))).next((()=>R.forEach(E.Ui,(S=>b.persistence.referenceDelegate.removeReference(N,E.targetId,S)))))))))}catch(N){if(!$c(N))throw N;ce("LocalStore","Failed to update sequence numbers: "+N)}for(let N of m){let E=N.targetId;if(!N.fromCache){let S=b.os.get(E),j=S.snapshotVersion,z=S.withLastLimboFreeSnapshotVersion(j);b.os=b.os.insert(E,z)}}})(s.localStore,o))}async function T4(t,e){let n=we(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());let s=await z1(n.localStore,e);n.currentUser=e,(function(o,a){o.ka.forEach((c=>{c.forEach((d=>{d.reject(new re(Q.CANCELLED,a))}))})),o.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Uc(n,s.hs)}}function k4(t,e){let n=we(t),s=n.Na.get(e);if(s&&s.va)return ke().add(s.key);{let i=ke(),o=n.Ma.get(e);if(!o)return i;for(let a of o){let c=n.Fa.get(a);i=i.unionWith(c.view.Va)}return i}}function nS(t){let e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_4.bind(null,e),e.Ca.d_=f4.bind(null,e.eventManager),e.Ca.$a=g4.bind(null,e.eventManager),e}function C4(t){let e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I4.bind(null,e),e}var El=class{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ym(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Y5(this.persistence,new Kb,e.initialUser,this.serializer)}Ga(e){return new Bb(Gb.Zr,this.serializer)}Wa(e){return new Yb}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}};El.provider={build:()=>new El};var Ac=class{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>n1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=T4.bind(null,this.syncEngine),await m4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ax})()}createDatastore(e){let n=ym(e.databaseInfo.databaseId),s=(function(o){return new Rb(o)})(e.databaseInfo);return(function(o,a,c,d){return new nx(o,a,c,d)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,i,o,a,c){return new sx(s,i,o,a,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>n1(this.syncEngine,n,0)),(function(){return Xp.D()?new Xp:new Xb})())}createSyncEngine(e,n){return(function(i,o,a,c,d,m,b){let N=new hx(i,o,a,c,d,m);return b&&(N.Qa=!0),N})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){let o=we(i);ce("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Fc(o),o.k_.shutdown(),o.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}};Ac.provider={build:()=>new Ac};var om=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Bs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}};var mx=class{constructor(e,n,s,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=Vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,(async a=>{ce("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(s,(a=>(ce("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let s=zx(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}};async function Gv(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async i=>{s.isEqual(i)||(await z1(e.localStore,i),s=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function s1(t,e){t.asyncQueue.verifyOperationInProgress();let n=await A4(t);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>RI(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,i)=>RI(e.remoteStore,i))),t._onlineComponents=e}async function A4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;fl("Error using user provided cache. Falling back to memory cache: "+n),await Gv(t,new El)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await Gv(t,new El);return t._offlineComponents}async function rS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await s1(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await s1(t,new Ac))),t._onlineComponents}function P4(t){return rS(t).then((e=>e.syncEngine))}async function fx(t){let e=await rS(t),n=e.eventManager;return n.onListen=v4.bind(null,e.syncEngine),n.onUnlisten=y4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=b4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=w4.bind(null,e.syncEngine),n}function D4(t,e,n={}){let s=new is;return t.asyncQueue.enqueueAndForget((async()=>(function(o,a,c,d,m){let b=new om({next:E=>{b.Za(),a.enqueueAndForget((()=>Y1(o,N)));let S=E.docs.has(c);!S&&E.fromCache?m.reject(new re(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&d&&d.source==="server"?m.reject(new re(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),N=new rm(vm(c.path),b,{includeMetadataChanges:!0,_a:!0});return J1(o,N)})(await fx(t),t.asyncQueue,e,n,s))),s.promise}function sS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var i1=new Map;function iS(t,e,n){if(!n)throw new re(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O4(t,e,n,s){if(e===!0&&s===!0)throw new re(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function o1(t){if(!pe.isDocumentKey(t))throw new re(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function a1(t){if(pe.isDocumentKey(t))throw new re(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _m(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe()}function Fn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=_m(t);throw new re(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function L4(t,e){if(e<=0)throw new re(Q.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var am=class{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new re(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new re(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new re(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new re(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,i){return s.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Il=class{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new am({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new am(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Wv;switch(s.type){case"firstParty":return new Yv(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new re(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let s=i1.get(n);s&&(ce("ComponentProvider","Removing Datastore"),i1.delete(n),s.terminate())})(this),Promise.resolve()}};function M4(t,e,n,s={}){var i;let o=(t=Fn(t,Il))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),s.mockUserToken){let c,d;if(typeof s.mockUserToken=="string")c=s.mockUserToken,d=Lt.MOCK_USER;else{c=TI(s.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new re(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Lt(m)}t._authCredentials=new Kv(new Mp(c,d))}}var Ws=class t{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},en=class t{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},zi=class t extends Ws{constructor(e,n,s){super(e,n,vm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new pe(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function tt(t,e,...n){if(t=bn(t),iS("collection","path",e),t instanceof Il){let s=et.fromString(e,...n);return a1(s),new zi(t,null,s)}{if(!(t instanceof en||t instanceof zi))throw new re(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let s=t._path.child(et.fromString(e,...n));return a1(s),new zi(t.firestore,null,s)}}function me(t,e,...n){if(t=bn(t),arguments.length===1&&(e=Vp.newId()),iS("doc","path",e),t instanceof Il){let s=et.fromString(e,...n);return o1(s),new en(t,null,new pe(s))}{if(!(t instanceof en||t instanceof zi))throw new re(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let s=t._path.child(et.fromString(e,...n));return o1(s),new en(t.firestore,t instanceof zi?t.converter:null,new pe(s))}}var lm=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Zp(this,"async_queue_retry"),this.Vu=()=>{let s=qv();s&&ce("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;let n=qv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=qv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));let n=new is;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!$c(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){let n=this.mu.then((()=>(this.du=!0,e().catch((s=>{this.Eu=s,this.du=!1;let i=(function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c})(s);throw Bs("INTERNAL UNHANDLED ERROR: ",i),s})).then((s=>(this.du=!1,s))))));return this.mu=n,n}enqueueAfterDelay(e,n,s){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=ix.createAndSchedule(this,e,n,s,(o=>this.yu(o)));return this.Tu.push(i),i}fu(){this.Eu&&xe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function l1(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of s)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}var kr=class extends Il{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new lm,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new lm(e),this._firestoreClient=void 0,await e}}};function oS(t,e){let n=typeof t=="object"?t:Wh(),s=typeof t=="string"?t:e||"(default)",i=ec(n,"firestore").getImmediate({identifier:s});if(!i._initialized){let o=SI("firestore");o&&M4(i,...o)}return i}function Em(t){if(t._terminated)throw new re(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||V4(t),t._firestoreClient}function V4(t){var e,n,s;let i=t._freezeSettings(),o=(function(c,d,m,b){return new tb(c,d,m,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,sS(b.experimentalLongPollingOptions),b.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=i.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new mx(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(c){let d=c?._online.build();return{_offline:c?._offline.build(d),_online:d}})(t._componentsProvider))}var Pc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(tn.fromBase64String(e))}catch(n){throw new re(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Jo=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Sl=class{constructor(e){this._methodName=e}};var Dc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}};var Oc=class{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,i){if(s.length!==i.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==i[o])return!1;return!0})(this._values,e._values)}};var $4=/^__.*__$/,gx=class{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qo(e,this.data,n,this.fieldTransforms)}},um=class{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function aS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}var vx=class t{constructor(e,n,s,i,o,a){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:s,xu:!1});return i.Ou(e),i}Nu(e){var n;let s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:s,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return dm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(aS(this.Cu)&&$4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},bx=class{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ym(e)}Qu(e,n,s,i=!1){return new vx({Cu:e,methodName:n,qu:s,path:Vn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Al(t){let e=t._freezeSettings(),n=ym(t._databaseId);return new bx(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gx(t,e,n,s,i,o={}){let a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);Hx("Data must be an object, but it was:",a,s);let c=dS(s,a),d,m;if(o.merge)d=new er(a.fieldMask),m=a.fieldTransforms;else if(o.mergeFields){let b=[];for(let N of o.mergeFields){let E=yx(e,N,n);if(!a.contains(E))throw new re(Q.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);pS(b,E)||b.push(E)}d=new er(b),m=a.fieldTransforms.filter((N=>d.covers(N.field)))}else d=null,m=a.fieldTransforms;return new gx(new Mn(c),d,m)}var cm=class t extends Sl{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};var xx=class t extends Sl{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){let n=new Ko(e.serializer,S1(e.serializer,this.$u));return new fb(e.path,n)}isEqual(e){return e instanceof t&&this.$u===e.$u}};function lS(t,e,n,s){let i=t.Qu(1,e,n);Hx("Data must be an object, but it was:",i,s);let o=[],a=Mn.empty();Yo(s,((d,m)=>{let b=Wx(e,d,n);m=bn(m);let N=i.Nu(b);if(m instanceof cm)o.push(b);else{let E=jc(m,N);E!=null&&(o.push(b),a.set(b,E))}}));let c=new er(o);return new um(a,c,i.fieldTransforms)}function uS(t,e,n,s,i,o){let a=t.Qu(1,e,n),c=[yx(e,s,n)],d=[i];if(o.length%2!=0)throw new re(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)c.push(yx(e,o[E])),d.push(o[E+1]);let m=[],b=Mn.empty();for(let E=c.length-1;E>=0;--E)if(!pS(m,c[E])){let S=c[E],j=d[E];j=bn(j);let z=a.Nu(S);if(j instanceof cm)m.push(S);else{let f=jc(j,z);f!=null&&(m.push(S),b.set(S,f))}}let N=new er(m);return new um(b,N,a.fieldTransforms)}function cS(t,e,n,s=!1){return jc(n,t.Qu(s?4:3,e))}function jc(t,e){if(hS(t=bn(t)))return Hx("Unsupported field value:",e,t),dS(t,e);if(t instanceof Sl)return(function(s,i){if(!aS(i.Cu))throw i.Bu(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${s._methodName}() is not currently supported inside arrays`);let o=s._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(s,i){let o=[],a=0;for(let c of s){let d=jc(c,i.Lu(a));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),a++}return{arrayValue:{values:o}}})(t,e)}return(function(s,i){if((s=bn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return S1(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){let o=zt.fromDate(s);return{timestampValue:Qp(i.serializer,o)}}if(s instanceof zt){let o=new zt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qp(i.serializer,o)}}if(s instanceof Dc)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pc)return{bytesValue:L1(i.serializer,s._byteString)};if(s instanceof en){let o=i.databaseId,a=s.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Vx(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof Oc)return(function(a,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map((d=>{if(typeof d!="number")throw c.Bu("VectorValues must only contain numeric values.");return Mx(c.serializer,d)}))}}}}}})(s,i);throw i.Bu(`Unsupported field value: ${_m(s)}`)})(t,e)}function dS(t,e){let n={};return d1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yo(t,((s,i)=>{let o=jc(i,e.Mu(s));o!=null&&(n[s]=o)})),{mapValue:{fields:n}}}function hS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof Dc||t instanceof Pc||t instanceof en||t instanceof Sl||t instanceof Oc)}function Hx(t,e,n){if(!hS(n)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(n)){let s=_m(n);throw s==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+s)}}function yx(t,e,n){if((e=bn(e))instanceof Jo)return e._internalPath;if(typeof e=="string")return Wx(t,e);throw dm("Field path arguments must be of type string or ",t,!1,void 0,n)}var F4=new RegExp("[~\\*/\\[\\]]");function Wx(t,e,n){if(e.search(F4)>=0)throw dm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jo(...e.split("."))._internalPath}catch{throw dm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dm(t,e,n,s,i){let o=s&&!s.isEmpty(),a=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||a)&&(d+=" (found",o&&(d+=` in field ${s}`),a&&(d+=` in document ${i}`),d+=")"),new re(Q.INVALID_ARGUMENT,c+t+d)}function pS(t,e){return t.some((n=>n.isEqual(e)))}var Lc=class{constructor(e,n,s,i,o){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new wx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Im("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},wx=class extends Lc{data(){return super.data()}};function Im(t,e){return typeof e=="string"?Wx(t,e):e instanceof Jo?e._internalPath:e._delegate._internalPath}function U4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Mc=class{},Tl=class extends Mc{};function Kx(t,e,...n){let s=[];e instanceof Mc&&s.push(e),s=s.concat(n),(function(o){let a=o.filter((d=>d instanceof Nx)).length,c=o.filter((d=>d instanceof hm)).length;if(a>1||a>0&&c>0)throw new re(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(let i of s)t=i._apply(t);return t}var hm=class t extends Tl{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new t(e,n,s)}_apply(e){let n=this._parse(e);return gS(e._query,n),new Ws(e.firestore,e.converter,mb(e._query,n))}_parse(e){let n=Al(e.firestore);return(function(o,a,c,d,m,b,N){let E;if(m.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new re(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){c1(N,b);let S=[];for(let j of N)S.push(u1(d,o,j));E={arrayValue:{values:S}}}else E=u1(d,o,N)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||c1(N,b),E=cS(c,a,N,b==="in"||b==="not-in");return wt.create(m,b,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function mS(t,e,n){let s=e,i=Im("where",t);return hm._create(i,s,n)}var Nx=class t extends Mc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Tr.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let a=i,c=o.getFlattenedFilters();for(let d of c)gS(a,d),a=mb(a,d)})(e._query,n),new Ws(e.firestore,e.converter,mb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var _x=class t extends Tl{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=(function(i,o,a){if(i.startAt!==null)throw new re(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new re(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Go(o,a)})(e._query,this._field,this._direction);return new Ws(e.firestore,e.converter,(function(i,o){let a=i.explicitOrderBy.concat([o]);return new Gs(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}};function Qx(t,e="asc"){let n=e,s=Im("orderBy",t);return _x._create(s,n)}var Ex=class t extends Tl{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new t(e,n,s)}_apply(e){return new Ws(e.firestore,e.converter,qp(e._query,this._limit,this._limitType))}};function Jx(t){return L4("limit",t),Ex._create("limit",t,"F")}var Ix=class t extends Tl{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new t(e,n,s)}_apply(e){let n=j4(e,this.type,this._docOrFields,this._inclusive);return new Ws(e.firestore,e.converter,(function(i,o){return new Gs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)})(e._query,n))}};function fS(...t){return Ix._create("startAfter",t,!1)}function j4(t,e,n,s){if(n[0]=bn(n[0]),n[0]instanceof Lc)return(function(o,a,c,d,m){if(!d)throw new re(Q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);let b=[];for(let N of hl(o))if(N.field.isKeyField())b.push(zp(a,d.key));else{let E=d.data.field(N.field);if(gm(E))throw new re(Q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){let S=N.field.canonicalString();throw new re(Q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}b.push(E)}return new qi(b,m)})(t._query,t.firestore._databaseId,e,n[0]._document,s);{let i=Al(t.firestore);return(function(a,c,d,m,b,N){let E=a.explicitOrderBy;if(b.length>E.length)throw new re(Q.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let S=[];for(let j=0;j<b.length;j++){let z=b[j];if(E[j].field.isKeyField()){if(typeof z!="string")throw new re(Q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof z}`);if(!Lx(a)&&z.indexOf("/")!==-1)throw new re(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${z}' contains a slash.`);let f=a.path.child(et.fromString(z));if(!pe.isDocumentKey(f))throw new re(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${f}' is not because it contains an odd number of segments.`);let P=new pe(f);S.push(zp(c,P))}else{let f=cS(d,m,z);S.push(f)}}return new qi(S,N)})(t._query,t.firestore._databaseId,i,e,n,s)}}function u1(t,e,n){if(typeof(n=bn(n))=="string"){if(n==="")throw new re(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lx(e)&&n.indexOf("/")!==-1)throw new re(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let s=e.path.child(et.fromString(n));if(!pe.isDocumentKey(s))throw new re(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return zp(t,new pe(s))}if(n instanceof en)return zp(t,n._key);throw new re(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_m(n)}.`)}function c1(t,e){if(!Array.isArray(t)||t.length===0)throw new re(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gS(t,e){let n=(function(i,o){for(let a of i)for(let c of a.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new re(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Sx=class{convertValue(e,n="none"){switch(qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let s={};return Yo(e,((i,o)=>{s[i]=this.convertValue(o,n)})),s}convertVectorValue(e){var n,s,i;let o=(i=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||i===void 0?void 0:i.map((a=>Re(a.doubleValue)));return new Oc(o)}convertGeoPoint(e){return new Dc(Re(e.latitude),Re(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":let s=Ax(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){let n=qs(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){let s=et.fromString(e);Ue(j1(s));let i=new jp(s.get(1),s.get(3)),o=new pe(s.popFirst(5));return i.isEqual(n)||Bs(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function Yx(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}var jo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},pm=class extends Lc{constructor(e,n,s,i,o,a){super(e,n,s,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ml(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let s=this._document.data.field(Im("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}},ml=class extends pm{data(e={}){return super.data(e)}},Tx=class{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new jo(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){let e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ml(this._firestore,this._userDataWriter,s.key,s,new jo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((c=>{let d=new ml(i._firestore,i._userDataWriter,c.doc.key,c.doc,new jo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{let d=new ml(i._firestore,i._userDataWriter,c.doc.key,c.doc,new jo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),m=-1,b=-1;return c.type!==0&&(m=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),b=a.indexOf(c.doc.key)),{type:z4(c.type),doc:d,oldIndex:m,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function z4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}function Ks(t){t=Fn(t,en);let e=Fn(t.firestore,kr);return D4(Em(e),t._key).then((n=>vS(e,t,n)))}var mm=class extends Sx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}};function Cr(t,e,n){t=Fn(t,en);let s=Fn(t.firestore,kr),i=Yx(t.converter,e,n);return zc(s,[Gx(Al(s),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$n.none())])}function nt(t,e,n,...s){t=Fn(t,en);let i=Fn(t.firestore,kr),o=Al(i),a;return a=typeof(e=bn(e))=="string"||e instanceof Jo?uS(o,"updateDoc",t._key,e,n,s):lS(o,"updateDoc",t._key,e),zc(i,[a.toMutation(t._key,$n.exists(!0))])}function Ar(t){return zc(Fn(t.firestore,kr),[new Nl(t._key,$n.none())])}function tr(t,e){let n=Fn(t.firestore,kr),s=me(t),i=Yx(t.converter,e);return zc(n,[Gx(Al(t.firestore),"addDoc",s._key,i,t.converter!==null,{}).toMutation(s._key,$n.exists(!1))]).then((()=>s))}function xn(t,...e){var n,s,i;t=bn(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||l1(e[a])||(o=e[a],a++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(l1(e[a])){let N=e[a];e[a]=(n=N.next)===null||n===void 0?void 0:n.bind(N),e[a+1]=(s=N.error)===null||s===void 0?void 0:s.bind(N),e[a+2]=(i=N.complete)===null||i===void 0?void 0:i.bind(N)}let d,m,b;if(t instanceof en)m=Fn(t.firestore,kr),b=vm(t._key.path),d={next:N=>{e[a]&&e[a](vS(m,t,N))},error:e[a+1],complete:e[a+2]};else{let N=Fn(t,Ws);m=Fn(N.firestore,kr),b=N._query;let E=new mm(m);d={next:S=>{e[a]&&e[a](new Tx(m,E,N,S))},error:e[a+1],complete:e[a+2]},U4(t._query)}return(function(E,S,j,z){let f=new om(z),P=new rm(S,f,j);return E.asyncQueue.enqueueAndForget((async()=>J1(await fx(E),P))),()=>{f.Za(),E.asyncQueue.enqueueAndForget((async()=>Y1(await fx(E),P)))}})(Em(m),b,c,d)}function zc(t,e){return(function(s,i){let o=new is;return s.asyncQueue.enqueueAndForget((async()=>N4(await P4(s),i,o))),o.promise})(Em(t),e)}function vS(t,e,n){let s=n.docs.get(e._key),i=new mm(t);return new pm(t,i,e._key,s,new jo(n.hasPendingWrites,n.fromCache),e.converter)}var kx=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Al(e)}set(e,n,s){this._verifyNotCommitted();let i=Hv(e,this._firestore),o=Yx(i.converter,n,s),a=Gx(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,s);return this._mutations.push(a.toMutation(i._key,$n.none())),this}update(e,n,s,...i){this._verifyNotCommitted();let o=Hv(e,this._firestore),a;return a=typeof(n=bn(n))=="string"||n instanceof Jo?uS(this._dataReader,"WriteBatch.update",o._key,n,s,i):lS(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(a.toMutation(o._key,$n.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=Hv(e,this._firestore);return this._mutations=this._mutations.concat(new Nl(n._key,$n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re(Q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Hv(t,e){if((t=bn(t)).firestore!==e)throw new re(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Qs(t){return new xx("increment",t)}function bS(t){return Em(t=Fn(t,kr)),new kx(t,(e=>zc(t,e)))}(function(e,n=!0){(function(i){kl=i})(Fi),$i(new Tp("firestore",((s,{instanceIdentifier:i,options:o})=>{let a=s.getProvider("app").getImmediate(),c=new kr(new Qv(s.getProvider("auth-internal")),new Zv(s.getProvider("app-check-internal")),(function(m,b){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new re(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jp(m.options.projectId,b)})(a,i),a);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),_r(DI,"4.7.3",e),_r(DI,"4.7.3","esm2017")})();var B4=(0,r.lazy)(()=>import("./SustIABot-HTVURY3F.js")),C3=(0,r.lazy)(()=>import("./AdminPanel-KWEE5RJD.js")),q4={apiKey:"AIzaSyAfllte-D_I3h3TwBaiSL4KVfWrCSVh9ro",authDomain:"sustore-63266.firebaseapp.com",projectId:"sustore-63266",storageBucket:"sustore-63266.firebasestorage.app",messagingSenderId:"684651914850",appId:"1:684651914850:web:f3df09e5caf6e50e9e533b",measurementId:"G-X3K7XGYPRD"},NS=Yg(q4),Ke=Dv(NS),se=oS(NS),Xx="sustore-63266-prod",G4="https://sustore.vercel.app",xS="3.0.0",Sm=null;async function H4(){return Sm||(Sm=(async()=>{try{let t=await fetch("/api/checkout?action=public_config",{method:"GET"});if(!t.ok)return null;let e=await t.json().catch(()=>({}));return String(e?.mpPublicKey||"").trim()||null}catch{return null}})(),Sm)}var W4=()=>{if(typeof window>"u"||typeof document>"u"||window.__smoothWheelScrollEnabled||(window.__smoothWheelScrollEnabled=!0,typeof window.matchMedia=="function"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches))return;let e=()=>document.scrollingElement||document.documentElement,n=new WeakMap,s=(N,E,S)=>Math.min(S,Math.max(E,N)),i=N=>Math.max(0,N.scrollHeight-N.clientHeight),o=N=>{if(!N||!(N instanceof Element))return!1;let S=window.getComputedStyle(N).overflowY;return S==="hidden"||S==="visible"?!1:N.scrollHeight>N.clientHeight+1},a=N=>{let E=N;for(;E&&E instanceof Element&&E!==document.body&&E!==document.documentElement;){if(o(E))return E;E=E.parentElement}return null},c=N=>{let E=n.get(N);if(E)return E;let S={rafId:null,velocity:0,lastTs:0};return n.set(N,S),S},d=(N,E)=>{let S=c(N);S.lastTs||(S.lastTs=E);let j=Math.min(48,E-S.lastTs);S.lastTs=E;let f=Math.pow(.86,j/16.67),P=N.scrollTop,w=s(P+S.velocity*(j/16.67),0,i(N));if(N.scrollTop=w,(w===0||w===i(N))&&(S.velocity*=.5),S.velocity*=f,Math.abs(S.velocity)<.1){S.rafId=null,S.velocity=0,S.lastTs=0;return}S.rafId=window.requestAnimationFrame(C=>d(N,C))},m=N=>{if(N.defaultPrevented||N.ctrlKey||N.metaKey||N.shiftKey)return;let E=N.target instanceof Element?N.target:null,S=E&&a(E)||e(),j=N.deltaX,z=N.deltaY;if(Math.abs(j)>Math.abs(z)||!Number.isFinite(z)||Math.abs(z)<.01)return;N.preventDefault(),N.deltaMode===1?z*=40:N.deltaMode===2&&(z*=window.innerHeight);let f=c(S),P=.9;f.velocity+=z*P,f.velocity=s(f.velocity,-4500,4500),f.rafId===null&&(f.rafId=window.requestAnimationFrame(w=>d(S,w)))},b=()=>{let N=e(),E=c(N);E.velocity=s(E.velocity,-4500,4500)};document.addEventListener("wheel",m,{passive:!1,capture:!0}),window.addEventListener("resize",b,{passive:!0})};try{W4()}catch{}var K4=["bGF1dGFyb2NvcmF6emE2M0BnbWFpbC5jb20="],Ge=(()=>{try{return atob(K4[0])}catch{return""}})(),_S={sessionToken:null,loginAttempts:{},maxAttempts:5,lockoutTime:3e5,integrityChecks:{},_generateSalt(){let t="tienda_secure_2024",e=Math.floor(Date.now()/864e5);return t+"_"+e},async hashPassword(t){let e=new TextEncoder,n=this._generateSalt(),s=e.encode(t+n),i=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(i)).map(a=>a.toString(16).padStart(2,"0")).join("")},async verifyPassword(t,e){return await this.hashPassword(t)===e},canAttemptLogin(t){let e=this._hashKey(t.toLowerCase()),n=Date.now(),s=this.loginAttempts[e];return s&&s.lockedUntil>n?{allowed:!1,remainingTime:Math.ceil((s.lockedUntil-n)/1e3)}:(s&&s.lockedUntil&&s.lockedUntil<n&&delete this.loginAttempts[e],{allowed:!0})},_hashKey(t){let e=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);e=(e<<5)-e+s,e=e&e}return"k_"+Math.abs(e).toString(36)},recordFailedAttempt(t){let e=this._hashKey(t.toLowerCase());this.loginAttempts[e]||(this.loginAttempts[e]={count:0,firstAttempt:Date.now()}),this.loginAttempts[e].count++,this.loginAttempts[e].count>=this.maxAttempts&&(this.loginAttempts[e].lockedUntil=Date.now()+this.lockoutTime,console.warn("[Security] Account locked - too many failed attempts"))},clearAttempts(t){let e=this._hashKey(t.toLowerCase());delete this.loginAttempts[e]},generateSessionToken(t){let e={uid:t,iat:Date.now(),exp:Date.now()+864e5,nonce:crypto.getRandomValues(new Uint32Array(1))[0].toString(36)},n=btoa(JSON.stringify(e)),s=this._signToken(n),i=n+"."+s;return this.sessionToken=i,sessionStorage.setItem("_st",i),i},_signToken(t){let e=0,s=t+"tienda_secret_key_2024";for(let i=0;i<s.length;i++)e=(e<<5)-e+s.charCodeAt(i),e=e&e;return Math.abs(e).toString(36)},verifySession(){let t=sessionStorage.getItem("_st");if(!t||t!==this.sessionToken)return!1;try{let[e]=t.split("."),n=JSON.parse(atob(e));return n.exp&&n.exp<Date.now()?(this.invalidateSession(),!1):!0}catch{return!1}},invalidateSession(){this.sessionToken=null,sessionStorage.removeItem("_st"),localStorage.removeItem("sustore_user_data")},detectManipulation(){let t=localStorage.getItem("sustore_user_data");if(t)try{let e=JSON.parse(t);if(!e.id||e.id.length<10||!e.email||!e.email.includes("@"))return console.warn("[Security] Invalid session data detected"),localStorage.removeItem("sustore_user_data"),!0;if(e.role==="admin"&&!this._validateAdminClaim(e))return console.warn("[Security] Admin role manipulation detected"),e.role="user",localStorage.setItem("sustore_user_data",JSON.stringify(e)),!0}catch{return localStorage.removeItem("sustore_user_data"),!0}return!1},_validateAdminClaim(t){return t.email===Ge?!0:t._adminVerified===!0},sanitizeInput(t){return typeof t!="string"?t:t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;").replace(/javascript:/gi,"").replace(/on\w+=/gi,"")},isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)&&t.length<=254},isStrongPassword(t){return t.length>=8&&/[A-Z]/.test(t)&&/[a-z]/.test(t)&&/[0-9]/.test(t)},async secureCompare(t,e){if(typeof t!="string"||typeof e!="string")return!1;let n=new TextEncoder,s=n.encode(t),i=n.encode(e);if(s.length!==i.length)return!1;let o=0;for(let a=0;a<s.length;a++)o|=s[a]^i[a];return o===0},protectConsole(){if(window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1")){let t=()=>{};["log","debug","info","table","dir"].forEach(e=>{console[e]=t})}},detectDevTools(){setInterval(()=>{let n=window.outerWidth-window.innerWidth>160,s=window.outerHeight-window.innerHeight>160},5e3)},init(){this.detectManipulation(),this.protectConsole(),this.detectDevTools(),Object.defineProperty(window,"SUPER_ADMIN_EMAIL",{get:()=>{},configurable:!1})}};_S.init();var Js={storeName:"Tienda Online",primaryColor:"#f97316",currency:"$",ticket:{brandName:"",whatsappLink:"",siteUrl:""},admins:Ge,team:[{email:Ge,role:"admin",name:"Administrador"}],sellerEmail:"",instagramUser:"",instagramLink:"",whatsappLink:"",showWhatsapp:!1,showFloatingWhatsapp:!1,showCartWhatsappCheckout:!1,showInstagram:!1,paymentTransfer:{enabled:!1,holderName:"",alias:"",cbu:""},paymentCash:!1,paymentMercadoPago:{enabled:!1},logoUrl:"",heroUrl:"",showHomeBannerCarousel:!0,homeBannerAutoplayMs:5e3,markupPercentage:0,announcementMessage:"",categories:["General"],aboutUsText:"Bienvenido a nuestra tienda. Ofrecemos productos de calidad con envo a todo el pas.",seoTitle:"",seoDescription:"Tu tienda online de confianza. Calidad y vanguardia en cada producto. Envos a todo el pas.",seoKeywords:"tienda online, productos, comprar, envos",seoAuthor:"",seoUrl:"",seoImage:"",loadingTitle:"",loadingText:"Cargando sistema..."};var Q4=({settingsLoaded:t,banners:e,fallbackUrl:n,autoplayMs:s,darkMode:i,onBannerClick:o,onActiveIndexChange:a})=>{let c=(0,r.useMemo)(()=>Array.isArray(e)?e.filter(C=>C&&C.enabled!==!1&&typeof C.imageUrl=="string"&&C.imageUrl.trim().length>0):[],[e]),[d,m]=(0,r.useState)(0),[b,N]=(0,r.useState)(!1);(0,r.useEffect)(()=>{d>=c.length&&m(0)},[d,c.length]),(0,r.useEffect)(()=>{a?.(d)},[d,a]);let E=Number(s),S=t&&!b&&c.length>1&&Number.isFinite(E)&&E>=1500;(0,r.useEffect)(()=>{if(!S)return;let C=setInterval(()=>{m(q=>(q+1)%c.length)},E);return()=>clearInterval(C)},[S,c.length,E]),(0,r.useEffect)(()=>{if(c.length<=1)return;let C=c[(d+1)%c.length];if(!C?.imageUrl)return;let q=new Image;q.src=C.imageUrl},[c,d]);let j=.85,z=`w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105 ${i?"":"saturate-110 contrast-110"}`,f=()=>{m(C=>{let q=C-1;return q<0?c.length-1:q})},P=()=>{m(C=>(C+1)%c.length)};if(!t)return r.default.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-800 to-slate-900 animate-pulse"});if(c.length===0)return n?r.default.createElement("img",{src:n,alt:"Banner",style:{opacity:j},className:`absolute inset-0 w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105 ${i?"":"saturate-110 contrast-110"}`}):r.default.createElement("div",{className:`absolute inset-0 opacity-60 ${i?"bg-gradient-to-br from-orange-900/40 via-[#0a0a0a] to-slate-900/40":"bg-gradient-to-br from-orange-200/60 via-white to-slate-200/60"}`},r.default.createElement("div",{className:`absolute inset-0 bg-[url('/noise.svg')] ${i?"opacity-20":"opacity-10"}`}));let w=C=>{let q=C?.targetType||(C?.promoId?"promo":C?.productId?"product":"none"),te=C?.targetId||C?.promoId||C?.productId||"";return q!=="none"&&!!te};return r.default.createElement("div",{className:"absolute inset-0 overflow-hidden z-[2]",onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1)},r.default.createElement("div",{className:"h-full w-full flex transition-transform duration-700 ease-in-out",style:{transform:`translate3d(-${d*100}%, 0, 0)`,willChange:"transform"}},c.map((C,q)=>{let te=w(C);return r.default.createElement("div",{key:C.id||`${q}-${C.targetId||C.productId||C.promoId||"slide"}`,className:`w-full h-full flex-shrink-0 relative ${te?"cursor-pointer":""}`,onClick:()=>te&&o?.(C)},r.default.createElement("img",{src:C.imageUrl,alt:"Banner",style:{opacity:j},className:z}))})),c.length>1&&r.default.createElement(r.default.Fragment,null,r.default.createElement("button",{type:"button",className:`absolute left-2 sm:left-3 top-1/3 sm:top-1/2 -translate-y-1/2 z-20 w-8 h-8 sm:w-10 sm:h-10 rounded-full transition-all duration-200 flex items-center justify-center pointer-events-auto sm:opacity-0 sm:group-hover:opacity-100 ${i?"bg-black/40 sm:bg-black/50 hover:bg-black/70 text-white/70 hover:text-white":"bg-white/40 sm:bg-white/50 hover:bg-white/70 text-slate-700 hover:text-slate-900"}`,onClick:C=>{C.stopPropagation(),f()},"aria-label":"Banner anterior"},r.default.createElement(ws,{className:"w-4 h-4 sm:w-5 sm:h-5"})),r.default.createElement("button",{type:"button",className:`absolute right-2 sm:right-3 top-1/3 sm:top-1/2 -translate-y-1/2 z-20 w-8 h-8 sm:w-10 sm:h-10 rounded-full transition-all duration-200 flex items-center justify-center pointer-events-auto sm:opacity-0 sm:group-hover:opacity-100 ${i?"bg-black/40 sm:bg-black/50 hover:bg-black/70 text-white/70 hover:text-white":"bg-white/40 sm:bg-white/50 hover:bg-white/70 text-slate-700 hover:text-slate-900"}`,onClick:C=>{C.stopPropagation(),P()},"aria-label":"Banner siguiente"},r.default.createElement(ru,{className:"w-4 h-4 sm:w-5 sm:h-5"})),r.default.createElement("div",{className:"absolute bottom-2 sm:bottom-3 inset-x-0 z-20 flex items-center justify-center gap-1.5 pointer-events-auto",onClick:C=>C.stopPropagation()},c.map((C,q)=>r.default.createElement("button",{key:`dot-${q}`,type:"button","aria-label":`Ir al banner ${q+1}`,className:`rounded-full transition-all duration-300 ${q===d?"w-6 h-2 bg-white shadow-lg":"w-2 h-2 bg-white/40 hover:bg-white/60"}`,onClick:()=>m(q)})))))},J4=({message:t,type:e,onClose:n})=>{let s="fixed top-24 right-4 z-[9999] flex items-center gap-4 p-5 rounded-2xl border-l-4 backdrop-blur-xl animate-fade-up shadow-2xl transition-all duration-300",i="p-2 rounded-full",o=_s;return e==="success"?(s+=" border-green-500 text-green-400 bg-black/90 shadow-[0_0_20px_rgba(34,197,94,0.3)]",i+=" bg-green-500/20",o=Te):e==="error"?(s+=" border-red-500 text-red-400 bg-black/90 shadow-[0_0_20px_rgba(239,68,68,0.3)]",i+=" bg-red-500/20",o=li):e==="warning"?(s+=" border-yellow-500 text-yellow-400 bg-black/90 shadow-[0_0_20px_rgba(234,179,8,0.3)]",i+=" bg-yellow-500/20",o=mi):(s+=" border-orange-500 text-orange-400 bg-black/90 shadow-[0_0_20px_rgba(249,115,22,0.3)]",i+=" bg-orange-500/20",o=_s),(0,r.useEffect)(()=>{let a=setTimeout(n,4e3);return()=>clearTimeout(a)},[n]),r.default.createElement("div",{className:s},r.default.createElement("div",{className:i},r.default.createElement(o,{className:"w-5 h-5"})),r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-sm tracking-wide"},t)),r.default.createElement("button",{onClick:n,className:"ml-2 text-white/50 hover:text-white transition"},r.default.createElement(It,{className:"w-4 h-4"})))},Y4=({isOpen:t,title:e,message:n,onConfirm:s,onCancel:i,confirmText:o="Confirmar",cancelText:a="Cancelar",isDangerous:c=!1,darkMode:d=!0})=>t?r.default.createElement("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/90 backdrop-blur-md animate-fade-up p-4"},r.default.createElement("div",{className:`p-8 rounded-[2rem] max-w-sm w-full border transition-all duration-300 ${d?"bg-[#0a0a0a] border-slate-800 shadow-2xl":"bg-white border-slate-200 shadow-xl"} ${c&&d?"border-red-500/50 shadow-[0_0_30px_rgba(220,38,38,0.2)]":c?"border-red-200 shadow-red-100":""}`},r.default.createElement("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-6 mx-auto transition-colors duration-300 ${c?"bg-red-500/20 text-red-500":d?"bg-orange-900/20 text-orange-500":"bg-orange-50 text-orange-600"}`},c?r.default.createElement(mi,{className:"w-8 h-8"}):r.default.createElement(_s,{className:"w-8 h-8"})),r.default.createElement("h3",{className:`text-xl font-black text-center mb-2 transition-colors duration-300 ${d?"text-white":"text-slate-900"}`},e),r.default.createElement("p",{className:`text-center mb-8 text-sm leading-relaxed transition-colors duration-300 ${d?"text-slate-400":"text-slate-500"}`},n),r.default.createElement("div",{className:"flex gap-3"},r.default.createElement("button",{onClick:i,className:`flex-1 py-3 rounded-xl font-bold transition ${d?"bg-slate-800 hover:bg-slate-700 text-slate-300":"bg-slate-100 hover:bg-slate-200 text-slate-600"}`},a),r.default.createElement("button",{onClick:s,className:`flex-1 py-3 text-white rounded-xl font-bold transition shadow-lg ${c?"bg-red-600 hover:bg-red-500 shadow-red-600/30":"bg-orange-600 hover:bg-orange-500 shadow-orange-600/30"}`},o)))):null,Zx=class extends r.default.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n}),console.error("Uncaught error:",e,n)}render(){return this.state.hasError?r.default.createElement("div",{className:"min-h-screen bg-black text-red-500 p-10 font-mono"},r.default.createElement("h1",{className:"text-4xl font-bold mb-4"},"CRITICAL SYSTEM FAILURE"),r.default.createElement("div",{className:"border border-red-900 bg-red-900/10 p-6 rounded-xl overflow-auto"},r.default.createElement("h2",{className:"text-xl font-bold mb-2"},this.state.error?.toString()),r.default.createElement("pre",{className:"text-xs text-red-400/70 whitespace-pre-wrap"},this.state.errorInfo?.componentStack)),r.default.createElement("button",{onClick:()=>window.location.reload(),className:"mt-8 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-500 font-bold"},"REINICIAR SISTEMA")):this.props.children}},X4=({product:t,onAdd:e,darkMode:n})=>{let[s,i]=(0,r.useState)(1),[o,a]=(0,r.useState)(!1),c=b=>{b.stopPropagation(),e(t,s),a(!0),setTimeout(()=>a(!1),2e3),i(1)},d=s>=t.stock,m=s<=1;return r.default.createElement("div",{className:"flex flex-col items-end gap-2",onClick:b=>b.stopPropagation()},r.default.createElement("div",{className:`flex items-center rounded-lg ${n?"bg-zinc-800":"bg-slate-100"} p-0.5 border ${n?"border-zinc-700":"border-slate-200"}`},r.default.createElement("button",{onClick:b=>{b.stopPropagation(),i(Math.max(1,s-1))},disabled:m,className:`w-7 h-7 flex items-center justify-center rounded-md transition ${m?"opacity-30 cursor-not-allowed":n?"hover:bg-zinc-700 text-white":"hover:bg-slate-200 text-slate-700"}`},r.default.createElement(vd,{className:"w-3 h-3"})),r.default.createElement("span",{className:`w-8 text-center text-xs font-bold font-mono ${n?"text-white":"text-slate-900"}`},s),r.default.createElement("button",{onClick:b=>{b.stopPropagation(),i(Math.min(t.stock,s+1))},disabled:d,className:`w-7 h-7 flex items-center justify-center rounded-md transition ${d?"opacity-30 cursor-not-allowed":n?"hover:bg-zinc-700 text-white":"hover:bg-slate-200 text-slate-700"}`},r.default.createElement(hn,{className:"w-3 h-3"}))),r.default.createElement("button",{onClick:c,className:`w-full py-2 px-3 rounded-xl transition-all duration-300 shadow-md flex items-center justify-center gap-1.5 active:scale-95 text-[11px] font-bold uppercase tracking-wide ${o?"bg-green-500 text-white shadow-green-500/30":n?"bg-white text-black hover:bg-orange-400 hover:text-black shadow-white/10":"bg-orange-500 text-white hover:bg-orange-600 shadow-orange-500/20"}`},o?r.default.createElement(r.default.Fragment,null,r.default.createElement(Te,{className:"w-4 h-4"}),r.default.createElement("span",null,"Agregado")):r.default.createElement(r.default.Fragment,null,r.default.createElement(hn,{className:"w-5 h-5 md:w-4 md:h-4"}),r.default.createElement("span",null,"Agregar"))))},Z4=r.default.memo(({p:t,settings:e,currentUser:n,toggleFavorite:s,setSelectedProduct:i,manageCart:o,calculateItemPrice:a,darkMode:c})=>{let d=c?"bg-[#090d12]":"bg-white",m=c?"border-slate-800/80":"border-slate-200/90",b=c?"hover:border-slate-600":"hover:border-slate-300",N=c?"shadow-[0_12px_30px_rgba(0,0,0,0.35)] hover:shadow-[0_16px_45px_rgba(0,0,0,0.45)]":"shadow-[0_12px_28px_rgba(15,23,42,0.08)] hover:shadow-[0_16px_42px_rgba(15,23,42,0.12)]",E=c?"bg-gradient-to-b from-slate-900 to-[#090d12]":"bg-gradient-to-b from-slate-50 to-white",S=c?"text-white":"text-slate-900",j=c?"text-slate-400":"text-slate-600",z=c?"bg-[#090d12]":"bg-white",f=c?"border-slate-800/70":"border-slate-200";return r.default.createElement("div",{className:`${d} premium-product-card rounded-2xl sm:rounded-[1.75rem] border ${m} overflow-hidden group ${b} ${N} transition duration-500 relative flex flex-col h-full animate-fade-in content-visibility-auto contain-content`},r.default.createElement("div",{className:`h-56 sm:h-72 ${E} premium-product-image m-2 sm:m-3 p-2 sm:p-3 flex items-center justify-center relative overflow-hidden cursor-zoom-in transition-all duration-500`,onClick:()=>i(t)},t.image?r.default.createElement("div",{className:"w-full h-full flex items-center justify-center overflow-hidden"},r.default.createElement("img",{src:t.image,loading:"lazy",decoding:"async",onError:P=>{P.target.style.display="none",P.target.parentElement.nextSibling.style.display="flex"},className:`max-w-full max-h-full rounded-xl sm:rounded-2xl border-2 ${c?"border-orange-500/20":"border-slate-100"} shadow-lg z-10 transition-transform duration-700 group-hover:scale-105 ${t.stock<=0?"grayscale opacity-50":""}`})):null,r.default.createElement("button",{onClick:P=>{P.stopPropagation(),i(t)},className:`absolute bottom-2 right-2 sm:bottom-4 sm:right-4 z-30 ${c?"bg-black/60 border-white/20":"bg-white/90 border-slate-200"} backdrop-blur-md p-2 sm:p-3 rounded-full ${c?"text-white":"text-slate-700"} border md:hidden`},r.default.createElement(rf,{className:"w-4 h-4 sm:w-5 sm:h-5"})),r.default.createElement("div",{className:"hidden w-full h-full flex items-center justify-center z-0 absolute inset-0",style:{display:t.image?"none":"flex"}},r.default.createElement("div",{className:`flex flex-col items-center justify-center ${c?"text-slate-700":"text-slate-400"}`},r.default.createElement(oo,{className:"w-12 h-12 sm:w-16 sm:h-16 mb-2 opacity-50"}),r.default.createElement("span",{className:"text-[10px] sm:text-xs font-bold uppercase tracking-widest opacity-50"},"Sin Imagen"))),t.stock<=0&&r.default.createElement("div",{className:`absolute inset-0 z-30 flex items-center justify-center ${c?"bg-[#050505]/55":"bg-white/70"} backdrop-blur-[1px]`},r.default.createElement("span",{className:`px-4 py-2 rounded-full text-[10px] sm:text-xs font-black uppercase tracking-[0.24em] border ${c?"bg-slate-900/90 text-slate-100 border-slate-600":"bg-white/95 text-slate-700 border-slate-300"}`},"AGOTADO")),t.isFeatured&&t.stock>0&&r.default.createElement("div",{className:"absolute top-0 left-0 bg-gradient-to-r from-yellow-500 to-orange-500 text-black text-[9px] sm:text-[10px] font-black px-2 sm:px-4 py-1 sm:py-1.5 rounded-br-xl sm:rounded-br-2xl uppercase tracking-wider z-20 shadow-lg flex items-center gap-1"},r.default.createElement(lo,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 fill-current"})," Destacado"),t.discount>0&&t.stock>0&&!t.isFeatured&&r.default.createElement("span",{className:"absolute top-2 left-2 sm:top-4 sm:left-4 bg-red-600 text-white text-[9px] sm:text-[10px] font-black px-2 sm:px-3 py-1 sm:py-1.5 rounded-lg shadow-lg z-20 shadow-red-600/20"},"-",t.discount,"% OFF"),t.discount>0&&t.stock>0&&t.isFeatured&&r.default.createElement("span",{className:"absolute top-8 sm:top-10 left-0 bg-red-600 text-white text-[9px] sm:text-[10px] font-black px-2 sm:px-3 py-0.5 sm:py-1 rounded-r-lg shadow-lg z-20"},"-",t.discount,"% OFF"),r.default.createElement("button",{onClick:P=>{P.stopPropagation(),s(t)},className:`absolute top-2 right-2 sm:top-4 sm:right-4 p-2 sm:p-3 rounded-full z-20 transition shadow-lg backdrop-blur-sm border ${n?.favorites?.includes(t.id)?"bg-red-500 text-white border-red-500 shadow-red-500/30":c?"bg-white/10 text-slate-300 border-white/10 hover:bg-white hover:text-red-500":"bg-slate-100 text-slate-500 border-slate-200 hover:bg-red-50 hover:text-red-500 hover:border-red-200"}`},r.default.createElement(iu,{className:`w-4 h-4 sm:w-5 sm:h-5 ${n?.favorites?.includes(t.id)?"fill-current":""}`}))),r.default.createElement("div",{className:`p-3 sm:p-4 flex-1 flex flex-col relative z-10 ${z}`},r.default.createElement("div",{className:"flex justify-between items-start mb-2 sm:mb-3"},r.default.createElement("p",{className:`text-[9px] sm:text-[10px] text-orange-500 font-black uppercase tracking-widest ${c?"border-orange-900/30 bg-orange-900/10":"border-orange-200 bg-orange-50"} border px-1.5 sm:px-2 py-0.5 sm:py-1 rounded`},Array.isArray(t.categories)&&t.categories.length>0?t.categories[0]:t.category||"Sin categora"),e?.showStockCount!==!1&&t.stock>0&&t.stock<=(e?.lowStockThreshold||5)?r.default.createElement("span",{className:"text-[9px] sm:text-[10px] text-red-500 font-bold flex items-center gap-1"},r.default.createElement(li,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})," ltimos ",t.stock):null),r.default.createElement("h3",{className:`${S} font-bold text-sm sm:text-base leading-tight mb-2 sm:mb-4 group-hover:text-orange-600 transition line-clamp-2 min-h-[2rem] sm:min-h-[2.5rem]`},t.name),r.default.createElement("div",{className:`mt-auto pt-2 sm:pt-4 border-t ${f} flex items-end justify-between`},r.default.createElement("div",{className:"flex flex-col"},t.discount>0&&r.default.createElement("span",{className:`text-[10px] sm:text-xs ${j} line-through font-medium mb-0.5 sm:mb-1`},"$",t.basePrice.toLocaleString()),r.default.createElement("span",{className:`text-lg sm:text-2xl font-black ${S} tracking-tight flex items-center gap-1`},"$",a(t.basePrice,t.discount).toLocaleString())),t.stock>0&&r.default.createElement("div",{className:"flex items-center gap-2",onClick:P=>P.stopPropagation()},r.default.createElement(X4,{product:t,onAdd:(P,w)=>o(P,w),darkMode:c})))))},(t,e)=>t.p.id===e.p.id&&t.p.stock===e.p.stock&&t.p.basePrice===e.p.basePrice&&t.p.name===e.p.name&&t.p.image===e.p.image&&t.currentUser?.favorites?.includes(t.p.id)===e.currentUser?.favorites?.includes(e.p.id));var R4=({isOpen:t,onClose:e,categories:n,onAdd:s,onRemove:i,darkMode:o=!0})=>{let[a,c]=r.default.useState("");return t?r.default.createElement("div",{className:"fixed inset-0 z-[10010] flex items-center justify-center bg-black/90 backdrop-blur-md animate-fade-in p-4",onClick:e},r.default.createElement("div",{className:`p-8 rounded-[2rem] max-w-md w-full relative border transition-all duration-300 ${o?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200 shadow-xl"}`,onClick:m=>m.stopPropagation()},r.default.createElement("button",{onClick:e,className:`absolute top-4 right-4 transition ${o?"text-slate-500 hover:text-white":"text-slate-400 hover:text-slate-900"}`},r.default.createElement(It,{className:"w-6 h-6"})),r.default.createElement("h3",{className:`text-2xl font-bold mb-6 flex items-center gap-2 transition-colors duration-300 ${o?"text-white":"text-slate-900"}`},r.default.createElement(Ia,{className:"w-6 h-6 text-orange-400"})," Gestionar Categoras"),r.default.createElement("form",{onSubmit:m=>{m.preventDefault(),a.trim()&&(s(a.trim()),c(""))},className:"flex gap-2 mb-6"},r.default.createElement("input",{className:`flex-1 p-3 rounded-xl border transition-all duration-300 ${o?"bg-slate-900 border-slate-700 text-white focus:border-orange-500 outline-none":"bg-slate-50 border-slate-200 text-slate-900 focus:border-orange-500 outline-none"}`,placeholder:"Nueva categora...",value:a,onChange:m=>c(m.target.value),autoFocus:!0}),r.default.createElement("button",{type:"submit",className:"bg-orange-600 hover:bg-orange-500 text-white p-3 rounded-xl font-bold transition shadow-lg shadow-orange-600/20"},r.default.createElement(hn,{className:"w-5 h-5"}))),r.default.createElement("div",{className:"space-y-2 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar"},n.map((m,b)=>r.default.createElement("div",{key:b,className:`flex items-center justify-between p-3 rounded-xl border group transition-all duration-300 ${o?"bg-slate-900/50 border-slate-800 hover:border-slate-700":"bg-slate-50 border-slate-100 hover:border-slate-200"}`},r.default.createElement("span",{className:`font-medium transition-colors duration-300 ${o?"text-slate-300":"text-slate-700"}`},m),r.default.createElement("button",{onClick:()=>i(m),className:`transition opacity-0 group-hover:opacity-100 ${o?"text-slate-600 hover:text-red-500":"text-slate-400 hover:text-red-600"}`},r.default.createElement(ht,{className:"w-4 h-4"})))),n.length===0&&r.default.createElement("p",{className:`text-center italic py-4 transition-colors duration-300 ${o?"text-slate-600":"text-slate-400"}`},"No hay categoras definidas")))):null},eD={dashboard:{title:"Inicio (Panel de Control)",color:"orange",description:"Tu centro de comando. Ac ves el resumen completo de tu tienda en tiempo real: ventas, ingresos, rentabilidad, tendencias y mtricas clave para tomar decisiones inteligentes.",sections:[{title:"Lo que pods ver",icon:"eye",bullets:["Ingresos Brutos: el total de dinero que entr por ventas, con grfico de barras de los ltimos 6 meses.","Beneficio Neto Estimado: ingresos menos gastos y compras, con comparativa visual Ingresos vs Gastos por mes.","KPIs rpidos: Usuarios Totales, Pedidos Totales, Ticket Promedio y cantidad de productos con Stock Bajo.","Producto Estrella: el ms vendido con unidades vendidas y stock actual.","Menos Vendido (En Stock): producto con menor rotacin para que puedas hacer promos o descuentos.","Registro de Movimientos: tabla tipo libro mayor con fecha, tipo, concepto, estado y monto de cada transaccin."]},{title:"Lo que pods hacer",icon:"zap",bullets:["Registrar Venta Manual: para pedidos fuera del checkout (mostrador, WhatsApp, en persona). Seleccions productos, cantidades y mtodo de pago.","Ver detalle de mtricas: hac clic en las tarjetas para expandir informacin.","Comparar meses: us las barras de rendimiento mensual para detectar tendencias de crecimiento o baja.","Identificar productos de baja rotacin para armar promos o ajustar precios."]},{title:"Consejo",icon:"tip",bullets:["Revis este panel al menos una vez al da para estar al tanto de nuevos pedidos, stock bajo y la salud financiera de tu tienda."]}]},orders:{title:"Pedidos",color:"green",description:"Ac gestions todos los pedidos que entran a tu tienda. Pods ver el detalle completo, cambiar estados, finalizar entregas y mantener todo organizado.",sections:[{title:"Lo que pods ver",icon:"eye",bullets:["Lista de pedidos con nmero de orden (#ID), estado (Pendiente / Realizado), nombre del cliente, fecha/hora y monto total.","Vista previa de los productos del pedido (imgenes circulares apiladas).","Detalle completo: productos con cantidades, datos del cliente (nombre, direccin, telfono), mtodo de pago y totales.","Paginacin para navegar entre pginas de pedidos anteriores."]},{title:"Lo que pods hacer",icon:"zap",bullets:["Ver Detalle (cono de ojo): abre el pedido completo con toda la info del cliente y los productos.",'Finalizar Pedido (cono de tilde verde): marca como "Realizado" cuando ya fue entregado y pagado.',"Eliminar Pedido (cono de papelera rojo): borra pedidos invlidos, duplicados o de prueba.",'Notificacin de pedidos: activa/mutea el sonido de alerta cuando entra un nuevo pedido. Dice "Activa" o "Muteada".','Navegar pginas: us "Anterior" y "Siguiente" para recorrer el historial completo.']},{title:"Consejo",icon:"tip",bullets:["Dej las notificaciones activas durante el horario de atencin para no perderte ningn pedido nuevo."]}]},products:{title:"Productos",color:"blue",description:"El inventario completo de tu tienda. Desde ac cres, edits, organizs por categoras y controls el stock y la visibilidad de cada producto.",sections:[{title:"Lo que pods ver",icon:"eye",bullets:["Contador de productos: cuntos tens vs. el lmite de tu plan (ej: 12/30). Si ests cerca del lmite, aparece advertencia amarilla.","Lista de productos con imagen, nombre, precio de venta, stock actual y estado (activo/inactivo).","Banner de advertencia si hay productos desactivados (por lmite de plan o manualmente).","Formulario expandido con todos los campos al crear o editar."]},{title:"Lo que pods hacer",icon:"zap",bullets:["Agregar Producto: carg nombre, precio de venta, precio de compra (costo), stock, categoras (mltiples), imagen, descuento (%) y descripcin.","Categoras: cre, edit, reorden y elimin categoras. Un producto puede pertenecer a varias.","Editar producto: modific cualquier campo de un producto existente.","Activar/Desactivar: un producto desactivado no aparece en la tienda. Us el cono de ojo para cambiar visibilidad.","Eliminar producto: borralo definitivamente del catlogo.","Subir imagen: seleccion desde tu dispositivo, se comprime automticamente."]},{title:"Lmites de plan",icon:"lock",bullets:["Emprendedor: hasta 30 productos. Negocio: hasta 50. Premium: ilimitados.","Si supers el lmite al bajar de plan, los productos excedentes se desactivan automticamente."]}]},promos:{title:"Promos",color:"purple",description:"Cre combos y promociones atractivas armando paquetes de productos con un precio especial. Ideal para aumentar el ticket promedio y mover stock.",sections:[{title:"Lo que pods ver",icon:"eye",bullets:["Lista de promos activas con nombre, imagen, precio del combo y productos incluidos.","Costo real del combo (suma de precios base) vs. precio de venta para calcular si conviene.","Formulario de creacin/edicin con vista previa de los productos incluidos."]},{title:"Lo que pods hacer",icon:"zap",bullets:["Crear Nueva Promo: pon nombre, precio final, imagen y descripcin.","Armar el combo: agreg productos del catlogo con la cantidad deseada. Pods mezclar varios productos.","Ver costo real: el sistema calcula automticamente cunto cuestan los productos incluidos.","Editar promo: modific nombre, precio, productos o imagen de una promo existente.","Eliminar promo: borr combos viejos o que ya no quieras ofrecer."]},{title:"Lmites de plan",icon:"lock",bullets:["Emprendedor: hasta 1 promo activa. Negocio y Premium: promos ilimitadas."]}]},carousel:{title:"Carrusel de Banners",color:"cyan",description:"Personaliz los banners rotativos del home de tu tienda. Mostr ofertas, productos destacados o promos con imgenes atractivas que rotan automticamente.",sections:[{title:"Lo que pods ver",icon:"eye",bullets:["Toggle de activacin: encend o apag el carrusel. Si est apagado, se muestra la imagen Hero tradicional.","Velocidad de rotacin: tiempo en segundos entre cada slide.","Lista de slides existentes con imagen, orden, estado (habilitado/deshabilitado) y destino al hacer clic.","Vista previa del producto o promo vinculada a cada slide."]},{title:"Lo que pods hacer",icon:"zap",bullets:['Activar/Desactivar el carrusel completo con el toggle "Mostrar carrusel".',"Configurar velocidad: cambi el tiempo de rotacin automtica en segundos.","Agregar slide: sub una imagen, eleg la accin al hacer clic (solo mostrar, abrir producto o abrir promo), defin el orden y si est habilitado.","Vincular a producto o promo: al hacer clic en el banner, se abre directamente el producto o promo que elegiste.","Ordenar slides: us el campo de orden (0 = primero, 1 = segundo, etc.).","Habilitar/Deshabilitar slides individuales sin eliminarlos.","Eliminar slides que ya no necesites."]},{title:"Requisitos",icon:"lock",bullets:["Disponible desde el Plan Negocio. Con Plan Emprendedor el carrusel aparece bloqueado con opcin para mejorar tu plan."]}]},coupons:{title:"Cupones de Descuento",color:"pink",description:"Cre cupones de descuento por porcentaje o monto fijo para tus clientes. Configuralos con lmites de uso, vencimiento y restricciones.",sections:[{title:"Lo que pods ver",icon:"eye",bullets:["Lista de cupones creados con cdigo, tipo de descuento, valor, estado y cantidad de usos.","Formulario completo de creacin con todos los campos configurables.","Indicador de cupn vencido o agotado."]},{title:"Lo que pods hacer",icon:"zap",bullets:["Crear cupn: defin cdigo en maysculas (ej: VERANO2024), eleg tipo Porcentaje (%) o Fijo ($) y el valor.","Mnimo de compra: opcionalmente, exig un monto mnimo para poder usar el cupn.","Lmite de usos: defin cuntas veces se puede usar en total.","Fecha de vencimiento: pon una fecha lmite de validez.","Pblico o privado: eleg si cualquiera puede usarlo o solo un email especfico.","Copiar cdigo: us el botn de copiar para compartir rpido por WhatsApp o Instagram.","Eliminar cupones vencidos o que ya no quieras ofrecer."]},{title:"Requisitos",icon:"lock",bullets:["Disponible desde el Plan Negocio. Con Plan Emprendedor el panel aparece bloqueado con acceso a ver planes."]}]},suppliers:{title:"Proveedores",color:"emerald",description:"Organiz tu red de proveedores con toda su informacin de contacto y vinculalos a los productos que te abastecen. Todo centralizado en un solo lugar.",sections:[{title:"Lo que pods ver",icon:"eye",bullets:["Lista de proveedores con nombre, contacto, telfono, Instagram, direccin y CUIT.","Productos asociados a cada proveedor para saber qu comprs a quin.","Modal de creacin/edicin con todos los campos."]},{title:"Lo que pods hacer",icon:"zap",bullets:["Nuevo Proveedor: carg nombre, persona de contacto, telfono, Instagram, direccin y CUIT/datos fiscales.","Asociar productos: vincul productos del catlogo al proveedor para referencia rpida.","Editar proveedor: actualiz cualquier dato cuando cambie contacto, direccin o datos fiscales.","Eliminar proveedor: borr proveedores con los que ya no trabajs."]},{title:"Consejo",icon:"tip",bullets:["Manten actualizados los datos de contacto y asoci siempre los productos. As cuando necesites reponer stock, sabs exactamente a quin llamar."]}]},purchases:{title:"Compras / Stock",color:"amber",description:"Registr las reposiciones de stock y llev un historial completo de compras a proveedores. El sistema ajusta el stock automticamente al guardar.",sections:[{title:"Lo que pods ver",icon:"eye",bullets:["Formulario de nueva compra con selector de producto, cantidad, proveedor y costo.","Historial completo de compras pasadas con fecha, producto, cantidad, proveedor y costo total.","Stock actual del producto seleccionado antes de registrar la reposicin."]},{title:"Lo que pods hacer",icon:"zap",bullets:["Registrar reposicin: eleg el producto, pon la cantidad comprada y seleccion el proveedor.","Costo estimado: el sistema calcula automticamente basndose en el precio de compra del producto.","Ajuste automtico de stock: al guardar, el stock se incrementa con la cantidad comprada.","Ver historial: revis todas las compras pasadas ordenadas por fecha.","Editar compra: modific una compra registrada (puede ajustar el stock automticamente).","Eliminar compra: borr registros errneos."]},{title:"Consejo",icon:"tip",bullets:["Registr cada reposicin apenas la recibas para que el stock siempre est actualizado y no vendas sin disponibilidad."]}]},finance:{title:"Finanzas y Capital",color:"green",description:"El centro financiero de tu negocio. Registr inversiones, gastos y visualiz la distribucin automtica de ganancias entre socios segn el capital aportado.",sections:[{title:"Lo que pods ver",icon:"eye",bullets:["Formulario de inversin/aporte con selector de socio, monto, fecha y notas.","Formulario de gasto/egreso con descripcin, monto y categora (General, Servicios, Impuestos, Mantenimiento, Marketing, Sueldos, Otros).","Historial de Inversiones: lista cronolgica de aportes con inversor, fecha, notas y monto.","Historial de Gastos: lista cronolgica con descripcin, categora, fecha y monto.","Distribucin de Ganancias: tabla automtica con cada socio, capital aportado, % de participacin y ganancia estimada.","Barra visual de distribucin proporcional entre socios con colores distintos."]},{title:"Lo que pods hacer",icon:"zap",bullets:['Registrar Inversin/Aporte: eleg el socio (o "Otro/Externo"), pon monto, fecha y notas opcionales.',"Registrar Gasto/Egreso: carg descripcin, monto y categora. La fecha se registra automticamente.","Eliminar inversiones o gastos errneos desde el historial (cono de papelera).","Ver distribucin de ganancias: se calcula automticamente segn el % de inversin de cada socio sobre el beneficio neto."]},{title:"Consejo",icon:"tip",bullets:["Carg todos los gastos recurrentes (internet, alquiler, servicios) para que el beneficio neto sea realista. La distribucin es tan precisa como los datos que cargues."]}]},users:{title:"Gestin de Usuarios",color:"pink",description:"Control total sobre las cuentas de tu tienda. Busc, filtr por rol, gestion perfiles, edit permisos y audit la actividad de cada usuario incluyendo su carrito en vivo.",sections:[{title:"Lo que pods ver",icon:"eye",bullets:["Tabla de usuarios con avatar, nombre, email, ID corto y fecha de registro.","Actividad y estadsticas: cantidad de favoritos y pedidos realizados por cada usuario.","Rol actual (Admin o Usuario) con badge visual.","Carrito en vivo: qu tiene cada usuario en su carrito en ese momento.","Filtros rpidos por rol: Todos, Admin, Usuario."]},{title:"Lo que pods hacer",icon:"zap",bullets:["Buscar usuarios: us la barra para encontrar por nombre o email.",'Filtrar por rol: seleccion "Admin" o "Usuario" para ver solo un tipo.',"Ver Carrito en Vivo: audit qu tiene un usuario en su carrito actual (til para soporte y reclamos).","Editar Perfil (cono de lpiz): modific datos del usuario como nombre, imagen o permisos.","Seguridad y Acceso (cono de candado): gestion contrasea y acceso del usuario.","Los usuarios verificados tienen un check naranja junto a su nombre."]},{title:"Requisitos",icon:"lock",bullets:["Las estadsticas de actividad (favoritos, pedidos, carrito en vivo) requieren Plan Negocio o superior. Con Plan Emprendedor esa seccin aparece borrosa."]}]},settings:{title:"Configuracin",color:"slate",description:"La configuracin avanzada de tu tienda. Desde ac se ajustan todos los parmetros tcnicos, de apariencia, pagos, envos y ms. Administrada por el desarrollador.",sections:[{title:"Sub-secciones disponibles",icon:"eye",bullets:["Tienda: nombre, logo, descripcin y datos generales de tu negocio.","Apariencia: colores, tema visual y personalizacin del diseo.","Redes Sociales: links a Instagram, Facebook, TikTok y otras redes.","Pagos: configuracin de Mercado Pago, transferencia bancaria y pago en efectivo.","Ticket: personalizacin del comprobante/ticket de compra.","Envos: mtodos de envo, costos y zonas de cobertura.","SEO: meta tags, ttulo, descripcin para buscadores y redes sociales.","Avanzado: configuraciones tcnicas del sistema.","Equipo: gestin de miembros del equipo (socios, editores)."]},{title:"Importante",icon:"lock",bullets:["Esta seccin est reservada para el desarrollador de la plataforma.","Si necesits cambios en la configuracin, contact al desarrollador con los detalles.","No modifiques valores sin entender el impacto, ya que puede afectar el funcionamiento de la tienda."]}]}};function Pr({guideKey:t}){let[e,n]=(0,r.useState)(!1),s=eD[t];if(!s)return null;let i={orange:{border:"border-orange-500/30",bg:"bg-orange-500/10",text:"text-orange-400",dot:"bg-orange-500",glow:"shadow-orange-500/20"},green:{border:"border-green-500/30",bg:"bg-green-500/10",text:"text-green-400",dot:"bg-green-500",glow:"shadow-green-500/20"},blue:{border:"border-blue-500/30",bg:"bg-blue-500/10",text:"text-blue-400",dot:"bg-blue-500",glow:"shadow-blue-500/20"},purple:{border:"border-purple-500/30",bg:"bg-purple-500/10",text:"text-purple-400",dot:"bg-purple-500",glow:"shadow-purple-500/20"},cyan:{border:"border-cyan-500/30",bg:"bg-cyan-500/10",text:"text-cyan-400",dot:"bg-cyan-500",glow:"shadow-cyan-500/20"},pink:{border:"border-pink-500/30",bg:"bg-pink-500/10",text:"text-pink-400",dot:"bg-pink-500",glow:"shadow-pink-500/20"},emerald:{border:"border-emerald-500/30",bg:"bg-emerald-500/10",text:"text-emerald-400",dot:"bg-emerald-500",glow:"shadow-emerald-500/20"},amber:{border:"border-amber-500/30",bg:"bg-amber-500/10",text:"text-amber-400",dot:"bg-amber-500",glow:"shadow-amber-500/20"},slate:{border:"border-slate-500/30",bg:"bg-slate-500/10",text:"text-slate-400",dot:"bg-slate-500",glow:"shadow-slate-500/20"}},o=i[s.color]||i.orange,a={eye:{Icon:pd,color:"text-blue-400",bg:"bg-blue-500/10"},zap:{Icon:Wn,color:"text-yellow-400",bg:"bg-yellow-500/10"},tip:{Icon:_y,color:"text-green-400",bg:"bg-green-500/10"},lock:{Icon:pr,color:"text-red-400",bg:"bg-red-500/10"}};return r.default.createElement(r.default.Fragment,null,r.default.createElement("button",{onClick:()=>n(!0),className:`px-4 py-2.5 rounded-xl ${o.bg} hover:brightness-125 ${o.text} border ${o.border} transition-all duration-200 flex items-center gap-2 font-black text-[10px] uppercase tracking-widest hover:shadow-lg ${o.glow} group`,type:"button"},r.default.createElement(gy,{className:"w-4 h-4 group-hover:rotate-12 transition-transform"}),"Cmo usar"),e&&(0,wS.createPortal)(r.default.createElement("div",{className:"fixed inset-0 z-[20050] bg-black/90 backdrop-blur-md flex items-center justify-center p-4 overflow-y-auto animate-fade-in",onClick:()=>n(!1),role:"dialog","aria-modal":"true"},r.default.createElement("div",{className:`w-full max-w-2xl max-h-[90vh] flex flex-col bg-[#0a0a0a] border ${o.border} rounded-[2rem] shadow-2xl overflow-hidden animate-fade-up my-auto flex-shrink-0`,onClick:c=>c.stopPropagation()},r.default.createElement("div",{className:"relative p-6 md:p-8 border-b border-slate-800/50 overflow-hidden flex-shrink-0"},r.default.createElement("div",{className:`absolute inset-0 ${o.bg} opacity-30`}),r.default.createElement("div",{className:"absolute top-0 right-0 w-40 h-40 rounded-full blur-3xl opacity-10",style:{background:"radial-gradient(circle, var(--tw-gradient-stops))"}}),r.default.createElement("div",{className:"relative flex items-start justify-between gap-4"},r.default.createElement("div",{className:"flex-1"},r.default.createElement("div",{className:"flex items-center gap-2 mb-2"},r.default.createElement("span",{className:`w-2 h-2 rounded-full ${o.dot} animate-pulse`}),r.default.createElement("p",{className:`text-[10px] font-black uppercase tracking-widest ${o.text}`},"Gua Rpida")),r.default.createElement("h2",{className:"text-xl md:text-2xl font-black text-white mt-1 leading-tight"},s.title),r.default.createElement("p",{className:"text-slate-400 text-sm mt-3 leading-relaxed"},s.description)),r.default.createElement("button",{onClick:()=>n(!1),className:"p-2.5 rounded-xl bg-slate-900/80 hover:bg-slate-800 text-slate-400 hover:text-white border border-slate-700 transition-all hover:scale-105 flex-shrink-0",type:"button","aria-label":"Cerrar"},r.default.createElement(It,{className:"w-5 h-5"})))),r.default.createElement("div",{className:"p-5 md:p-6 flex-1 min-h-0 overflow-y-auto custom-scrollbar space-y-4"},(s.sections||[]).map((c,d)=>{let m=a[c.icon]||a.eye;return r.default.createElement("div",{key:d,className:"bg-slate-900/40 border border-slate-800/60 rounded-2xl p-5 hover:border-slate-700 transition-colors"},r.default.createElement("div",{className:"flex items-center gap-3 mb-4"},r.default.createElement("div",{className:`w-8 h-8 rounded-lg ${m.bg} flex items-center justify-center flex-shrink-0`},r.default.createElement(m.Icon,{className:`w-4 h-4 ${m.color}`})),r.default.createElement("h3",{className:"text-white font-black text-sm"},c.title)),r.default.createElement("ul",{className:"space-y-2.5 ml-1"},(c.bullets||[]).map((b,N)=>{let E=b.split(":"),S=E.length>1&&E[0].length<40;return r.default.createElement("li",{key:N,className:"flex gap-3 text-[13px] leading-relaxed"},r.default.createElement("span",{className:`w-1.5 h-1.5 rounded-full ${o.dot} mt-[7px] flex-shrink-0 opacity-60`}),r.default.createElement("span",{className:"text-slate-300"},S?r.default.createElement(r.default.Fragment,null,r.default.createElement("span",{className:"text-white font-bold"},E[0],":"),E.slice(1).join(":")):b))})))})),r.default.createElement("div",{className:"p-5 md:p-6 border-t border-slate-800/50 flex items-center justify-between gap-4 flex-shrink-0"},r.default.createElement("p",{className:"text-[10px] text-slate-600 font-mono uppercase tracking-wider hidden sm:block"},"Panel Admin v3.0"),r.default.createElement("button",{onClick:()=>n(!1),className:"px-6 py-3 rounded-xl bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 text-white font-black transition-all shadow-lg shadow-orange-600/20 hover:shadow-orange-500/30 hover:scale-[1.02] active:scale-[0.98]",type:"button"},"Entendido")))),document.body))}function tD(){let[t,e]=(0,r.useState)("store"),[n,s]=(0,r.useState)("dashboard"),[i,o]=(0,r.useState)([]),[a,c]=(0,r.useState)([]),[d,m]=(0,r.useState)([]),[b,N]=(0,r.useState)({isOpen:!1,title:"",message:"",onConfirm:null}),[E,S]=(0,r.useState)(!1),[j,z]=(0,r.useState)(!1),[f,P]=(0,r.useState)(()=>{try{let u=localStorage.getItem("sustore_dark_mode");return u!==null?JSON.parse(u):!1}catch{return!1}}),[w,C]=(0,r.useState)(null),[q,te]=(0,r.useState)({status:"resolving",hostname:"",normalizedHostname:"",storeId:null,error:null}),[ee,A]=(0,r.useState)(""),[I,T]=(0,r.useState)(!1),[D,$]=(0,r.useState)(!1),[B,O]=(0,r.useState)(!1),[K,mt]=(0,r.useState)(()=>{try{let u=localStorage.getItem("sustore_user_data");if(!u)return null;let g=JSON.parse(u);return!g||!g.id||!g.email||!g.name?(localStorage.removeItem("sustore_user_data"),null):g}catch{return localStorage.removeItem("sustore_user_data"),null}}),[Be,Wi]=(0,r.useState)(null),[Ys,Nt]=(0,r.useState)(!0),[Dr,Ki]=(0,r.useState)(!1),[Or,_t]=(0,r.useState)([]),[yn,Qi]=(0,r.useState)(()=>{try{return localStorage.getItem("sustore_admin_order_alarm_muted")==="1"}catch{return!1}}),Xs=(0,r.useRef)(null),Lr=(0,r.useRef)(null),Pl=(0,r.useRef)(!1),Bc=(0,r.useRef)(!1),Ji=(0,r.useRef)(null),[Zo,Dl]=(0,r.useState)(!1),[le,Ol]=(0,r.useState)([]),[an,Ll]=(0,r.useState)([]),[Ro,qc]=(0,r.useState)([]),[Gc,Hc]=(0,r.useState)(0),[je,ds]=(0,r.useState)(()=>{try{let u=JSON.parse(localStorage.getItem("sustore_cart"));return Array.isArray(u)?u:[]}catch{return[]}}),nr=(0,r.useRef)(!1),Yi=(0,r.useRef)(null),[ea,ta]=(0,r.useState)([]),[Ce,ft]=(0,r.useState)([]),[Un,na]=(0,r.useState)([]),[Mr,Wc]=(0,r.useState)([]),[hs,Ml]=(0,r.useState)([]),[p,W]=(0,r.useState)(Js),[Bt,Kc]=(0,r.useState)(!1),[Xi,Vl]=(0,r.useState)(""),[kt,jn]=(0,r.useState)(""),ps=(0,r.useRef)(null),[ra,rr]=(0,r.useState)(!1),[Qc,sa]=(0,r.useState)(0),[Jc,Zi]=(0,r.useState)(0),Yc=u=>{rr(!0),sa(u.pageX-ps.current.offsetLeft),Zi(ps.current.scrollLeft)},Mt=()=>{rr(!1)},Xc=()=>{rr(!1)},Ri=u=>{if(!ra)return;u.preventDefault();let y=(u.pageX-ps.current.offsetLeft-Qc)*2;ps.current.scrollLeft=Jc-y},[Ne,sr]=(0,r.useState)({email:"",password:"",name:"",username:"",dni:"",phone:""}),[zn,Zs]=(0,r.useState)(!0),[ir,ia]=(0,r.useState)({description:"",amount:"",category:"General",date:new Date().toISOString().split("T")[0]}),[ct,ms]=(0,r.useState)({investor:"",amount:"",date:new Date().toISOString().split("T")[0],notes:""}),[ot,Vr]=(0,r.useState)({productId:"",supplierId:"",quantity:1,cost:0,isNewProduct:!1}),[Ve,$r]=(0,r.useState)({imageUrl:"",targetType:"none",targetId:"",enabled:!0,order:0}),[Rs,oa]=(0,r.useState)(null),[dt,or]=(0,r.useState)({name:"",contact:"",phone:"",ig:"",address:"",cuit:"",associatedProducts:[]}),[aa,$l]=(0,r.useState)(null),[la,eo]=(0,r.useState)(!1),[Vt,ar]=(0,r.useState)([]),[Fr,Ur]=(0,r.useState)(!1),[Ae,fs]=(0,r.useState)(null),qt=(u,g,y)=>{N({isOpen:!0,title:u,message:g,onConfirm:async()=>{await y(),N(x=>({...x,isOpen:!1}))},onCancel:()=>N(x=>({...x,isOpen:!1}))})},Zc=(u,g)=>{let y=new Blob([JSON.stringify(g,null,2)],{type:"application/json;charset=utf-8"}),x=URL.createObjectURL(y),k=document.createElement("a");k.href=x,k.download=u,document.body.appendChild(k),k.click(),k.remove(),setTimeout(()=>URL.revokeObjectURL(x),1e3)},Fl=async()=>{if(!w)throw new Error("Tienda no configurada");if(!Ke.currentUser||Ke.currentUser.isAnonymous)throw new Error("Sesin invlida");$(!0);try{let u=await Ke.currentUser.getIdToken(),g=await fetch("/api/admin/export-store",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":w,Authorization:`Bearer ${u}`},body:JSON.stringify({})}),y=await g.json().catch(()=>({}));if(!g.ok)throw new Error(y.error||"No se pudo exportar");let x=new Date().toISOString().replace(/[:.]/g,"-");Zc(`backup-${w}-${x}.json`,y),M("Backup exportado.","success")}catch(u){M(u?.message||"No se pudo exportar","error")}finally{$(!1)}},Ul=async u=>{if(!w)throw new Error("Tienda no configurada");if(!Ke.currentUser||Ke.currentUser.isAnonymous)throw new Error("Sesin invlida");O(!0);try{let g=await u.text(),y=JSON.parse(g),x=await Ke.currentUser.getIdToken(),k=await fetch("/api/admin/import-store",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":w,Authorization:`Bearer ${x}`},body:JSON.stringify({backup:y})}),U=await k.json().catch(()=>({}));if(!k.ok)throw new Error(U.error||"No se pudo importar");M(`Backup importado (${U.written||0} docs).`,"success")}catch(g){M(g?.message||"No se pudo importar","error")}finally{O(!1)}},ua=u=>{switch(u){case"premium":return 1/0;case"business":return 50;default:return 30}},Rc=u=>u==="business"||u==="premium",jl=async u=>{let g=p?.subscriptionPlan||"entrepreneur",y=ua(g),x=ua(u);if(x>=y){W({...p,subscriptionPlan:u}),M(`Plan actualizado a ${u==="premium"?"Premium":u==="business"?"Negocio":"Emprendedor"}!`,"success");return}let k=le.filter(G=>G.isActive!==!1),U=[],L=[];if(k.length>x){let G=[...k].sort((V,J)=>{let Y=Ce.filter(oe=>oe.items?.some(de=>de.productId===V.id)).length;return Ce.filter(oe=>oe.items?.some(de=>de.productId===J.id)).length-Y});for(let V=x;V<G.length;V++)U.push(G[V])}if(!Rc(u)){let G=Mr.filter(V=>V.isActive!==!1);L.push(...G)}if(U.length>0||L.length>0){let G=`
                ${U.length>0?` ${U.length} producto(s) sern desactivados (se conservan los ${x} ms vendidos)
`:""}
                ${L.length>0?` ${L.length} cupn(es) sern desactivados (el plan ${u==="entrepreneur"?"Emprendedor":""} no incluye cupones)
`:""}
                
                Los productos y cupones NO se eliminarn, solo se desactivarn. Podrs reactivarlos manualmente si mejoras tu plan.
            `;qt(" Cambio de Plan - Atencin",G,async()=>{try{for(let V of U)await nt(me(se,"artifacts",w,"public","data","products",V.id),{isActive:!1,deactivatedByPlan:!0,deactivatedAt:new Date().toISOString()});for(let V of L)await nt(me(se,"artifacts",w,"public","data","coupons",V.id),{isActive:!1,deactivatedByPlan:!0,deactivatedAt:new Date().toISOString()});W({...p,subscriptionPlan:u}),ud({showWarning:!0,deactivatedProducts:U.map(V=>V.id),deactivatedCoupons:L.map(V=>V.id),previousPlan:g,newPlan:u}),M(`Plan cambiado. ${U.length} producto(s) y ${L.length} cupn(es) fueron desactivados.`,"warning")}catch(V){console.error("Error al cambiar de plan:",V),M("Error al cambiar de plan","error")}})}else W({...p,subscriptionPlan:u}),M(`Plan actualizado a ${u==="premium"?"Premium":u==="business"?"Negocio":"Emprendedor"}`,"success")},Tm=async u=>{let g=p?.subscriptionPlan||"entrepreneur",y=ua(g);if(le.filter(k=>k.isActive!==!1).length>=y){M(`Has alcanzado el lmite de ${y} productos de tu plan. Mejora tu plan o desactiva otro producto primero.`,"warning");return}try{await nt(me(se,"artifacts",w,"public","data","products",u),{isActive:!0,deactivatedByPlan:!1,reactivatedAt:new Date().toISOString()}),M("Producto reactivado correctamente","success")}catch(k){console.error("Error al reactivar producto:",k),M("Error al reactivar producto","error")}},ed=async u=>{try{await nt(me(se,"artifacts",w,"public","data","products",u),{isActive:!1,deactivatedManually:!0,deactivatedAt:new Date().toISOString()}),M("Producto desactivado correctamente","success")}catch(g){console.error("Error al desactivar producto:",g),M("Error al desactivar producto","error")}},[ue,wn]=(0,r.useState)({address:"",city:"",province:"",zipCode:"",paymentChoice:"",shippingMethod:"Pickup"}),[gt,ln]=(0,r.useState)(null),[ca,gs]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(ue.shippingMethod==="Delivery"&&ue.paymentChoice==="Efectivo"){M("Pago en efectivo solo disponible con Retiro en Local.","info");let u=p?.paymentTransfer?.enabled,g=p?.paymentMercadoPago?.enabled;wn(y=>({...y,paymentChoice:u?"Transferencia":g?"Tarjeta":""}))}},[ue.shippingMethod,p]);let[ye,Ee]=(0,r.useState)({name:"",basePrice:"",stock:"",categories:[],image:"",description:"",discount:0,purchasePrice:""}),[vs,bs]=(0,r.useState)(null),[to,da]=(0,r.useState)(!1),[nn,km]=(0,r.useState)("store"),[qe,Nn]=(0,r.useState)({name:"",price:"",image:"",description:"",items:[]}),[Rx,ha]=(0,r.useState)(""),[un,zl]=(0,r.useState)(""),[pa,Bl]=(0,r.useState)(1),[_n,ql]=(0,r.useState)(!1),[td,Gl]=(0,r.useState)(null),[be,Bn]=(0,r.useState)({code:"",type:"percentage",value:0,minPurchase:0,maxDiscount:0,expirationDate:"",targetType:"global",targetUser:"",usageLimit:"",perUserLimit:1,isActive:!0}),[jr,lr]=(0,r.useState)(null),[Hl,Wl]=(0,r.useState)(""),[zr,xs]=(0,r.useState)(""),[Cm,nd]=(0,r.useState)({email:"",role:"employee",name:""}),[Xe,rd]=(0,r.useState)(null),[no,Am]=(0,r.useState)(20),[ro,Kl]=(0,r.useState)(null),[ur,Ql]=(0,r.useState)([]),[En,sd]=(0,r.useState)(!0),[id,qn]=(0,r.useState)(!1),[ei,ma]=(0,r.useState)(null),[Jl,Pm]=(0,r.useState)(!1),[ve,cr]=(0,r.useState)({productId:"",quantity:1,price:0,customerName:"Cliente Offline",paymentMethod:"Efectivo",notes:"Venta presencial"}),[fa,ti]=(0,r.useState)(null),[ga,Yl]=(0,r.useState)(null),[va,ba]=(0,r.useState)(null),[Dm,xa]=(0,r.useState)(""),[Xl,od]=(0,r.useState)(""),[dr,ad]=(0,r.useState)("all"),[ld,ys]=(0,r.useState)(!1),[Om,Zl]=(0,r.useState)(null),[cn,ud]=(0,r.useState)({showWarning:!1,deactivatedProducts:[],deactivatedCoupons:[],previousPlan:null,newPlan:null}),[In,Sn]=(0,r.useState)(null),[l,h]=(0,r.useState)(!1),[v,_]=(0,r.useState)(null),F=(0,r.useRef)(!1),H=(0,r.useRef)(null),ne=u=>{cr({productId:u.id,quantity:1,price:Number(u.basePrice)||0,customerName:"Cliente Offline",paymentMethod:"Efectivo",notes:"Venta presencial"}),qn(!0)},$e=async()=>{if(ve.productId){if(ve.quantity<=0){M("La cantidad debe ser mayor a 0","error");return}Ki(!0);try{let u=me(se,"artifacts",w,"public","data","products",ve.productId),g=await Ks(u);if(!g.exists())throw new Error("Producto no encontrado");let y=Number(g.data().stock)||0;if(y<ve.quantity){M(`Stock insuficiente. Solo quedan ${y} unidades.`,"error"),Ki(!1);return}let x=ve.quantity*ve.price,k=new Date().toISOString(),U={orderId:`man-${Date.now().toString().slice(-6)}`,date:k,status:"Realizado",source:"manual_sale",userId:"manual_admin",customerId:"manual_admin",customer:{name:ve.customerName||"Cliente Mostrador",email:"-",phone:"-",dni:"-"},items:[{productId:ve.productId,title:le.find(L=>L.id===ve.productId)?.name||"Producto",quantity:Number(ve.quantity),unit_price:Number(ve.price),image:le.find(L=>L.id===ve.productId)?.image||""}],subtotal:x,discount:0,total:x,shippingAddress:"Entrega Presencial (Offline)",paymentMethod:ve.paymentMethod,notes:ve.notes,lastUpdate:k};await tr(tt(se,"artifacts",w,"public","data","orders"),U),await nt(u,{stock:Qs(-ve.quantity)}),yn||eu(),M("Venta registrada exitosamente","success"),qn(!1)}catch(u){console.error("Error en venta manual:",u),M("Error al registrar venta: "+u.message,"error")}finally{Ki(!1)}}},Ct=(0,r.useRef)(null),M=(u,g="info")=>{let y=Date.now();_t(x=>[...x.filter(U=>Date.now()-U.id<3e3),{id:y,message:u,type:g}])},At=u=>_t(g=>g.filter(y=>y.id!==u)),Pt=u=>{let g=u?.targetType||(u?.promoId?"promo":u?.productId?"product":"none"),y=u?.targetId||u?.promoId||u?.productId||"";if(!(!y||g==="none")){if(g==="product"){let x=le.find(k=>String(k.id).trim()===String(y).trim());if(x){fs(x);return}M("Este banner apunta a un producto que ya no existe.","warning"),document.getElementById("catalog")?.scrollIntoView({behavior:"smooth"});return}if(g==="promo"){let x=an.find(U=>String(U.id).trim()===String(y).trim());if(!x){M("Este banner apunta a una promo que ya no existe.","warning"),document.getElementById("catalog")?.scrollIntoView({behavior:"smooth"});return}let k=1/0;(x.items||[]).forEach(U=>{let L=le.find(J=>J.id===U.productId),G=L&&Number(L.stock)||0,V=Math.floor(G/(Number(U.quantity)||1));V<k&&(k=V)}),Number.isFinite(k)||(k=0),fs({...x,isPromo:!0,stock:k})}}},Gn=u=>{if(!u)return"user";let g=u.trim().toLowerCase();if(g===Ge.toLowerCase())return"admin";if(K&&K.email&&K.email.trim().toLowerCase()===g&&K.role&&K.role!=="user")return K.role;if(!p||!Bt)return"loading";let x=(p?.team||[]).find(k=>k.email&&k.email.trim().toLowerCase()===g);if(x)return x.role;if(Un&&Un.length>0){let k=Un.find(U=>U.email&&U.email.trim().toLowerCase()===g);if(k&&k.role)return k.role}return"user"},$t=u=>Gn(u)==="admin",ya=u=>Gn(u)==="editor",Rl=u=>Gn(u)==="loading",Lm=u=>{let g=Gn(u);return g==="loading"?!1:g==="admin"||g==="editor"||g==="employee"},at=$t(Be?.email||K?.email),IS=!!(Be?.email&&Ge&&Be.email.trim().toLowerCase()===Ge.trim().toLowerCase()),ni=(0,r.useMemo)(()=>{if(!at)return null;let u=Ce?.[0]?.date;return typeof u=="string"?u:null},[at,Ce]),ey=typeof p?.ordersLastSeenIso=="string"?p.ordersLastSeenIso:null,Mm=!!(ni&&(!ey||ni>ey)),SS=(0,r.useCallback)(()=>{Qi(u=>{let g=!u;try{localStorage.setItem("sustore_admin_order_alarm_muted",g?"1":"0")}catch{}return g})},[]),ri=(0,r.useCallback)(()=>{Pl.current=!1,Lr.current&&(clearInterval(Lr.current),Lr.current=null)},[]),cd=(0,r.useCallback)(async u=>{if(!at||!w)return;let g=typeof u=="string"&&u?u:new Date().toISOString();if(Ji.current!==g){Ji.current=g;try{await nt(me(se,"artifacts",w,"public","data","settings","config"),{ordersLastSeenIso:g})}catch{}}},[at,w]),eu=(0,r.useCallback)(async()=>{if(!at||yn||Pl.current)return;let u=window.AudioContext||window.webkitAudioContext;if(!u)return;let g=Xs.current;if(!g||g.state==="closed")try{g=new u,Xs.current=g}catch{return}try{g.state==="suspended"&&await g.resume()}catch{return}let y=k=>{let U=g.createOscillator(),L=g.createGain();U.type="triangle",U.frequency.value=880,L.gain.setValueAtTime(1e-4,k),L.gain.exponentialRampToValueAtTime(.12,k+.01),L.gain.exponentialRampToValueAtTime(1e-4,k+.09),U.connect(L),L.connect(g.destination),U.start(k),U.stop(k+.1)},x=()=>{let k=g.currentTime;y(k),y(k+.18)};Pl.current=!0,x(),Lr.current=setInterval(x,2e3)},[at,yn]);(0,r.useEffect)(()=>{let u=typeof window<"u"&&window.location&&window.location.hostname?String(window.location.hostname).trim().toLowerCase():"",g=u.startsWith("www.")?u.slice(4):u,y=String(Xx||"").trim();if(!y){te({status:"unconfigured",hostname:u,normalizedHostname:g,storeId:null,error:"missing-store-id"}),C(null);return}te({status:"resolved",hostname:u,normalizedHostname:g,storeId:y,error:null}),C(y)},[]);let TS=(0,r.useCallback)(()=>{let g=(x=>String(x||"").trim().toLowerCase().replace(/[^a-z0-9-]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""))(q.normalizedHostname||q.hostname||"store"),y=typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID().split("-")[0]:Math.random().toString(36).slice(2,8);return`${g}-${y}`.slice(0,80)},[q.hostname,q.normalizedHostname]),ty=(0,r.useCallback)(async u=>{let g=new Date().toISOString();await Cr(me(se,"artifacts",u,"public","data","settings","config"),{...Js,createdAt:g,updatedAt:g},{merge:!0}),await Cr(me(se,"artifacts",u,"public","config"),{version:xS,updatedAt:g},{merge:!0})},[]),Vm=(0,r.useCallback)(async u=>{let g=q.normalizedHostname;if(!g)throw new Error("Dominio invlido");let y=String(u||"").trim();if(!y)throw new Error("StoreId invlido");let x=new Date().toISOString();await Cr(me(se,"storesIndex",g),{storeId:y,hostname:g,updatedAt:x,updatedBy:Be?.email||null,createdAt:x},{merge:!0}),await ty(y),C(y),te(k=>({...k,status:"resolved",storeId:y,error:null}))},[ty,q.normalizedHostname,Be?.email]),ny=(0,r.useCallback)(u=>{let g=u?.product&&typeof u.product=="object"?u.product:{},y=String(u?.productId||g?.id||"").trim(),x=Number(u?.quantity),k=Number.isFinite(x)&&x>0?x:1,U=String(u?.name||u?.title||g?.name||"").trim(),L=u?.price??u?.unit_price??g?.basePrice,G=Number(L),V=Number.isFinite(G)?G:0,J=String(u?.image||g?.image||"").trim(),Y=u?.isPromo===!0||g?.isPromo===!0,oe=(Array.isArray(u?.promoItems)?u.promoItems:Array.isArray(u?.items)?u.items:Array.isArray(g?.items)?g.items:[]).map(de=>({productId:String(de?.productId||"").trim(),quantity:Number(de?.quantity)||0})).filter(de=>de.productId&&de.quantity>0);return{productId:y,quantity:k,name:U,price:V,image:J,isPromo:Y,promoItems:Y?oe:[],items:Y?oe:[]}},[]),si=(0,r.useCallback)(u=>Array.isArray(u)?u.map(ny).filter(g=>g.productId&&g.quantity>0):[],[ny]);(0,r.useEffect)(()=>{f?(document.documentElement.classList.add("dark-mode"),document.body.classList.add("dark-mode")):(document.documentElement.classList.remove("dark-mode"),document.body.classList.remove("dark-mode")),localStorage.setItem("sustore_dark_mode",JSON.stringify(f))},[f]),(0,r.useEffect)(()=>{if(localStorage.setItem("sustore_cart",JSON.stringify(je)),w&&K&&K.id){if(!nr.current)return;let g=setTimeout(async()=>{try{await Cr(me(se,"artifacts",w,"public","data","carts",K.id),{userId:K.id,userName:K.name||"Usuario",items:si(je),lastUpdated:new Date().toISOString()},{merge:!0})}catch(y){console.error("Error syncing cart",y)}},800);return()=>clearTimeout(g)}},[je,K,w]),(0,r.useEffect)(()=>{nr.current=!1,Yi.current=null},[w,K?.id]),(0,r.useEffect)(()=>{if(!K?.id||!w||nr.current)return;let u=!1;return(async()=>{try{let y=await Ks(me(se,"artifacts",w,"public","data","carts",K.id));if(!y.exists()){nr.current=!0;return}let x=y.data()||{},k=Array.isArray(x.items)?x.items:[];if(k.length===0){nr.current=!0;return}let U=si(k).map(L=>({product:{id:L.productId,name:typeof L.name=="string"?L.name:"",basePrice:Number(L.price)||0,image:typeof L.image=="string"?L.image:"",category:"",isPromo:L.isPromo===!0,items:Array.isArray(L.promoItems)?L.promoItems:Array.isArray(L.items)?L.items:[]},quantity:Number(L.quantity)||1}));if(U.length===0){nr.current=!0;return}u||(ds(L=>L.length===0?U:L),nr.current=!0)}catch{nr.current=!0}})(),()=>{u=!0}},[w,K?.id,si]),(0,r.useEffect)(()=>{if(!at){ri();return}typeof p?.ordersLastSeenIso!="string"&&Bt&&Ce.length>0&&ni&&cd(ni)},[at,Bt,p?.ordersLastSeenIso,Ce.length,ni,cd,ri]),(0,r.useEffect)(()=>{if(!at||Bc.current)return;let u=window.AudioContext||window.webkitAudioContext;if(!u)return;let g=async()=>{try{Xs.current||(Xs.current=new u),Xs.current?.state==="suspended"&&await Xs.current.resume(),Dl(!0)}catch{}Bc.current=!0};return window.addEventListener("pointerdown",g,{once:!0,capture:!0}),()=>window.removeEventListener("pointerdown",g,!0)},[at]),(0,r.useEffect)(()=>{if(!at){ri();return}if(yn){ri();return}Mm&&!(t==="admin"&&n==="orders")?eu():ri()},[at,yn,Mm,t,n,eu,ri,Zo]),(0,r.useEffect)(()=>{at&&(t!=="admin"||n!=="orders"||ni&&(cd(ni),ri()))},[at,t,n,ni,cd,ri]),(0,r.useEffect)(()=>{le.length>0&&je.length>0&&ds(u=>{let g=!1,y=u.map(x=>{let k=le.find(U=>U.id===x.product.id);return k&&(k.basePrice!==(x.product?.basePrice??0)||k.name!==(x.product?.name??"")||k.image!==(x.product?.image??""))?(g=!0,{...x,product:{...k,basePrice:Number(k.basePrice)||0}}):x});return g?y:u})},[le]),(0,r.useEffect)(()=>{if(!w)return;let u=me(se,"artifacts",w,"public","config"),g=xn(u,y=>{if(y.exists()){let x=y.data();x.version&&x.version!==xS&&(console.log(`Nueva versin detectada: ${x.version}. Actualizando...`),window.location.reload())}});return()=>g()},[w]),(0,r.useEffect)(()=>{K&&K.id&&K.email&&K.name?(localStorage.setItem("sustore_user_data",JSON.stringify(K)),wn(u=>({...u,address:K.address||u.address,city:K.city||u.city,province:K.province||u.province,zipCode:K.zipCode||u.zipCode}))):K||localStorage.removeItem("sustore_user_data")},[K]),(0,r.useEffect)(()=>{let u=!1,g=!1,y=async()=>{if(!g){g=!0;try{typeof __initial_auth_token<"u"&&__initial_auth_token?await _p(Ke,__initial_auth_token):await kv(Ke)}catch(x){console.error("Error en bootstrap Auth:",x)}finally{g=!1}}};return Ip(Ke,async x=>{if(Wi(x),!x){mt(null),g||await y(),u||(u=!0),setTimeout(()=>Nt(!1),300);return}u||(u=!0),x.isAnonymous&&mt(null),setTimeout(()=>Nt(!1),300)})},[]),(0,r.useEffect)(()=>{if(!w||!Be||Be.isAnonymous)return;let u=!1;return(async()=>{try{let y=me(se,"artifacts",w,"public","data","users",Be.uid),x=await Ks(y);if(u)return;if(x.exists()){let k={id:x.id,...x.data()},U=String(k.emailLower||k.email||Be.email||"").trim().toLowerCase(),L=String(Ge||"").trim().toLowerCase();L&&U===L&&(k.role="admin"),k.role==="admin"&&(k._adminVerified=!0),mt(k)}else{let k=Be.email||"",U=k.toLowerCase(),L=String(Ge||"").trim().toLowerCase(),G={name:Be.displayName||k.split("@")[0]||"Usuario",email:k,emailLower:U,role:L&&U===L?"admin":"user",createdAt:new Date().toISOString()};try{await Cr(y,G,{merge:!0})}catch(V){console.warn("[Auth] Could not auto-create profile in Firestore:",V?.code||V?.message||V)}u||mt({id:Be.uid,...G})}}catch{u||mt(null)}})(),()=>{u=!0}},[w,Be?.uid,Be?.isAnonymous]),(0,r.useEffect)(()=>{if(p){let u=p.primaryColor||"#f97316",g=p.secondaryColor||"#8b5cf6",y=p.accentColor||"#22c55e",x=document.getElementById("dynamic-theme-styles");x||(x=document.createElement("style"),x.id="dynamic-theme-styles",document.head.appendChild(x)),x.textContent=`
                :root {
                    --color-primary: ${u};
                    --color-secondary: ${g};
                    --color-accent: ${y};
                }
                
                /* Primary color overrides */
                .text-orange-400, .text-orange-500 { color: ${u} !important; }
                .bg-orange-400, .bg-orange-500 { background-color: ${u} !important; }
                .bg-orange-900\\/10, .bg-orange-900\\/20 { background-color: ${u}1a !important; }
                .border-orange-500, .border-orange-500\\/20, .border-orange-500\\/30, .border-orange-500\\/50 { border-color: ${u} !important; }
                .hover\\:text-orange-400:hover { color: ${u} !important; }
                .hover\\:bg-orange-400:hover, .hover\\:bg-orange-500:hover { background-color: ${u} !important; }
                .hover\\:border-orange-500:hover, .hover\\:border-orange-500\\/30:hover, .hover\\:border-orange-500\\/50:hover { border-color: ${u} !important; }
                .focus-within\\:border-orange-500\\/50:focus-within { border-color: ${u}80 !important; }
                .from-orange-400 { --tw-gradient-from: ${u} !important; }
                .to-orange-500 { --tw-gradient-to: ${u} !important; }
                .shadow-orange-500\\/30, .shadow-orange-600\\/30 { --tw-shadow-color: ${u}4d !important; }
                .ring-orange-500 { --tw-ring-color: ${u} !important; }
                .selection\\:bg-orange-500\\/30 ::selection { background-color: ${u}4d !important; }
                .selection\\:text-orange-200 ::selection { color: ${u} !important; }
                
                /* Secondary color overrides */
                .text-purple-400, .text-purple-500 { color: ${g} !important; }
                .bg-purple-400, .bg-purple-500 { background-color: ${g} !important; }
                .bg-purple-900\\/10, .bg-purple-900\\/20 { background-color: ${g}1a !important; }
                .border-purple-500, .border-purple-500\\/20 { border-color: ${g} !important; }
                .hover\\:text-purple-400:hover { color: ${g} !important; }
                .from-purple-500, .from-purple-600 { --tw-gradient-from: ${g} !important; }
                
                /* Accent color overrides */
                .text-green-400, .text-green-500 { color: ${y} !important; }
                .bg-green-400, .bg-green-500, .bg-green-600 { background-color: ${y} !important; }
                .bg-green-900\\/10 { background-color: ${y}1a !important; }
                .border-green-500, .border-green-500\\/20, .border-green-500\\/30 { border-color: ${y} !important; }
                .hover\\:text-green-400:hover { color: ${y} !important; }
                .hover\\:bg-green-400:hover, .hover\\:bg-green-500:hover { background-color: ${y} !important; }
                .shadow-green-500\\/30, .shadow-green-600\\/30 { --tw-shadow-color: ${y}4d !important; }
                
                /* Neon text effect with primary color */
                .neon-text {
                    text-shadow: 0 0 10px ${u}40, 0 0 20px ${u}20, 0 0 30px ${u}10 !important;
                }
            `}},[p?.primaryColor,p?.secondaryColor,p?.accentColor]),(0,r.useEffect)(()=>{let u=document.getElementById("light-mode-styles");if(u||(u=document.createElement("style"),u.id="light-mode-styles",document.head.appendChild(u)),t==="admin"){u.textContent="";return}f?u.textContent="":u.textContent=`
                /* Light Mode Overrides */
                body, .bg-\\[\\#050505\\], .bg-\\[\\#0a0a0a\\], .bg-\\[\\#080808\\], .bg-\\[\\#111\\], .bg-black {
                    background-color: #f8fafc !important;
                }
                .bg-\\[\\#1a1a1a\\], .bg-zinc-800 { background-color: #ffffff !important; }
                .hover\\:bg-zinc-700:hover { background-color: #e2e8f0 !important; }
                .bg-grid {
                    background-image: linear-gradient(rgba(0,0,0,0.03) 1px, transparent 1px),
                                      linear-gradient(90deg, rgba(0,0,0,0.03) 1px, transparent 1px) !important;
                }
                .text-white { color: #0f172a !important; }
                .text-white\\/50, .text-white\\/60, .text-white\\/70, .text-white\\/80 { color: #475569 !important; }
                .hover\\:text-white:hover { color: #0f172a !important; }
                .text-slate-200 { color: #334155 !important; }
                .text-slate-300, .text-slate-400, .text-slate-500, .text-slate-600 { color: #64748b !important; }
                .bg-slate-900, .bg-slate-900\\/50, .bg-slate-800 { background-color: #ffffff !important; }
                .bg-slate-900\\/30 { background-color: rgba(255,255,255,0.8) !important; }
                .border-slate-700, .border-slate-700\\/50, .border-slate-800, .border-slate-800\\/50, .border-slate-900 { 
                    border-color: #e2e8f0 !important; 
                }
                .border-white\\/5, .border-white\\/10, .border-white\\/20 { border-color: #e2e8f0 !important; }
                .fill-white { fill: #0f172a !important; }
                .stroke-white { stroke: #0f172a !important; }
                .glass {
                    background: rgba(255, 255, 255, 0.95) !important;
                    border-color: #e2e8f0 !important;
                }
                .input-cyber {
                    background-color: #f1f5f9 !important;
                    border-color: #e2e8f0 !important;
                    color: #0f172a !important;
                }
                .input-cyber::placeholder { color: #94a3b8 !important; }
                .input-cyber:focus { border-color: var(--color-primary, #f97316) !important; }
                
                /* Cards and containers */
                .rounded-\\[2rem\\], .rounded-\\[2\\.5rem\\], .rounded-\\[1\\.5rem\\] {
                    box-shadow: 0 4px 20px rgba(0,0,0,0.05) !important;
                }
                
                /* Footer */
                footer.bg-\\[\\#050505\\] { background-color: #0f172a !important; }
                footer.bg-\\[\\#050505\\] .bg-slate-900, 
                footer.bg-\\[\\#050505\\] .bg-slate-900\\/50,
                footer.bg-\\[\\#050505\\] .bg-slate-800 { background-color: rgba(255,255,255,0.06) !important; }
                footer.bg-\\[\\#050505\\] .border-slate-800 { border-color: rgba(255,255,255,0.10) !important; }
                footer .text-white { color: #ffffff !important; }
                footer .text-slate-500, footer .text-slate-400, footer .text-slate-600 { color: #94a3b8 !important; }
                
                /* Admin panel stays dark */
                [class*="admin"] .bg-\\[\\#050505\\] { background-color: #050505 !important; }
            `},[f,t]),(0,r.useEffect)(()=>{if(!Be||!w)return;let u=[],g=!1;return u.push(xn(tt(se,"artifacts",w,"public","data","products"),y=>{let x=y.docs.map(k=>{let U=k.data();return{id:k.id,...U,stock:Number(U.stock)||0}});Ol(x),je.length===0&&Nt(!1)},y=>{console.error("Error fetching products:",y),y?.code==="permission-denied"||String(y?.message||"").includes("permission")?(M("Error de permisos. Reiniciando sesin...","warning"),setTimeout(()=>{Ke.signOut().then(()=>window.location.reload())},2e3)):M("Error al cargar productos: "+(y?.message||"error"),"error")})),u.push(xn(me(se,"artifacts",w,"public","data","settings","config"),y=>{if(y.exists()){let x=y.data(),k=x.team||Js.team,U=x.teamRoles&&typeof x.teamRoles=="object"?x.teamRoles:Object.fromEntries((k||[]).filter(G=>G?.email&&G?.role).map(G=>[G.email.trim().toLowerCase(),G.role])),L={...Js,...x,team:k,teamRoles:U,categories:x.categories||Js.categories};W(L),Kc(!0),Wl(x.aboutUsText||Js.aboutUsText)}else W(Js),Kc(!0),Wl(Js.aboutUsText)})),u.push(xn(tt(se,"artifacts",w,"public","data","promos"),y=>{Ll(y.docs.map(x=>({id:x.id,...x.data()})))},y=>{console.error("Error fetching promos:",y),Ll([])})),u.push(xn(tt(se,"artifacts",w,"public","data","homeBanners"),y=>{let x=y.docs.map(k=>({id:k.id,...k.data()}));x.sort((k,U)=>{let L=Number.isFinite(Number(k.order))?Number(k.order):0,G=Number.isFinite(Number(U.order))?Number(U.order):0;if(L!==G)return L-G;let V=typeof k.createdAt=="string"?k.createdAt:"",J=typeof U.createdAt=="string"?U.createdAt:"";return V.localeCompare(J)}),qc(x)},y=>{console.error("Error fetching homeBanners:",y),qc([])})),u.push(xn(tt(se,"artifacts",w,"public","data","coupons"),y=>{Wc(y.docs.map(x=>({id:x.id,...x.data()})))},y=>{console.error("Error fetching coupons:",y),Wc([])})),()=>{g=!0,u.forEach(y=>y())}},[Be,w]),(0,r.useEffect)(()=>{if(!Be||!w)return;let u=Be&&!Be.isAnonymous,g=t==="admin";if(!u){ft([]);return}if(at&&!g){ft([]);return}let y=tt(se,"artifacts",w,"public","data","orders"),x;if(at){let k=[Qx("date","desc"),Jx(no)];ro&&k.push(fS(ro)),x=Kx(y,...k)}else x=Kx(y,mS("customerId","==",Be.uid),Qx("date","desc"),Jx(50));return xn(x,k=>{let U=k.docs.map(L=>({id:L.id,...L.data()}));if(at&&sd(k.docs.length===no),!at){let L=G=>{if(!G)return 0;if(typeof G?.toMillis=="function")return G.toMillis();let V=Date.parse(String(G));return Number.isFinite(V)?V:0};U.sort((G,V)=>L(V.date)-L(G.date))}ft(U)},k=>{console.error("Orders Snapshot Error:",k),ft([])})},[Be,at,w,t,no,ro]);let kS=()=>{if(!En||Ce.length===0)return;let u=Ce[Ce.length-1].id;Ks(me(se,"artifacts",w,"public","data","orders",u)).then(g=>{g.exists()&&(Ql(y=>[...y,ro]),Kl(g))})},CS=()=>{if(ur.length===0)return;let u=ur[ur.length-1];Kl(u),Ql(g=>g.slice(0,-1))};(0,r.useEffect)(()=>{if(!w)return;if(!(at&&t==="admin")){na([]),Ml([]),o([]),m([]),c([]),ta([]);return}let y=[],x=L=>G=>{console.error(`[Admin] Error cargando ${L}:`,G?.code||G?.message||G)},k=async()=>{try{let L=await Ke.currentUser?.getIdToken();if(!L){console.warn("[Admin] list-users: no auth token available");return}let G=await fetch("/api/admin?action=list-users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`,"x-store-id":w||""},body:JSON.stringify({})});if(G.ok){let V=await G.json();Array.isArray(V.users)&&na(V.users)}else console.error("[Admin] list-users API responded",G.status,await G.text().catch(()=>""))}catch(L){console.error("[Admin] API list-users failed:",L)}};k();let U=setInterval(k,3e4);try{y.push(xn(tt(se,"artifacts",w,"public","data","users"),L=>{let G=L.docs.map(V=>({id:V.id,...V.data()}));G.length>0&&na(G)},L=>{console.warn("[Admin] Users snapshot not available (using API polling):",L?.code||L?.message||"")}))}catch(L){console.warn("[Admin] Could not set up users snapshot:",L)}return y.push(xn(tt(se,"artifacts",w,"public","data","suppliers"),L=>{Ml(L.docs.map(G=>({id:G.id,...G.data()})))},x("suppliers"))),y.push(xn(tt(se,"artifacts",w,"public","data","expenses"),L=>{o(L.docs.map(G=>({id:G.id,...G.data()})))},x("expenses"))),y.push(xn(tt(se,"artifacts",w,"public","data","purchases"),L=>{m(L.docs.map(G=>({id:G.id,...G.data()})))},x("purchases"))),y.push(xn(tt(se,"artifacts",w,"public","data","investments"),L=>{c(L.docs.map(G=>({id:G.id,...G.data()})))},x("investments"))),y.push(xn(tt(se,"artifacts",w,"public","data","carts"),L=>{let G=L.docs.map(V=>({id:V.id,...V.data()})).filter(V=>V.items&&V.items.length>0);ta(G)},x("carts"))),()=>{clearInterval(U),y.forEach(L=>L())}},[at,w,t]);let $m=(0,r.useMemo)(()=>{let u=new Map;for(let g of le)u.set(String(g.id).trim(),g);return u},[le]),ry=(0,r.useMemo)(()=>{let u=new Map;for(let g of an)u.set(String(g.id).trim(),g);return u},[an]);(0,r.useEffect)(()=>{if(!w||le.length===0||!K||je.length===0)return;let u=V=>Array.isArray(V)?V.map(J=>({productId:String(J?.productId||"").trim(),quantity:Number(J?.quantity)||0})).filter(J=>J.productId&&J.quantity>0):[],g=V=>u(V).map(J=>`${J.productId}:${J.quantity}`).join("|"),y=(V,J)=>{let Y=Number(V),ie=Number.isFinite(Y)&&Y>0?Math.floor(Y):1;return!Number.isFinite(J)||J<=0?ie:Math.max(1,Math.min(ie,Math.floor(J)))},x=!1,k=[],U=[],L=[];for(let V of je){let J=String(V.product?.id||"").trim(),Y=V.product?.name||"Producto";if(V.product?.isPromo===!0||V.isPromo===!0){let Pe=ry.get(J),Se=Pe||(V.product?.isPromo===!0?V.product:null);if(!Se){x=!0,k.push(`${Y} (Promo eliminada)`);continue}if(Pe&&Pe.isActive===!1){x=!0,k.push(`${Y} (Promo no disponible)`);continue}let dn=u(Array.isArray(V.product?.items)&&V.product.items.length>0?V.product.items:Se.items);if(dn.length===0){x=!0,k.push(`${Y} (Promo invalida)`);continue}let Gt=1/0,Br=!1;for(let hd of dn){let X=$m.get(hd.productId);if(!X||X.isActive===!1){Br=!0;break}let fe=Number(X.stock)||0,Et=Math.floor(fe/hd.quantity);Et<Gt&&(Gt=Et)}if(Br){x=!0,k.push(`${Y} (Componentes no validos)`);continue}if(!(Gt>0)){x=!0,k.push(`${Y} (Sin stock)`);continue}let zm=Pe?.name||Se?.name||Y,tu=y(V.quantity,Gt);tu!==Number(V.quantity||0)&&(x=!0,U.push(`${zm} (x${tu})`));let io={...Se,...Pe||{},id:J,isPromo:!0,items:dn,stock:Gt,basePrice:Number(Pe?.price??Pe?.basePrice??Se?.price??Se?.basePrice)||0};((V.product?.name||"")!==(io.name||"")||Number(V.product?.basePrice||0)!==Number(io.basePrice||0)||(V.product?.image||"")!==(io.image||"")||g(V.product?.items)!==g(io.items))&&(x=!0),L.push({...V,product:io,quantity:tu});continue}let oe=$m.get(J);if(!oe){x=!0,k.push(`${Y} (Producto eliminado)`);continue}if(oe.isActive===!1){x=!0,k.push(`${Y} (No disponible actualmente)`);continue}if(!(Number(oe.stock)>0)){x=!0,k.push(`${Y} (Sin stock)`);continue}let de=y(V.quantity,Number(oe.stock)||0);de!==Number(V.quantity||0)&&(x=!0,U.push(`${oe.name||Y} (x${de})`)),((V.product?.basePrice??0)!==oe.basePrice||(V.product?.discount??0)!==oe.discount||(V.product?.name||"")!==(oe.name||"")||(V.product?.image||"")!==(oe.image||""))&&(x=!0),L.push({...V,product:oe,quantity:de})}if(!x||(ds(L),!nr.current))return;let G=JSON.stringify(L.map(V=>({id:String(V.product?.id||""),q:Number(V.quantity)||0,p:Number(V.product?.basePrice)||0,d:Number(V.product?.discount)||0,promo:V.product?.isPromo===!0,pi:g(V.product?.items)})));Yi.current!==G&&(Yi.current=G,Cr(me(se,"artifacts",w,"public","data","carts",K.id),{userId:K.id,items:si(L)},{merge:!0}),k.length>0&&M(`Tu carrito se actualizo: ${k.join(", ")}`,"info"),U.length>0&&M(`Ajustamos cantidades por stock: ${U.join(", ")}`,"warning"))},[$m,ry,le.length,K?.id,je,w,si]);let Fm=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(!w||!Bt||!p)return;let u=JSON.stringify(p);if(Fm.current===u)return;let g=setTimeout(async()=>{try{if(K?.role!=="admin"){Fm.current=u;return}let oe=me(se,"artifacts",w,"public","data","settings","config"),de=p?.team||Js.team,ge=p?.teamRoles&&typeof p.teamRoles=="object"?p.teamRoles:Object.fromEntries((de||[]).filter(Se=>Se?.email&&Se?.role).map(Se=>[Se.email.trim().toLowerCase(),Se.role])),Pe={...p,teamRoles:ge};await Cr(oe,Pe,{merge:!0}),Fm.current=JSON.stringify(Pe),console.log("[AutoSave] Settings saved successfully.")}catch(oe){console.error("[AutoSave] Error saving settings:",oe)}},2e3),y=(oe,de)=>{let ge=document.querySelector(oe);ge&&de&&ge.setAttribute("content",de)},x=(oe,de)=>{let ge=document.getElementById(oe);ge&&de&&ge.setAttribute("content",de)},k=(oe,de)=>{let ge=document.getElementById(oe);ge&&de&&ge.setAttribute("href",de)},U=p.seoTitle||(p.storeName?`${p.storeName} - Tienda Online`:"Tienda Online");document.title=U;let L=p.seoDescription||`${p.storeName||"Tienda"} - Tu tienda online de confianza.`;x("meta-description",L);let G=p.seoKeywords||`${p.storeName||"tienda"}, productos, comprar, envos`;x("meta-keywords",G);let V=p.seoAuthor||p.storeName||"Tienda Online";x("meta-author",V),x("meta-apple-title",p.storeName||"Tienda"),p.primaryColor&&x("meta-theme-color",p.primaryColor);let J=String(p.seoUrl||G4||(typeof window<"u"?window.location.origin:"")).trim().replace(/\/+$/,"");J&&(k("link-canonical",J),x("og-url",J),x("twitter-url",J));let Y=p.seoImage||p.logoUrl||p.heroUrl||"";x("og-title",U),x("og-description",L),x("og-site-name",p.storeName||"Tienda Online"),Y&&x("og-image",Y),x("twitter-title",U),x("twitter-description",L),Y&&x("twitter-image",Y);let ie=document.getElementById("dynamic-favicon")||document.querySelector("link[rel*='icon']");if(ie)if(p.logoUrl){let oe=new Image;oe.crossOrigin="Anonymous",oe.onload=()=>{try{let de=document.createElement("canvas");de.width=64,de.height=64;let ge=de.getContext("2d");ge.beginPath(),ge.arc(32,32,32,0,Math.PI*2),ge.closePath(),ge.clip(),ge.drawImage(oe,0,0,64,64),ie.href=de.toDataURL("image/png")}catch{ie.href=p.logoUrl}},oe.onerror=()=>{ie.href=p.logoUrl},oe.src=p.logoUrl}else ie.href="/icon-192.png";return console.log("[SEO & AutoSave] Updated and Autosaved."),()=>clearTimeout(g)},[p,Bt,K?.role]);let AS=async u=>{Nt(!0);try{let g=String(Ne.email||"").trim().toLowerCase()===String(Ge||"").trim().toLowerCase(),y=String(window.location.hostname||"").trim().toLowerCase(),x=y==="localhost"||y==="127.0.0.1"||y==="::1";if(!w&&!g)throw new Error("Tienda no configurada para este dominio.");let k=w?["artifacts",w,"public","data","users"]:null,U=async V=>{if(!k)return null;let J=await Ks(me(se,...k,V));return J.exists()?{id:J.id,...J.data()}:null},L=async V=>{if(!w)return;let J=await V.getIdToken(),Y=await fetch("/api/auth/setup-profile",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":w||"",Authorization:`Bearer ${J}`},body:JSON.stringify({name:Ne.name,username:Ne.username,dni:Ne.dni,phone:Ne.phone})}),ie=await Y.json().catch(()=>({}));if(!Y.ok)throw new Error(ie.error||"Error al crear el perfil")},G=async V=>{if(!w)return;let J=await V.getIdToken();await fetch("/api/auth/claim-legacy-profile",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":w||"",Authorization:`Bearer ${J}`},body:JSON.stringify({})})};if(u){let V=Ne.email.trim().toLowerCase();if(!Ne.name||Ne.name.trim().length<3)throw new Error("El nombre es muy corto.");if(!Ne.username||Ne.username.trim().length<3)throw new Error("Debes elegir un nombre de usuario.");if(!V||!V.includes("@"))throw new Error("Email invlido.");if(!Ne.password||Ne.password.length<6)throw new Error("La contrasea debe tener al menos 6 caracteres.");if(!Ne.dni||Ne.dni.trim().length<6)throw new Error("Debes ingresar tu DNI (mnimo 6 dgitos).");if(!Ne.phone||Ne.phone.trim().length<8)throw new Error("Debes ingresar tu telfono (mnimo 8 dgitos).");let J=await Cv(Ke,V,Ne.password),Y={id:J.user.uid,name:Ne.name,email:V,emailLower:V,role:String(V).trim().toLowerCase()===String(Ge||"").trim().toLowerCase()?"admin":"user"};mt(Y),e("store"),sr({email:"",password:"",name:"",username:"",dni:"",phone:""}),Nt(!1),M("Cuenta creada exitosamente! Bienvenido.","success"),(async()=>{try{await L(J.user);let ie=await U(J.user.uid);if(!ie)return;let oe=String(ie?.emailLower||ie?.email||"").trim().toLowerCase(),de=String(Ge||"").trim().toLowerCase(),ge=de&&oe===de?{...ie,role:"admin"}:ie;mt(ge)}catch(ie){console.error("Error setup profile (background):",ie),M(ie?.message||"Error al crear el perfil","error");try{await Ke.signOut()}catch{}try{await J.user.delete()}catch{}}})();return}else{let V=Ne.email.trim();if(!V)throw new Error("Ingresa tu email.");if(!Ne.password)throw new Error("Ingresa tu contrasena.");if(!V.includes("@"))throw new Error("Usa tu email para iniciar sesion.");let J=V.toLowerCase(),Y=null;try{Y=(await Ep(Ke,J,Ne.password)).user}catch(ie){let oe=ie?.code||"";if(oe==="auth/user-not-found"||new Set(["auth/invalid-credential","auth/invalid-login-credentials"]).has(oe)){let ge=await fetch("/api/auth/legacy-login",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":w||""},body:JSON.stringify({identifier:J,password:Ne.password})}),Pe=await ge.text().catch(()=>""),Se={};try{Se=Pe?JSON.parse(Pe):{}}catch{Se={}}if(!ge.ok||!Se?.token){if(ge.status===401)throw/<html/i.test(Pe)||/login\s*\s*vercel/i.test(Pe)||/vercel/i.test(Pe)?new Error("Tu despliegue est respondiendo 401 (Vercel protegido). Desactiv Deployment Protection / Vercel Authentication o hac el sitio pblico."):new Error("Credenciales incorrectas.");if(Se?.code==="firebase_admin_not_configured")throw new Error(Se.error||"Backend no configurado (Firebase Admin)");if(g){if(!x)throw new Error("El Super Admin no se inicializa desde Vercel. Crealo en Firebase Auth (Authentication > Users) o inicializalo en localhost.");let Gt=await fetch("/api/auth/bootstrap-super-admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:J,password:Ne.password})});if(Gt.ok)Y=(await Ep(Ke,J,Ne.password)).user;else{let Br=await Gt.json().catch(()=>({}));throw new Error(Br?.error||"No se pudo inicializar el Super Admin")}}if(!Y)throw new Error(Se.error||"No se pudo recuperar tu cuenta legacy")}Y=(await _p(Ke,Se.token)).user}else throw oe==="auth/wrong-password"?new Error("La contrasea es incorrecta."):oe==="auth/too-many-requests"?new Error("Demasiados intentos fallidos. Intenta ms tarde o restablece tu contrasea."):ie}if(!Y)throw new Error("Error al iniciar sesin");if(!k){let ie=String(Y.email||J).toLowerCase(),oe=String(Ge||"").trim().toLowerCase();mt({id:Y.uid,name:Y.displayName||"Usuario",email:Y.email||J,emailLower:(Y.email||J).toLowerCase(),role:oe&&ie===oe?"admin":"user"}),M("Sesin iniciada. Vincul el dominio para cargar la tienda.","success"),e("store"),sr({email:"",password:"",name:"",username:"",dni:"",phone:""});return}mt({id:Y.uid,name:Y.displayName||"Usuario",email:Y.email||J,emailLower:(Y.email||J).toLowerCase(),role:String(Y.email||J).trim().toLowerCase()===String(Ge||"").trim().toLowerCase()?"admin":"user"}),e("store"),sr({email:"",password:"",name:"",username:"",dni:"",phone:""}),Nt(!1),M("Hola de nuevo!","success"),(async()=>{try{let ie=await U(Y.uid);if(ie||(await G(Y),ie=await U(Y.uid)),!ie){let Pe={name:Y.displayName||"Usuario",email:Y.email||J,emailLower:(Y.email||J).toLowerCase(),role:String(Y.email||J).trim().toLowerCase()===String(Ge||"").trim().toLowerCase()?"admin":"user",createdAt:new Date().toISOString()};await Cr(me(se,...k,Y.uid),Pe,{merge:!0}),ie=await U(Y.uid)}if(await nt(me(se,...k,Y.uid),{lastLogin:new Date().toISOString()}).catch(()=>{}),!ie)return;let oe=String(ie?.emailLower||ie?.email||"").trim().toLowerCase(),de=String(Ge||"").trim().toLowerCase(),ge=de&&oe===de?{...ie,role:"admin"}:ie;mt(ge)}catch(ie){console.error("Error load profile (background):",ie)}})();return}}catch(g){console.error("Error de autenticacin:",g),M(g.message||"Error de autenticacin","error")}finally{Nt(!1)}},PS=async()=>{mt(null),e("store");try{await Ke.signOut()}catch(u){console.error("Error al cerrar sesin:",u)}},DS=async()=>{let u=String(Ne.email||"").trim().toLowerCase();if(!u||!u.includes("@")){M("Ingresa tu email (vlido) en el campo de arriba para recuperar la contrasea.","warning");return}Nt(!0);try{let g=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":w||""},body:JSON.stringify({email:u})}),y=await g.json().catch(()=>({}));if(!g.ok)throw new Error(y.error||"Error al enviar el email");M(`Listo! Enviamos el link de recuperacin a ${u}. Revis tu email.`,"success")}catch(g){console.error("Error reset pass:",g),M(g?.message||"Error al enviar el email de recuperacin.","error")}finally{Nt(!1)}},sy=async u=>{if(!K){M("Debes iniciar sesin para guardar favoritos.","info");return}let g=K.favorites||[],y=g.includes(u.id),x=[];y?(x=g.filter(k=>k!==u.id),M("Eliminado de tus favoritos.","info")):(x=[...g,u.id],M("Guardado en favoritos!","success")),mt(k=>({...k,favorites:x}));try{let k=me(se,"artifacts",w,"public","data","users",K.id);await nt(k,{favorites:x})}catch(k){console.error("Error guardando favorito:",k)}},ii=(u,g)=>{ds(y=>{let x=y.findIndex(G=>G.product.id===u.id),U=(x>=0?y[x].quantity:0)+g,L=0;if(u.isPromo){let G=1/0;u.items.forEach(V=>{let J=le.find(oe=>oe.id===V.productId),Y=J&&Number(J.stock)||0,ie=Math.floor(Y/V.quantity);ie<G&&(G=ie)}),L=G}else L=Number(u.stock);if(U>L)return M(`Lo sentimos, el stock mximo disponible es ${L}.`,"warning"),y;if(U<=0)return x>=0?(M("Producto eliminado del carrito.","info"),y.filter(G=>G.product.id!==u.id)):y;if(x>=0){let G=[...y];return G[x]={...G[x],quantity:U},G}else return M("Producto agregado al carrito!","success"),[...y,{product:u,quantity:U}]})},wa=(u,g)=>{if(!g||g<=0)return Number(u);let y=Number(u)*(1-g/100);return Math.ceil(y)},hr=(0,r.useMemo)(()=>je.reduce((u,g)=>{let y=wa(g.product?.basePrice??0,g.product?.discount??0);return u+y*(g.quantity||0)},0),[je]),iy=(u,g)=>{if(!g||g.expirationDate&&new Date(g.expirationDate)<new Date)return 0;let y=0;return g.type==="fixed"?(y=g.value,y>u&&(y=u)):g.type==="percentage"&&(y=u*(g.value/100),g.maxDiscount&&g.maxDiscount>0&&y>g.maxDiscount&&(y=g.maxDiscount)),Math.ceil(y)},OS=(u,g)=>{let y=(u||"").trim();if(!y)return null;try{let x=new URL(y);return x.searchParams.set("text",g),x.toString()}catch{let x=y.replace(/[^\d]/g,"");return x?`https://wa.me/${x}?text=${encodeURIComponent(g)}`:null}},LS=u=>{if(!u||u.targetType==="specific_email"&&K?.email&&u.targetUser&&u.targetUser.toLowerCase()!==K.email.toLowerCase()||u.expirationDate&&new Date(u.expirationDate)<new Date)return!1;let g=Array.isArray(u.usedBy)?u.usedBy:[];return!(u.usageLimit&&g.length>=u.usageLimit||K?.id&&g.includes(K.id)||hr<(u.minPurchase||0)||!K?.dni)},MS=()=>{let u=p?.currency||"$",g=p?.storeName||"la tienda",y=[];if(y.push(`Hola, quiero terminar mi compra por WhatsApp en ${g}.`),K?.name){let J=[K.name];K.email&&J.push(K.email),K.phone&&J.push(K.phone),y.push(`Cliente: ${J.join(" - ")}`)}else K?.email&&y.push(`Cliente: ${K.email}`);y.push(""),y.push("Mi carrito:"),je.forEach(J=>{let Y=J.product?.name||"Producto",ie=Number(J.quantity)||0,oe=wa(J.product?.basePrice??0,J.product?.discount??0),de=Math.ceil(oe*ie);y.push(`- ${ie} x ${Y}  ${u}${oe.toLocaleString()} c/u  ${u}${de.toLocaleString()}`)});let x=LS(gt)?gt:null,k=x?iy(hr,x):0,U=Math.max(0,Number(hr)||0),L=Math.max(0,Number(Na)||0),G=Math.max(0,U-k+L);y.push(""),y.push(`Subtotal: ${u}${U.toLocaleString()}`),x&&k>0&&(y.push(`Cupn: ${x.code}`),y.push(`Descuento: -${u}${k.toLocaleString()}`));let V=ue.shippingMethod==="Delivery"?"Envo a domicilio":"Retiro en local";return y.push(`${V}: ${L>0?`${u}${L.toLocaleString()}`:"Gratis"}`),y.push(`Total estimado: ${u}${G.toLocaleString()}`),y.join(`
`)},dd=gt?iy(hr,gt):0,Na=(0,r.useMemo)(()=>{if(ue.shippingMethod!=="Delivery")return 0;let u=p?.shippingDelivery;return!u?.enabled||u.freeAbove>0&&hr>=u.freeAbove?0:Number(u.fee)||0},[ue.shippingMethod,hr,p?.shippingDelivery]),so=Math.max(0,hr-dd+Na),VS=async u=>{if(u.targetType==="specific_email"&&K?.email&&u.targetUser&&u.targetUser.toLowerCase()!==K.email.toLowerCase())return M("Este cupn no est disponible para tu cuenta.","error");if(u.expirationDate&&new Date(u.expirationDate)<new Date)return M("Este cupn ha vencido.","error");let g=Array.isArray(u.usedBy)?u.usedBy:[];if(u.usageLimit&&g.length>=u.usageLimit)return M("Este cupn ha agotado sus usos totales.","error");if(hr<(u.minPurchase||0))return M(`El monto mnimo para este cupn es $${u.minPurchase}.`,"warning");if(!K?.dni)return M("Debes actualizar tu DNI en el perfil para usar cupones.","warning");ln(u),gs(!1);let y="Cupn aplicado correctamente!";u.type==="percentage"&&u.maxDiscount>0&&(y+=` (Tope de reintegro: $${u.maxDiscount})`),M(y,"success")},oy=async()=>{let u=Ke.currentUser;if(u&&!u.isAnonymous)return u;let g=await new Promise(y=>{let x=null,k=setTimeout(()=>{x&&x(),y(Ke.currentUser)},1200);x=Ip(Ke,U=>{clearTimeout(k),x(),y(U)})});return g&&!g.isAnonymous?g:null},$S=async()=>{if(!Dr)try{let u=await oy();if(!u)return e("login"),M("Por favor inicia sesin para finalizar la compra.","info");let g=K;if(!g&&w)try{let U=await Ks(me(se,"artifacts",w,"public","data","users",u.uid));if(U.exists()){let L={id:U.id,...U.data()};L.role==="admin"&&(L._adminVerified=!0),mt(L),g=L}}catch{}if(!g)return e("login"),M("Por favor inicia sesin para finalizar la compra.","info");if(!g.name||!g.phone||!g.dni)return e("profile"),M("Por favor completa tus datos personales (Nombre, Telfono y DNI) en tu perfil antes de comprar.","warning");if(ue.shippingMethod==="Delivery"&&(!ue.address||!ue.city||!ue.province||!ue.zipCode))return M("Por favor completa TODOS los datos de envo.","warning");if(!ue.paymentChoice)return M("Selecciona un mtodo de pago.","warning");if(ue.paymentChoice==="Tarjeta")throw new Error("Para pagar con tarjeta us el formulario de Mercado Pago.");Ki(!0),M("Procesando tu pedido, por favor espera...","info");let y=await u.getIdToken(!0),x=await fetch("/api/orders/confirm",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":w||"",Authorization:`Bearer ${y}`},body:JSON.stringify({paymentMethod:ue.paymentChoice,shippingMethod:ue.shippingMethod,shipping:{address:ue.address,city:ue.city,province:ue.province,zipCode:ue.zipCode,fee:Na},couponCode:gt?.code||null,cart:je.map(U=>({productId:U.product?.id,quantity:U.quantity,isPromo:U.product?.isPromo===!0,promoItems:Array.isArray(U.product?.items)?U.product.items.map(L=>({productId:String(L?.productId||"").trim(),quantity:Number(L?.quantity)||0})).filter(L=>L.productId&&L.quantity>0):[]}))})}),k=await x.json().catch(()=>({}));if(x.status===401)throw e("login"),new Error("Tu sesin venci. Inici sesin nuevamente para finalizar la compra.");if(!x.ok)throw new Error(k.error||"Error al procesar el pedido");ds([]),ln(null),e("profile"),M("Pedido realizado con xito! Te enviamos un email con el detalle.","success")}catch(u){console.error("Error al procesar pedido:",u),M(u.message||"Ocurri un error al procesar el pedido.","error")}finally{Ki(!1)}},ay=async()=>{if(F.current)return;if(h(!1),_(null),console.log(" Mercado Pago: Iniciando Brick. Total a cobrar:",so),!window.MercadoPago)try{await(async()=>{window.MercadoPago||await new Promise((G,V)=>{let J=document.createElement("script");J.src="https://sdk.mercadopago.com/js/v2",J.async=!0,J.onload=G,J.onerror=V,document.head.appendChild(J)})})()}catch{_("No se pudo cargar el sistema de pagos. Intent nuevamente.");return}let u=Number(parseFloat(so).toFixed(2));if(isNaN(u)||u<=0){console.error(" Error: Monto invlido para pago:",so);return}if(!document.getElementById("cardPaymentBrick_container"))return;F.current=!0;let y=setTimeout(()=>{F.current&&(console.warn(" Mercado Pago: La inicializacin est tardando demasiado. Liberando bloqueo..."),F.current=!1)},1e4);if(In){try{await In.unmount()}catch(G){console.warn("Error unmounting:",G)}Sn(null)}let x=document.getElementById("cardPaymentBrick_container");x&&(x.innerHTML="",x.style.display="none",x.offsetHeight,x.style.display="block"),_(null);let k=await H4();if(!k){F.current=!1,clearTimeout(y),_("Mercado Pago no est configurado. Verific la clave pblica en el servidor.");return}let L=new window.MercadoPago(k,{locale:"es-AR"}).bricks();try{let G=await L.create("cardPayment","cardPaymentBrick_container",{initialization:{amount:u},customization:{visual:{style:{theme:"default",customVariables:{formBackgroundColor:"#0f172a",baseColor:"#f97316",borderRadiusMedium:"12px",borderRadiusLarge:"16px",textPrimaryColor:"#000000",textSecondaryColor:"#334155"}}},paymentMethods:{maxInstallments:12}},callbacks:{onReady:()=>{console.log(" Mercado Pago: Card Payment Brick cargado."),F.current=!1,clearTimeout(y)},onSubmit:async V=>{if(console.log(" Mercado Pago: Procesando pago..."),h(!0),_(null),!V.token){h(!1),_("Error en los datos de la tarjeta. Por favor intent nuevamente."),M("Error al procesar los datos de la tarjeta.","error");return}try{let J=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"process_payment",paymentData:{token:V.token,transaction_amount:u,description:`Compra en ${p?.storeName||"Tienda Online"}`,installments:V.installments||1,payment_method_id:V.payment_method_id||"",issuer_id:V.issuer_id||""},payer:{email:K?.email||"sin-email@tienda.com",identificationType:V.payer?.identification?.type||"DNI",identificationNumber:V.payer?.identification?.number||"00000000"}})}),Y=await J.json().catch(()=>({}));if(console.log(" Respuesta:",Y),!J.ok){let ie=Y?.error||Y?.message||`Error procesando pago (${J.status})`;throw new Error(ie)}if(Y.status==="approved"||Y.status==="in_process"||Y.status==="pending"){if(await FS(Y.id),M("Compra realizada!","success"),h(!1),F.current=!1,In){try{await In.unmount()}catch(ie){console.log(ie)}Sn(null)}}else{let oe={cc_rejected_high_risk:"El pago fue rechazado por controles de seguridad de Mercado Pago. Te recomendamos probar con otra tarjeta o medio de pago.",cc_rejected_insufficient_amount:"Tu tarjeta no tiene fondos suficientes.",cc_rejected_bad_filled_other:"Revis los datos de tu tarjeta.",cc_rejected_bad_filled_date:"La fecha de vencimiento es incorrecta.",cc_rejected_bad_filled_security_code:"El cdigo de seguridad es incorrecto.",cc_rejected_call_for_authorize:"Debs autorizar el pago llamando a tu banco.",cc_rejected_card_disabled:"Tu tarjeta est inactiva. Llam a tu banco para activarla.",cc_rejected_max_attempts:"Llegaste al lmite de intentos permitidos. Us otra tarjeta.",cc_rejected_duplicated_payment:"Ya hiciste un pago similar recientemente. Esper unos minutos."}[Y.status_detail]||Y.status_detail||Y.error||"Pago rechazado";if(console.error(" Motivo del rechazo:",oe),In){try{await In.unmount()}catch(de){console.log("Error al desmontar brick tras falla:",de)}Sn(null)}F.current=!1,h(!1),_(`${oe}`),M("El pago no se pudo completar. Revis los detalles.","error")}}catch(J){console.error(" Error de conexin:",J),h(!1),_("Error de conexin con el servidor. Revis tu internet e intent de nuevo."),M("Error de conexin.","error")}},onError:V=>{console.error(" Mercado Pago Error:",V),F.current=!1,clearTimeout(y),!(V&&V.message&&V.message.includes("melidata"))&&_("Error en el formulario. Verific tus claves de produccin.")}}});Sn(G)}catch(G){console.error("Error creating brick:",G),F.current=!1,clearTimeout(y),M("Error al cargar el formulario de pago.","error")}},FS=async u=>{try{let g=await oy();if(!g)throw new Error("Sesin invlida. Reinici e intent de nuevo.");let y=await g.getIdToken(!0),x=await fetch("/api/orders/confirm",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":w||"",Authorization:`Bearer ${y}`},body:JSON.stringify({paymentMethod:"Tarjeta",mpPaymentId:u,shippingMethod:ue.shippingMethod,shipping:{address:ue.address,city:ue.city,province:ue.province,zipCode:ue.zipCode,fee:Na},couponCode:gt?.code||null,cart:je.map(U=>({productId:U.product?.id,quantity:U.quantity,isPromo:U.product?.isPromo===!0,promoItems:Array.isArray(U.product?.items)?U.product.items.map(L=>({productId:String(L?.productId||"").trim(),quantity:Number(L?.quantity)||0})).filter(L=>L.productId&&L.quantity>0):[]}))})}),k=await x.json().catch(()=>({}));if(x.status===401)throw new Error("Tu sesin venci. Inici sesin nuevamente e intent otra vez.");if(!x.ok)throw new Error(k.error||"Error guardando el pedido");if(ds([]),ln(null),In)try{In.unmount()}catch{}Sn(null),e("profile")}catch(g){console.error("Error creating order after payment:",g),M("El pago fue exitoso pero hubo un error guardando el pedido. Contacta soporte.","warning")}};(0,r.useEffect)(()=>{let u=t==="checkout",g=ue.paymentChoice==="Tarjeta";if(u&&g&&so>0&&K&&je.length>0){if(!K.name||!K.phone||!K.dni){M("Por favor complet tus datos personales antes de pagar con tarjeta.","warning"),e("profile");return}let y=setTimeout(()=>{document.getElementById("cardPaymentBrick_container")&&ay()},300);return()=>clearTimeout(y)}else if(In&&(!u||!g)){console.log("Sweep: Limpiando Brick por cambio de vista o mtodo.");try{In.unmount()}catch{}Sn(null),F.current=!1}},[ue.paymentChoice,so,K,je.length,t]);let US=async()=>{if(!ye.name)return M("El nombre del producto es obligatorio.","warning");let u=30,g=50;if(!vs){let k=p?.subscriptionPlan||"entrepreneur",U=k==="entrepreneur",L=k==="business";if(U&&le.length>=u)return M(`Has alcanzado el lmite de ${u} productos del Plan Emprendedor. Mejora tu plan para seguir creciendo!`,"error");if(L&&le.length>=g)return M(`Has alcanzado el lmite de ${g} productos del Plan Negocio. Psate a Premium para productos ilimitados!`,"error")}if(!ye.basePrice||Number(ye.basePrice)<=0)return M("El precio debe ser mayor a 0.","warning");let y=Array.isArray(ye.categories)?ye.categories:ye.category?[ye.category]:[];if(y.length===0)return M("Selecciona al menos una categora.","warning");let x={...ye,categories:y,basePrice:Number(ye.basePrice)||0,purchasePrice:Number(ye.purchasePrice||0),stock:Number(ye.stock)||0,discount:Number(ye.discount||0),image:ye.image||"https://via.placeholder.com/150",lastUpdated:new Date().toISOString()};"category"in x&&delete x.category;try{vs?(await nt(me(se,"artifacts",w,"public","data","products",vs),x),M("Producto actualizado correctamente.","success")):(await tr(tt(se,"artifacts",w,"public","data","products"),{...x,createdAt:new Date().toISOString()}),M("Producto creado correctamente.","success")),Ee({name:"",basePrice:"",purchasePrice:"",stock:"",categories:[],image:"",description:"",discount:0}),bs(null),da(!1)}catch(k){console.error(k),M("Error al guardar el producto.","error")}},oi=(u,g,y="image",x=800)=>{let k=u.target.files?.[0];if(!k)return;if(!k.type.startsWith("image/"))return M("Por favor selecciona una imagen vlida.","warning");let U=new FileReader;U.onload=L=>{let G=new Image;G.onload=()=>{let V=document.createElement("canvas"),J=x,Y=x,ie=G.width,oe=G.height;ie>oe?ie>J&&(oe*=J/ie,ie=J):oe>Y&&(ie*=Y/oe,oe=Y),V.width=ie,V.height=oe,V.getContext("2d").drawImage(G,0,0,ie,oe);let ge=V.toDataURL("image/jpeg",.7);g(Pe=>({...Pe,[y]:ge})),M("Imagen optimizada y cargada.","success")},G.src=L.target.result},U.readAsDataURL(k)},Um=()=>{oa(null),$r({imageUrl:"",targetType:"none",targetId:"",enabled:!0,order:0})},jS=u=>{if(!u)return;oa(u.id);let g=u.targetType||(u.promoId?"promo":u.productId?"product":"none"),y=u.targetId||u.promoId||u.productId||"";$r({imageUrl:u.imageUrl||"",targetType:g,targetId:y,enabled:u.enabled!==!1,order:Number.isFinite(Number(u.order))?Number(u.order):0})},zS=async()=>{if(!Ve?.imageUrl)return M("Sub una imagen para el banner.","warning");let u=Ve?.targetType||"none",g=Ve?.targetId||"";if(u!=="none"&&!g)return M("Seleccion el destino del banner.","warning");let y=Number.isFinite(Number(Ve.order))?Number(Ve.order):0,x={imageUrl:Ve.imageUrl,enabled:Ve.enabled!==!1,order:y,targetType:u,targetId:u==="none"?"":String(g),productId:u==="product"?String(g):"",promoId:u==="promo"?String(g):""};try{Rs?(await nt(me(se,"artifacts",w,"public","data","homeBanners",Rs),x),M("Banner actualizado.","success")):(await tr(tt(se,"artifacts",w,"public","data","homeBanners"),{...x,createdAt:new Date().toISOString()}),M("Banner creado.","success")),Um()}catch(k){console.error(k),M("Error guardando banner: "+(k?.message||"error"),"error")}},BS=u=>{u?.id&&qt("Eliminar Banner","Eliminar este banner del carrusel?",async()=>{try{await Ar(me(se,"artifacts",w,"public","data","homeBanners",u.id)),M("Banner eliminado.","success"),Rs===u.id&&Um()}catch(g){console.error(g),M("Error eliminando banner: "+(g?.message||"error"),"error")}})},qS=u=>{qt("Eliminar Producto",`Ests seguro de eliminar el producto "${u.name}"?`,async()=>{try{await Ar(me(se,"artifacts",w,"public","data","products",u.id)),M("Producto eliminado correctamente.","success")}catch(g){console.error(g),M("Error al eliminar el producto.","error")}})},iD=u=>{if(Number(u.stock)<=0)return M("No hay stock para vender.","warning");qt("Venta Manual",`Registrar venta manual de 1 unidad de "${u.name}"?`,async()=>{try{let g=Number(u.basePrice)||0,y=new Date().toISOString(),x={orderId:`man-${Date.now().toString().slice(-6)}`,userId:"manual_admin",customerId:"manual_admin",customer:{name:"Cliente Mostrador",email:"offline@store.com",phone:"-",dni:"-"},items:[{productId:u.id,title:u.name,quantity:1,unit_price:g,image:u.image||""}],subtotal:g,discount:0,total:g,status:"Realizado",date:y,shippingAddress:"Entrega Presencial (Offline)",paymentMethod:"Efectivo",source:"manual_sale",notes:"Venta presencial rpida",lastUpdate:y};await tr(tt(se,"artifacts",w,"public","data","orders"),x),await nt(me(se,"artifacts",w,"public","data","products",u.id),{stock:Qs(-1)}),yn||eu(),M("Venta registrada. Stock actualizado.","success")}catch(g){console.error(g),M("Error al registrar venta manual.","error")}})},GS=u=>{qt("Finalizar Pedido","Marcar este pedido como REALIZADO/ENTREGADO?",async()=>{try{await nt(me(se,"artifacts",w,"public","data","orders",u),{status:"Realizado",lastUpdate:new Date().toISOString()}),M("Pedido finalizado correctamente.","success")}catch(g){console.error(g),M("Error al finalizar pedido.","error")}})},HS=u=>{qt("Eliminar Pedido","Eliminar este pedido permanentemente? El stock de los productos ser devuelto al inventario.",async()=>{try{let g=me(se,"artifacts",w,"public","data","orders",u),y=await Ks(g);if(!y.exists())throw new Error("El pedido no existe o ya fue eliminado.");let x=y.data();if(x.items&&Array.isArray(x.items)){for(let k of x.items)if(k.productId&&k.quantity>0){let U=me(se,"artifacts",w,"public","data","products",k.productId);try{await nt(U,{stock:Qs(k.quantity)})}catch{console.warn(`Producto ${k.productId} no encontrado, no se restaur stock.`)}}}await Ar(g),M("Pedido eliminado y stock restaurado exitosamente.","success")}catch(g){console.error(g),M("Error al eliminar pedido: "+g.message,"error")}})},WS=async()=>{if(!be.code||be.code.length<3)return M("El cdigo del cupn debe tener al menos 3 caracteres.","warning");if(!be.value||Number(be.value)<=0)return M("El valor del descuento debe ser mayor a 0.","warning");if(be.type==="percentage"&&Number(be.value)>100)return M("El porcentaje no puede ser mayor a 100%.","warning");if(be.targetType==="specific_email"&&(!be.targetUser||!be.targetUser.includes("@")))return M("Si el cupn es para un usuario especfico, ingresa un email vlido.","warning");try{let u={...be,code:be.code.toUpperCase().trim(),value:Number(be.value),minPurchase:Number(be.minPurchase||0),maxDiscount:Number(be.maxDiscount||0),usageLimit:Number(be.usageLimit||0),perUserLimit:Number(be.perUserLimit||1),targetUser:be.targetType==="global"?"":(be.targetUser||"").trim().toLowerCase(),createdAt:new Date().toISOString(),usedBy:[]};await tr(tt(se,"artifacts",w,"public","data","coupons"),u),Bn({code:"",type:"percentage",value:0,minPurchase:0,maxDiscount:0,expirationDate:"",targetType:"global",targetUser:"",usageLimit:"",perUserLimit:1}),M("Cupn de descuento creado exitosamente.","success")}catch(u){console.error(u),M("Error al crear el cupn.","error")}},KS=async()=>{if(!dt.name)return M("El nombre de la empresa es obligatorio.","warning");if(!dt.phone&&!dt.ig)return M("Debes ingresar al menos un mtodo de contacto (Telfono o Instagram).","warning");let u={...dt,associatedProducts:dt.associatedProducts||[],lastUpdated:new Date().toISOString()};try{aa?(await nt(me(se,"artifacts",w,"public","data","suppliers",aa),u),M("Proveedor actualizado correctamente.","success")):(await tr(tt(se,"artifacts",w,"public","data","suppliers"),{...u,createdAt:new Date().toISOString()}),M("Proveedor registrado correctamente.","success")),or({name:"",contact:"",phone:"",ig:"",address:"",cuit:"",associatedProducts:[]}),$l(null),eo(!1)}catch(g){console.error(g),M("Error al guardar proveedor.","error")}},QS=u=>{qt("Eliminar Compra",`Eliminar registro de compra? Se descontarn ${u.quantity} unidades del stock del producto.`,async()=>{try{await nt(me(se,"artifacts",w,"public","data","products",u.productId),{stock:Qs(-u.quantity)}),await Ar(me(se,"artifacts",w,"public","data","purchases",u.id)),M("Compra eliminada y stock revertido.","success")}catch(g){console.error(g),M("Error al eliminar compra.","error")}})},JS=async(u,g,y)=>{let x=(y.quantity||0)-(g.quantity||0);try{x!==0&&await nt(me(se,"artifacts",w,"public","data","products",g.productId),{stock:Qs(x)}),await nt(me(se,"artifacts",w,"public","data","purchases",u),{quantity:y.quantity,cost:y.cost,supplierId:y.supplierId}),lr(null),M("Compra actualizada y stock ajustado.","success")}catch(k){console.error(k),M("Error al actualizar la compra.","error")}},YS=async()=>{if(!zr.trim())return M("Ingresa un nombre para la categora.","warning");try{let u=[...p.categories||[],zr.trim()];await nt(me(se,"artifacts",w,"public","data","settings","config"),{categories:u}),xs(""),Ur(!1),M(`Categora "${zr}" creada.`,"success")}catch(u){console.error(u),M("Error al crear categora.","error")}},oD=(u,g,y)=>{if(!u||!y||g<=0)return M("Completa todos los campos.","warning");let x=le.find(G=>G.id===u);if(!x)return M("Producto no encontrado.","error");let k=x.purchasePrice||x.basePrice||0,U=k*g,L=Vt.findIndex(G=>G.productId===u);if(L>=0){let G=[...Vt];G[L].quantity+=g,G[L].cost=(x.purchasePrice||x.basePrice||0)*G[L].quantity,ar(G),M(`Cantidad actualizada: ${x.name}`,"success")}else ar([...Vt,{productId:u,productName:x.name,productImage:x.image,quantity:g,unitPrice:k,cost:U,supplierId:y}]),M(`Agregado al pedido: ${x.name}`,"success");Vr({productId:"",supplierId:y,quantity:1,cost:0,isNewProduct:!1})},XS=u=>{let g=Vt.filter((y,x)=>x!==u);ar(g),M("Producto eliminado del pedido.","info")},ZS=(u,g)=>{let y=[...Vt];y[u].quantity=g,y[u].cost=y[u].unitPrice*g,ar(y)},RS=async()=>{if(Vt.length===0)return M("El carrito de compras est vaco.","warning");try{let u=bS(se),g=`BATCH - ${Date.now()}`,y=new Date().toISOString();for(let x of Vt){let k=me(tt(se,"artifacts",w,"public","data","purchases"));u.set(k,{productId:x.productId,supplierId:x.supplierId,quantity:x.quantity,cost:x.cost,batchId:g,date:y});let U=me(se,"artifacts",w,"public","data","products",x.productId);u.update(U,{stock:Qs(x.quantity)})}await u.commit(),ar([]),M(`Pedido finalizado: ${Vt.length} productos registrados.`,"success")}catch(u){console.error("Error in batch purchase:",u),M("Error al finalizar el pedido: "+u.message,"error")}},Ie=(0,r.useMemo)(()=>{let u={},g=X=>{u[X]||(u[X]={cart:0,fav:0,sales:0,total:0})};ea.forEach(X=>{X.items&&X.items.forEach(fe=>{g(fe.productId),u[fe.productId].cart+=1,u[fe.productId].total+=1})}),Un.forEach(X=>{X.favorites&&X.favorites.forEach(fe=>{g(fe),u[fe].fav+=1,u[fe].total+=1})});let y=Ce.filter(X=>X.status==="Realizado"),x=y.reduce((X,fe)=>X+(fe.total||0),0),k=i?.reduce((X,fe)=>X+(fe.amount||0),0)||0,U=d?.reduce((X,fe)=>X+(fe.cost||0),0)||0,L=x-k-U,G={},V={};y.forEach(X=>{X.items&&Array.isArray(X.items)&&X.items.forEach(fe=>{let Et=fe.productId,_a=Number(fe.quantity)||0;G[Et]=(G[Et]||0)+_a,V[Et]||(V[Et]={name:fe.title||fe.name||"Producto Desconocido",image:fe.image}),g(Et),u[Et].sales+=_a,u[Et].total+=_a*5})});let J=Object.entries(u).map(([X,fe])=>{let Et=le.find(Bm=>Bm.id===X),_a=V[X]||{};return Et?{id:X,name:Et.name,image:Et.image,stock:Et.stock,stats:fe}:null}).filter(Boolean).sort((X,fe)=>fe.stats.total-X.stats.total).slice(0,5),Y=null,ie=-1;Object.entries(G).forEach(([X,fe])=>{fe>ie&&(ie=fe,Y=X)});let oe=null;if(Y){let X=le.find(Et=>Et.id===Y),fe=V[Y];(X||fe)&&(oe={id:Y,name:X?X.name:fe.name,image:X?X.image:fe.image,sales:ie,stock:X?X.stock:0})}let de=null,ge=1/0;le.forEach(X=>{let fe=G[X.id]||0;fe<ge&&(ge=fe,de=X.id)});let Pe=de?le.find(X=>X.id===de):null,Se={daily:{},monthly:{},yearly:{}},dn={};y.forEach(X=>{let fe=new Date(X.date),Et=fe.toISOString().split("T")[0],_a=fe.toISOString().slice(0,7),Bm=fe.getFullYear().toString(),qm=(qr,Hn,uy)=>{qr[Hn]||(qr[Hn]={date:Hn,revenue:0,orders:0}),qr[Hn].revenue+=uy,qr[Hn].orders+=1};qm(Se.daily,Et,X.total),qm(Se.monthly,_a,X.total),qm(Se.yearly,Bm,X.total),X.items&&X.items.forEach(qr=>{let Hn=le.find(ai=>ai.id===qr.productId||ai.id===qr.id);(Hn?Array.isArray(Hn.categories)&&Hn.categories.length>0?Hn.categories:Hn.category?[Hn.category]:["Otros"]:["Otros"]).forEach(ai=>{dn[ai]||(dn[ai]={name:ai,revenue:0,items:0,percentage:0}),dn[ai].revenue+=qr.unit_price*qr.quantity,dn[ai].items+=qr.quantity})})});let Gt={daily:Object.values(Se.daily).sort((X,fe)=>X.date.localeCompare(fe.date)),monthly:Object.values(Se.monthly).sort((X,fe)=>X.date.localeCompare(fe.date)),yearly:Object.values(Se.yearly).sort((X,fe)=>X.date.localeCompare(fe.date))},Br=Object.values(dn).reduce((X,fe)=>X+fe.items,0),zm=Object.values(dn).map(X=>({...X,percentage:Br>0?Math.round(X.items/Br*100):0})).sort((X,fe)=>fe.items-X.items),tu=p?.lowStockThreshold||5,io=le.filter(X=>!X.promoItems&&Number(X.stock)<=tu),ly=[...Ce].sort((X,fe)=>new Date(fe.date)-new Date(X.date)).slice(0,10),hd=[...y.map(X=>({id:X.id||X.orderId,type:"income",category:"Venta",date:X.date,amount:X.total,description:`Orden #${X.orderId}`,status:X.status})),...i.map(X=>({id:X.id,type:"expense",category:X.category||"Gasto",date:X.date,amount:X.amount,description:X.description,status:"Pagado"})),...(d||[]).map(X=>({id:X.id,type:"expense",category:"Compra Stock",date:X.date,amount:X.cost,description:`Prov: ${X.supplier||"General"}`,status:"Completado"})),...(a||[]).map(X=>({id:X.id,type:"income",category:"Inversin",date:X.date,amount:X.amount,description:`Inv: ${X.investor}`,status:"Recibido"}))].sort((X,fe)=>new Date(fe.date)-new Date(X.date)).slice(0,100);return{revenue:x,expensesTotal:k,purchasesTotal:U,netIncome:L,trendingProducts:J,starProduct:oe,leastSoldProduct:Pe,salesCount:G,analytics:Gt,salesByCategory:zm,lowStockProducts:io,recentActivity:ly,transactions:hd,totalOrders:Ce.length,totalUsers:Un.length}},[Ce,i,d,le,ea,Un,p]),eT=({order:u,onClose:g})=>u?r.default.createElement("div",{className:"fixed inset-0 z-[160] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-fade-up",onClick:g},r.default.createElement("div",{className:`rounded-[2rem] w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh] shadow-2xl border relative transition-colors duration-300 ${f?"glass border-slate-800":"bg-white border-slate-200"}`,onClick:y=>y.stopPropagation()},r.default.createElement("div",{className:`p-8 border-b flex justify-between items-center transition-colors duration-300 ${f?"border-slate-800 bg-slate-900/50":"border-slate-100 bg-slate-50/50"}`},r.default.createElement("div",null,r.default.createElement("h3",{className:`text-2xl font-black flex items-center gap-2 transition-colors duration-300 ${f?"text-white neon-text":"text-slate-900"}`},"DETALLE DE PEDIDO ",r.default.createElement("span",{className:"text-orange-500"},"#",u.orderId)),r.default.createElement("div",{className:"flex items-center gap-4 mt-2"},r.default.createElement("span",{className:`text-xs flex items-center gap-1 font-bold tracking-wider transition-colors duration-300 ${f?"text-slate-400":"text-slate-500"}`},r.default.createElement(Ea,{className:"w-3 h-3"})," ",new Date(u.date).toLocaleString()),r.default.createElement("span",{className:`text-[10px] px-2 py-0.5 rounded border uppercase font-black tracking-widest transition-colors duration-300 ${u.status==="Realizado"?f?"bg-green-900/30 text-green-400 border-green-500/30":"bg-green-100 text-green-600 border-green-200":f?"bg-yellow-900/30 text-yellow-400 border-yellow-500/30":"bg-yellow-100 text-yellow-600 border-yellow-200"}`},u.status))),r.default.createElement("button",{onClick:g,className:`p-3 rounded-full transition shadow-lg border ${f?"bg-slate-800 hover:bg-slate-700 border-slate-700 text-slate-400 hover:text-white":"bg-slate-100 hover:bg-slate-200 border-slate-200 text-slate-500 hover:text-slate-900"}`},r.default.createElement(It,{className:"w-5 h-5"}))),r.default.createElement("div",{className:`p-8 overflow-y-auto space-y-8 custom-scrollbar transition-colors duration-300 ${f?"bg-[#050505]":"bg-white"}`},r.default.createElement("div",{className:`flex justify-between items-center p-6 rounded-2xl border shadow-inner transition-colors duration-300 ${f?"bg-slate-900 border-slate-800":"bg-slate-50 border-slate-200"}`},r.default.createElement("div",{className:"flex items-center gap-4"},r.default.createElement("div",{className:`p-4 rounded-full shadow-lg transition-all duration-300 ${u.status==="Realizado"?f?"bg-green-500/20 text-green-400 shadow-[0_0_15px_rgba(34,197,94,0.2)]":"bg-green-100 text-green-600":f?"bg-yellow-500/20 text-yellow-400 shadow-[0_0_15px_rgba(234,179,8,0.2)]":"bg-yellow-100 text-yellow-600"}`},u.status==="Realizado"?r.default.createElement(Te,{className:"w-8 h-8"}):r.default.createElement(Ea,{className:"w-8 h-8"})),r.default.createElement("div",null,r.default.createElement("p",{className:`text-xs uppercase font-bold tracking-widest mb-1 transition-colors duration-300 ${f?"text-slate-500":"text-slate-400"}`},"Estado Actual"),r.default.createElement("p",{className:`text-xl font-black transition-colors duration-300 ${u.status==="Realizado"?f?"text-green-400":"text-green-600":f?"text-yellow-400":"text-yellow-600"}`},u.status==="Realizado"?"Entregado / Finalizado":"Pendiente de Pago/Envo")))),r.default.createElement("div",{className:"grid md:grid-cols-2 gap-6"},r.default.createElement("div",{className:`p-6 rounded-2xl border transition duration-300 ${f?"bg-slate-900/30 border-slate-800 hover:border-slate-700":"bg-slate-50 border-slate-200 hover:border-slate-300"}`},r.default.createElement("h4",{className:`text-xs font-black uppercase tracking-widest mb-4 flex items-center gap-2 border-b pb-2 transition-colors duration-300 ${f?"text-slate-500 border-slate-800":"text-slate-400 border-slate-100"}`},r.default.createElement(Hr,{className:"w-4 h-4"})," Datos del Cliente"),r.default.createElement("div",{className:"space-y-3"},r.default.createElement("p",{className:`font-bold text-lg transition-colors duration-300 ${f?"text-white":"text-slate-900"}`},u.customer?.name||"Cliente"),r.default.createElement("div",{className:"space-y-1"},r.default.createElement("p",{className:`text-sm flex justify-between border-b border-dashed pb-1 transition-colors duration-300 ${f?"text-slate-400 border-slate-800/50":"text-slate-600 border-slate-100"}`},r.default.createElement("span",null,"Email:")," ",r.default.createElement("span",{className:`font-medium transition-colors duration-300 ${f?"text-white":"text-slate-900"}`},u.customer?.email||"-")),r.default.createElement("p",{className:`text-sm flex justify-between border-b border-dashed pb-1 transition-colors duration-300 ${f?"text-slate-400 border-slate-800/50":"text-slate-600 border-slate-100"}`},r.default.createElement("span",null,"Telfono:")," ",r.default.createElement("span",{className:`font-medium transition-colors duration-300 ${f?"text-white":"text-slate-900"}`},u.customer?.phone||"-")),r.default.createElement("p",{className:`text-sm flex justify-between transition-colors duration-300 ${f?"text-slate-400":"text-slate-600"}`},r.default.createElement("span",null,"DNI:")," ",r.default.createElement("span",{className:`font-medium transition-colors duration-300 ${f?"text-white":"text-slate-900"}`},u.customer?.dni||"-"))))),r.default.createElement("div",{className:`p-6 rounded-2xl border transition duration-300 ${f?"bg-slate-900/30 border-slate-800 hover:border-slate-700":"bg-slate-50 border-slate-200 hover:border-slate-300"}`},r.default.createElement("h4",{className:`text-xs font-black uppercase tracking-widest mb-4 flex items-center gap-2 border-b pb-2 transition-colors duration-300 ${f?"text-slate-500 border-slate-800":"text-slate-400 border-slate-100"}`},r.default.createElement(Gr,{className:"w-4 h-4"})," Datos de Entrega"),r.default.createElement("div",{className:"space-y-3"},r.default.createElement("p",{className:`font-medium text-sm leading-relaxed min-h-[3rem] transition-colors duration-300 ${f?"text-white":"text-slate-800"}`},u.shippingAddress||"Retiro en sucursal"),r.default.createElement("div",{className:`pt-2 mt-2 border-t transition-colors duration-300 ${f?"border-slate-800/50":"border-slate-100"}`},r.default.createElement("p",{className:`text-xs uppercase font-bold mb-1 transition-colors duration-300 ${f?"text-slate-400":"text-slate-500"}`},"Mtodo de Pago"),r.default.createElement("div",{className:"flex items-center gap-2"},r.default.createElement(Ns,{className:"w-4 h-4 text-orange-500"}),r.default.createElement("p",{className:"text-orange-500 font-black text-sm uppercase"},u.paymentMethod)))))),r.default.createElement("div",null,r.default.createElement("h4",{className:`text-xs font-black uppercase tracking-widest mb-4 flex items-center gap-2 border-b pb-2 transition-colors duration-300 ${f?"text-slate-500 border-slate-800":"text-slate-400 border-slate-100"}`},r.default.createElement(mr,{className:"w-4 h-4"})," Productos (",u.items.length,")"),r.default.createElement("div",{className:"space-y-3"},u.items.map((y,x)=>r.default.createElement("div",{key:x,className:`flex justify-between items-center p-4 rounded-xl border transition group duration-300 ${f?"bg-slate-900/40 border-slate-800 hover:border-orange-900/30":"bg-white border-slate-100 hover:border-orange-200 shadow-sm"}`},r.default.createElement("div",{className:"flex items-center gap-4"},r.default.createElement("div",{className:`w-12 h-12 flex items-center justify-center rounded-lg p-1 shadow-md group-hover:scale-105 transition border ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`},y.image?r.default.createElement("img",{src:y.image,alt:y.title||"Producto",className:"w-full h-full object-contain"}):r.default.createElement(mr,{className:"text-slate-400"})),r.default.createElement("div",null,r.default.createElement("p",{className:`font-bold text-sm transition-colors duration-300 ${f?"text-white":"text-slate-900"}`},y.title),r.default.createElement("p",{className:"text-xs flex items-center gap-2 transition-colors duration-300 text-slate-500"},r.default.createElement("span",{className:`px-1.5 rounded text-[10px] font-bold transition-colors duration-300 ${f?"bg-slate-800 text-slate-300":"bg-slate-100 text-slate-600"}`},"x",y.quantity),r.default.createElement("span",null,"$",(Number(y.unit_price)||0).toLocaleString()," c/u")))),r.default.createElement("span",{className:`font-mono font-bold text-lg tracking-tight transition-colors duration-300 ${f?"text-white":"text-slate-900"}`},"$",((Number(y.unit_price)||0)*(Number(y.quantity)||0)).toLocaleString()))))),r.default.createElement("div",{className:`p-6 rounded-2xl border space-y-3 shadow-lg transition-colors duration-300 ${f?"bg-slate-900 border-slate-800":"bg-slate-50 border-slate-200"}`},r.default.createElement("div",{className:`flex justify-between text-sm font-medium transition-colors duration-300 ${f?"text-slate-400":"text-slate-500"}`},r.default.createElement("span",null,"Subtotal Productos"),r.default.createElement("span",null,"$",(Number(u.subtotal||u.total)||0).toLocaleString())),u.discount>0&&r.default.createElement("div",{className:`flex justify-between text-sm font-bold p-2 rounded-lg border border-dashed transition-colors duration-300 ${f?"text-green-400 bg-green-900/10 border-green-900/30":"text-green-600 bg-green-50 border-green-200"}`},r.default.createElement("span",{className:"flex items-center gap-2"},r.default.createElement(Is,{className:"w-3 h-3"})," Descuento (",u.discountCode||"Cupn",")"),r.default.createElement("span",null,"-$",(Number(u.discount)||0).toLocaleString())),r.default.createElement("div",{className:`flex justify-between items-center mt-4 pt-4 border-t border-dashed transition-colors duration-300 ${f?"border-slate-800":"border-slate-100"}`},r.default.createElement("span",{className:`font-bold text-lg transition-colors duration-300 ${f?"text-white":"text-slate-900"}`},"Total Abonado"),r.default.createElement("span",{className:`text-3xl font-black tracking-tighter transition-colors duration-300 ${f?"text-orange-500 neon-text":"text-orange-600"}`},"$",(Number(u.total)||0).toLocaleString())))))):null,tT=()=>{if(!ca)return null;let u=Mr.filter(g=>{let y=!g.expirationDate||new Date(g.expirationDate)>new Date,x=(K?.email||"").toLowerCase(),k=(g.targetUser||"").toLowerCase(),L=g.targetType==="specific_email"?!!K&&!!k&&k===x:!g.targetUser,G=g.targetType==="global"||!g.targetType&&!g.targetUser,V=Array.isArray(g.usedBy)?g.usedBy.length:0,J=!g.usageLimit||V<g.usageLimit,Y=!K||!Array.isArray(g.usedBy)||!g.usedBy.includes(K.id);return y&&(L||G)&&J&&Y});return r.default.createElement("div",{className:"fixed inset-0 z-[150] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-fade-up",onClick:()=>gs(!1)},r.default.createElement("div",{className:`rounded-[2rem] w-full max-w-lg overflow-hidden relative shadow-2xl border transition-colors duration-300 ${f?"border-purple-500/20 bg-[#050505]":"border-slate-200 bg-white"}`,onClick:g=>g.stopPropagation()},r.default.createElement("button",{onClick:()=>gs(!1),className:`absolute top-6 right-6 p-2 rounded-full transition z-10 ${f?"bg-slate-900 text-slate-400 hover:text-white hover:bg-slate-800":"bg-slate-100 text-slate-500 hover:text-slate-900 hover:bg-slate-200"}`},r.default.createElement(It,{className:"w-5 h-5"})),r.default.createElement("div",{className:`p-8 border-b transition-colors duration-300 ${f?"bg-gradient-to-br from-slate-900 via-[#0a0a0a] to-[#050505] border-slate-800":"bg-gradient-to-br from-slate-50 to-white border-slate-100"}`},r.default.createElement("h3",{className:`text-2xl font-black mb-2 flex items-center gap-3 ${f?"text-white":"text-slate-900"}`},r.default.createElement("div",{className:`p-2 rounded-lg border transition-colors duration-300 ${f?"bg-purple-900/20 border-purple-500/30":"bg-purple-50 border-purple-200"}`},r.default.createElement(yy,{className:`w-6 h-6 ${f?"text-purple-400":"text-purple-600"}`})),"Mis Beneficios"),r.default.createElement("p",{className:`transition-colors duration-300 ${f?"text-slate-400":"text-slate-500"} text-sm`},"Selecciona un cupn para aplicar el descuento a tu compra.")),r.default.createElement("div",{className:`p-8 space-y-4 max-h-[50vh] overflow-y-auto custom-scrollbar transition-colors duration-300 ${f?"bg-[#050505]":"bg-white"}`},u.length===0?r.default.createElement("div",{className:`text-center py-12 border-2 border-dashed rounded-2xl transition-colors duration-300 ${f?"border-slate-800":"border-slate-200"}`},r.default.createElement(Is,{className:`w-16 h-16 mx-auto mb-4 transition-colors duration-300 ${f?"text-slate-700":"text-slate-300"}`}),r.default.createElement("p",{className:`font-bold text-lg transition-colors duration-300 ${f?"text-slate-400":"text-slate-500"}`},"No tienes cupones disponibles."),r.default.createElement("p",{className:`transition-colors duration-300 ${f?"text-slate-600":"text-slate-400"} text-sm mt-2`},"Mantente atento a nuestras redes sociales.")):u.map(g=>{let y=hr>=(g.minPurchase||0);return r.default.createElement("div",{key:g.id,onClick:()=>y&&VS(g),className:`relative overflow-hidden rounded-2xl border transition-all duration-300 group ${y?f?"bg-[#0a0a0a] border-slate-700 hover:border-purple-500 cursor-pointer hover:shadow-[0_0_20px_rgba(168,85,247,0.15)] hover:scale-[1.01]":"bg-white border-slate-200 hover:border-purple-500 cursor-pointer hover:shadow-xl hover:scale-[1.01]":f?"bg-slate-900/50 border-slate-800 opacity-50 cursor-not-allowed":"bg-slate-50 border-slate-100 opacity-50 cursor-not-allowed"}`},r.default.createElement("div",{className:`absolute top-0 left-0 w-1.5 h-full transition-colors duration-300 ${y?"bg-purple-500":f?"bg-slate-700":"bg-slate-300"}`}),r.default.createElement("div",{className:"p-5 pl-7 flex justify-between items-center gap-4"},r.default.createElement("div",{className:"flex items-center gap-4 flex-1 min-w-0"},r.default.createElement("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center font-black text-lg flex-shrink-0 border ${y?f?"bg-purple-500/10 border-purple-500/30 text-purple-400":"bg-purple-50 border-purple-200 text-purple-600":f?"bg-slate-800 border-slate-700 text-slate-500":"bg-slate-100 border-slate-200 text-slate-400"}`},g.type==="fixed"?"$":"%"),r.default.createElement("div",{className:"min-w-0"},r.default.createElement("div",{className:"flex items-center gap-2 mb-1"},r.default.createElement("span",{className:`font-black text-base tracking-widest font-mono truncate ${f?"text-white":"text-slate-900"}`},g.code)),r.default.createElement("p",{className:`font-bold text-sm ${f?"text-purple-400":"text-purple-600"}`},g.type==="fixed"?`$${g.value} OFF`:`${g.value}% OFF`,g.maxDiscount>0&&g.type==="percentage"&&r.default.createElement("span",{className:`text-xs ml-1 font-normal ${f?"text-slate-500":"text-slate-400"}`},"(tope $",g.maxDiscount,")")),r.default.createElement("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 mt-1.5"},g.minPurchase>0&&r.default.createElement("span",{className:`text-[10px] font-bold flex items-center gap-1 ${y?f?"text-green-400":"text-green-600":"text-red-400"}`},y?r.default.createElement(Te,{className:"w-3 h-3"}):r.default.createElement(li,{className:"w-3 h-3"}),"Min: $",g.minPurchase),g.expirationDate&&r.default.createElement("span",{className:`text-[10px] font-bold flex items-center gap-1 ${f?"text-slate-500":"text-slate-400"}`},r.default.createElement(Ea,{className:"w-3 h-3"})," ",new Date(g.expirationDate).toLocaleDateString())))),y&&r.default.createElement("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shadow-lg transform group-hover:scale-110 transition flex-shrink-0 bg-purple-600 text-white"},r.default.createElement(hn,{className:"w-5 h-5"}))))}))))},nT=()=>{if(!Ae)return null;let[u,g]=(0,r.useState)(1),[y,x]=(0,r.useState)(!1),k=Ae.isPromo||!!Ae.items,U=Number(Ae.stock),L=je.find(de=>de.product.id===Ae.id),G=L?L.quantity:0,V=Math.max(0,U-G),J=U>0,Y=V===0&&J,ie=k?Number(Ae.price||Ae.basePrice):wa(Ae.basePrice,Ae.discount),oe=de=>{if(de.stopPropagation(),!J)return;let ge=k?{id:Ae.id,name:Ae.name,basePrice:Ae.price||Ae.basePrice,image:Ae.image,isPromo:!0,items:Ae.items,stock:Ae.stock}:Ae;ii(ge,u),x(!0),setTimeout(()=>x(!1),2e3)};return r.default.createElement("div",{className:"fixed inset-0 z-[20000] flex items-end sm:items-center justify-center bg-black/90 backdrop-blur-xl animate-fade-in p-0 sm:p-4",onClick:()=>fs(null)},r.default.createElement("div",{className:`border rounded-t-3xl sm:rounded-[2.5rem] max-w-4xl w-full overflow-hidden flex flex-col md:flex-row shadow-2xl animate-scale-up relative max-h-[95dvh] sm:max-h-[90vh] md:max-h-none md:h-auto overflow-y-auto md:overflow-hidden ${f?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`,onClick:de=>de.stopPropagation()},r.default.createElement("div",{className:`md:w-1/2 h-56 sm:h-72 md:h-[550px] p-4 sm:p-8 md:p-12 flex items-center justify-center relative overflow-hidden group flex-shrink-0 ${f?"bg-gradient-to-b from-slate-900 to-[#0a0a0a]":"bg-gradient-to-b from-slate-100 to-white"}`},r.default.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white/5 to-transparent opacity-50 group-hover:opacity-100 transition duration-500"}),r.default.createElement("img",{src:Ae.image,alt:Ae.name||"Producto",className:`w-full h-full object-contain z-10 transition-transform duration-700 hover:scale-110 ${f?"drop-shadow-[0_0_50px_rgba(255,255,255,0.15)]":"drop-shadow-[0_0_50px_rgba(0,0,0,0.1)]"}`}),!J&&r.default.createElement("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-black/40 backdrop-blur-[2px]"},r.default.createElement("div",{className:"border-4 border-red-500 p-4 -rotate-12 bg-black shadow-2xl"},r.default.createElement("span",{className:"text-red-500 font-black text-2xl tracking-widest uppercase"},"AGOTADO")))),r.default.createElement("div",{className:`md:w-1/2 p-5 sm:p-8 md:p-12 flex flex-col ${f?"bg-[#080808]":"bg-white"}`},r.default.createElement("div",{className:"mb-4 sm:mb-8"},r.default.createElement("span",{className:`inline-block px-3 py-1 text-[10px] font-black uppercase tracking-[0.2em] rounded mb-3 sm:mb-4 border ${f?"bg-orange-500/10 text-orange-400 border-orange-500/20":"bg-orange-50 text-orange-600 border-orange-200"}`},k?"COMBOS & PROMOCIONES":Array.isArray(Ae.categories)&&Ae.categories.length>0?Ae.categories[0]:Ae.category||"Sin categora"),r.default.createElement("h2",{className:`text-2xl sm:text-3xl md:text-4xl font-black leading-[1.1] mb-3 sm:mb-6 ${f?"text-white neon-text-small":"text-slate-900"}`},Ae.name),r.default.createElement("p",{className:`text-xs sm:text-sm md:text-base leading-relaxed line-clamp-3 sm:line-clamp-4 ${f?"text-slate-400":"text-slate-600"}`},Ae.description||"")),k&&Ae.items&&r.default.createElement("div",{className:`mb-8 space-y-3 p-6 rounded-2xl border shadow-inner ${f?"bg-purple-500/5 border-purple-500/20":"bg-purple-50 border-purple-200"}`},r.default.createElement("p",{className:`text-[10px] uppercase font-black tracking-[0.2em] flex items-center gap-2 ${f?"text-purple-400":"text-purple-600"}`},r.default.createElement(hi,{className:"w-3 h-3"})," Este pack incluye:"),r.default.createElement("div",{className:"space-y-2"},Ae.items.map((de,ge)=>{let Pe=le.find(Se=>Se.id===de.productId);return r.default.createElement("div",{key:ge,className:`flex items-center gap-3 text-sm group/item ${f?"text-slate-300":"text-slate-700"}`},r.default.createElement("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center text-[10px] font-black group-hover/item:text-white transition ${f?"bg-purple-500/20 text-purple-400 group-hover/item:bg-purple-500":"bg-purple-100 text-purple-600 group-hover/item:bg-purple-600"}`},de.quantity,"x"),r.default.createElement("span",{className:`font-bold transition ${f?"group-hover:text-white":"group-hover:text-slate-900"}`},Pe?.name||"Producto del pack"))}))),r.default.createElement("div",{className:`mt-auto pt-4 sm:pt-8 border-t flex flex-col gap-4 sm:gap-6 ${f?"border-white/5":"border-slate-100"}`},r.default.createElement("div",{className:"flex items-end justify-between"},r.default.createElement("div",{className:"flex flex-col"},r.default.createElement("span",{className:`text-[10px] sm:text-xs font-bold uppercase tracking-wider mb-1 ${f?"text-slate-500":"text-slate-400"}`},"Inversin Total"),r.default.createElement("div",{className:"flex items-center gap-2 sm:gap-3"},Ae.discount>0&&!k&&r.default.createElement("span",{className:`text-xs sm:text-sm line-through font-bold ${f?"text-slate-600":"text-slate-400"}`},"$",(Ae.basePrice*u).toLocaleString()),r.default.createElement("span",{className:`text-2xl sm:text-4xl font-black tracking-tighter ${f?"text-white":"text-slate-900"}`},"$",(ie*u).toLocaleString()))),Ae.discount>0&&!k&&r.default.createElement("div",{className:"px-3 py-1 bg-red-500 text-white rounded-lg text-[10px] font-black animate-pulse"},"-",Ae.discount,"% OFF")),r.default.createElement("div",{className:"flex gap-2 sm:gap-3"},r.default.createElement("div",{className:`flex items-center gap-1.5 sm:gap-3 rounded-xl sm:rounded-2xl p-1.5 sm:p-2 border ${f?"bg-slate-900 border-slate-800":"bg-slate-100 border-slate-200"}`},r.default.createElement("button",{onClick:de=>{de.stopPropagation(),g(Math.max(1,u-1))},disabled:u<=1,className:`w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center rounded-lg sm:rounded-xl transition disabled:opacity-30 disabled:cursor-not-allowed ${f?"hover:bg-slate-800 text-slate-400 hover:text-white":"hover:bg-white text-slate-500 hover:text-slate-900"}`},r.default.createElement(vd,{className:"w-4 h-4 sm:w-5 sm:h-5"})),r.default.createElement("span",{className:`text-lg sm:text-xl font-bold w-6 sm:w-8 text-center font-mono ${f?"text-white":"text-slate-900"}`},u),r.default.createElement("button",{onClick:de=>{de.stopPropagation(),g(Math.min(V,u+1))},disabled:u>=V,className:`w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center rounded-lg sm:rounded-xl transition disabled:opacity-30 disabled:cursor-not-allowed ${f?"hover:bg-slate-800 text-slate-400 hover:text-white":"hover:bg-white text-slate-500 hover:text-slate-900"}`},r.default.createElement(hn,{className:"w-4 h-4 sm:w-5 sm:h-5"}))),r.default.createElement("button",{onClick:oe,disabled:!J||Y,className:`flex-1 py-3.5 sm:py-5 rounded-xl sm:rounded-2xl font-black text-sm sm:text-base transition flex items-center justify-center gap-2 sm:gap-3 shadow-2xl ${y?"bg-green-500 text-white":J&&!Y?f?"bg-white text-black hover:bg-orange-400 hover:text-white hover:scale-[1.02] active:scale-[0.98]":"bg-slate-900 text-white hover:bg-orange-600 hover:scale-[1.02] active:scale-[0.98]":f?"bg-slate-900 text-slate-600 border border-slate-800 cursor-not-allowed":"bg-slate-200 text-slate-400 border border-slate-300 cursor-not-allowed"}`},y?r.default.createElement(r.default.Fragment,null,r.default.createElement(Te,{className:"w-5 h-5 sm:w-6 sm:h-6"})," LISTO"):Y?r.default.createElement(r.default.Fragment,null,r.default.createElement(li,{className:"w-5 h-5 sm:w-6 sm:h-6"})," MAX EN CARRITO"):J?r.default.createElement(r.default.Fragment,null,r.default.createElement(ao,{className:"w-5 h-5 sm:w-6 sm:h-6"})," AGREGAR"):r.default.createElement(r.default.Fragment,null,r.default.createElement(li,{className:"w-5 h-5 sm:w-6 sm:h-6"})," AGOTADO")))),r.default.createElement("button",{onClick:()=>fs(null),className:`absolute top-4 right-4 md:top-6 md:right-6 p-4 rounded-full transition-all border z-[30] shadow-2xl backdrop-blur-md ${f?"bg-black/60 md:bg-white/5 hover:bg-white/10 text-white md:text-slate-400 hover:text-white border-white/20 md:border-white/5":"bg-white/60 md:bg-slate-900/5 hover:bg-slate-900/10 text-slate-900 md:text-slate-500 hover:text-slate-900 border-slate-200 md:border-slate-900/5"}`,title:"Cerrar detalle"},r.default.createElement(It,{className:"w-6 h-6 md:w-5 md:h-5"})))))},rT=()=>{if(!id)return null;let u=le.find(x=>x.id===ve.productId),g=x=>{let k=x.target.value,U=le.find(L=>L.id===k);cr({...ve,productId:k,price:U?Number(U.basePrice):0})};return r.default.createElement("div",{className:"fixed inset-0 z-[160] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-fade-up",onClick:()=>qn(!1)},r.default.createElement("div",{className:`rounded-[2rem] w-full max-w-lg border shadow-2xl relative overflow-hidden transition-colors duration-300 ${f?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`,onClick:x=>x.stopPropagation()},r.default.createElement("button",{onClick:()=>qn(!1),className:`absolute top-6 right-6 p-2 rounded-full transition z-10 ${f?"bg-slate-900 text-slate-400 hover:text-white":"bg-slate-100 text-slate-400 hover:text-slate-900"}`},r.default.createElement(It,{className:"w-5 h-5"})),r.default.createElement("div",{className:`p-8 border-b transition-colors duration-300 ${f?"border-slate-800":"border-slate-100"}`},r.default.createElement("h3",{className:`text-2xl font-black flex items-center gap-3 transition-colors duration-300 ${f?"text-white":"text-slate-900"}`},r.default.createElement(uo,{className:"w-6 h-6 text-green-400"})," Registrar Venta Manual"),r.default.createElement("p",{className:`text-sm mt-1 transition-colors duration-300 ${f?"text-slate-500":"text-slate-400"}`},"Para ventas fuera de la plataforma web.")),r.default.createElement("form",{onSubmit:async x=>{if(x.preventDefault(),!u)return M("Selecciona un producto.","warning");if(ve.quantity<=0)return M("Cantidad invlida.","warning");try{let k=Number(u.stock)||0;if(ve.quantity>k)return M(`Stock insuficiente (Disponible: ${k}).`,"error");let U=`man-${Date.now().toString().slice(-6)}`,L=ve.quantity*ve.price,G=new Date().toISOString(),V={orderId:U,userId:"manual_admin",customerId:"manual_admin",customer:{name:ve.customerName||"Cliente Mostrador",email:"offline@store.com",phone:"-",dni:"-"},items:[{productId:u.id,title:u.name,quantity:Number(ve.quantity),unit_price:Number(ve.price),image:u.image}],subtotal:L,discount:0,total:L,status:"Realizado",date:G,shippingAddress:"Entrega Presencial (Offline)",paymentMethod:ve.paymentMethod,source:"manual_sale",notes:ve.notes,lastUpdate:G};await tr(tt(se,"artifacts",w,"public","data","orders"),V),await nt(me(se,"artifacts",w,"public","data","products",u.id),{stock:Qs(-Number(ve.quantity))}),yn||eu(),M("Venta registrada correctamente.","success"),qn(!1)}catch(k){console.error(k),M("Error al registrar venta manual.","error")}},className:"p-8 space-y-4"},r.default.createElement("div",null,r.default.createElement("label",{className:`text-xs font-bold uppercase tracking-widest block mb-1 transition-colors duration-300 ${f?"text-slate-500":"text-slate-400"}`},"Producto"),r.default.createElement("select",{className:`w-full rounded-xl p-3 focus:border-green-500 outline-none transition-all duration-300 ${f?"bg-slate-900 border border-slate-700 text-white":"bg-slate-50 border border-slate-200 text-slate-900"}`,value:ve.productId,onChange:g},r.default.createElement("option",{value:""},"-- Seleccionar Producto --"),le.map(x=>r.default.createElement("option",{key:x.id,value:x.id},x.name," (Stock: ",x.stock,")")))),r.default.createElement("div",{className:"grid grid-cols-2 gap-4"},r.default.createElement("div",null,r.default.createElement("label",{className:`text-xs font-bold uppercase tracking-widest block mb-1 transition-colors duration-300 ${f?"text-slate-500":"text-slate-400"}`},"Cantidad"),r.default.createElement("input",{type:"number",min:"1",className:`w-full rounded-xl p-3 focus:border-green-500 outline-none transition-all duration-300 ${f?"bg-slate-900 border border-slate-700 text-white":"bg-slate-50 border border-slate-200 text-slate-900"}`,value:ve.quantity,onChange:x=>cr({...ve,quantity:Number(x.target.value)})})),r.default.createElement("div",null,r.default.createElement("label",{className:`text-xs font-bold uppercase tracking-widest block mb-1 transition-colors duration-300 ${f?"text-slate-500":"text-slate-400"}`},"Precio Unit. ($)"),r.default.createElement("input",{type:"number",min:"0",className:`w-full rounded-xl p-3 focus:border-green-500 outline-none transition-all duration-300 ${f?"bg-slate-900 border border-slate-700 text-white":"bg-slate-50 border border-slate-200 text-slate-900"}`,value:ve.price,onChange:x=>cr({...ve,price:Number(x.target.value)})}))),r.default.createElement("div",null,r.default.createElement("label",{className:`text-xs font-bold uppercase tracking-widest block mb-1 transition-colors duration-300 ${f?"text-slate-500":"text-slate-400"}`},"Cliente / Notas"),r.default.createElement("input",{className:`w-full rounded-xl p-3 focus:border-green-500 outline-none transition-all duration-300 ${f?"bg-slate-900 border border-slate-700 text-white":"bg-slate-50 border border-slate-200 text-slate-900"}`,value:ve.customerName,onChange:x=>cr({...ve,customerName:x.target.value})})),r.default.createElement("div",null,r.default.createElement("label",{className:`text-xs font-bold uppercase tracking-widest block mb-1 transition-colors duration-300 ${f?"text-slate-500":"text-slate-400"}`},"Mtodo de Pago"),r.default.createElement("select",{className:`w-full rounded-xl p-3 focus:border-green-500 outline-none transition-all duration-300 ${f?"bg-slate-900 border border-slate-700 text-white":"bg-slate-50 border border-slate-200 text-slate-900"}`,value:ve.paymentMethod,onChange:x=>cr({...ve,paymentMethod:x.target.value})},r.default.createElement("option",{value:"Efectivo"},"Efectivo"),r.default.createElement("option",{value:"Transferencia"},"Transferencia"),r.default.createElement("option",{value:"Tarjeta"},"Tarjeta (POS)"))),r.default.createElement("button",{type:"submit",className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-4 rounded-xl shadow-lg shadow-green-900/20 transition transform hover:-translate-y-1 mt-4"},"REGISTRAR VENTA"))))},sT=()=>{let[u,g]=(0,r.useState)("monthly");if(!ei)return null;let y=Ie.analytics[u]||[],x=ei.type==="revenue"?"Ingresos Brutos":"Beneficio Neto",k=ei.type==="revenue"?"text-green-400":"text-orange-400",U=[...y].sort((V,J)=>J.revenue-V.revenue),L=U[0],G=U[U.length-1];return r.default.createElement("div",{className:"fixed inset-0 z-[160] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-fade-up",onClick:()=>ma(null)},r.default.createElement("div",{className:`rounded-[2.5rem] w-full max-w-4xl max-h-[90vh] flex flex-col border shadow-2xl relative overflow-hidden transition-colors duration-300 ${f?"bg-[#050505] border-slate-800":"bg-white border-slate-200"}`,onClick:V=>V.stopPropagation()},r.default.createElement("div",{className:`p-8 border-b flex justify-between items-center ${f?"border-slate-800 bg-slate-900/20":"border-slate-100 bg-slate-50/50"}`},r.default.createElement("div",null,r.default.createElement("h3",{className:`text-3xl font-black ${k} flex items-center gap-3`},r.default.createElement(hy,{className:"w-8 h-8"})," ",x," - Analtica"),r.default.createElement("p",{className:"text-slate-500 text-sm mt-1"},"Desglose detallado de tu rendimiento.")),r.default.createElement("button",{onClick:()=>ma(null),className:`p-3 rounded-full transition border ${f?"bg-slate-900 text-slate-400 hover:text-white border-slate-700":"bg-slate-100 text-slate-500 hover:text-slate-900 border-slate-200"}`},r.default.createElement(It,{className:"w-5 h-5"}))),r.default.createElement("div",{className:`p-6 flex gap-4 border-b justify-center ${f?"bg-slate-900/10 border-slate-800/50":"bg-slate-50/50 border-slate-100"}`},["daily","monthly","yearly"].map(V=>r.default.createElement("button",{key:V,onClick:()=>g(V),className:`px-6 py-2 rounded-full text-xs font-black uppercase tracking-widest transition ${u===V?f?"bg-slate-100 text-black":"bg-slate-900 text-white":f?"bg-slate-900 text-slate-500 hover:text-white border border-slate-800":"bg-white text-slate-400 hover:text-slate-600 border border-slate-200"}`},V==="daily"?"Diario":V==="monthly"?"Mensual":"Anual"))),r.default.createElement("div",{className:`grid grid-cols-2 gap-4 p-6 ${f?"bg-slate-900/5":"bg-slate-50/30"}`},r.default.createElement("div",{className:`border p-4 rounded-2xl flex items-center gap-4 ${f?"bg-green-900/10 border-green-500/20":"bg-green-50 border-green-100"}`},r.default.createElement("div",{className:`p-3 rounded-xl ${f?"bg-green-500/20 text-green-400":"bg-green-100 text-green-600"}`},r.default.createElement(yd,{className:"w-6 h-6"})),r.default.createElement("div",null,r.default.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Mejor Periodo"),r.default.createElement("p",{className:`${f?"text-green-400":"text-green-600"} font-black text-lg`},L?`$${L.revenue.toLocaleString()}`:"-"),r.default.createElement("p",{className:"text-[10px] text-slate-500 font-mono"},L?.date||"-"))),r.default.createElement("div",{className:`border p-4 rounded-2xl flex items-center gap-4 ${f?"bg-red-900/10 border-red-500/20":"bg-red-50 border-red-100"}`},r.default.createElement("div",{className:`p-3 rounded-xl ${f?"bg-red-500/20 text-red-400":"bg-red-100 text-red-600"}`},r.default.createElement(xd,{className:"w-6 h-6"})),r.default.createElement("div",null,r.default.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Peor Periodo"),r.default.createElement("p",{className:`${f?"text-red-400":"text-red-600"} font-black text-lg`},G?`$${G.revenue.toLocaleString()}`:"-"),r.default.createElement("p",{className:"text-[10px] text-slate-500 font-mono"},G?.date||"-")))),r.default.createElement("div",{className:"flex-1 p-6 relative flex items-end justify-between gap-2 overflow-x-auto custom-scrollbar"},y.length===0?r.default.createElement("div",{className:`w-full text-center my-auto transition-colors duration-300 ${f?"text-slate-500":"text-slate-400"}`},"No hay datos para mostrar el grfico."):(()=>{let V=Math.max(...y.map(J=>J.revenue),1);return y.slice().map((J,Y)=>{let ie=J.revenue/V*100;return r.default.createElement("div",{key:Y,className:`flex flex-col items-center justify-end h-full gap-2 group min-w-[60px] cursor-pointer rounded-xl p-1 transition-all ${f?"hover:bg-slate-900/30":"hover:bg-slate-100"}`},r.default.createElement("div",{className:`opacity-0 group-hover:opacity-100 absolute bottom-full mb-2 border px-3 py-2 rounded-xl pointer-events-none transition z-50 shadow-xl max-w-[min(240px,70vw)] whitespace-normal break-words ${f?"bg-slate-900 border-slate-700":"bg-white border-slate-200"}`},r.default.createElement("p",{className:`font-bold ${f?"text-white":"text-slate-900"}`},J.date),r.default.createElement("p",{className:`font-black ${k}`},"$",J.revenue.toLocaleString()),r.default.createElement("p",{className:`text-[10px] ${f?"text-slate-500":"text-slate-400"}`},J.orders," Pedidos")),r.default.createElement("div",{className:`w-4 bg-gradient-to-t rounded-t-full relative transition-all duration-500 group-hover:w-6 group-hover:brightness-125 ${ei.type==="revenue"?f?"from-green-900/50 to-green-500":"from-green-200 to-green-600":f?"from-orange-900/50 to-orange-500":"from-orange-200 to-orange-600"}`,style:{height:`${Math.max(ie,5)}%`}},r.default.createElement("div",{className:`absolute top-0 left-0 right-0 h-4 rounded-full blur-md opacity-20 ${ei.type==="revenue"?"bg-green-400":"bg-orange-400"}`})),r.default.createElement("p",{className:`text-[10px] font-bold -rotate-45 group-hover:rotate-0 transition origin-center mt-2 truncate w-full text-center ${f?"text-slate-600 group-hover:text-white":"text-slate-400 group-hover:text-slate-900"}`},u==="monthly"||u==="daily"?J.date.slice(5):J.date))})})())))},iT=({cartItems:u,isLoading:g})=>{let y=(0,r.useMemo)(()=>si(u),[u,si]);return g?r.default.createElement("div",{className:"py-20 flex flex-col items-center gap-4 opacity-50"},r.default.createElement(ui,{className:"w-8 h-8 animate-spin text-orange-400"}),r.default.createElement("p",{className:`text-xs font-black tracking-widest transition-colors duration-300 ${f?"text-slate-500":"text-slate-400"}`},"SINCRONIZANDO DATOS...")):y.length===0?r.default.createElement("div",{className:"py-20 text-center flex flex-col items-center gap-6"},r.default.createElement("div",{className:`p-6 rounded-full border transition-colors duration-300 ${f?"bg-white/5 border-white/5":"bg-slate-100 border-slate-200"}`},r.default.createElement(ao,{className:`w-12 h-12 transition-colors duration-300 ${f?"text-slate-700":"text-slate-300"}`})),r.default.createElement("p",{className:`text-sm font-black uppercase tracking-widest italic transition-colors duration-300 ${f?"text-slate-500":"text-slate-400"}`},"No hay productos activos")):r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"flex justify-between items-center px-2"},r.default.createElement("p",{className:`text-[10px] font-black uppercase tracking-widest transition-colors duration-300 ${f?"text-slate-500":"text-slate-400"}`},"Contenido del Carrito"),r.default.createElement("p",{className:"text-xs font-bold text-orange-400 bg-orange-400/10 px-3 py-1 rounded-full"},y.length," ITEMS")),r.default.createElement("div",{className:"space-y-3"},y.map((x,k)=>r.default.createElement("div",{key:k,className:`border p-4 rounded-2xl flex gap-4 transition group animate-fade-up transition-colors duration-300 ${f?"bg-white/[0.03] border-white/10 hover:bg-white/[0.05] hover:border-orange-500/20":"bg-slate-50 border-slate-100 hover:bg-slate-100 hover:border-orange-200"}`,style:{animationDelay:`${k*.05}s`}},r.default.createElement("div",{className:`w-16 h-16 rounded-xl overflow-hidden shadow-inner border flex-shrink-0 transition-colors duration-300 ${f?"bg-[#0a0a0a] border-white/5":"bg-white border-slate-200"}`},x.image?r.default.createElement("img",{src:x.image,alt:x.name||"Producto",className:"w-full h-full object-contain group-hover:scale-110 transition-transform duration-500"}):r.default.createElement("div",{className:"w-full h-full flex items-center justify-center"},r.default.createElement(mr,{className:`w-7 h-7 ${f?"text-slate-600":"text-slate-400"}`}))),r.default.createElement("div",{className:"flex-1 flex flex-col justify-center"},r.default.createElement("p",{className:`font-bold text-sm leading-tight mb-1 transition-colors duration-300 ${f?"text-white":"text-slate-900"}`},x.name||"Producto"),r.default.createElement("div",{className:"flex justify-between items-center"},r.default.createElement("p",{className:"text-xs transition-colors duration-300 text-slate-500"},"Cant: ",r.default.createElement("span",{className:`font-mono font-bold transition-colors duration-300 ${f?"text-white":"text-slate-900"}`},x.quantity)),r.default.createElement("p",{className:"text-orange-400 font-black font-mono text-xs"},"$",Number(x.price).toLocaleString())))))),r.default.createElement("div",{className:`pt-6 border-t transition-colors duration-300 ${f?"border-white/5":"border-slate-100"}`},r.default.createElement("div",{className:`flex justify-between items-center p-6 rounded-2xl border transition-colors duration-300 ${f?"bg-orange-500/5 border-orange-500/20":"bg-orange-50 border-orange-100"}`},r.default.createElement("p",{className:`font-bold transition-colors duration-300 ${f?"text-slate-400":"text-slate-500"}`},"Valor Total"),r.default.createElement("p",{className:`text-2xl font-black font-mono transition-colors duration-300 ${f?"text-white":"text-slate-900"}`},"$",y.reduce((x,k)=>x+Number(k.price)*k.quantity,0).toLocaleString()))))},oT=({user:u,currentUser:g,initialData:y,onSubmit:x,onDelete:k,isSaving:U})=>{let[L,G]=(0,r.useState)(y),V=!!(Ge&&u.email&&u.email.trim().toLowerCase()===Ge.trim().toLowerCase());return(0,r.useEffect)(()=>{G(y)},[y]),r.default.createElement("form",{onSubmit:Y=>{Y.preventDefault(),x(L)},className:"space-y-8 animate-fade-in"},r.default.createElement("div",{className:"space-y-6"},r.default.createElement("p",{className:`text-[10px] font-black uppercase tracking-widest flex items-center gap-2 transition-colors duration-300 ${f?"text-slate-500":"text-slate-400"}`},r.default.createElement(Hr,{className:"w-3 h-3"})," Datos Identidad"),r.default.createElement("div",{className:"grid grid-cols-1 gap-6"},r.default.createElement("div",null,r.default.createElement("input",{className:`w-full p-4 text-sm transition-all duration-300 ${f?"input-cyber":"bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 text-slate-900 placeholder:text-slate-400"}`,placeholder:"Nombre Completo",value:L.name,onChange:Y=>G({...L,name:Y.target.value}),required:!0})),r.default.createElement("div",null,r.default.createElement("input",{className:`w-full p-4 text-sm font-mono transition-all duration-300 ${f?"input-cyber":"bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 text-slate-900 placeholder:text-slate-400"}`,placeholder:"Username / Alias",value:L.username,onChange:Y=>G({...L,username:Y.target.value})})),r.default.createElement("div",null,r.default.createElement("input",{className:`w-full p-4 text-sm font-mono transition-all duration-300 ${f?"input-cyber":"bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 text-slate-900 placeholder:text-slate-400"} ${V?"opacity-50 cursor-not-allowed":""}`,placeholder:"Email de la cuenta (Principal)",value:L.email,onChange:Y=>G({...L,email:Y.target.value}),required:!0,disabled:V,title:V?"No se puede modificar el email del Super Admin":""})),r.default.createElement("div",{className:"grid grid-cols-2 gap-4"},r.default.createElement("input",{className:`w-full p-4 text-sm font-mono transition-all duration-300 ${f?"input-cyber":"bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 text-slate-900 placeholder:text-slate-400"}`,placeholder:"DNI",value:L.dni,onChange:Y=>G({...L,dni:Y.target.value})}),r.default.createElement("input",{className:`w-full p-4 text-sm font-mono transition-all duration-300 ${f?"input-cyber":"bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 text-slate-900 placeholder:text-slate-400"}`,placeholder:"Telfono",value:L.phone,onChange:Y=>G({...L,phone:Y.target.value})})))),r.default.createElement("div",{className:"space-y-6 pt-4"},r.default.createElement("p",{className:`text-[10px] font-black uppercase tracking-widest flex items-center gap-2 transition-colors duration-300 ${f?"text-slate-500":"text-slate-400"}`},r.default.createElement(pr,{className:"w-3 h-3"})," Seguridad & Rol"),r.default.createElement("div",{className:"space-y-4"},r.default.createElement("div",{className:`flex p-1.5 rounded-2xl border transition-all duration-300 ${f?"bg-slate-900/50 border-white/5":"bg-slate-100 border-slate-200"} ${V?"opacity-50 pointer-events-none":""}`},["user","editor","admin"].map(Y=>r.default.createElement("button",{key:Y,type:"button",onClick:()=>G({...L,role:Y}),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${L.role===Y?f?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20":"bg-white text-indigo-600 shadow-sm":f?"text-slate-500 hover:text-slate-300":"text-slate-400 hover:text-slate-600"}`},Y))),V&&r.default.createElement("p",{className:"text-[9px] text-orange-400 mt-1 ml-1"},"Rol de Super Admin inmutable."))),r.default.createElement("div",{className:"space-y-4 pt-6"},r.default.createElement("button",{type:"submit",disabled:U,className:"w-full py-5 bg-gradient-to-r from-indigo-600 to-orange-600 hover:from-indigo-500 hover:to-orange-500 text-white font-black rounded-2xl shadow-xl transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50"},U?r.default.createElement(ui,{className:"w-6 h-6 animate-spin"}):r.default.createElement(di,{className:"w-6 h-6"}),"SINCRONIZAR CAMBIOS"),!V&&r.default.createElement("button",{type:"button",onClick:k,className:"w-full py-4 border border-red-500/30 bg-red-500/5 text-red-500 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-red-500/10 transition flex items-center justify-center gap-2"},r.default.createElement(ht,{className:"w-4 h-4"})," Eliminar Cuenta Permanente")))},aT=()=>{let[u,g]=(0,r.useState)([]),[y,x]=(0,r.useState)(!1),[k,U]=(0,r.useState)(!1),L=fa||ga||va,G=fa?"cart":ga?"password":"edit",V=fa||ga||va,[J,Y]=(0,r.useState)({name:"",username:"",email:"",phone:"",dni:"",role:"user",newPassword:""});(0,r.useEffect)(()=>{L&&V&&(G==="cart"&&(async()=>{x(!0);try{let Pe=await Ks(me(se,"artifacts",w,"public","data","carts",V.id)),Se=Pe.exists()?Pe.data().items||[]:[];g(si(Se))}catch{g([])}x(!1)})(),Y({name:V.name||"",username:V.username||"",email:V.email||"",phone:V.phone||"",dni:V.dni||"",role:V.role||"user",newPassword:""}))},[L,V,G]);let ie=()=>{ti(null),Yl(null),ba(null)},oe=async ge=>{U(!0);try{if(!Ke.currentUser||Ke.currentUser.isAnonymous)throw new Error("Sesin invlida");let Pe=await Ke.currentUser.getIdToken(),Se={};if(ge.email!==V.email&&(Se.email=ge.email),ge.newPassword&&(Se.password=ge.newPassword),Object.keys(Se).length>0){let Gt=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":w||"",Authorization:`Bearer ${Pe}`},body:JSON.stringify({action:"update",uid:V.id,...Se})}),Br=await Gt.json();if(!Gt.ok)throw new Error(Br.error)}let dn={name:ge.name,username:ge.username,email:ge.email,emailLower:ge.email.toLowerCase(),phone:ge.phone,dni:ge.dni,role:ge.role,lastModifiedBy:K.email,updatedAt:new Date().toISOString()};await nt(me(se,"artifacts",w,"public","data","users",V.id),dn),K&&K.id===V.id&&mt(Gt=>({...Gt,...dn})),M("Perfil de usuario actualizado correctamente.","success"),ie()}catch(Pe){console.error(Pe),M(Pe.message||"Error al actualizar perfil.","error")}U(!1)},de=async()=>{if(V.email===K.email)return M("Autoproteccin activa: No puedes eliminar tu propia cuenta.","warning");qt("ELIMINAR USUARIO",`Ests seguro de eliminar a ${V.name}? Esta accin es irreversible y borrar su acceso y datos.`,async()=>{U(!0);try{if(!Ke.currentUser||Ke.currentUser.isAnonymous)throw new Error("Sesin invlida");let ge=await Ke.currentUser.getIdToken();if(!(await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":w||"",Authorization:`Bearer ${ge}`},body:JSON.stringify({action:"delete",uid:V.id})})).ok)throw new Error("Error eliminando acceso de Auth");await Ar(me(se,"artifacts",w,"public","data","users",V.id)),M("Usuario eliminado definitivamente.","success"),ie()}catch(ge){console.error(ge),M("Fallo al eliminar usuario.","error")}U(!1)})};return L?r.default.createElement("div",{className:"fixed inset-0 z-[1000] flex justify-end animate-fade-in pointer-events-none"},r.default.createElement("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm pointer-events-auto",onClick:ie}),r.default.createElement("div",{className:`w-full max-w-xl border-l shadow-[-20px_0_50px_rgba(0,0,0,0.5)] flex flex-col h-full pointer-events-auto relative overflow-hidden animate-slide-left transition-colors duration-300 ${f?"bg-[#0a0a0a] border-white/10":"bg-white border-slate-200"}`},r.default.createElement("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-purple-600 via-orange-500 to-pink-600"}),r.default.createElement("div",{className:`p-8 border-b flex justify-between items-center transition-colors duration-300 ${f?"border-white/5 bg-white/[0.02]":"border-slate-100 bg-slate-50/50"}`},r.default.createElement("div",null,r.default.createElement("h2",{className:`text-xl font-black tracking-widest uppercase transition-colors duration-300 ${f?"text-white":"text-slate-900"}`},G==="cart"?"Auditora de Carrito":"Configurar Cuenta"),r.default.createElement("p",{className:`text-[10px] font-bold mt-1 tracking-widest flex items-center gap-2 transition-colors duration-300 ${f?"text-slate-500":"text-slate-400"}`},r.default.createElement("span",{className:"w-1.5 h-1.5 rounded-full bg-orange-400 animate-pulse"}),"ID: ",V.id.slice(-8).toUpperCase(),"  ",V.email)),r.default.createElement("button",{onClick:ie,className:`p-3 rounded-2xl transition-all border group ${f?"bg-white/5 hover:bg-white/10 border-white/5":"bg-slate-100 hover:bg-slate-200 border-slate-200"}`},r.default.createElement(It,{className:`w-5 h-5 transition-colors duration-300 ${f?"text-slate-400 group-hover:text-white":"text-slate-500 group-hover:text-slate-900"}`}))),r.default.createElement("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar space-y-8"},G==="cart"&&r.default.createElement(iT,{cartItems:u,isLoading:y}),(G==="edit"||G==="password")&&r.default.createElement(oT,{user:V,currentUser:K,initialData:J,onSubmit:oe,onDelete:de,isSaving:k})))):null};if(Ys&&t==="store"){let u=p?.primaryColor||"#f97316";return r.default.createElement("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#050505] text-white px-4"},r.default.createElement("div",{className:"relative"},r.default.createElement("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-full border-4 border-slate-800 animate-spin",style:{borderTopColor:u}}),r.default.createElement("div",{className:"absolute inset-0 flex items-center justify-center"},r.default.createElement(Wn,{className:"w-6 h-6 sm:w-8 sm:h-8 animate-pulse",style:{color:u}}))),r.default.createElement("h1",{className:"text-xl sm:text-2xl md:text-3xl font-black tracking-[0.1em] sm:tracking-[0.2em] md:tracking-[0.3em] mt-6 sm:mt-8 animate-pulse text-center max-w-[90vw]",style:{color:u,textShadow:`0 0 20px ${u}40`}},p?.loadingTitle||p?.storeName||""),r.default.createElement("p",{className:"text-slate-500 text-xs sm:text-sm mt-3 sm:mt-4 font-mono uppercase tracking-wider sm:tracking-widest text-center"},p?.loadingText||"Cargando sistema..."))}if(p?.maintenanceMode&&!$t(K?.email))return r.default.createElement("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#050505] text-white p-4 sm:p-6 text-center"},r.default.createElement("div",{className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 bg-red-900/20 text-red-500 rounded-full flex items-center justify-center mb-6 sm:mb-8 border border-red-900/50 animate-pulse"},r.default.createElement(mi,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12"})),r.default.createElement("h1",{className:"text-xl sm:text-2xl md:text-4xl font-black mb-3 sm:mb-4 tracking-tight uppercase"},"Sistema en Mantenimiento"),r.default.createElement("p",{className:"text-slate-400 max-w-sm sm:max-w-md mx-auto leading-relaxed text-sm sm:text-base"},"Estamos realizando mejoras para brindarte una experiencia premium. Te mandamos un saludo y esperamos que vuelvas prontamente!"),r.default.createElement("div",{className:"mt-8 sm:mt-12 pt-8 sm:pt-12 border-t border-slate-900 w-full max-w-xs"},r.default.createElement("p",{className:"text-[10px] sm:text-xs text-slate-600 font-mono italic"},p?.storeName||""," - Modo Mantenimiento Activo")));let jm=le.filter(u=>{if(u.isActive===!1)return!1;let g=(u.name||"").toLowerCase().includes(Xi.toLowerCase());if(kt==="Promos")return!1;if(kt==="Ofertas")return g&&u.discount>0;let y=kt===""?!0:Array.isArray(u.categories)?u.categories.includes(kt):u.category?u.category.trim()===kt:!1;return g&&y}).sort((u,g)=>{if(u.isFeatured&&!g.isFeatured)return-1;if(!u.isFeatured&&g.isFeatured)return 1;let y=Ie?.salesCount?.[u.id]||0;return(Ie?.salesCount?.[g.id]||0)-y});return r.default.createElement("div",{className:`min-h-screen flex flex-col relative w-full bg-grid font-sans selection:bg-orange-500/30 selection:text-orange-200 transition-colors duration-300 ${f?"bg-[#050505]":"bg-slate-50"}`},t==="store"&&K?.role==="admin"&&r.default.createElement("div",{className:"fixed bottom-4 left-4 z-[9999] bg-black/80 text-green-400 font-mono text-xs p-2 rounded border border-green-900 pointer-events-none"},"[DEBUG] Total: ",le.length," | Filtro: ",jm.length," | Cat: ",kt||"ALL"),r.default.createElement("div",{className:"fixed inset-0 pointer-events-none z-0"},r.default.createElement("div",{className:"absolute top-[-10%] left-[-10%] w-[60%] h-[60%] bg-purple-900/5 rounded-full blur-[150px] animate-pulse-slow"}),r.default.createElement("div",{className:"absolute bottom-[-10%] right-[-10%] w-[60%] h-[60%] bg-orange-900/5 rounded-full blur-[150px] animate-pulse-slow"})),r.default.createElement("div",{className:"fixed top-24 right-4 z-[20001] space-y-3 pointer-events-none"},r.default.createElement("div",{className:"pointer-events-auto space-y-3"},Or.map(u=>r.default.createElement(J4,{key:u.id,message:u.message,type:u.type,onClose:()=>At(u.id)})))),q.status!=="resolved"&&r.default.createElement("div",{className:"fixed inset-0 z-[10000] bg-black/80 backdrop-blur-xl flex items-center justify-center p-4"},r.default.createElement("div",{className:"w-full max-w-xl rounded-3xl border border-white/10 bg-[#050505] p-8 shadow-2xl"},q.status==="resolving"?r.default.createElement("div",{className:"flex items-center gap-4"},r.default.createElement(ui,{className:"w-7 h-7 animate-spin text-orange-500"}),r.default.createElement("div",null,r.default.createElement("p",{className:"text-white font-black text-xl tracking-tight"},"Detectando tienda"),r.default.createElement("p",{className:"text-slate-500 text-sm font-mono"},q.normalizedHostname||q.hostname))):r.default.createElement("div",{className:"space-y-6"},r.default.createElement("div",{className:"space-y-2"},r.default.createElement("p",{className:"text-white font-black text-2xl tracking-tight"},"Tienda no configurada"),r.default.createElement("p",{className:"text-slate-500 text-sm font-mono"},"Dominio: ",q.normalizedHostname||q.hostname)),!Be||Be.isAnonymous?r.default.createElement("div",{className:"space-y-4"},r.default.createElement("p",{className:"text-slate-400 text-sm"},"Inici sesin para configurar este dominio."),r.default.createElement("button",{onClick:()=>e("login"),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-orange-600 to-purple-600 text-white font-black uppercase tracking-widest text-xs hover:from-orange-500 hover:to-purple-500 transition"},"Iniciar sesin")):IS?r.default.createElement("div",{className:"space-y-5"},r.default.createElement("div",{className:"space-y-3"},r.default.createElement("p",{className:"text-slate-300 text-sm"},"Eleg cmo quers vincular este dominio:"),r.default.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3"},r.default.createElement("button",{disabled:I,onClick:async()=>{T(!0);try{let u=TS();await Vm(u),M(`Dominio vinculado a ${u}`,"success")}catch(u){M(u?.message||"No se pudo crear la tienda","error")}T(!1)},className:"py-4 rounded-2xl bg-white/5 border border-white/10 text-white font-black text-[10px] uppercase tracking-widest hover:bg-white/10 transition disabled:opacity-50"},"Crear tienda nueva"),r.default.createElement("button",{disabled:I,onClick:async()=>{T(!0);try{await Vm(Xx),M(`Dominio vinculado a ${Xx}`,"success")}catch(u){M(u?.message||"No se pudo vincular","error")}T(!1)},className:"py-4 rounded-2xl bg-orange-500/10 border border-orange-500/20 text-orange-400 font-black text-[10px] uppercase tracking-widest hover:bg-orange-500/20 transition disabled:opacity-50"},"Usar tienda default"))),r.default.createElement("div",{className:"space-y-3"},r.default.createElement("p",{className:"text-slate-500 text-xs font-mono"},"O peg un storeId existente:"),r.default.createElement("div",{className:"flex gap-2"},r.default.createElement("input",{value:ee,onChange:u=>A(u.target.value),className:"input-cyber flex-1 p-4 text-sm font-mono",placeholder:"storeId (ej: cliente-abc123)"}),r.default.createElement("button",{disabled:I||!ee.trim(),onClick:async()=>{T(!0);try{await Vm(ee.trim()),M("Dominio vinculado","success")}catch(u){M(u?.message||"No se pudo vincular","error")}T(!1)},className:"px-5 rounded-2xl bg-indigo-600 text-white font-black text-[10px] uppercase tracking-widest hover:bg-indigo-500 transition disabled:opacity-50"},"Vincular")))):r.default.createElement("div",{className:"space-y-3"},r.default.createElement("p",{className:"text-slate-400 text-sm"},"Este dominio solo puede registrarlo el Super Admin."),r.default.createElement("p",{className:"text-slate-600 text-xs font-mono"},"Sesin: ",Be?.email||Be?.uid))))),r.default.createElement(eT,{order:Xe,onClose:()=>rd(null)}),r.default.createElement(tT,null),r.default.createElement(nT,null),t!=="admin"&&r.default.createElement("nav",{className:`fixed top-0 w-full h-14 sm:h-16 md:h-20 z-50 px-2 sm:px-4 md:px-8 lg:px-12 flex items-center justify-between backdrop-blur-xl transition-all duration-300 premium-nav ${f?"bg-[#05070b]/88 border-b border-slate-800/70":"bg-white/92 border-b border-slate-200/90 shadow-[0_8px_28px_rgba(15,23,42,0.08)]"}`},r.default.createElement("div",{className:"flex items-center gap-2 sm:gap-6"},r.default.createElement("button",{onClick:()=>S(!0),className:`p-2 sm:p-3 rounded-lg sm:rounded-xl transition border group ${f?"bg-slate-900/50 text-slate-300 hover:text-white hover:bg-slate-800 border-slate-700/50":"bg-slate-100 text-slate-600 hover:text-slate-900 hover:bg-slate-200 border-slate-200"}`},r.default.createElement(sf,{className:"w-5 h-5 sm:w-6 sm:h-6 group-hover:scale-110 transition"})),r.default.createElement("div",{className:"cursor-pointer group flex items-center gap-2 sm:gap-3",onClick:()=>e("store")},p?.logoUrl&&r.default.createElement("div",{className:`w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 rounded-full overflow-hidden border-2 bg-white p-0.5 flex-shrink-0 shadow-lg group-hover:border-orange-500 transition-colors duration-300 ${f?"border-slate-800":"border-slate-200"}`},r.default.createElement("img",{src:p.logoUrl,alt:"Logo",className:"w-full h-full object-cover rounded-full"})),r.default.createElement("div",{className:"flex flex-col"},r.default.createElement("span",{className:`text-xl sm:text-2xl md:text-3xl font-black tracking-tight group-hover:text-orange-500 transition-all duration-300 leading-none ${f?"text-white":"text-slate-900"}`},Bt?p?.storeName||"":r.default.createElement("span",{className:`inline-block h-6 sm:h-8 w-20 sm:w-32 rounded animate-pulse ${f?"bg-slate-700/50":"bg-slate-200"}`})),r.default.createElement("div",{className:"h-0.5 sm:h-1 w-1/3 bg-orange-500 rounded-full group-hover:w-2/3 transition-all duration-500 mt-0.5 sm:mt-1 shadow-sm"})))),r.default.createElement("div",{className:`hidden lg:flex items-center rounded-2xl px-6 py-3 w-1/3 transition group premium-nav-search ${f?"bg-slate-900/60 border border-slate-700/60 focus-within:border-orange-500/40":"bg-slate-100/90 border border-slate-200 focus-within:border-orange-400 focus-within:bg-white focus-within:shadow-md"}`},r.default.createElement(bd,{className:`w-5 h-5 mr-3 group-focus-within:text-orange-500 transition ${f?"text-slate-400":"text-slate-500"}`}),r.default.createElement("input",{className:`bg-transparent outline-none text-sm w-full font-medium ${f?"text-white placeholder-slate-500":"text-slate-900 placeholder-slate-400"}`,placeholder:"Qu ests buscando hoy?",value:Xi,onChange:u=>Vl(u.target.value)})),r.default.createElement("div",{className:"flex items-center gap-2 sm:gap-4"},r.default.createElement("div",{className:"hidden md:flex items-center gap-2"},p?.showWhatsapp!==!1&&p?.whatsappLink&&r.default.createElement("button",{onClick:()=>window.open(p?.whatsappLink,"_blank"),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-green-900/10 text-green-400 hover:bg-green-500 hover:text-white border border-green-500/20 transition font-bold text-sm"},r.default.createElement(ci,{className:"w-5 h-5"})," WhatsApp"),p?.showInstagram!==!1&&p?.instagramLink&&r.default.createElement("button",{onClick:()=>window.open(p?.instagramLink,"_blank"),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-pink-900/10 text-pink-400 hover:bg-pink-500 hover:text-white border border-pink-500/20 transition font-bold text-sm"},r.default.createElement(ou,{className:"w-5 h-5"})," Instagram")),r.default.createElement("button",{onClick:()=>P(!f),className:`relative p-2 sm:p-2.5 rounded-lg sm:rounded-xl transition group overflow-hidden border ${f?"bg-slate-900/50 text-yellow-400 hover:bg-slate-800 border-slate-700/50":"bg-yellow-50 text-yellow-600 hover:bg-yellow-100 border-yellow-200"}`,title:f?"Activar modo claro":"Activar modo oscuro"},r.default.createElement("div",{className:`transform transition-all duration-500 ${f?"rotate-0 scale-100":"rotate-180 scale-0 absolute"}`},r.default.createElement(Ey,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:scale-110 transition"})),r.default.createElement("div",{className:`transform transition-all duration-500 ${f?"-rotate-180 scale-0 absolute":"rotate-0 scale-100"}`},r.default.createElement(Sy,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:scale-110 transition"}))),r.default.createElement("button",{onClick:()=>e("cart"),className:`relative p-2 sm:p-2.5 rounded-lg sm:rounded-xl transition group border ${f?"bg-slate-900/50 text-slate-300 hover:text-white hover:bg-slate-800 border-slate-700/50 hover:border-orange-500/30":"bg-slate-100 text-slate-600 hover:text-slate-900 hover:bg-slate-200 border-slate-200 hover:border-orange-400"}`},r.default.createElement(Es,{className:"w-5 h-5 sm:w-6 sm:h-6 group-hover:scale-110 transition"}),je.length>0&&r.default.createElement("span",{className:`absolute -top-1.5 -right-1.5 sm:-top-2 sm:-right-2 bg-orange-500 text-white text-[9px] sm:text-[10px] font-black w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center shadow-lg border-2 animate-bounce-short ${f?"border-[#050505]":"border-white"}`},je.length)),K&&K.id&&K.email&&K.name?r.default.createElement("button",{onClick:()=>e("profile"),className:`flex items-center gap-2 sm:gap-3 pl-2 pr-3 sm:pr-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl border transition group ${f?"bg-slate-900/50 border-slate-700/50 hover:border-orange-500/50":"bg-slate-100 border-slate-200 hover:border-orange-400"}`},r.default.createElement("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center text-white font-bold shadow-lg text-xs sm:text-sm group-hover:scale-105 transition"},K.name.charAt(0)),r.default.createElement("div",{className:"text-left hidden md:block"},r.default.createElement("p",{className:`text-[9px] sm:text-[10px] uppercase font-bold tracking-wider ${f?"text-slate-400":"text-slate-500"}`},"Hola,"),r.default.createElement("p",{className:`text-xs sm:text-sm font-bold leading-none group-hover:text-orange-500 transition ${f?"text-white":"text-slate-900"}`},K.name.split(" ")[0]))):r.default.createElement("button",{onClick:()=>e("login"),className:`px-3 sm:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl text-xs sm:text-sm font-black transition shadow-lg flex items-center gap-1 sm:gap-2 transform hover:-translate-y-0.5 ${f?"bg-white text-black hover:bg-orange-500 hover:text-white":"bg-orange-500 text-white hover:bg-orange-600"}`},r.default.createElement(Hr,{className:"w-4 h-4 sm:w-5 sm:h-5"})," ",r.default.createElement("span",{className:"hidden sm:inline"},"INGRESAR"),r.default.createElement("span",{className:"sm:hidden"},"Entrar")))),E&&r.default.createElement("div",{className:"fixed inset-0 z-[10000] flex justify-start"},r.default.createElement("div",{className:`fixed inset-0 backdrop-blur-sm transition-opacity ${f?"bg-black/90":"bg-black/50"}`,onClick:()=>S(!1)}),r.default.createElement("div",{className:`relative w-72 sm:w-80 h-full p-6 sm:p-8 animate-fade-in-right flex flex-col shadow-2xl z-[10001] ${f?"bg-[#0a0a0a] border-r border-slate-800":"bg-white border-r border-slate-200"}`},r.default.createElement("div",{className:`flex justify-between items-center mb-8 sm:mb-10 border-b pb-4 sm:pb-6 ${f?"border-slate-800":"border-slate-200"}`},r.default.createElement("h2",{className:`text-2xl sm:text-3xl font-black tracking-tight drop-shadow-md ${f?"text-white":"text-slate-900"}`},"MEN"),r.default.createElement("button",{onClick:()=>S(!1),className:`p-2 sm:p-3 rounded-full transition border ${f?"bg-slate-900 text-slate-400 hover:text-white hover:bg-slate-800 border-slate-800":"bg-slate-100 text-slate-500 hover:text-slate-900 hover:bg-slate-200 border-slate-200"}`},r.default.createElement(It,{className:"w-5 h-5 sm:w-6 sm:h-6"}))),r.default.createElement("div",{className:"space-y-2 sm:space-y-3 flex-1 overflow-y-auto custom-scrollbar pr-2"},r.default.createElement("button",{onClick:()=>{e("store"),S(!1)},className:`w-full text-left text-base sm:text-lg font-bold transition flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl group border border-transparent ${f?"text-slate-300 hover:text-orange-400 hover:bg-slate-900/50 hover:border-slate-800":"text-slate-700 hover:text-orange-500 hover:bg-slate-100 hover:border-slate-200"}`},r.default.createElement(wy,{className:`w-5 h-5 sm:w-6 sm:h-6 group-hover:text-orange-500 transition ${f?"text-slate-500":"text-slate-400"}`})," Inicio"),r.default.createElement("button",{onClick:()=>{e("profile"),S(!1)},className:`w-full text-left text-base sm:text-lg font-bold transition flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl group border border-transparent ${f?"text-slate-300 hover:text-orange-400 hover:bg-slate-900/50 hover:border-slate-800":"text-slate-700 hover:text-orange-500 hover:bg-slate-100 hover:border-slate-200"}`},r.default.createElement(Hr,{className:`w-5 h-5 sm:w-6 sm:h-6 group-hover:text-orange-500 transition ${f?"text-slate-500":"text-slate-400"}`})," Mi Perfil"),r.default.createElement("button",{onClick:()=>{e("cart"),S(!1)},className:`w-full text-left text-base sm:text-lg font-bold transition flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl group border border-transparent ${f?"text-slate-300 hover:text-orange-400 hover:bg-slate-900/50 hover:border-slate-800":"text-slate-700 hover:text-orange-500 hover:bg-slate-100 hover:border-slate-200"}`},r.default.createElement("div",{className:"relative"},r.default.createElement(Es,{className:`w-5 h-5 sm:w-6 sm:h-6 group-hover:text-orange-500 transition ${f?"text-slate-500":"text-slate-400"}`}),je.length>0&&r.default.createElement("span",{className:"absolute -top-2 -right-2 bg-orange-500 text-[10px] text-white rounded-full w-4 h-4 flex items-center justify-center font-bold"},je.length)),"Mi Carrito"),r.default.createElement("div",{className:`h-px my-3 sm:my-4 mx-4 ${f?"bg-slate-800":"bg-slate-200"}`}),r.default.createElement("button",{onClick:()=>{e("about"),S(!1)},className:`w-full text-left text-base sm:text-lg font-bold transition flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl group border border-transparent ${f?"text-slate-300 hover:text-orange-400 hover:bg-slate-900/50 hover:border-slate-800":"text-slate-700 hover:text-orange-500 hover:bg-slate-100 hover:border-slate-200"}`},r.default.createElement(_s,{className:`w-5 h-5 sm:w-6 sm:h-6 group-hover:text-orange-500 transition ${f?"text-slate-500":"text-slate-400"}`})," Sobre Nosotros"),p?.showGuideLink!==!1&&r.default.createElement("button",{onClick:()=>{e("guide"),S(!1)},className:`w-full text-left text-base sm:text-lg font-bold transition flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl group border border-transparent ${f?"text-slate-300 hover:text-orange-400 hover:bg-slate-900/50 hover:border-slate-800":"text-slate-700 hover:text-orange-500 hover:bg-slate-100 hover:border-slate-200"}`},r.default.createElement(md,{className:`w-5 h-5 sm:w-6 sm:h-6 group-hover:text-orange-500 transition ${f?"text-slate-500":"text-slate-400"}`})," ",p?.guideTitle||"Cmo Comprar"),Lm(K?.email)&&r.default.createElement("button",{onClick:()=>{e("admin"),S(!1)},className:`w-full text-left text-base sm:text-lg font-bold text-orange-500 mt-4 sm:mt-6 pt-4 sm:pt-6 flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl transition border ${f?"border-t border-slate-800 bg-orange-900/10 hover:bg-orange-900/20 border-orange-500/20":"border-t border-slate-200 bg-orange-50 hover:bg-orange-100 border-orange-200"}`},r.default.createElement(Tn,{className:"w-5 h-5 sm:w-6 sm:h-6"})," Admin Panel")),r.default.createElement("div",{className:`mt-6 sm:mt-8 pt-6 sm:pt-8 border-t text-center ${f?"border-slate-800":"border-slate-200"}`},r.default.createElement("p",{className:`text-[10px] sm:text-xs font-bold uppercase tracking-widest ${f?"text-slate-600":"text-slate-400"}`},p?.menuCopyright||p?.storeName||"")))),t!=="admin"&&r.default.createElement("div",{className:"h-14 sm:h-16 md:h-20"}),r.default.createElement("main",{className:`flex-grow relative z-10 ${t==="admin"?"min-h-screen min-full-viewport flex":"px-3 py-4 sm:px-4 sm:py-6 md:px-8 md:py-8"}`},t==="store"&&r.default.createElement("div",{className:"max-w-[1400px] mx-auto pb-32 min-h-screen block storefront-shell"},Bt&&p?.showAnnouncementBanner!==!1&&p?.announcementMessage&&r.default.createElement("div",{className:"w-full premium-announcement bg-gradient-to-r from-orange-900/20 to-red-900/20 border border-orange-500/20 rounded-2xl p-3 mb-8 text-center relative overflow-hidden"},r.default.createElement("p",{className:"text-orange-400 font-black text-xs md:text-sm tracking-[0.18em] uppercase flex items-center justify-center gap-3"},r.default.createElement(Zm,{className:"w-4 h-4 text-orange-500"})," ",p.announcementMessage," ",r.default.createElement(Zm,{className:"w-4 h-4 text-orange-500"}))),Bt&&p?.showBrandTicker!==!1&&r.default.createElement("div",{className:`mb-8 w-full overflow-hidden border-y backdrop-blur-sm py-2 premium-brand-ticker ${f?"border-slate-800/50 bg-[#0a0a0a]/50":"border-slate-200 bg-slate-100/50"}`},r.default.createElement("div",{className:"ticker-wrap"},r.default.createElement("div",{className:`ticker-content font-mono text-xs md:text-sm tracking-[0.16em] md:tracking-[0.38em] uppercase flex items-center gap-6 md:gap-12 ${f?"text-orange-500/50":"text-orange-600/70"}`},[1,2,3,4].map(u=>r.default.createElement(r.default.Fragment,{key:u},r.default.createElement("span",{className:"whitespace-nowrap"},p?.tickerText||`${p?.storeName||""}  calidad profesional  atencin real  compra segura`),r.default.createElement("span",null,"")))))),r.default.createElement("div",{className:`relative w-full max-w-5xl mx-auto aspect-video rounded-2xl sm:rounded-[2rem] overflow-hidden shadow-2xl mb-6 sm:mb-8 border group container-tv premium-hero ${f?"border-slate-800 bg-[#080808]":"border-slate-200 bg-white"}`},r.default.createElement("div",{className:"grid-bg"}),r.default.createElement("div",{className:`absolute inset-0 bg-[url('/noise.svg')] z-[1] pointer-events-none ${f?"opacity-20":"opacity-10"}`}),r.default.createElement(Q4,{settingsLoaded:Bt,banners:p?.showHomeBannerCarousel===!1?[]:Ro,fallbackUrl:p?.heroUrl,autoplayMs:p?.homeBannerAutoplayMs||5e3,darkMode:f,onBannerClick:Pt,onActiveIndexChange:Hc}),r.default.createElement("div",{className:`absolute inset-x-0 bottom-0 sm:inset-0 flex flex-col justify-end sm:justify-center px-4 pb-3 sm:px-8 sm:pb-0 md:px-20 z-10 pointer-events-none transition-opacity duration-500 ${Gc===0?f?"bg-gradient-to-t md:bg-gradient-to-r from-[#050505] via-[#050505]/72 sm:from-[#050505] sm:via-[#050505]/82 to-transparent":"bg-gradient-to-t md:bg-gradient-to-r from-white/45 via-white/20 sm:from-white/25 sm:via-white/10 to-transparent":"bg-transparent opacity-0"}`},r.default.createElement("div",{className:"max-w-2xl animate-fade-up premium-hero-content"},Bt?r.default.createElement(r.default.Fragment,null,r.default.createElement("span",{className:"bg-orange-500 text-black px-2.5 py-0.5 sm:px-3 sm:py-1 rounded-md text-[9px] sm:text-[10px] font-black uppercase tracking-widest mb-2 sm:mb-4 inline-block"},p?.heroBadge||"Tienda profesional lista para vender"),r.default.createElement("h1",{className:`text-lg sm:text-3xl md:text-5xl lg:text-6xl text-tv-huge font-black leading-[0.95] sm:leading-[0.9] mb-1.5 sm:mb-4 ${f?"text-white hero-title-neon":"text-slate-900 hero-title-neon-light"}`},p?.heroTitle1||p?.storeName||"Tu tienda online"," ",r.default.createElement("br",null),r.default.createElement("span",{className:`text-transparent bg-clip-text bg-gradient-to-r hero-title-neon-gradient ${f?"from-orange-400 to-blue-600":"from-orange-600 to-blue-700"}`},p?.heroTitle2||"que transmite confianza y vende ms")),r.default.createElement("p",{className:`text-xs sm:text-sm md:text-base lg:text-lg mb-3 sm:mb-6 max-w-md font-semibold hidden sm:block ${f?"text-slate-300":"text-slate-700"}`},p?.heroSubtitle||"Diseo premium, compra simple y una experiencia fluida en cualquier dispositivo."),r.default.createElement("div",{className:"flex flex-row items-center gap-2 sm:gap-4 premium-hero-ctas"},r.default.createElement("button",{onClick:()=>document.getElementById("catalog").scrollIntoView({behavior:"smooth"}),className:"px-4 py-2 sm:px-8 sm:py-4 bg-white text-black font-black text-xs sm:text-base rounded-xl hover:bg-orange-400 transition flex items-center justify-center gap-2 group/btn pointer-events-auto"},"Ver catlogo ",r.default.createElement(ru,{className:"w-3.5 h-3.5 sm:w-5 sm:h-5 group-hover/btn:translate-x-1 transition"})),r.default.createElement("button",{onClick:()=>e("guide"),className:`px-3 py-2 sm:px-6 sm:py-2.5 rounded-xl flex items-center justify-center gap-1.5 sm:gap-2 transition font-bold text-[11px] sm:text-xs group pointer-events-auto ${f?"bg-white/5 backdrop-blur-md border border-white/10 hover:bg-white/10 text-white":"bg-slate-100 border border-slate-200 hover:bg-slate-200 text-slate-900"}`},r.default.createElement(_s,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 ${f?"text-orange-400":"text-orange-600"}`})," Cmo comprar")),r.default.createElement("div",{className:"mt-3 sm:mt-6 flex flex-wrap gap-2 sm:gap-3 pointer-events-none premium-hero-proof"},r.default.createElement("span",{className:`px-2.5 py-1 rounded-full text-[10px] sm:text-xs font-semibold border ${f?"bg-white/10 text-slate-200 border-white/15":"bg-white/80 text-slate-700 border-slate-200"}`},"Checkout seguro"),r.default.createElement("span",{className:`px-2.5 py-1 rounded-full text-[10px] sm:text-xs font-semibold border ${f?"bg-white/10 text-slate-200 border-white/15":"bg-white/80 text-slate-700 border-slate-200"}`},"Carga rpida"),r.default.createElement("span",{className:`px-2.5 py-1 rounded-full text-[10px] sm:text-xs font-semibold border ${f?"bg-white/10 text-slate-200 border-white/15":"bg-white/80 text-slate-700 border-slate-200"}`},"Lista para producir ventas"))):r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"h-6 w-32 bg-slate-700/50 rounded-md mb-4 animate-pulse"}),r.default.createElement("div",{className:"h-12 md:h-16 w-64 md:w-80 bg-slate-700/50 rounded-lg mb-2 animate-pulse"}),r.default.createElement("div",{className:"h-12 md:h-16 w-48 md:w-64 bg-slate-700/50 rounded-lg mb-4 animate-pulse"}),r.default.createElement("div",{className:"h-4 w-72 bg-slate-700/50 rounded mb-2 animate-pulse"}),r.default.createElement("div",{className:"h-4 w-56 bg-slate-700/50 rounded mb-6 animate-pulse"}),r.default.createElement("div",{className:"flex items-center gap-4"},r.default.createElement("div",{className:"h-12 w-40 bg-slate-700/50 rounded-xl animate-pulse"}),r.default.createElement("div",{className:"h-10 w-24 bg-slate-700/50 rounded-xl animate-pulse"})))))),Bt&&p?.showFeaturesSection!==!1&&r.default.createElement("div",{className:`grid grid-cols-1 premium-benefits ${[p?.showFeature1!==!1,p?.showFeature2!==!1,p?.showFeature3!==!1].filter(Boolean).length===1?"md:grid-cols-1 max-w-md mx-auto":[p?.showFeature1!==!1,p?.showFeature2!==!1,p?.showFeature3!==!1].filter(Boolean).length===2?"md:grid-cols-2 max-w-2xl mx-auto":"md:grid-cols-3"} gap-4 md:gap-8 mb-12 container-tv`},Bt?r.default.createElement(r.default.Fragment,null,p?.showFeature1!==!1&&r.default.createElement("div",{className:`p-4 rounded-[1.5rem] border backdrop-blur-sm flex flex-col items-center text-center transition duration-500 group premium-feature-card ${f?"bg-slate-900/35 border-slate-800 hover:bg-slate-900/50":"bg-white border-slate-200 hover:bg-slate-50 shadow-sm hover:shadow-md"}`},r.default.createElement("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition ${f?"bg-orange-900/20":"bg-orange-100"}`},r.default.createElement(Wn,{className:`w-5 h-5 ${f?"text-orange-400":"text-orange-600"}`})),r.default.createElement("h3",{className:`text-base font-bold mb-1 ${f?"text-white":"text-slate-900"}`},p?.feature1Title||""),r.default.createElement("p",{className:`text-[11px] ${f?"text-slate-400":"text-slate-500"}`},p?.feature1Desc||"")),p?.showFeature2!==!1&&r.default.createElement("div",{className:`p-4 rounded-[1.5rem] border backdrop-blur-sm flex flex-col items-center text-center transition duration-500 group premium-feature-card ${f?"bg-slate-900/35 border-slate-800 hover:bg-slate-900/50":"bg-white border-slate-200 hover:bg-slate-50 shadow-sm hover:shadow-md"}`},r.default.createElement("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition ${f?"bg-purple-900/20":"bg-purple-100"}`},r.default.createElement(Tn,{className:`w-5 h-5 ${f?"text-purple-400":"text-purple-600"}`})),r.default.createElement("h3",{className:`text-base font-bold mb-1 ${f?"text-white":"text-slate-900"}`},p?.feature2Title||""),r.default.createElement("p",{className:`text-[11px] ${f?"text-slate-400":"text-slate-500"}`},p?.feature2Desc||"")),p?.showFeature3!==!1&&r.default.createElement("div",{className:`p-4 rounded-[1.5rem] border backdrop-blur-sm flex flex-col items-center text-center transition duration-500 group premium-feature-card ${f?"bg-slate-900/35 border-slate-800 hover:bg-slate-900/50":"bg-white border-slate-200 hover:bg-slate-50 shadow-sm hover:shadow-md"}`},r.default.createElement("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition ${f?"bg-green-900/20":"bg-green-100"}`},r.default.createElement(Rm,{className:`w-5 h-5 ${f?"text-green-400":"text-green-600"}`})),r.default.createElement("h3",{className:`text-base font-bold mb-1 ${f?"text-white":"text-slate-900"}`},p?.feature3Title||""),r.default.createElement("p",{className:`text-[11px] ${f?"text-slate-400":"text-slate-500"}`},p?.feature3Desc||""))):r.default.createElement(r.default.Fragment,null,[1,2,3].map(u=>r.default.createElement("div",{key:u,className:"p-4 rounded-[1.5rem] bg-slate-900/30 border border-slate-800 backdrop-blur-sm flex flex-col items-center text-center"},r.default.createElement("div",{className:"w-10 h-10 rounded-full bg-slate-700/50 mb-3 animate-pulse"}),r.default.createElement("div",{className:"h-5 w-32 bg-slate-700/50 rounded mb-2 animate-pulse"}),r.default.createElement("div",{className:"h-3 w-48 bg-slate-700/50 rounded mb-1 animate-pulse"}),r.default.createElement("div",{className:"h-3 w-40 bg-slate-700/50 rounded animate-pulse"}))))),r.default.createElement("div",{className:`mb-3 sm:mb-4 flex items-center justify-between gap-4 premium-catalog-intro ${f?"text-slate-200":"text-slate-800"}`},r.default.createElement("div",null,r.default.createElement("p",{className:"text-[10px] sm:text-xs font-bold uppercase tracking-[0.2em] text-slate-500"},"Catlogo"),r.default.createElement("h2",{className:`text-xl sm:text-2xl font-black tracking-tight ${f?"text-white":"text-slate-900"}`},"Productos listos para comprar")),r.default.createElement("div",{className:`text-xs sm:text-sm font-bold whitespace-nowrap px-3 py-1.5 rounded-full border ${f?"bg-slate-900/70 border-slate-700 text-slate-300":"bg-white border-slate-200 text-slate-600"}`},le.filter(u=>u.isActive!==!1).length," disponibles")),r.default.createElement("div",{id:"catalog",className:`sticky top-14 sm:top-16 md:top-20 z-40 backdrop-blur-xl py-2.5 sm:py-3 md:py-4 mb-4 sm:mb-6 md:mb-8 -mx-3 px-3 sm:-mx-4 sm:px-4 border-y transition-colors duration-300 premium-category-bar ${f?"bg-[#050505]/80 border-slate-800/50":"bg-white/90 border-slate-200"}`},r.default.createElement("div",{ref:ps,onMouseDown:Yc,onMouseLeave:Mt,onMouseUp:Xc,onMouseMove:Ri,className:`flex items-center gap-2 overflow-x-auto pb-1 category-scroll ${ra?"cursor-grabbing scroll-auto":"cursor-grab scroll-smooth"}`,style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"}},r.default.createElement(xy,{className:`w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0 ${f?"text-slate-500":"text-slate-400"}`}),r.default.createElement("button",{onClick:()=>jn("Promos"),className:`px-3 sm:px-5 py-1.5 sm:py-2 rounded-lg sm:rounded-xl font-black text-[10px] sm:text-xs transition border whitespace-nowrap flex items-center gap-1.5 sm:gap-2 group relative overflow-hidden flex-shrink-0 ${kt==="Promos"?"text-white border-purple-500 shadow-[0_0_16px_rgba(168,85,247,0.34)]":f?"bg-slate-900 border-slate-800 text-purple-300 hover:text-white hover:border-purple-500/40":"bg-purple-50 border-purple-200 text-purple-600 hover:bg-purple-100 hover:border-purple-300"}`},kt==="Promos"&&r.default.createElement("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-blue-600 animate-gradient-xy"}),r.default.createElement("span",{className:"relative z-10 flex items-center gap-1.5 sm:gap-2"},r.default.createElement(hi,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})," Packs")),r.default.createElement("button",{onClick:()=>jn("Ofertas"),className:`px-3 sm:px-5 py-1.5 sm:py-2 rounded-lg sm:rounded-xl font-bold text-[10px] sm:text-xs transition border whitespace-nowrap flex items-center gap-1.5 sm:gap-2 flex-shrink-0 ${kt==="Ofertas"?"bg-red-600/20 text-red-500 border-red-500 shadow-[0_0_12px_rgba(220,38,38,0.26)]":f?"bg-slate-900 border-slate-800 text-red-300 hover:text-white hover:border-red-500/40":"bg-red-50 border-red-200 text-red-600 hover:bg-red-100 hover:border-red-300"}`},r.default.createElement(Iy,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})," Ofertas"),r.default.createElement("button",{onClick:()=>jn(""),className:`px-3 sm:px-5 py-1.5 sm:py-2 rounded-lg sm:rounded-xl font-bold text-[10px] sm:text-xs transition border whitespace-nowrap flex-shrink-0 ${kt===""?f?"bg-white text-black border-white shadow-[0_0_15px_rgba(255,255,255,0.2)]":"bg-slate-900 text-white border-slate-900 shadow-md":f?"bg-slate-900 border-slate-800 text-slate-400 hover:text-white hover:border-slate-600":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50 hover:border-slate-300"}`},"Todo"),p?.categories?.map(u=>r.default.createElement("button",{key:u,onClick:()=>jn(u),className:`px-3 sm:px-5 py-1.5 sm:py-2 rounded-lg sm:rounded-xl font-bold text-[10px] sm:text-xs transition border whitespace-nowrap flex-shrink-0 ${kt===u?"bg-orange-500 text-white border-orange-500 shadow-[0_0_15px_rgba(249,115,22,0.3)]":f?"bg-slate-900 border-slate-800 text-slate-400 hover:text-white hover:border-slate-600":"bg-white border-slate-200 text-slate-600 hover:bg-orange-50 hover:border-orange-300 hover:text-orange-600"}`},u)))),kt==="Promos"&&r.default.createElement("div",{className:"mb-16 animate-fade-in premium-promos-section"},an.length>0?r.default.createElement(r.default.Fragment,null,r.default.createElement("h2",{className:`text-3xl font-black mb-8 flex items-center gap-3 ${f?"text-white":"text-slate-900"}`},r.default.createElement(Sa,{className:"w-8 h-8 text-purple-500"})," Packs y promociones"),r.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},an.map(u=>{let g=1/0;u.items.forEach(x=>{let k=le.find(G=>G.id===x.productId),U=k&&Number(k.stock)||0,L=Math.floor(U/x.quantity);L<g&&(g=L)});let y=g>0;return r.default.createElement("div",{key:u.id,className:`rounded-[2.2rem] border overflow-hidden group transition duration-500 relative flex flex-col premium-promo-card ${f?"bg-gradient-to-br from-purple-900/8 to-blue-900/8 border-slate-700/80 hover:border-purple-500/50 shadow-[0_10px_30px_rgba(2,6,23,0.35)]":"bg-white border-slate-200 shadow-sm hover:shadow-xl"}`},r.default.createElement("div",{className:`aspect-square flex items-center justify-center relative overflow-hidden cursor-zoom-in ${f?"bg-slate-900/50":"bg-slate-50"}`,onClick:()=>fs({...u,isPromo:!0,stock:g})},r.default.createElement("img",{src:u.image,alt:u.name||"Promo",className:"w-full h-full object-contain transition duration-700 group-hover:scale-110"}),r.default.createElement("div",{className:`absolute inset-0 bg-gradient-to-t via-transparent to-transparent ${f?"from-[#0a0a0a]":"from-white/50"}`}),r.default.createElement("div",{className:"absolute top-4 right-4 bg-purple-600 text-white text-xs font-black px-3 py-1 rounded-full uppercase tracking-[0.12em] shadow-lg"},"Combo")),r.default.createElement("div",{className:"p-7 flex-1 flex flex-col"},r.default.createElement("h3",{className:`text-2xl font-black mb-2 leading-tight ${f?"text-white":"text-slate-900"}`},u.name),r.default.createElement("p",{className:`text-sm mb-6 flex-1 ${f?"text-slate-300":"text-slate-600"}`},u.description),r.default.createElement("div",{className:"mb-6 space-y-2"},r.default.createElement("p",{className:"text-[10px] uppercase font-bold text-slate-500 tracking-[0.2em]"},"Incluye:"),u.items.map((x,k)=>{let U=le.find(L=>L.id===x.productId);return r.default.createElement("div",{key:k,className:`flex items-center gap-2 text-sm ${f?"text-slate-400":"text-slate-600"}`},r.default.createElement(Te,{className:`w-3.5 h-3.5 ${f?"text-purple-500":"text-purple-600"}`}),r.default.createElement("span",{className:`font-bold ${f?"text-white":"text-slate-900"}`},x.quantity,"x")," ",U?U.name:"Producto")})),r.default.createElement("div",{className:`flex items-center justify-between mt-auto pt-6 border-t ${f?"border-white/5":"border-slate-100"}`},r.default.createElement("div",{className:"flex flex-col"},r.default.createElement("span",{className:"text-slate-500 text-xs font-bold line-through decoration-red-500 decoration-2"},"$",u.items.reduce((x,k)=>{let U=le.find(L=>L.id===k.productId);return x+(Number(U?.basePrice)||0)*k.quantity},0).toLocaleString()),r.default.createElement("span",{className:`text-3xl font-black ${f?"text-purple-300":"text-purple-700"}`},"$",Number(u.price).toLocaleString())),r.default.createElement("button",{onClick:()=>{if(!y)return M("Sin stock disponible para esta promo.","warning");let x={id:u.id,name:u.name,basePrice:u.price,image:u.image,isPromo:!0,items:u.items,stock:g};ii(x,1)},disabled:!y,className:`px-6 py-3 rounded-xl font-bold flex items-center gap-2 transition shadow-lg ${y?f?"bg-white text-black hover:bg-purple-400 hover:text-white hover:scale-105":"bg-slate-900 text-white hover:bg-purple-600 hover:scale-105":f?"bg-slate-800 text-slate-500 cursor-not-allowed":"bg-slate-200 text-slate-400 cursor-not-allowed"}`},y?r.default.createElement(ao,{className:"w-5 h-5"}):r.default.createElement(It,{className:"w-5 h-5"}),y?"Agregar":"Agotado"))))}))):r.default.createElement("div",{className:`flex flex-col items-center justify-center p-20 text-center border-2 border-dashed rounded-[3rem] premium-empty-state ${f?"border-slate-800 bg-slate-950/30":"border-slate-200 bg-slate-50"}`},r.default.createElement("div",{className:`p-8 rounded-full mb-6 shadow-2xl border ${f?"bg-slate-900 border-slate-800":"bg-white border-slate-200"}`},r.default.createElement(Sa,{className:`w-16 h-16 ${f?"text-slate-600":"text-slate-400"}`})),r.default.createElement("h3",{className:`text-2xl font-black mb-2 ${f?"text-white":"text-slate-900"}`},"Sin promociones activas"),r.default.createElement("p",{className:"text-slate-500 max-w-sm"},"No hay promociones disponibles en este momento. Volv pronto!"),r.default.createElement("button",{onClick:()=>jn(""),className:`mt-6 px-6 py-3 rounded-xl font-bold transition border ${f?"bg-orange-900/20 hover:bg-orange-900/40 text-orange-400 border-orange-500/20":"bg-orange-50 hover:bg-orange-100 text-orange-600 border-orange-200"}`},"Ver todo el catlogo"))),le.filter(u=>u.isActive!==!1).length===0?r.default.createElement("div",{className:`flex flex-col items-center justify-center p-20 text-center border-2 border-dashed rounded-[3rem] premium-empty-state ${f?"border-slate-800 bg-slate-950/30":"border-slate-200 bg-slate-50"}`},r.default.createElement("div",{className:`p-8 rounded-full mb-6 shadow-2xl border ${f?"bg-slate-900 border-slate-800":"bg-white border-slate-200"}`},r.default.createElement(mr,{className:`w-16 h-16 ${f?"text-slate-600":"text-slate-400"}`})),r.default.createElement("h3",{className:`text-2xl font-black mb-2 ${f?"text-white":"text-slate-900"}`},"Catlogo Vaco"),r.default.createElement("p",{className:"text-slate-500 max-w-sm"},"Todava no hay productos disponibles. Actualiz el catlogo y esta seccin se mostrar automticamente.")):r.default.createElement(r.default.Fragment,null,jm.length===0&&kt!=="Promos"&&r.default.createElement("div",{className:"flex flex-col items-center justify-center p-20 text-center col-span-full animate-fade-in w-full premium-empty-state"},r.default.createElement("div",{className:`p-6 rounded-full mb-4 inline-block border ${f?"bg-slate-900/50 border-slate-800":"bg-white border-slate-200"}`},r.default.createElement(bd,{className:`w-12 h-12 ${f?"text-slate-500":"text-slate-400"}`})),r.default.createElement("h3",{className:`text-xl font-bold mb-2 ${f?"text-white":"text-slate-900"}`},"No encontramos productos con esos filtros"),r.default.createElement("p",{className:"text-slate-500 mb-6 max-w-md mx-auto"},"No hay productos que coincidan con ",r.default.createElement("span",{className:`${f?"text-white":"text-slate-900"} font-bold`},'"',Xi,'"'),kt&&r.default.createElement("span",null," en la categora ",r.default.createElement("span",{className:`${f?"text-white":"text-slate-900"} font-bold`},kt)),"."),r.default.createElement("button",{onClick:()=>{Vl(""),jn("")},className:`px-6 py-3 rounded-xl font-bold transition border ${f?"bg-orange-900/20 hover:bg-orange-900/40 text-orange-400 border-orange-500/20":"bg-orange-50 hover:bg-orange-100 text-orange-600 border-orange-200"}`},"Quitar filtros")),r.default.createElement("div",{className:"grid grid-cols-1 min-[380px]:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 min-[1920px]:grid-cols-5 gap-3 sm:gap-6 md:gap-8 pb-32 product-grid-responsive"},jm.map(u=>r.default.createElement(Z4,{key:u.id,p:u,settings:p,currentUser:K,toggleFavorite:sy,setSelectedProduct:fs,manageCart:ii,calculateItemPrice:wa,darkMode:f}))))),t==="cart"&&r.default.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up px-2 sm:px-4 md:px-8 pb-20"},r.default.createElement("div",{className:"flex flex-col gap-3 sm:gap-4 mb-6 sm:mb-8 pt-4 sm:pt-8 sm:flex-row sm:items-center sm:justify-between"},r.default.createElement("div",{className:"flex items-center gap-3 sm:gap-4"},r.default.createElement("button",{onClick:()=>e("store"),className:`p-2.5 sm:p-3 rounded-full transition group ${f?"bg-slate-900 text-slate-400 hover:text-white hover:bg-slate-800":"bg-slate-100 text-slate-500 hover:text-slate-900 hover:bg-slate-200"}`},r.default.createElement(ws,{className:"w-5 h-5 sm:w-6 sm:h-6 group-hover:-translate-x-1 transition"})),r.default.createElement("h1",{className:`text-2xl sm:text-4xl font-black flex items-center gap-2 sm:gap-3 ${f?"text-white":"text-slate-900"}`},r.default.createElement(Es,{className:"w-7 h-7 sm:w-10 sm:h-10 text-orange-500"})," Mi Carrito")),je.length>0&&p?.showCartWhatsappCheckout===!0&&r.default.createElement("button",{onClick:()=>{let u=OS(p?.whatsappLink,MS());if(!u){M("Configura el enlace de WhatsApp en Admin  Configuracin  Social.","warning");return}window.open(u,"_blank")},className:"w-full sm:w-auto px-5 py-3 bg-green-600 hover:bg-green-500 text-white rounded-2xl font-black transition shadow-lg hover:shadow-green-500/30 flex items-center justify-center gap-2"},r.default.createElement(ci,{className:"w-5 h-5"})," Terminar compra por WhatsApp")),je.length===0?r.default.createElement("div",{className:`flex flex-col items-center justify-center p-16 text-center border-2 border-dashed rounded-[3rem] ${f?"border-slate-800 bg-slate-950/30":"border-slate-200 bg-slate-50"}`},r.default.createElement("div",{className:`p-8 rounded-full mb-6 shadow-xl border ${f?"bg-slate-900 border-slate-800":"bg-white border-slate-200"}`},r.default.createElement(ao,{className:`w-16 h-16 ${f?"text-slate-600":"text-slate-400"}`})),r.default.createElement("h3",{className:`text-2xl font-black mb-2 ${f?"text-white":"text-slate-900"}`},"Tu carrito est vaco"),r.default.createElement("p",{className:"text-slate-500 text-sm max-w-xs mb-8 leading-relaxed"},"Es un buen momento para buscar ese producto que tanto quieres!"),r.default.createElement("button",{onClick:()=>e("store"),className:"px-8 py-4 bg-orange-600 text-white rounded-xl font-bold transition shadow-lg hover:bg-orange-500 hover:shadow-orange-500/30 flex items-center gap-2"},"Ir a la Tienda ",r.default.createElement(ru,{className:"w-5 h-5"}))):r.default.createElement("div",{className:"grid lg:grid-cols-3 gap-4 sm:gap-8"},r.default.createElement("div",{className:"lg:col-span-2 space-y-4"},je.map(u=>r.default.createElement("div",{key:u.product.id,className:`p-3 sm:p-4 md:p-6 rounded-2xl sm:rounded-3xl border flex flex-row gap-3 sm:gap-4 md:gap-6 items-center group relative overflow-hidden transition duration-300 ${f?"bg-[#0a0a0a] border-slate-800 hover:border-orange-900/50":"bg-white border-slate-200 hover:border-orange-200 shadow-sm hover:shadow-md"}`},r.default.createElement("div",{className:"w-20 sm:w-24 md:w-32 h-20 sm:h-24 md:h-32 bg-white rounded-xl sm:rounded-2xl flex items-center justify-center p-1.5 sm:p-2 flex-shrink-0 shadow-lg border border-slate-100"},r.default.createElement("img",{src:u.product.image,alt:u.product.name,className:"w-full h-full object-contain"})),r.default.createElement("div",{className:"flex-1 min-w-0 text-left z-10"},r.default.createElement("div",{className:"flex justify-between items-start w-full"},r.default.createElement("h3",{className:`font-bold text-sm sm:text-base md:text-lg truncate mb-1 pr-2 sm:pr-4 ${f?"text-white":"text-slate-900"}`},u.product.name),r.default.createElement("button",{onClick:()=>ii(u.product,-u.quantity),className:`p-2 rounded-lg transition ${f?"text-slate-600 hover:text-red-500 bg-slate-900 hover:bg-red-900/20":"text-slate-400 hover:text-red-600 bg-slate-50 hover:bg-red-50"}`},r.default.createElement(ht,{className:"w-5 h-5"}))),r.default.createElement("p",{className:"text-orange-500 font-bold text-sm mb-4"},"$",wa(u.product?.basePrice??0,u.product?.discount??0).toLocaleString()," ",r.default.createElement("span",{className:"text-slate-500 font-normal"},"unitario")),r.default.createElement("div",{className:"flex items-center justify-start gap-2 sm:gap-4"},r.default.createElement("div",{className:`flex items-center gap-3 rounded-xl p-1 border ${f?"bg-slate-900 border-slate-700":"bg-slate-50 border-slate-200"}`},r.default.createElement("button",{onClick:()=>ii(u.product,-1),className:`w-10 h-10 flex items-center justify-center rounded-lg transition ${f?"hover:bg-slate-800 text-slate-400 hover:text-white":"hover:bg-white text-slate-500 hover:text-slate-900"}`},r.default.createElement(vd,{className:"w-4 h-4"})),r.default.createElement("span",{className:`text-base font-bold w-8 text-center ${f?"text-white":"text-slate-900"}`},u.quantity),r.default.createElement("button",{onClick:()=>ii(u.product,1),className:`w-10 h-10 flex items-center justify-center rounded-lg transition ${f?"hover:bg-slate-800 text-slate-400 hover:text-white":"hover:bg-white text-slate-500 hover:text-slate-900"}`},r.default.createElement(hn,{className:"w-4 h-4"}))),r.default.createElement("div",{className:`hidden md:block h-8 w-px mx-2 ${f?"bg-slate-800":"bg-slate-200"}`}),r.default.createElement("p",{className:"text-xs text-slate-500 font-bold uppercase hidden md:block"},"Subtotal: ",r.default.createElement("span",{className:`text-lg ml-1 ${f?"text-white":"text-slate-900"}`},"$",(wa(u.product?.basePrice??0,u.product?.discount??0)*(u.quantity||0)).toLocaleString()))))))),r.default.createElement("div",{className:`border p-5 sm:p-8 rounded-2xl sm:rounded-[2.5rem] h-fit sticky top-20 sm:top-28 shadow-2xl transition-colors duration-300 ${f?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`},r.default.createElement("h3",{className:`text-2xl font-black mb-8 border-b pb-4 transition-colors duration-300 ${f?"text-white border-slate-800":"text-slate-900 border-slate-200"}`},"Resumen de Compra"),r.default.createElement("div",{className:"mb-8"},r.default.createElement("label",{className:`text-xs font-bold uppercase tracking-widest mb-3 block flex items-center gap-2 ${f?"text-slate-500":"text-slate-400"}`},r.default.createElement(Sa,{className:"w-4 h-4"})," Cupn de Descuento"),gt?r.default.createElement("div",{className:"bg-purple-900/20 border border-purple-500/30 p-4 rounded-2xl flex justify-between items-center relative overflow-hidden group animate-fade-up"},r.default.createElement("div",{className:"absolute inset-0 bg-purple-500/5 group-hover:bg-purple-500/10 transition"}),r.default.createElement("div",{className:"relative z-10"},r.default.createElement("p",{className:"font-black text-purple-300 text-lg tracking-widest"},gt.code),r.default.createElement("p",{className:"text-xs text-purple-400 font-bold"},gt.type==="fixed"?`$${gt.value} OFF`:`${gt.value}% OFF`)),r.default.createElement("button",{onClick:()=>ln(null),className:`p-2 rounded-full transition relative z-10 border border-transparent hover:border-red-500/30 ${f?"bg-slate-900/50 text-purple-300 hover:text-red-400 hover:bg-red-900/30":"bg-white text-purple-600 hover:text-red-600 hover:bg-red-50"}`},r.default.createElement(ht,{className:"w-4 h-4"}))):r.default.createElement("button",{onClick:()=>gs(!0),className:`w-full py-4 border border-dashed rounded-2xl transition flex items-center justify-center gap-2 text-sm font-bold group ${f?"border-slate-700 hover:border-purple-500 bg-slate-900/30 hover:bg-purple-900/10 text-slate-400 hover:text-purple-300":"border-slate-300 hover:border-purple-500 bg-slate-50 hover:bg-purple-50 text-slate-500 hover:text-purple-600"}`},r.default.createElement(Is,{className:"w-5 h-5 group-hover:rotate-12 transition"})," Ver cupones disponibles")),r.default.createElement("div",{className:`space-y-4 border-b pb-8 mb-8 ${f?"border-slate-800":"border-slate-200"}`},r.default.createElement("div",{className:`flex justify-between font-medium ${f?"text-slate-400":"text-slate-600"}`},r.default.createElement("span",null,"Subtotal"),r.default.createElement("span",{className:`font-mono font-bold ${f?"text-white":"text-slate-900"}`},"$",hr.toLocaleString())),r.default.createElement("div",{className:`flex justify-between text-sm font-medium ${f?"text-slate-400":"text-slate-600"}`},r.default.createElement("span",null,"Envo ",ue.shippingMethod==="Delivery"?"(A domicilio)":"(Retiro)"),r.default.createElement("span",{className:"text-orange-500 font-bold flex items-center gap-1"},r.default.createElement(Gr,{className:"w-3 h-3"}),Na>0?`$${Na.toLocaleString()}`:ue.shippingMethod==="Pickup"?"Gratis":"Envo Gratis!")),gt&&r.default.createElement("div",{className:"flex justify-between text-purple-500 font-bold text-sm animate-pulse bg-purple-900/10 p-2 rounded-lg"},r.default.createElement("span",null,"Descuento aplicado"),r.default.createElement("span",null,"-$",dd.toLocaleString()))),r.default.createElement("div",{className:"flex justify-between items-end mb-8"},r.default.createElement("span",{className:`font-bold text-lg ${f?"text-white":"text-slate-900"}`},"Total Final"),r.default.createElement("span",{className:`text-4xl font-black tracking-tighter ${f?"text-white neon-text":"text-slate-900"}`},"$",so.toLocaleString())),r.default.createElement("button",{onClick:()=>e("checkout"),className:"w-full bg-gradient-to-r from-orange-600 to-blue-600 hover:from-orange-500 hover:to-blue-500 py-5 text-white font-bold text-lg rounded-2xl shadow-[0_0_25px_rgba(249,115,22,0.3)] hover:shadow-[0_0_35px_rgba(249,115,22,0.5)] transition-all flex items-center justify-center gap-3 transform hover:-translate-y-1"},"Iniciar Compra ",r.default.createElement(ru,{className:"w-6 h-6"}))))),t==="checkout"&&r.default.createElement("div",{className:"max-w-5xl mx-auto pb-20 animate-fade-up px-2 sm:px-4 md:px-8"},r.default.createElement("button",{onClick:()=>e("cart"),className:"mb-4 sm:mb-8 mt-4 sm:mt-8 text-slate-400 hover:text-white flex items-center gap-2 font-bold transition text-sm sm:text-base"},r.default.createElement(ws,{className:"w-4 h-4 sm:w-5 sm:h-5"})," Volver al Carrito"),r.default.createElement("div",{className:"grid md:grid-cols-5 gap-4 sm:gap-8"},r.default.createElement("div",{className:"md:col-span-3 space-y-8"},r.default.createElement("div",{className:`border p-4 sm:p-6 md:p-8 rounded-2xl sm:rounded-[2.5rem] shadow-xl relative overflow-hidden ${f?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`},r.default.createElement("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/10 rounded-bl-[100px] pointer-events-none"}),r.default.createElement("h2",{className:`text-xl sm:text-2xl font-black mb-4 sm:mb-6 flex items-center gap-2 sm:gap-3 ${f?"text-white":"text-slate-900"}`},r.default.createElement(Gr,{className:"text-orange-500 w-5 h-5 sm:w-6 sm:h-6"})," Mtodo de Entrega"),r.default.createElement("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 relative z-10 mb-4 sm:mb-6"},p?.shippingPickup?.enabled&&r.default.createElement("button",{onClick:()=>wn({...ue,shippingMethod:"Pickup"}),className:`p-4 sm:p-6 rounded-xl sm:rounded-2xl border transition flex flex-col items-center gap-2 sm:gap-3 relative overflow-hidden group ${ue.shippingMethod==="Pickup"?"border-orange-500 bg-orange-500/10 text-orange-500":f?"border-slate-700 bg-slate-900/30 text-slate-500 hover:border-slate-500":"border-slate-200 bg-slate-50 text-slate-500 hover:border-slate-400"}`},ue.shippingMethod==="Pickup"&&r.default.createElement(Te,{className:"absolute top-2 right-2 w-4 h-4 sm:w-5 sm:h-5 text-orange-500"}),r.default.createElement(nf,{className:"w-6 h-6 sm:w-8 sm:h-8 group-hover:scale-110 transition"}),r.default.createElement("span",{className:"text-[10px] sm:text-xs font-black uppercase"},"Retiro en Local")),p?.shippingDelivery?.enabled&&r.default.createElement("button",{onClick:()=>wn({...ue,shippingMethod:"Delivery"}),className:`p-4 sm:p-6 rounded-xl sm:rounded-2xl border transition flex flex-col items-center gap-2 sm:gap-3 relative overflow-hidden group ${ue.shippingMethod==="Delivery"?"border-orange-500 bg-orange-500/10 text-orange-500":f?"border-slate-700 bg-slate-900/30 text-slate-500 hover:border-slate-500":"border-slate-200 bg-slate-50 text-slate-500 hover:border-slate-400"}`},ue.shippingMethod==="Delivery"&&r.default.createElement(Te,{className:"absolute top-2 right-2 w-4 h-4 sm:w-5 sm:h-5 text-orange-500"}),r.default.createElement(Gr,{className:"w-6 h-6 sm:w-8 sm:h-8 group-hover:scale-110 transition"}),r.default.createElement("span",{className:"text-[10px] sm:text-xs font-black uppercase"},"Envo a Domicilio"))),ue.shippingMethod==="Pickup"&&r.default.createElement("div",{className:"p-4 bg-orange-900/10 border border-orange-500/20 rounded-xl animate-fade-up flex gap-3"},r.default.createElement(_s,{className:"w-5 h-5 text-orange-400 shrink-0"}),r.default.createElement("p",{className:"text-xs text-orange-200"},"Retira tu pedido en: ",r.default.createElement("span",{className:"font-bold"},p?.shippingPickup?.address||"Direccin a coordinar"))),ue.shippingMethod==="Delivery"&&r.default.createElement("div",{className:"space-y-5 relative z-10 animate-fade-up mt-4"},r.default.createElement("h3",{className:`text-sm font-bold uppercase tracking-widest pl-2 ${f?"text-slate-400":"text-slate-500"}`},"Datos de Destino"),r.default.createElement("div",null,r.default.createElement("label",{className:`text-xs font-bold uppercase ml-2 mb-1 block ${f?"text-slate-500":"text-slate-400"}`},"Direccin y Altura"),r.default.createElement("input",{className:`w-full border rounded-xl p-4 transition font-medium outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500 ${f?"bg-slate-900 border-slate-700 text-white placeholder-slate-600":"bg-white border-slate-200 text-slate-900 placeholder-slate-400"}`,placeholder:"Ej: Av. Santa Fe 1234",value:ue.address||"",onChange:u=>wn({...ue,address:u.target.value})})),r.default.createElement("div",{className:"grid grid-cols-2 gap-5"},r.default.createElement("div",null,r.default.createElement("label",{className:`text-xs font-bold uppercase ml-2 mb-1 block ${f?"text-slate-500":"text-slate-400"}`},"Ciudad"),r.default.createElement("input",{className:`w-full border rounded-xl p-4 transition font-medium outline-none focus:border-orange-500 ${f?"bg-slate-900 border-slate-700 text-white placeholder-slate-600":"bg-white border-slate-200 text-slate-900 placeholder-slate-400"}`,placeholder:"Ej: Rosario",value:ue.city||"",onChange:u=>wn({...ue,city:u.target.value})})),r.default.createElement("div",null,r.default.createElement("label",{className:`text-xs font-bold uppercase ml-2 mb-1 block ${f?"text-slate-500":"text-slate-400"}`},"Provincia"),r.default.createElement("input",{className:`w-full border rounded-xl p-4 transition font-medium outline-none focus:border-orange-500 ${f?"bg-slate-900 border-slate-700 text-white placeholder-slate-600":"bg-white border-slate-200 text-slate-900 placeholder-slate-400"}`,placeholder:"Ej: Santa Fe",value:ue.province||"",onChange:u=>wn({...ue,province:u.target.value})}))),r.default.createElement("div",null,r.default.createElement("label",{className:`text-xs font-bold uppercase ml-2 mb-1 block ${f?"text-slate-500":"text-slate-400"}`},"Cdigo Postal"),r.default.createElement("input",{className:`w-full border rounded-xl p-4 transition font-medium outline-none focus:border-orange-500 ${f?"bg-slate-900 border-slate-700 text-white placeholder-slate-600":"bg-white border-slate-200 text-slate-900 placeholder-slate-400"}`,placeholder:"Ej: 2000",value:ue.zipCode||"",onChange:u=>wn({...ue,zipCode:u.target.value})})))),r.default.createElement("div",{className:`border p-4 sm:p-6 md:p-8 rounded-2xl sm:rounded-[2.5rem] shadow-xl relative overflow-hidden ${f?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`},r.default.createElement("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-500/10 rounded-bl-[100px] pointer-events-none"}),r.default.createElement("h2",{className:`text-xl sm:text-2xl font-black mb-4 sm:mb-6 flex items-center gap-2 sm:gap-3 ${f?"text-white":"text-slate-900"}`},r.default.createElement(Ns,{className:"text-orange-500 w-5 h-5 sm:w-6 sm:h-6"})," Mtodo de Pago"),r.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 relative z-10"},p?.paymentMercadoPago?.enabled&&r.default.createElement("button",{onClick:()=>wn({...ue,paymentChoice:"Tarjeta"}),className:`p-4 md:p-6 rounded-2xl border transition flex flex-col items-center gap-3 relative overflow-hidden group ${ue.paymentChoice==="Tarjeta"?"border-orange-500 bg-orange-900/20 text-orange-400 shadow-[0_0_20px_rgba(249,115,22,0.2)]":"border-slate-700 bg-slate-900/30 text-slate-500 hover:border-slate-500 hover:bg-slate-800"}`},ue.paymentChoice==="Tarjeta"&&r.default.createElement(Te,{className:"absolute top-2 right-2 text-orange-500"}),r.default.createElement(Ns,{className:"w-8 h-8 group-hover:scale-110 transition"}),r.default.createElement("span",{className:"text-sm font-black tracking-wider uppercase"},"Tarjeta")),p?.paymentTransfer?.enabled&&r.default.createElement("button",{onClick:()=>wn({...ue,paymentChoice:"Transferencia"}),className:`p-4 md:p-6 rounded-2xl border transition flex flex-col items-center gap-3 relative overflow-hidden group ${ue.paymentChoice==="Transferencia"?"border-orange-500 bg-orange-900/20 text-orange-400 shadow-[0_0_20px_rgba(249,115,22,0.2)]":"border-slate-700 bg-slate-900/30 text-slate-500 hover:border-slate-500 hover:bg-slate-800"}`},ue.paymentChoice==="Transferencia"&&r.default.createElement(Te,{className:"absolute top-2 right-2 text-orange-500"}),r.default.createElement(cf,{className:"w-8 h-8 group-hover:scale-110 transition"}),r.default.createElement("span",{className:"text-sm font-black tracking-wider uppercase"},"Transferencia")),p?.paymentCash&&ue.shippingMethod!=="Delivery"&&r.default.createElement("button",{onClick:()=>wn({...ue,paymentChoice:"Efectivo"}),className:`p-4 md:p-6 rounded-2xl border transition flex flex-col items-center gap-3 relative overflow-hidden group ${ue.paymentChoice==="Efectivo"?"border-orange-500 bg-orange-900/20 text-orange-400 shadow-[0_0_20px_rgba(249,115,22,0.2)]":"border-slate-700 bg-slate-900/30 text-slate-500 hover:border-slate-500 hover:bg-slate-800"}`},ue.paymentChoice==="Efectivo"&&r.default.createElement(Te,{className:"absolute top-2 right-2 text-orange-500"}),r.default.createElement(Hm,{className:"w-8 h-8 group-hover:scale-110 transition"}),r.default.createElement("span",{className:"text-sm font-black tracking-wider uppercase"},"Efectivo"))),ue.paymentChoice==="Tarjeta"&&r.default.createElement("div",{className:"mt-8 animate-fade-up"},r.default.createElement("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-orange-500/30"},r.default.createElement("h3",{className:"text-white font-bold mb-4 flex items-center gap-2"},r.default.createElement(Ns,{className:"w-5 h-5 text-orange-400"}),"Ingres los datos de tu tarjeta"),r.default.createElement("p",{className:"text-slate-400 text-sm mb-4"},"Pag de forma segura con Visa, MasterCard, AMEX y ms."),r.default.createElement("div",{className:"mb-6 p-4 bg-orange-900/10 border border-orange-500/20 rounded-xl flex items-start gap-3"},r.default.createElement(li,{className:"w-5 h-5 text-orange-500 shrink-0 mt-0.5"}),r.default.createElement("p",{className:"text-xs text-orange-200 leading-relaxed font-medium"},r.default.createElement("strong",{className:"text-orange-400 block mb-1"},"ATENCIN:"),"Si tens activado un ",r.default.createElement("span",{className:"text-white font-bold"},"AdBlocker/Bloqueador de Anuncios"),", por favor desactivalo temporalmente. Es posible que el pago no se concrete si el bloqueador interfiere con la seguridad del banco.")),r.default.createElement("div",{id:"cardPaymentBrick_container",ref:H,className:"min-h-[400px]"}),v&&r.default.createElement("div",{className:"mt-4 space-y-3"},r.default.createElement("div",{className:"p-4 bg-red-900/20 border border-red-500/30 rounded-xl text-red-400 text-sm flex items-center gap-3"},r.default.createElement(mi,{className:"w-5 h-5 flex-shrink-0"}),v),r.default.createElement("button",{onClick:()=>{_(null),ay()},className:"w-full py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-xl text-sm font-bold transition-all flex items-center justify-center gap-2"},r.default.createElement(cf,{className:"w-4 h-4"}),"Reintentar Pago")),l&&r.default.createElement("div",{className:"mt-4 p-4 bg-orange-900/20 border border-orange-500/30 rounded-xl text-orange-400 text-sm flex items-center gap-3"},r.default.createElement(ui,{className:"w-5 h-5 animate-spin flex-shrink-0"}),"Procesando tu pago, por favor esper..."))),ue.paymentChoice==="Transferencia"&&r.default.createElement("div",{className:"mt-8 animate-fade-up"},r.default.createElement("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-orange-500/20"},r.default.createElement("h3",{className:"text-white font-bold mb-3 flex items-center gap-2"},r.default.createElement(Qm,{className:"w-5 h-5 text-orange-400"}),"Datos para transferir"),r.default.createElement("div",{className:"space-y-2 text-sm"},r.default.createElement("div",{className:"flex items-start justify-between gap-4"},r.default.createElement("span",{className:"text-slate-400"},"Titular"),r.default.createElement("span",{className:"text-white font-medium text-right break-all"},p?.paymentTransfer?.holderName?String(p.paymentTransfer.holderName):"Sin configurar")),r.default.createElement("div",{className:"flex items-start justify-between gap-4"},r.default.createElement("span",{className:"text-slate-400"},"Alias"),r.default.createElement("span",{className:"text-white font-mono text-right break-all"},p?.paymentTransfer?.alias?String(p.paymentTransfer.alias):"Sin configurar")),r.default.createElement("div",{className:"flex items-start justify-between gap-4"},r.default.createElement("span",{className:"text-slate-400"},"CBU"),r.default.createElement("span",{className:"text-white font-mono text-right break-all"},p?.paymentTransfer?.cbu?String(p.paymentTransfer.cbu):"Sin configurar"))),r.default.createElement("div",{className:"mt-4 p-4 bg-orange-900/10 border border-orange-500/20 rounded-xl flex items-start gap-3"},r.default.createElement(_s,{className:"w-5 h-5 text-orange-500 shrink-0 mt-0.5"}),r.default.createElement("p",{className:"text-xs text-orange-200 leading-relaxed font-medium"},"Una vez realizada la transferencia, confirm el pedido. Si necesits coordinar el comprobante, te contactamos por WhatsApp si est disponible.")))))),r.default.createElement("div",{className:"md:col-span-2"},r.default.createElement("div",{className:`border p-5 sm:p-8 rounded-2xl sm:rounded-[2.5rem] sticky top-20 sm:top-28 shadow-2xl ${f?"bg-gradient-to-br from-slate-900 via-[#0a0a0a] to-[#050505] border-slate-800":"bg-white border-slate-200"}`},r.default.createElement("h3",{className:`font-black mb-6 sm:mb-8 text-lg sm:text-xl border-b pb-4 ${f?"text-white border-slate-800":"text-slate-900 border-slate-100"}`},"Resumen Final"),r.default.createElement("div",{className:"space-y-4 mb-8"},r.default.createElement("div",{className:`flex justify-between ${f?"text-slate-400":"text-slate-500"}`},r.default.createElement("span",null,"Productos (",je.length,")"),r.default.createElement("span",{className:`font-bold ${f?"text-white":"text-slate-900"}`},"$",hr.toLocaleString())),dd>0&&r.default.createElement("div",{className:"flex justify-between text-purple-500 font-bold"},r.default.createElement("span",null,"Descuento"),r.default.createElement("span",null,"-$",dd.toLocaleString())),r.default.createElement("div",{className:`h-px my-4 border-t border-dashed ${f?"bg-slate-800 border-slate-700":"bg-slate-100 border-slate-200"}`}),r.default.createElement("div",{className:"flex justify-between items-end"},r.default.createElement("span",{className:`font-bold ${f?"text-white":"text-slate-900"}`},"Total a Pagar"),r.default.createElement("span",{className:`text-3xl font-black tracking-tighter ${f?"text-white neon-text":"text-slate-900"}`},"$",so.toLocaleString()))),ue.paymentChoice&&ue.paymentChoice!=="Tarjeta"?r.default.createElement(r.default.Fragment,null,r.default.createElement("button",{onClick:$S,disabled:Dr,className:`w-full py-5 text-white font-bold text-lg rounded-2xl shadow-xl flex items-center justify-center gap-3 transition-all ${Dr?"bg-slate-700 cursor-not-allowed":"bg-green-600 hover:bg-green-500 shadow-green-900/20 hover:scale-[1.02]"}`},Dr?r.default.createElement(ui,{className:"w-6 h-6 animate-spin"}):r.default.createElement(Te,{className:"w-6 h-6"}),Dr?"Procesando...":"Confirmar Pedido"),r.default.createElement("p",{className:"text-center text-slate-600 text-xs mt-6 leading-relaxed px-4"},"Al confirmar, aceptas nuestros trminos de servicio y poltica de privacidad.")):ue.paymentChoice==="Tarjeta"?r.default.createElement("div",{className:"bg-orange-900/10 border border-orange-500/20 p-4 rounded-2xl text-center"},r.default.createElement("p",{className:"text-orange-400 text-sm font-medium flex items-center justify-center gap-2"},r.default.createElement(Ns,{className:"w-4 h-4"}),"Complet los datos de tu tarjeta arriba para pagar"),r.default.createElement("p",{className:"text-slate-500 text-xs mt-2"},"Tu compra quedar confirmada automticamente al procesar el pago.")):null)))),t==="profile"&&K&&K.id&&K.email&&K.name&&r.default.createElement("div",{className:"max-w-6xl mx-auto pt-4 sm:pt-8 animate-fade-up px-2 sm:px-4 md:px-8 pb-20"},r.default.createElement("div",{className:`p-4 sm:p-8 md:p-12 rounded-2xl sm:rounded-[3rem] mb-6 sm:mb-12 flex flex-col md:flex-row items-center gap-4 sm:gap-8 relative overflow-hidden shadow-2xl border transition-colors duration-300 ${f?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`},r.default.createElement("div",{className:`absolute top-0 right-0 w-96 h-96 rounded-full blur-[120px] pointer-events-none ${f?"bg-orange-500/5":"bg-orange-500/10"}`}),r.default.createElement("div",{className:`absolute bottom-0 left-0 w-64 h-64 rounded-full blur-[100px] pointer-events-none ${f?"bg-blue-600/5":"bg-blue-600/10"}`}),r.default.createElement("div",{className:`w-20 h-20 sm:w-28 sm:h-28 rounded-2xl sm:rounded-[2rem] bg-gradient-to-br from-orange-500 to-blue-600 flex items-center justify-center text-3xl sm:text-5xl font-black text-white shadow-2xl z-10 transform rotate-3 border-4 ${f?"border-[#0a0a0a]":"border-white"}`},K.name.charAt(0)),r.default.createElement("div",{className:"text-center md:text-left z-10 flex-1"},r.default.createElement("h2",{className:`text-2xl sm:text-4xl md:text-5xl font-black mb-2 tracking-tight ${f?"text-white":"text-slate-900"}`},K.name),r.default.createElement("p",{className:`flex items-center justify-center md:justify-start gap-2 font-medium mb-4 ${f?"text-slate-400":"text-slate-500"}`},r.default.createElement(tf,{className:"w-4 h-4 text-orange-500"})," ",K.email),r.default.createElement("div",{className:"flex flex-wrap gap-4 justify-center md:justify-start"},r.default.createElement("span",{className:`px-4 py-2 rounded-xl text-xs font-mono flex items-center gap-2 border ${f?"bg-slate-900 border-slate-800 text-slate-500":"bg-slate-50 border-slate-200 text-slate-600"}`},r.default.createElement(Hr,{className:"w-3 h-3"})," ",K.dni||"Sin DNI"),r.default.createElement("span",{className:`px-4 py-2 rounded-xl text-xs font-mono flex items-center gap-2 border ${f?"bg-slate-900 border-slate-800 text-slate-500":"bg-slate-50 border-slate-200 text-slate-600"}`},r.default.createElement(lf,{className:"w-3 h-3"})," ",K.phone||"Sin Telfono"),r.default.createElement("span",{className:`px-4 py-2 rounded-xl text-xs font-mono flex items-center gap-2 border ${f?"bg-slate-900 border-slate-800 text-slate-500":"bg-slate-50 border-slate-200 text-slate-600"}`},r.default.createElement(Tn,{className:"w-3 h-3"})," ",Gn(K.email).toUpperCase()))),r.default.createElement("div",{className:"flex flex-col gap-3 z-10 w-full md:w-auto"},Lm(K.email)&&r.default.createElement("button",{onClick:()=>e("admin"),className:`px-6 py-4 rounded-2xl font-bold transition flex items-center justify-center gap-2 shadow-lg border ${f?"bg-slate-900 border-orange-500/30 text-orange-400 hover:bg-orange-900/20 hover:shadow-orange-500/10":"bg-orange-50 border-orange-200 text-orange-600 hover:bg-orange-100"}`},r.default.createElement(Tn,{className:"w-5 h-5"})," Panel Admin"),r.default.createElement("button",{onClick:PS,className:`px-6 py-4 rounded-2xl font-bold transition flex items-center justify-center gap-2 border ${f?"bg-red-900/10 border-red-500/20 text-red-500 hover:bg-red-900/20 hover:border-red-500/40":"bg-red-50 border-red-100 text-red-600 hover:bg-red-100"}`},r.default.createElement(ef,{className:"w-5 h-5"})," Cerrar Sesin"))),r.default.createElement("div",{className:`p-4 sm:p-8 rounded-2xl sm:rounded-[2.5rem] mb-6 sm:mb-12 shadow-2xl animate-fade-up border transition-colors duration-300 ${f?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`},r.default.createElement("h3",{className:`text-xl sm:text-2xl font-black mb-4 sm:mb-6 flex items-center gap-2 sm:gap-3 ${f?"text-white":"text-slate-900"}`},r.default.createElement(Is,{className:"text-purple-400 w-5 h-5 sm:w-6 sm:h-6"})," Mis Cupones Disponibles"),r.default.createElement("div",{className:"grid md:grid-cols-2 gap-4 sm:gap-8"},r.default.createElement("div",{className:"space-y-3 sm:space-y-4"},(()=>{let u=Mr.filter(g=>g.targetType==="global"||g.targetType==="specific_email"&&K?.email&&(g.targetUser||"").toLowerCase()===K.email.toLowerCase());return u.length===0?r.default.createElement("p",{className:`${f?"text-slate-500":"text-slate-400"} italic`},"No tienes cupones disponibles en este momento."):u.map(g=>r.default.createElement("div",{key:g.id,className:`p-4 rounded-xl flex items-center justify-between group transition border ${f?"bg-slate-900/50 border-slate-800 hover:border-purple-500/30":"bg-slate-50 border-slate-100 hover:border-purple-300 hover:bg-white"}`},r.default.createElement("div",null,r.default.createElement("p",{className:`font-black text-lg tracking-widest ${f?"text-white":"text-slate-900"}`},g.code),r.default.createElement("p",{className:`text-sm font-bold ${f?"text-purple-400":"text-purple-600"}`},g.type==="fixed"?`$${g.value} OFF`:`${g.value}% OFF`),g.expirationDate&&r.default.createElement("p",{className:`text-[10px] mt-1 ${f?"text-slate-500":"text-slate-400"}`},"Vence: ",g.expirationDate)),r.default.createElement("button",{onClick:()=>{navigator.clipboard.writeText(g.code),M("Cdigo copiado","success")},className:`px-4 py-2 rounded-lg text-xs font-bold transition border ${f?"bg-purple-900/20 text-purple-400 border-purple-500/20 hover:bg-purple-500 hover:text-white":"bg-purple-50 text-purple-600 border-purple-200 hover:bg-purple-600 hover:text-white"}`},"COPIAR")))})()),r.default.createElement("div",{className:`p-6 rounded-2xl border ${f?"bg-slate-900/30 border-slate-800":"bg-slate-50 border-slate-200"}`},r.default.createElement("h4",{className:`font-bold mb-4 text-sm uppercase tracking-wider ${f?"text-white":"text-slate-900"}`},"Canjear Cdigo"),r.default.createElement("div",{className:"flex gap-2"},r.default.createElement("input",{className:`flex-1 rounded-xl p-3 outline-none uppercase font-mono border ${f?"bg-slate-950 border-slate-800 text-white focus:border-purple-500":"bg-white border-slate-200 text-slate-900 focus:border-purple-400"}`,placeholder:"CDIGO",id:"couponRedeemInput"}),r.default.createElement("button",{onClick:()=>{let u=document.getElementById("couponRedeemInput"),g=String(u?.value||"").trim().toUpperCase();if(!g)return M("Ingresa un cdigo","warning");Mr.find(x=>x.code===g)?M("Cupn vlido! salo en el checkout.","success"):M("Cupn no encontrado o invlido","error")},className:"bg-purple-600 px-6 rounded-xl text-white font-bold hover:bg-purple-500 transition shadow-lg"},"Validar")),r.default.createElement("p",{className:`text-xs mt-3 leading-relaxed ${f?"text-slate-500":"text-slate-400"}`},"Ingresa el cdigo aqu para verificar si es vlido. Llvalo al checkout para aplicar el descuento.")))),r.default.createElement("div",{className:"grid lg:grid-cols-2 gap-10"},r.default.createElement("div",{className:"space-y-6"},r.default.createElement("div",{className:"flex items-center justify-between"},r.default.createElement("h3",{className:`text-2xl font-black flex items-center gap-3 ${f?"text-white":"text-slate-900"}`},r.default.createElement(Es,{className:"text-orange-400 w-6 h-6"})," Tus Compras")),(()=>{let g=Ce.filter(y=>y.userId===K.id&&y.status==="Realizado").flatMap(y=>y.items.map(x=>({...x,date:y.date})));return g.length===0?r.default.createElement("div",{className:`p-12 border-2 border-dashed rounded-[2rem] text-center bg-slate-900/20 ${f?"border-slate-800 text-slate-500":"border-slate-200 text-slate-400 bg-slate-50"}`},r.default.createElement(Es,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.default.createElement("p",{className:"font-bold"},"An no tienes compras finalizadas."),r.default.createElement("button",{onClick:()=>e("store"),className:"mt-4 text-orange-400 hover:underline text-sm font-bold"},"Ir a la tienda")):r.default.createElement("div",{className:"grid grid-cols-1 gap-4 max-h-[600px] overflow-y-auto custom-scrollbar pr-2"},g.sort((y,x)=>new Date(x.date)-new Date(y.date)).map((y,x)=>r.default.createElement("div",{key:x,className:`p-4 rounded-2xl flex items-center gap-4 group transition duration-300 border ${f?"bg-[#0a0a0a] border-slate-800 hover:border-orange-500/50":"bg-white border-slate-200 hover:border-orange-400 hover:shadow-md"}`},r.default.createElement("div",{className:`w-16 h-16 rounded-xl p-1 flex-shrink-0 ${f?"bg-white":"bg-slate-50 border border-slate-100"}`},r.default.createElement("img",{src:y.image,className:"w-full h-full object-contain",alt:y.title})),r.default.createElement("div",{className:"flex-1 min-w-0"},r.default.createElement("h4",{className:`font-bold text-sm truncate transition group-hover:text-orange-500 ${f?"text-white":"text-slate-900"}`},y.title),r.default.createElement("p",{className:`text-xs font-mono mt-1 ${f?"text-slate-500":"text-slate-400"}`},new Date(y.date).toLocaleDateString())),r.default.createElement("div",{className:"text-right flex flex-col items-end gap-1"},r.default.createElement("p",{className:`font-black ${f?"text-white":"text-slate-900"}`},"$",y.unit_price.toLocaleString()),y.quantity>1&&r.default.createElement("span",{className:`text-[10px] font-bold ${f?"text-slate-500":"text-slate-400"}`},"x",y.quantity," und.")))))})()),r.default.createElement("div",{className:"space-y-6"},r.default.createElement("div",{className:"flex items-center justify-between"},r.default.createElement("h3",{className:`text-2xl font-black flex items-center gap-3 ${f?"text-white":"text-slate-900"}`},r.default.createElement(iu,{className:"text-red-500 w-6 h-6 fill-current"})," Mis Favoritos"),r.default.createElement("span",{className:`text-xs font-bold px-3 py-1 rounded-full ${f?"text-slate-500 bg-slate-900":"text-slate-600 bg-slate-100"}`},K.favorites?.length||0," Guardados")),!K.favorites||K.favorites.length===0?r.default.createElement("div",{className:`p-12 border-2 border-dashed rounded-[2rem] text-center bg-slate-900/20 ${f?"border-slate-800 text-slate-500":"border-slate-200 text-slate-400 bg-slate-50"}`},r.default.createElement(iu,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.default.createElement("p",{className:"font-bold"},"Tu lista de deseos est vaca."),r.default.createElement("p",{className:"text-xs mt-2 max-w-xs mx-auto"},"Guarda productos haciendo click en el corazn de las tarjetas.")):r.default.createElement("div",{className:"space-y-4 max-h-[600px] overflow-y-auto custom-scrollbar pr-2"},K.favorites.map(u=>{let g=le.find(y=>y.id===u);return g?r.default.createElement("div",{key:u,className:`p-4 rounded-2xl flex items-center gap-4 relative group transition border ${f?"bg-[#0a0a0a] border-slate-800 hover:border-slate-600":"bg-white border-slate-200 hover:border-orange-400 hover:shadow-md"}`},r.default.createElement("div",{className:`w-16 h-16 rounded-xl p-1 flex-shrink-0 ${f?"bg-white":"bg-slate-50 border border-slate-100"}`},r.default.createElement("img",{src:g.image,alt:g.name||"Producto",className:"w-full h-full object-contain"})),r.default.createElement("div",{className:"flex-1 min-w-0"},r.default.createElement("p",{className:`font-bold line-clamp-1 transition group-hover:text-orange-500 ${f?"text-white":"text-slate-900"}`},g.name),r.default.createElement("p",{className:"text-orange-500 font-bold text-sm mt-1"},"$",g.basePrice.toLocaleString())),r.default.createElement("div",{className:"flex gap-2"},r.default.createElement("button",{onClick:()=>sy(g),className:`p-3 rounded-xl transition border ${f?"bg-slate-900 text-red-400 border-slate-800 hover:bg-red-900/20 hover:border-red-500/30":"bg-red-50 text-red-500 border-red-100 hover:bg-red-100"}`,title:"Eliminar de favoritos"},r.default.createElement(ht,{className:"w-4 h-4"})),r.default.createElement("button",{onClick:()=>ii(g,1),className:`p-3 rounded-xl transition border ${f?"bg-slate-900 text-orange-400 border-slate-800 hover:bg-orange-900/20 hover:border-orange-500/30":"bg-orange-50 text-orange-600 border-orange-100 hover:bg-orange-100"}`,title:"Agregar al carrito"},r.default.createElement(hn,{className:"w-4 h-4"})))):null}))))),t==="profile"&&(!K||!K.id||!K.email||!K.name)&&r.default.createElement("div",{className:"max-w-md mx-auto pt-20 animate-fade-up px-4 text-center"},r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem] shadow-2xl"},r.default.createElement(Hr,{className:"w-16 h-16 mx-auto mb-6 text-orange-500 opacity-50"}),r.default.createElement("h2",{className:"text-2xl font-black text-white mb-4"},"Inicia Sesin"),r.default.createElement("p",{className:"text-slate-400 mb-8"},"Debes iniciar sesin o registrarte para acceder a tu perfil."),r.default.createElement("button",{onClick:()=>e("login"),className:"w-full py-4 bg-gradient-to-r from-orange-500 to-blue-600 text-white rounded-2xl font-black hover:from-orange-400 hover:to-blue-500 transition shadow-lg"},"INICIAR SESIN"))),(t==="login"||t==="register")&&r.default.createElement("div",{className:"fixed inset-0 z-[20002] flex items-end sm:items-center justify-center bg-[#050505]/95 p-0 sm:p-4 animate-fade-up backdrop-blur-xl"},r.default.createElement("div",{className:"bg-[#0a0a0a] p-5 sm:p-8 md:p-12 rounded-t-3xl sm:rounded-[3rem] w-full max-w-md shadow-2xl border border-slate-800 relative overflow-hidden max-h-[95dvh] overflow-y-auto"},r.default.createElement("button",{onClick:()=>e("store"),className:"absolute top-6 right-6 p-2 bg-slate-900/50 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white transition z-20"},r.default.createElement(It,{className:"w-6 h-6"})),r.default.createElement("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-orange-500 via-orange-600 to-red-600"}),r.default.createElement("h2",{className:"text-2xl sm:text-4xl font-black text-white mb-2 text-center tracking-tight"},zn?"Bienvenido":"Crear Cuenta"),r.default.createElement("p",{className:"text-slate-500 text-center mb-5 sm:mb-8 text-sm"},zn?"Ingresa a tu cuenta para continuar.":"nete a nosotros hoy mismo."),r.default.createElement("form",{onSubmit:u=>{u.preventDefault(),AS(!zn)},className:"space-y-4"},!zn&&r.default.createElement("div",{className:"space-y-4 animate-fade-up"},r.default.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Nombre Completo *",value:Ne.name,onChange:u=>sr({...Ne,name:u.target.value}),required:!0}),r.default.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Nombre de Usuario *",value:Ne.username,onChange:u=>sr({...Ne,username:u.target.value}),required:!0}),r.default.createElement("div",{className:"grid grid-cols-2 gap-4"},r.default.createElement("input",{className:"input-cyber p-4",placeholder:"DNI *",value:Ne.dni,onChange:u=>sr({...Ne,dni:u.target.value}),required:!0}),r.default.createElement("input",{className:"input-cyber p-4",placeholder:"Telfono *",value:Ne.phone,onChange:u=>sr({...Ne,phone:u.target.value}),required:!0}))),r.default.createElement("div",{className:"space-y-4"},r.default.createElement("input",{className:"input-cyber w-full p-4",placeholder:zn?"Email":"Email *",value:Ne.email,onChange:u=>sr({...Ne,email:u.target.value}),required:!0}),r.default.createElement("input",{className:"input-cyber w-full p-4",type:"password",placeholder:zn?"Contrasea":"Contrasea *",value:Ne.password,onChange:u=>sr({...Ne,password:u.target.value}),required:!0})),zn&&r.default.createElement("button",{type:"button",onClick:DS,className:"text-sm text-slate-500 hover:text-orange-400 transition text-right w-full mt-1"},"Olvidaste tu contrasea?"),r.default.createElement("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-600 to-blue-600 hover:from-orange-500 hover:to-blue-500 py-4 text-white rounded-xl font-bold mt-6 transition transform hover:-translate-y-1 shadow-lg flex items-center justify-center gap-2"},Ys?r.default.createElement(ui,{className:"animate-spin w-5 h-5"}):zn?"INGRESAR":"REGISTRARSE")),r.default.createElement("button",{onClick:()=>Zs(!zn),className:"w-full text-center text-slate-500 text-sm mt-8 font-bold hover:text-orange-400 transition border-t border-slate-800 pt-6"},zn?"No tienes cuenta? Regstrate gratis":"Ya tienes cuenta? Inicia sesin"))),t==="about"&&r.default.createElement("div",{className:"max-w-4xl mx-auto pt-6 sm:pt-10 px-3 sm:px-6 animate-fade-up pb-20"},r.default.createElement("button",{onClick:()=>e("store"),className:`mb-4 sm:mb-8 p-3 rounded-full transition ${f?"bg-slate-900 text-slate-400 hover:text-white":"bg-slate-100 text-slate-600 hover:text-slate-900"}`},r.default.createElement(ws,null)),r.default.createElement("h2",{className:`text-2xl sm:text-4xl md:text-5xl font-black mb-6 sm:mb-12 flex items-center gap-3 sm:gap-4 ${f?"text-white neon-text":"text-slate-900"}`},r.default.createElement(_s,{className:"text-orange-500 w-8 h-8 sm:w-12 sm:h-12"})," Sobre Nosotros"),r.default.createElement("div",{className:`border p-4 sm:p-8 md:p-12 rounded-2xl sm:rounded-[3rem] text-base sm:text-xl leading-relaxed whitespace-pre-wrap shadow-2xl relative overflow-hidden ${f?"bg-[#0a0a0a] border-slate-800 text-slate-300":"bg-white border-slate-200 text-slate-600"}`},r.default.createElement("div",{className:"absolute top-0 right-0 w-64 h-64 bg-purple-500/10 rounded-full blur-[100px] pointer-events-none"}),r.default.createElement("p",{className:"relative z-10"},p?.aboutUsText||""),r.default.createElement("div",{className:`mt-12 pt-12 border-t flex flex-col md:flex-row gap-8 ${f?"border-slate-800":"border-slate-200"}`},r.default.createElement("div",{className:"flex items-center gap-4"},r.default.createElement("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border ${f?"bg-slate-900 border-slate-800":"bg-slate-100 border-slate-200"}`},r.default.createElement(Tn,{className:"text-orange-500"})),r.default.createElement("div",null,r.default.createElement("h4",{className:`font-bold ${f?"text-white":"text-slate-900"}`},"Garanta Oficial"),r.default.createElement("p",{className:`text-sm ${f?"text-slate-500":"text-slate-400"}`},"Productos de calidad"))),r.default.createElement("div",{className:"flex items-center gap-4"},r.default.createElement("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border ${f?"bg-slate-900 border-slate-800":"bg-slate-100 border-slate-200"}`},r.default.createElement(Gr,{className:"text-purple-500"})),r.default.createElement("div",null,r.default.createElement("h4",{className:`font-bold ${f?"text-white":"text-slate-900"}`},"Envos Seguros"),r.default.createElement("p",{className:`text-sm ${f?"text-slate-500":"text-slate-400"}`},"A todo el pas")))))),t==="guide"&&r.default.createElement("div",{className:"max-w-4xl mx-auto pt-6 sm:pt-10 px-3 sm:px-6 animate-fade-up pb-20"},r.default.createElement("button",{onClick:()=>e("store"),className:`mb-4 sm:mb-8 p-3 rounded-full transition ${f?"bg-slate-900 text-slate-400 hover:text-white":"bg-slate-100 text-slate-600 hover:text-slate-900"}`},r.default.createElement(ws,null)),r.default.createElement("h2",{className:`text-2xl sm:text-4xl md:text-5xl font-black mb-6 sm:mb-12 flex items-center gap-3 sm:gap-4 ${f?"text-white neon-text":"text-slate-900"}`},r.default.createElement(md,{className:"text-orange-500 w-8 h-8 sm:w-12 sm:h-12"})," ",p?.guideTitle||"Cmo Comprar"),r.default.createElement("div",{className:`border p-4 sm:p-8 md:p-12 rounded-2xl sm:rounded-[3rem] shadow-2xl space-y-6 sm:space-y-8 ${f?"bg-[#0a0a0a] border-slate-800 text-slate-300":"bg-white border-slate-200 text-slate-600"}`},[{num:1,title:p?.guideStep1Title||"Selecciona Productos",text:p?.guideStep1Text||"Navega por nuestro catlogo y aade lo que te guste al carrito con el botn '+'."},{num:2,title:p?.guideStep2Title||"Revisa tu Carrito",text:p?.guideStep2Text||"Verifica las cantidades. Si tienes un cupn de descuento, es el momento de usarlo!"},{num:3,title:p?.guideStep3Title||"Datos de Envo",text:p?.guideStep3Text||"Completa la informacin de entrega. Hacemos envos a todo el pas."},{num:4,title:p?.guideStep4Title||"Pago y Confirmacin",text:p?.guideStep4Text||"Elige tu mtodo de pago preferido. Si es transferencia, recibirs los datos por email."},{num:5,title:p?.guideStep5Title||"Listo!",text:p?.guideStep5Text||"Recibirs un correo con el seguimiento de tu pedido. Disfruta tu compra!"}].filter((u,g)=>!(g===0&&p?.showGuideStep1===!1||g===1&&p?.showGuideStep2===!1||g===2&&p?.showGuideStep3===!1||g===3&&p?.showGuideStep4===!1||g===4&&p?.showGuideStep5===!1)).map((u,g)=>r.default.createElement("div",{key:u.num,className:"flex gap-6 items-start"},r.default.createElement("div",{className:`w-10 h-10 rounded-full font-black flex items-center justify-center border flex-shrink-0 mt-1 ${f?"bg-orange-900/20 text-orange-400 border-orange-500/20":"bg-orange-100 text-orange-600 border-orange-200"}`},u.num),r.default.createElement("div",null,r.default.createElement("h3",{className:`text-xl font-bold mb-2 ${f?"text-white":"text-slate-900"}`},u.title),r.default.createElement("p",{className:`leading-relaxed ${f?"text-slate-400":"text-slate-500"}`},u.text)))))),t==="privacy"&&r.default.createElement("div",{className:"max-w-4xl mx-auto pt-6 sm:pt-10 px-3 sm:px-6 animate-fade-up pb-20"},r.default.createElement("button",{onClick:()=>e("store"),className:`mb-4 sm:mb-8 p-3 rounded-full transition ${f?"bg-slate-900 text-slate-400 hover:text-white":"bg-slate-100 text-slate-600 hover:text-slate-900"}`},r.default.createElement(ws,null)),r.default.createElement("h2",{className:`text-2xl sm:text-4xl md:text-5xl font-black mb-6 sm:mb-12 flex items-center gap-3 sm:gap-4 ${f?"text-white neon-text":"text-slate-900"}`},r.default.createElement(Tn,{className:"text-orange-500 w-8 h-8 sm:w-12 sm:h-12"})," Poltica de Privacidad"),r.default.createElement("div",{className:`border p-4 sm:p-8 md:p-12 rounded-2xl sm:rounded-[3rem] shadow-2xl space-y-6 sm:space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar ${f?"bg-[#0a0a0a] border-slate-800 text-slate-300":"bg-white border-slate-200 text-slate-600"}`},r.default.createElement("div",{className:"prose prose-invert max-w-none"},r.default.createElement("p",{className:`text-sm mb-8 italic ${f?"text-slate-500":"text-slate-400"}`},"ltima actualizacin: 07 de enero de 2026"),r.default.createElement("p",null,"Este Aviso de Privacidad para ",r.default.createElement("strong",null,p?.storeName||"Sustore"),' ("nosotros", "nos" o "nuestro"), describe cmo y por qu podramos acceder, recopilar, almacenar, usar y/o compartir ("proceso") su informacin personal cuando utiliza nuestros servicios ("Servicios"), incluso cuando:'),r.default.createElement("ul",{className:"list-disc pl-5 space-y-2"},r.default.createElement("li",null,"Visita nuestro sitio web en ",r.default.createElement("a",{href:p?.seoUrl||"#",className:"text-orange-500 hover:underline"},p?.seoUrl||"[URL del sitio]")," o cualquier sitio web nuestro que enlace a este Aviso de Privacidad."),r.default.createElement("li",null,"Interacte con nosotros de otras maneras relacionadas, incluido cualquier marketing o evento.")),r.default.createElement("div",{className:`p-6 rounded-2xl border my-8 ${f?"bg-slate-900/50 border-slate-800 text-slate-300":"bg-slate-50 border-slate-200 text-slate-700"}`},r.default.createElement("h3",{className:`text-xl font-bold mb-4 ${f?"text-white":"text-slate-900"}`},"RESUMEN DE PUNTOS CLAVE"),r.default.createElement("ul",{className:"space-y-4 text-sm"},r.default.createElement("li",null,r.default.createElement("strong",null,"Qu informacin personal procesamos?")," Informacin proporcionada al registrarse o comprar."),r.default.createElement("li",null,r.default.createElement("strong",null,"Procesamos informacin confidencial?")," No."),r.default.createElement("li",null,r.default.createElement("strong",null,"Recopilamos informacin de terceros?")," No."),r.default.createElement("li",null,r.default.createElement("strong",null,"Cmo procesamos su informacin?")," Para gestionar pedidos, seguridad y mejora del servicio."),r.default.createElement("li",null,r.default.createElement("strong",null,"Compartimos informacin?")," Solo en situaciones especficas como transferencias comerciales o requisitos legales."))),r.default.createElement("h3",{className:`text-xl font-bold mt-12 mb-4 border-b pb-2 ${f?"text-white border-slate-800":"text-slate-900 border-slate-200"}`},"1. QU INFORMACIN RECOPILAMOS?"),r.default.createElement("p",null,"Recopilamos informacin que usted nos proporciona voluntariamente: nombres, telfonos, emails, direcciones, nombres de usuario y contraseas."),r.default.createElement("p",null,"Tambin recopilamos datos tcnicos automticamente (IP, tipo de navegador) para seguridad y anlisis del sitio."),r.default.createElement("h3",{className:`text-xl font-bold mt-12 mb-4 border-b pb-2 ${f?"text-white border-slate-800":"text-slate-900 border-slate-200"}`},"2. CMO PROCESAMOS TU INFORMACIN?"),r.default.createElement("ul",{className:"list-disc pl-5 space-y-2"},r.default.createElement("li",null,"Facilitar creacin y administracin de cuentas."),r.default.createElement("li",null,"Gestionar pedidos, pagos y envos."),r.default.createElement("li",null,"Proteger nuestros servicios contra fraude."),r.default.createElement("li",null,"Evaluar y mejorar la experiencia del usuario.")),r.default.createElement("h3",{className:`text-xl font-bold mt-12 mb-4 border-b pb-2 ${f?"text-white border-slate-800":"text-slate-900 border-slate-200"}`},"3. CUNTO TIEMPO CONSERVAMOS TU INFORMACIN?"),r.default.createElement("p",null,"Conservamos su informacin mientras tenga una cuenta activa con nosotros o segn lo exija la ley para fines contables o legales."),r.default.createElement("h3",{className:`text-xl font-bold mt-12 mb-4 border-b pb-2 ${f?"text-white border-slate-800":"text-slate-900 border-slate-200"}`},"4. CULES SON SUS DERECHOS?"),r.default.createElement("p",null,"Puede revisar, cambiar o cancelar su cuenta en cualquier momento desde su perfil o contactndonos directamente."),r.default.createElement("h3",{className:`text-xl font-bold mt-12 mb-4 border-b pb-2 ${f?"text-white border-slate-800":"text-slate-900 border-slate-200"}`},"5. CONTACTO"),r.default.createElement("p",null,"Para preguntas sobre este aviso, puede escribirnos a:"),r.default.createElement("div",{className:`p-6 rounded-xl border font-mono text-sm leading-relaxed ${f?"bg-slate-950 border-slate-800":"bg-white border-slate-200 shadow-sm"}`},r.default.createElement("strong",null,p?.storeName||"Sustore"),r.default.createElement("br",null),p?.storeAddress||"[Direccin de contacto]",r.default.createElement("br",null),r.default.createElement("a",{href:`https://mail.google.com/mail/?view=cm&fs=1&to=${p?.storeEmail}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:underline"},p?.storeEmail||"[Email de contacto]"))))),t==="admin"&&(!Bt||Rl(K?.email)?r.default.createElement("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center"},r.default.createElement("div",{className:"text-center"},r.default.createElement("div",{className:"relative"},r.default.createElement("div",{className:"w-16 h-16 rounded-full border-4 border-slate-800 animate-spin",style:{borderTopColor:"#f97316"}}),r.default.createElement("div",{className:"absolute inset-0 flex items-center justify-center"},r.default.createElement(Tn,{className:"w-6 h-6 text-orange-500 animate-pulse"}))),r.default.createElement("p",{className:"text-slate-500 text-xs mt-4 font-mono uppercase tracking-widest"},"Verificando permisos..."))):Lm(K?.email)&&K?.id&&K?.id.length>=10&&!_S.detectManipulation()?r.default.createElement("div",{className:"flex min-h-screen min-full-viewport bg-[#050505] animate-fade-up relative w-full font-sans"},j&&r.default.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden animate-fade-in",onClick:()=>z(!1)}),r.default.createElement("div",{className:`fixed inset-y-0 left-0 z-40 w-[280px] bg-[#0a0a0a] border-r border-slate-800 flex flex-col transition-transform duration-300 ease-out ${j?"translate-x-0":"-translate-x-full md:translate-x-0"} md:static md:w-72 shadow-2xl`},r.default.createElement("div",{className:"p-6 md:p-8 border-b border-slate-900 flex items-center justify-between"},r.default.createElement("div",null,r.default.createElement("h2",{className:"text-xl md:text-2xl font-black text-white tracking-tight flex items-center gap-3"},r.default.createElement("div",{className:"w-9 h-9 md:w-10 md:h-10 bg-orange-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-orange-900/20"},r.default.createElement(Tn,{className:"w-5 h-5 md:w-6 md:h-6"})),"ADMIN"),r.default.createElement("p",{className:"text-[10px] md:text-xs text-slate-500 mt-1.5 font-mono ml-1"},"v3.0.0 PRO")),r.default.createElement("button",{onClick:()=>z(!1),className:"md:hidden p-2 bg-slate-900 hover:bg-slate-800 rounded-xl text-slate-400 hover:text-white transition border border-slate-800"},r.default.createElement(It,{className:"w-5 h-5"}))),r.default.createElement("nav",{className:"flex-1 p-3 md:p-4 space-y-1.5 md:space-y-2 overflow-y-auto custom-scrollbar"},r.default.createElement("p",{className:"text-[10px] font-black text-slate-600 uppercase tracking-widest px-3 md:px-4 py-2 mt-1"},"Principal"),r.default.createElement("button",{onClick:()=>{s("dashboard"),z(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${n==="dashboard"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},r.default.createElement(Ny,{className:"w-5 h-5"})," Inicio"),r.default.createElement("button",{onClick:()=>{s("orders"),z(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${n==="orders"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},r.default.createElement(Es,{className:"w-5 h-5"})," Pedidos",at&&Mm&&r.default.createElement("span",{className:"ml-auto text-[10px] px-2 py-1 rounded-full bg-red-900/30 text-red-300 border border-red-500/30 font-black uppercase tracking-widest"},"Nuevo")),r.default.createElement("button",{onClick:()=>{s("products"),z(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${n==="products"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},r.default.createElement(mr,{className:"w-5 h-5"})," Productos"),($t(K?.email)||ya(K?.email))&&r.default.createElement("button",{onClick:()=>{s("promos"),z(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${n==="promos"?"bg-purple-900/20 text-purple-400 border border-purple-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},r.default.createElement(Sa,{className:"w-5 h-5"})," Promos"),$t(K?.email)&&r.default.createElement("button",{onClick:()=>{s("carousel"),z(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${n==="carousel"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},r.default.createElement(uf,{className:"w-5 h-5"})," Carrusel",!["business","premium"].includes(p?.subscriptionPlan)&&r.default.createElement(pr,{className:"w-3 h-3 text-yellow-500 ml-auto"})),$t(K?.email)&&r.default.createElement(r.default.Fragment,null,r.default.createElement("p",{className:"text-[10px] font-black text-slate-600 uppercase tracking-widest px-3 md:px-4 py-2 mt-4 md:mt-6"},"Gestin"),r.default.createElement("button",{onClick:()=>{s("coupons"),z(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${n==="coupons"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},r.default.createElement(Is,{className:"w-5 h-5"})," Cupones",!["business","premium"].includes(p?.subscriptionPlan)&&r.default.createElement(pr,{className:"w-3 h-3 text-yellow-500 ml-auto"})),r.default.createElement("button",{onClick:()=>{s("suppliers"),z(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${n==="suppliers"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},r.default.createElement(Gr,{className:"w-5 h-5"})," Proveedores"),r.default.createElement("button",{onClick:()=>{s("purchases"),z(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${n==="purchases"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},r.default.createElement(ao,{className:"w-5 h-5"})," Compras"),r.default.createElement("button",{onClick:()=>{s("finance"),z(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${n==="finance"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},r.default.createElement(gf,{className:"w-5 h-5"})," Finanzas"),r.default.createElement("button",{onClick:()=>{s("settings"),z(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${n==="settings"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},r.default.createElement(df,{className:"w-5 h-5"})," Configuracin"),r.default.createElement("button",{onClick:()=>{s("users"),z(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${n==="users"?"bg-pink-900/20 text-pink-400 border border-pink-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},r.default.createElement(co,{className:"w-5 h-5"})," Usuarios"))),r.default.createElement("div",{className:"p-4 md:p-6 border-t border-slate-900"},r.default.createElement("button",{onClick:()=>{e("store"),z(!1)},className:"w-full py-3.5 md:py-4 bg-slate-900 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition font-bold text-sm flex items-center justify-center gap-2 group border border-slate-800"},r.default.createElement(ef,{className:"w-4 h-4 group-hover:-translate-x-1 transition"})," Volver a Tienda"))),r.default.createElement("div",{className:"flex-1 bg-[#050505] overflow-y-auto relative w-full p-4 md:p-10 custom-scrollbar"},r.default.createElement("button",{onClick:()=>z(!0),className:"md:hidden mb-4 p-3 bg-slate-900 hover:bg-slate-800 rounded-xl text-white border border-slate-800 flex items-center gap-2 font-bold text-sm transition"},r.default.createElement(sf,{className:"w-5 h-5"})," Men"),n==="dashboard"&&r.default.createElement("div",{className:"max-w-[1600px] mx-auto animate-fade-up space-y-8 pb-20"},r.default.createElement(rT,null),r.default.createElement(sT,null),r.default.createElement("div",{className:"flex flex-col md:flex-row justify-between items-end mb-4 gap-4"},r.default.createElement("div",null,r.default.createElement("h1",{className:"text-4xl font-black text-white neon-text"},"Panel de Control"),r.default.createElement("p",{className:"text-slate-500 mt-2"},"Resumen administrativo y financiero.")),r.default.createElement("div",{className:"flex items-center gap-3"},r.default.createElement(Pr,{guideKey:"dashboard"}),r.default.createElement("div",{className:"hidden md:block bg-slate-900 px-4 py-2 rounded-lg text-xs text-slate-400 font-mono border border-slate-800"},new Date().toLocaleDateString("es-AR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})))),r.default.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8"},r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2.5rem] relative overflow-hidden group hover:border-green-500/30 transition"},r.default.createElement("div",{className:"flex justify-between items-center mb-6"},r.default.createElement("div",null,r.default.createElement("p",{className:"text-slate-500 font-black text-xs tracking-widest uppercase mb-1"},"Ingresos Brutos"),r.default.createElement("h2",{className:"text-4xl font-black text-white tracking-tighter"},"$",Ie.revenue.toLocaleString())),r.default.createElement("div",{className:"p-4 bg-green-900/20 text-green-400 rounded-2xl"},r.default.createElement(su,{className:"w-8 h-8"}))),r.default.createElement("div",{className:"space-y-4 mt-8 border-t border-slate-800 pt-6"},r.default.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4"},"Rendimiento Mensual"),Ie.analytics.monthly.slice(-6).reverse().map((u,g)=>{let y=Math.max(...Ie.analytics.monthly.map(k=>k.revenue)),x=y>0?u.revenue/y*100:0;return r.default.createElement("div",{key:g,className:"group/item"},r.default.createElement("div",{className:"flex justify-between text-xs mb-1"},r.default.createElement("span",{className:"text-slate-400 font-mono"},u.date),r.default.createElement("span",{className:"text-white font-bold"},"$",u.revenue.toLocaleString())),r.default.createElement("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden w-full"},r.default.createElement("div",{className:"h-full bg-gradient-to-r from-green-600 to-emerald-400 rounded-full transition-all duration-1000 group-hover/item:brightness-125",style:{width:`${x}%`}})))}),Ie.analytics.monthly.length===0&&r.default.createElement("p",{className:"text-slate-600 text-xs"},"Sin datos suficientes."))),r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2.5rem] relative overflow-hidden group hover:border-orange-500/30 transition"},r.default.createElement("div",{className:"flex justify-between items-center mb-6"},r.default.createElement("div",null,r.default.createElement("p",{className:"text-slate-500 font-black text-xs tracking-widest uppercase mb-1"},"Beneficio Neto (Estimado)"),r.default.createElement("h2",{className:`text-4xl font-black tracking-tighter ${Ie.netIncome>=0?"text-orange-400":"text-red-500"}`},"$",Ie.netIncome.toLocaleString())),r.default.createElement("div",{className:`p-4 rounded-2xl ${Ie.netIncome>=0?"bg-orange-900/20 text-orange-400":"bg-red-900/20 text-red-500"}`},Ie.netIncome>=0?r.default.createElement(yd,{className:"w-8 h-8"}):r.default.createElement(xd,{className:"w-8 h-8"}))),r.default.createElement("div",{className:"space-y-4 mt-8 border-t border-slate-800 pt-6"},r.default.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4"},"Ingresos vs Gastos (ltimos Meses)"),Ie.analytics.monthly.slice(-6).reverse().map((u,g)=>{let y=i.filter(U=>U.date.startsWith(u.date)).reduce((U,L)=>U+L.amount,0)+(d||[]).filter(U=>U.date.startsWith(u.date)).reduce((U,L)=>U+L.cost,0),x=u.revenue+y,k=x>0?u.revenue/x*100:0;return r.default.createElement("div",{key:g,className:"group/item"},r.default.createElement("div",{className:"flex justify-between text-xs mb-1"},r.default.createElement("span",{className:"text-slate-400 font-mono"},u.date),r.default.createElement("span",{className:"text-orange-400 font-bold"},"+$",(u.revenue-y).toLocaleString())),r.default.createElement("div",{className:"flex h-2 bg-slate-800 rounded-full overflow-hidden w-full"},r.default.createElement("div",{title:`Ingresos: $${u.revenue}`,className:"h-full bg-orange-500 transition-all duration-1000",style:{width:`${k}%`}}),r.default.createElement("div",{title:`Gastos: $${y}`,className:"h-full bg-red-500 transition-all duration-1000",style:{width:`${100-k}%`}})))}),Ie.analytics.monthly.length===0&&r.default.createElement("p",{className:"text-slate-600 text-xs"},"Sin datos suficientes.")))),r.default.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},r.default.createElement("div",{className:"bg-slate-900/30 p-4 rounded-2xl border border-slate-800"},r.default.createElement("p",{className:"text-slate-500 text-[10px] uppercase font-bold text-center"},"Usuarios Totales"),r.default.createElement("p",{className:"text-white font-black text-2xl text-center mt-1"},Ie.totalUsers)),r.default.createElement("div",{className:"bg-slate-900/30 p-4 rounded-2xl border border-slate-800"},r.default.createElement("p",{className:"text-slate-500 text-[10px] uppercase font-bold text-center"},"Pedidos Totales"),r.default.createElement("p",{className:"text-white font-black text-2xl text-center mt-1"},Ie.totalOrders)),r.default.createElement("div",{className:"bg-slate-900/30 p-4 rounded-2xl border border-slate-800"},r.default.createElement("p",{className:"text-slate-500 text-[10px] uppercase font-bold text-center"},"Ticket Promedio"),r.default.createElement("p",{className:"text-white font-black text-2xl text-center mt-1"},"$",Ie.totalOrders>0?Math.round(Ie.revenue/Ie.totalOrders).toLocaleString():0)),r.default.createElement("div",{className:"bg-slate-900/30 p-4 rounded-2xl border border-slate-800"},r.default.createElement("p",{className:"text-slate-500 text-[10px] uppercase font-bold text-center"},"Stock Bajo"),r.default.createElement("p",{className:`font-black text-2xl text-center mt-1 ${Ie.lowStockProducts.length>0?"text-red-500":"text-green-500"}`},Ie.lowStockProducts.length))),r.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8"},r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2.5rem] relative overflow-hidden group hover:border-yellow-500/30 transition"},r.default.createElement("div",{className:"absolute top-0 right-0 p-8 opacity-10 pointer-events-none"},r.default.createElement(lo,{className:"w-32 h-32 text-yellow-500"})),r.default.createElement("p",{className:"text-slate-500 font-black text-xs tracking-widest uppercase mb-4 flex items-center gap-2"},r.default.createElement(lo,{className:"w-4 h-4 text-yellow-500"})," Producto Estrella"),Ie.starProduct?r.default.createElement("div",{className:"flex items-center gap-6 relative z-10"},r.default.createElement("div",{className:"w-24 h-24 bg-white rounded-2xl p-2 shadow-lg flex-shrink-0"},r.default.createElement("img",{src:Ie.starProduct.image,alt:Ie.starProduct.name||"Producto estrella",className:"w-full h-full object-contain"})),r.default.createElement("div",null,r.default.createElement("h3",{className:"text-xl font-black text-white leading-tight mb-1"},Ie.starProduct.name),r.default.createElement("p",{className:"text-yellow-400 font-bold text-lg"},Ie.starProduct.sales," Und. vendidas"),r.default.createElement("p",{className:"text-slate-500 text-xs mt-1"},"Stock actual: ",Ie.starProduct.stock))):r.default.createElement("p",{className:"text-slate-600"},"No hay datos de ventas an.")),r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2.5rem] relative overflow-hidden group hover:border-slate-600 transition"},r.default.createElement("div",{className:"absolute top-0 right-0 p-8 opacity-10 pointer-events-none"},r.default.createElement(li,{className:"w-32 h-32 text-slate-500"})),r.default.createElement("p",{className:"text-slate-500 font-black text-xs tracking-widest uppercase mb-4 flex items-center gap-2"},r.default.createElement(xd,{className:"w-4 h-4 text-slate-500"})," Menos Vendido (En Stock)"),Ie.leastSoldProduct?r.default.createElement("div",{className:"flex items-center gap-6 relative z-10"},r.default.createElement("div",{className:"w-24 h-24 bg-white rounded-2xl p-2 shadow-lg grayscale flex-shrink-0"},r.default.createElement("img",{src:Ie.leastSoldProduct.image,alt:Ie.leastSoldProduct.name||"Menos vendido",className:"w-full h-full object-contain"})),r.default.createElement("div",null,r.default.createElement("h3",{className:"text-xl font-black text-white leading-tight mb-1"},Ie.leastSoldProduct.name),r.default.createElement("p",{className:"text-slate-400 font-bold text-lg"},Ie.salesCount[Ie.leastSoldProduct.id]||0," Und. vendidas"),r.default.createElement("p",{className:"text-slate-500 text-xs mt-1"},"Hay que rotar este stock."))):r.default.createElement("p",{className:"text-slate-600"},"Todos los productos tienen buena rotacin."))),r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 rounded-[2.5rem] p-8 overflow-hidden shadow-2xl"},r.default.createElement("h3",{className:"text-xl font-black text-white mb-6 flex items-center gap-2"},r.default.createElement(fd,{className:"w-6 h-6 text-purple-400"})," Registro de Movimientos"),r.default.createElement("div",{className:"overflow-x-auto"},r.default.createElement("table",{className:"w-full text-left border-collapse"},r.default.createElement("thead",null,r.default.createElement("tr",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest border-b border-slate-800"},r.default.createElement("th",{className:"pb-4 pl-4"},"Fecha"),r.default.createElement("th",{className:"pb-4"},"Tipo"),r.default.createElement("th",{className:"pb-4"},"Concepto"),r.default.createElement("th",{className:"pb-4"},"Estado"),r.default.createElement("th",{className:"pb-4 text-right pr-4"},"Monto"))),r.default.createElement("tbody",{className:"text-sm font-medium"},Ie.transactions.map((u,g)=>r.default.createElement("tr",{key:`${u.type}-${g}`,className:"border-b border-slate-800/50 hover:bg-slate-900/20 transition group"},r.default.createElement("td",{className:"py-4 pl-4 text-slate-400 font-mono text-xs"},new Date(u.date).toLocaleDateString()),r.default.createElement("td",{className:"py-4"},r.default.createElement("span",{className:`px-2 py-1 rounded text-[10px] font-black uppercase tracking-wider ${u.type==="income"?"bg-green-900/20 text-green-400 border border-green-500/20":"bg-red-900/20 text-red-400 border border-red-500/20"}`},u.category)),r.default.createElement("td",{className:"py-4 text-white group-hover:text-purple-300 transition"},u.description),r.default.createElement("td",{className:"py-4 text-xs text-slate-500"},u.status),r.default.createElement("td",{className:`py-4 text-right pr-4 font-mono font-bold ${u.type==="income"?"text-green-400":"text-red-400"}`},u.type==="income"?"+":"-","$",u.amount.toLocaleString()))),Ie.transactions.length===0&&r.default.createElement("tr",null,r.default.createElement("td",{colSpan:"5",className:"text-center py-8 text-slate-500"},"Sin movimientos registrados."))))))),n==="suppliers"&&r.default.createElement("div",{className:"max-w-6xl mx-auto space-y-8 animate-fade-up pb-20"},r.default.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},r.default.createElement("h1",{className:"text-3xl font-black text-white"},"Proveedores"),r.default.createElement("div",{className:"flex items-center gap-2"},r.default.createElement(Pr,{guideKey:"suppliers"}),r.default.createElement("button",{onClick:()=>{or({name:"",contact:"",phone:"",ig:"",address:"",cuit:"",associatedProducts:[]}),$l(null),eo(!0)},className:"bg-orange-600 px-6 py-3 rounded-xl font-bold text-white flex gap-2 shadow-lg hover:bg-orange-500 transition transform hover:-translate-y-1"},r.default.createElement(hn,{className:"w-5 h-5"})," Nuevo Proveedor"))),r.default.createElement("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},hs.map((u,g)=>r.default.createElement("div",{key:u.id,style:{animationDelay:`${g*.05}s`},className:"bg-[#0a0a0a] border border-slate-800 p-6 rounded-[2rem] hover:border-slate-600 transition duration-300 group animate-fade-up"},r.default.createElement("div",{className:"flex justify-between items-start mb-6"},r.default.createElement("div",{className:"p-4 bg-slate-900 rounded-xl text-slate-400 group-hover:text-orange-400 transition group-hover:bg-orange-900/20"},r.default.createElement(Gr,{className:"w-8 h-8"})),r.default.createElement("div",{className:"flex gap-2"},r.default.createElement("button",{onClick:()=>{or(u),$l(u.id),eo(!0)},className:"text-slate-600 hover:text-orange-400 p-2 hover:bg-slate-900 rounded-lg transition",title:"Editar"},r.default.createElement(pi,{className:"w-5 h-5"})),r.default.createElement("button",{onClick:()=>qt("Eliminar Proveedor","Eliminar proveedor?",async()=>await Ar(me(se,"artifacts",w,"public","data","suppliers",u.id))),className:"text-slate-600 hover:text-red-400 p-2 hover:bg-slate-900 rounded-lg transition",title:"Eliminar"},r.default.createElement(ht,{className:"w-5 h-5"})))),r.default.createElement("h3",{className:"text-2xl font-bold text-white mb-2"},u.name),r.default.createElement("div",{className:"space-y-3 mb-6 p-4 bg-slate-900/30 rounded-xl border border-slate-800/50"},r.default.createElement("p",{className:"text-slate-400 text-sm flex items-center gap-3"},r.default.createElement(Hr,{className:"w-4 h-4 text-slate-500"})," ",u.contact),u.phone&&r.default.createElement("p",{className:"text-slate-400 text-sm flex items-center gap-3"},r.default.createElement(lf,{className:"w-4 h-4 text-slate-500"})," ",u.phone),u.ig&&r.default.createElement("p",{className:"text-slate-400 text-sm flex items-center gap-3"},r.default.createElement(ou,{className:"w-4 h-4 text-slate-500"})," ",u.ig)),r.default.createElement("div",{className:"pt-4 border-t border-slate-800"},r.default.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase mb-3 tracking-wider"},"Productos Suministrados"),r.default.createElement("div",{className:"flex flex-wrap gap-2"},u.associatedProducts&&u.associatedProducts.length>0?u.associatedProducts.map(y=>{let x=le.find(k=>k.id===y);return x?r.default.createElement("div",{key:y,className:"w-10 h-10 rounded-lg bg-white p-1 flex items-center justify-center border border-slate-600 tooltip-container",title:x.name},r.default.createElement("img",{src:x.image,alt:x.name||"Producto",className:"w-full h-full object-contain"})):null}):r.default.createElement("span",{className:"text-xs text-slate-600 italic"},"No hay productos asignados"))))))),n==="purchases"&&r.default.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up pb-20"},r.default.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8"},r.default.createElement("h1",{className:"text-3xl font-black text-white"},"Gestin de Stock y Compras"),r.default.createElement(Pr,{guideKey:"purchases"})),r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 rounded-[2.5rem] mb-10 shadow-xl overflow-hidden relative"},r.default.createElement("div",{className:"flex border-b border-slate-800"},r.default.createElement("div",{className:"flex-1 p-6 text-center font-bold tracking-wider bg-orange-900/20 text-orange-400"},r.default.createElement(mr,{className:"w-5 h-5 inline-block mr-2"})," REGISTRAR REPOSICIN DE STOCK")),r.default.createElement("div",{className:"p-8"},(()=>{let u=le.find(x=>x.id===ot.productId),y=(u?.purchasePrice||u?.basePrice||0)*ot.quantity;return r.default.createElement("div",{className:"space-y-6 animate-fade-in"},r.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},r.default.createElement("div",{className:"md:col-span-2"},r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Producto Existente"),r.default.createElement("div",{className:"flex gap-4 items-center"},u&&r.default.createElement("div",{className:"w-16 h-16 bg-white rounded-lg p-1 flex-shrink-0 border border-slate-700"},r.default.createElement("img",{src:u.image,className:"w-full h-full object-contain",alt:"Preview"})),r.default.createElement("div",{className:"flex-1"},r.default.createElement("select",{className:"input-cyber w-full p-4",value:ot.productId,onChange:x=>Vr({...ot,productId:x.target.value})},r.default.createElement("option",{value:""},"Seleccionar Producto..."),le.map(x=>r.default.createElement("option",{key:x.id,value:x.id},x.name," (Stock: ",isNaN(Number(x.stock))?0:x.stock,")"))),u&&r.default.createElement("p",{className:"text-xs text-orange-400 mt-2 font-bold"},"Stock Actual: ",isNaN(Number(u.stock))?0:u.stock," | Costo Total Estimado: $",y.toLocaleString())))),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Cantidad"),r.default.createElement("input",{type:"number",className:"input-cyber w-full p-4",placeholder:"0",value:ot.quantity,onChange:x=>Vr({...ot,quantity:parseInt(x.target.value)||0})})),r.default.createElement("div",{className:"md:col-span-3"},r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Proveedor"),r.default.createElement("select",{className:"input-cyber w-full p-4",value:ot.supplierId,onChange:x=>Vr({...ot,supplierId:x.target.value})},r.default.createElement("option",{value:""},"Seleccionar..."),hs.map(x=>r.default.createElement("option",{key:x.id,value:x.id},x.name))))))})(),r.default.createElement("button",{onClick:async()=>{if(!ot.productId)return M("Selecciona un producto existente.","warning");if(ot.quantity<=0)return M("La cantidad debe ser mayor a 0.","warning");if(ot.cost<0)return M("El costo no puede ser negativo.","warning");try{let u=le.find(k=>k.id===ot.productId),g=u?.name||"Desconocido",x=(u?.purchasePrice||u?.basePrice||0)*ot.quantity;await tr(tt(se,"artifacts",w,"public","data","purchases"),{productId:ot.productId,supplierId:ot.supplierId||"",quantity:ot.quantity,cost:x,date:new Date().toISOString()}),await nt(me(se,"artifacts",w,"public","data","products",ot.productId),{stock:Qs(ot.quantity)}),Vr({isNewProduct:!1,productId:"",supplierId:"",quantity:1,cost:0,newProdName:"",newProdPrice:0,newProdImage:"",newProdCategory:""}),M(`Compra de "${g}" registrada exitosamente.`,"success")}catch(u){console.error("Error stock update:",u),M("Error: "+(u.message||"Operacin fallida"),"error")}},className:"w-full mt-8 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 text-white font-black py-5 rounded-2xl shadow-xl transition transform hover:scale-[1.01] flex items-center justify-center gap-3 text-lg"},r.default.createElement(di,{className:"w-6 h-6"})," REGISTRAR REPOSICIN DE STOCK"))),Vt.length>0&&r.default.createElement("div",{className:"bg-gradient-to-br from-orange-900/20 to-red-900/20 border border-orange-800 rounded-[2.5rem] p-8 mb-10 animate-fade-up"},r.default.createElement("div",{className:"flex items-center justify-between mb-6"},r.default.createElement("h3",{className:"text-2xl font-black text-white flex items-center gap-3"},r.default.createElement(ao,{className:"w-6 h-6 text-orange-400"}),"Carrito de Compras (",Vt.length," ",Vt.length===1?"producto":"productos",")"),r.default.createElement("p",{className:"text-orange-400 font-black text-2xl"},"TOTAL: $",Vt.reduce((u,g)=>u+g.cost,0).toLocaleString())),r.default.createElement("div",{className:"space-y-4 mb-6"},Vt.map((u,g)=>r.default.createElement("div",{key:g,className:"flex items-center gap-6 bg-slate-900/50 p-4 rounded-xl border border-slate-700"},r.default.createElement("div",{className:"w-16 h-16 bg-white rounded-lg p-1 flex-shrink-0"},r.default.createElement("img",{src:u.productImage,className:"w-full h-full object-contain",alt:u.productName})),r.default.createElement("div",{className:"flex-1"},r.default.createElement("p",{className:"font-bold text-white"},u.productName),r.default.createElement("p",{className:"text-xs text-slate-400"},"Precio Unit.: $",u.unitPrice.toLocaleString())),r.default.createElement("div",{className:"flex items-center gap-3"},r.default.createElement("input",{type:"number",value:u.quantity,onChange:y=>ZS(g,parseInt(y.target.value)||1),className:"w-20 bg-slate-800 border border-slate-700 text-white px-3 py-2 rounded-lg text-center font-bold",min:"1"}),r.default.createElement("p",{className:"text-orange-400 font-bold w-28 text-right"},"$",u.cost.toLocaleString()),r.default.createElement("button",{onClick:()=>XS(g),className:"p-2 bg-red-900/20 hover:bg-red-900/40 text-red-400 rounded-lg transition"},r.default.createElement(ht,{className:"w-5 h-5"})))))),r.default.createElement("button",{onClick:RS,className:"w-full py-5 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white font-black rounded-2xl shadow-xl transition transform hover:scale-[1.01] flex items-center justify-center gap-3 text-lg"},r.default.createElement(Te,{className:"w-6 h-6"})," FINALIZAR PEDIDO")),r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 rounded-[2.5rem] p-8"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6"},"Historial de Compras"),r.default.createElement("div",{className:"space-y-4"},d.sort((u,g)=>new Date(g.date)-new Date(u.date)).map((u,g)=>{let y=le.find(k=>k.id===u.productId),x=hs.find(k=>k.id===u.supplierId);return r.default.createElement("div",{key:u.id,style:{animationDelay:`${g*.05}s`},className:"flex justify-between items-center bg-slate-900/40 p-4 rounded-xl border border-slate-800 hover:border-slate-600 transition group animate-fade-up"},r.default.createElement("div",{className:"flex items-center gap-4 flex-1"},r.default.createElement("div",{className:"w-12 h-12 bg-white rounded-lg p-1 flex-shrink-0 border border-slate-700"},y?.image?r.default.createElement("img",{src:y.image,className:"w-full h-full object-contain",alt:y.name}):r.default.createElement(mr,{className:"w-full h-full text-slate-400 p-2"})),r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white flex items-center gap-2"},y?.name||"Producto Eliminado",r.default.createElement("span",{className:"text-[10px] bg-slate-800 px-2 py-0.5 rounded text-slate-400"},"STOCK ACTUAL: ",y?.stock||0)),r.default.createElement("p",{className:"text-xs text-slate-500"},new Date(u.date).toLocaleDateString()," ",x?`- Prov: ${x.name}`:""))),r.default.createElement("div",{className:"flex items-center gap-6"},r.default.createElement("div",{className:"text-right"},r.default.createElement("p",{className:"text-orange-400 font-bold"},"+",u.quantity," u."),r.default.createElement("p",{className:"text-slate-400 text-xs font-mono"},"$",(u.cost||0).toLocaleString())),r.default.createElement("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity"},r.default.createElement("button",{onClick:()=>lr(u),className:"p-2 bg-slate-800 hover:bg-blue-900/30 text-slate-400 hover:text-blue-400 rounded-lg transition"},r.default.createElement(pi,{className:"w-4 h-4"})),r.default.createElement("button",{onClick:()=>QS(u),className:"p-2 bg-slate-800 hover:bg-red-900/30 text-slate-400 hover:text-red-400 rounded-lg transition"},r.default.createElement(ht,{className:"w-4 h-4"})))))}))),jr&&r.default.createElement("div",{className:"fixed inset-0 z-[160] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-fade-in"},r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-700 rounded-3xl p-8 w-full max-w-lg shadow-2xl relative"},r.default.createElement("button",{onClick:()=>lr(null),className:"absolute top-4 right-4 p-2 text-slate-500 hover:text-white"},r.default.createElement(It,{className:"w-6 h-6"})),r.default.createElement("h3",{className:"text-2xl font-bold text-white mb-6"},"Editar Compra"),r.default.createElement("div",{className:"space-y-4"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1"},"Cantidad comprada"),r.default.createElement("div",{className:"text-xs text-yellow-500 mb-2"}," Modificar esto ajustar el stock del producto automticamente."),r.default.createElement("input",{type:"number",className:"input-cyber w-full p-3",value:jr.quantity,onChange:u=>lr({...jr,quantity:parseInt(u.target.value)||0})})),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1"},"Costo Total ($)"),r.default.createElement("input",{type:"number",className:"input-cyber w-full p-3",value:jr.cost,onChange:u=>lr({...jr,cost:parseFloat(u.target.value)||0})}))),r.default.createElement("button",{onClick:()=>{let u=d.find(g=>g.id===jr.id);u&&JS(jr.id,u,jr)},className:"w-full mt-6 bg-orange-600 hover:bg-orange-500 text-white font-bold py-3 rounded-xl transition shadow-lg"},"Guardar Cambios")))),n==="finance"&&r.default.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up pb-20"},r.default.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8"},r.default.createElement("h1",{className:"text-4xl font-black text-white neon-text"},"Finanzas y Capital"),r.default.createElement(Pr,{guideKey:"finance"})),r.default.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12"},r.default.createElement("div",{className:"bg-[#0a0a0a] border border-orange-900/30 p-8 rounded-[2.5rem] shadow-xl relative overflow-hidden"},r.default.createElement("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/5 rounded-bl-[100px] pointer-events-none"}),r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(yd,{className:"w-5 h-5 text-orange-400"})," Registrar Inversin / Aporte"),r.default.createElement("div",{className:"space-y-4"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Inversor (Socio)"),r.default.createElement("div",{className:"relative"},r.default.createElement(co,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-500 w-4 h-4"}),r.default.createElement("select",{className:"input-cyber w-full pl-12 p-4 appearance-none",value:ct.investor,onChange:u=>ms({...ct,investor:u.target.value})},r.default.createElement("option",{value:""},"Seleccionar Socio..."),(p?.team||[]).map((u,g)=>r.default.createElement("option",{key:g,value:u.name||u.email},u.name||u.email)),r.default.createElement("option",{value:"other"},"Otro / Externo"))),ct.investor==="other"&&r.default.createElement("input",{className:"input-cyber w-full p-4 mt-2",placeholder:"Nombre del Inversor Externo",value:ct.investorCustomName||"",onChange:u=>ms({...ct,investorCustomName:u.target.value})})),r.default.createElement("div",{className:"grid grid-cols-2 gap-4"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Monto ($)"),r.default.createElement("input",{type:"number",className:"input-cyber w-full p-4 font-mono font-bold text-orange-400",placeholder:"0.00",value:ct.amount,onChange:u=>ms({...ct,amount:parseFloat(u.target.value)||0})})),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Fecha"),r.default.createElement("input",{type:"date",className:"input-cyber w-full p-4",value:ct.date,onChange:u=>ms({...ct,date:u.target.value})}))),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Notas (Opcional)"),r.default.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Ej: Inversin Inicial, Refuerzo de capital...",value:ct.notes,onChange:u=>ms({...ct,notes:u.target.value})})),r.default.createElement("button",{onClick:async()=>{let u=ct.investor==="other"?(ct.investorCustomName||"").trim():ct.investor;if(!u||ct.amount<=0)return M("Completa los datos correctamente.","warning");let{investorCustomName:g,...y}=ct;await tr(tt(se,"artifacts",w,"public","data","investments"),{...y,investor:u,timestamp:new Date().toISOString()}),ms({investor:"",investorCustomName:"",amount:"",date:new Date().toISOString().split("T")[0],notes:""}),M("Inversin registrada correctamente.","success")},className:"w-full mt-2 bg-gradient-to-r from-orange-600 to-blue-600 hover:from-orange-500 hover:to-blue-500 text-white font-black py-4 rounded-xl shadow-lg transition flex items-center justify-center gap-2 border border-orange-500/20"},r.default.createElement(di,{className:"w-5 h-5"})," Registrar Aporte"))),r.default.createElement("div",{className:"bg-[#0a0a0a] border border-red-900/30 p-8 rounded-[2.5rem] shadow-xl relative overflow-hidden"},r.default.createElement("div",{className:"absolute top-0 right-0 w-32 h-32 bg-red-500/5 rounded-bl-[100px] pointer-events-none"}),r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(gf,{className:"w-5 h-5 text-red-400"})," Registrar Gasto / Egreso"),r.default.createElement("div",{className:"space-y-4"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Descripcin"),r.default.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Ej: Pago de Internet, Alquiler...",value:ir.description,onChange:u=>ia({...ir,description:u.target.value})})),r.default.createElement("div",{className:"grid grid-cols-2 gap-4"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Monto ($)"),r.default.createElement("input",{type:"number",className:"input-cyber w-full p-4 font-mono font-bold text-red-400",placeholder:"0.00",value:ir.amount,onChange:u=>ia({...ir,amount:parseFloat(u.target.value)||0})})),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Categora"),r.default.createElement("select",{className:"input-cyber w-full p-4",value:ir.category,onChange:u=>ia({...ir,category:u.target.value})},r.default.createElement("option",null,"General"),r.default.createElement("option",null,"Servicios"),r.default.createElement("option",null,"Impuestos"),r.default.createElement("option",null,"Mantenimiento"),r.default.createElement("option",null,"Marketing"),r.default.createElement("option",null,"Sueldos"),r.default.createElement("option",null,"Otros")))),r.default.createElement("button",{onClick:async()=>{if(!ir.description||ir.amount<=0)return M("Completa los datos correctamente.","warning");await tr(tt(se,"artifacts",w,"public","data","expenses"),{...ir,date:new Date().toISOString()}),ia({description:"",amount:"",category:"General",date:new Date().toISOString().split("T")[0]}),M("Gasto registrado correctamente.","success")},className:"w-full mt-2 bg-red-900/50 hover:bg-red-900 text-white font-black py-4 rounded-xl shadow-lg transition flex items-center justify-center gap-2 border border-red-500/20"},r.default.createElement(di,{className:"w-5 h-5"})," Registrar Gasto")))),r.default.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12"},r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 rounded-[2.5rem] p-8 h-[500px] flex flex-col"},r.default.createElement("h3",{className:"text-lg font-bold text-white mb-4"},"Historial de Inversiones"),r.default.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-2 space-y-3"},a.length===0?r.default.createElement("p",{className:"text-slate-500 text-sm italic text-center py-10"},"Sin inversiones registradas."):a.sort((u,g)=>new Date(g.date)-new Date(u.date)).map((u,g)=>r.default.createElement("div",{key:u.id,className:"bg-slate-900/30 border border-slate-800 p-4 rounded-xl flex justify-between items-center group hover:border-orange-500/30 transition"},r.default.createElement("div",null,r.default.createElement("p",{className:"text-white font-bold text-sm"},u.investor),r.default.createElement("p",{className:"text-slate-500 text-xs"},new Date(u.date).toLocaleDateString()," ",u.notes&&`- ${u.notes}`)),r.default.createElement("div",{className:"flex items-center gap-4"},r.default.createElement("p",{className:"text-orange-400 font-mono font-bold"},"+$",u.amount.toLocaleString()),r.default.createElement("button",{onClick:()=>qt("Eliminar Inversin","Deseas eliminar este registro?",async()=>await Ar(me(se,"artifacts",w,"public","data","investments",u.id))),className:"text-slate-600 hover:text-red-400 p-2 hover:bg-slate-800 rounded-lg transition"},r.default.createElement(ht,{className:"w-4 h-4"}))))))),r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 rounded-[2.5rem] p-8 h-[500px] flex flex-col"},r.default.createElement("h3",{className:"text-lg font-bold text-white mb-4"},"Historial de Gastos"),r.default.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-2 space-y-3"},i.length===0?r.default.createElement("p",{className:"text-slate-500 text-sm italic text-center py-10"},"Sin gastos registrados."):i.sort((u,g)=>new Date(g.date)-new Date(u.date)).map((u,g)=>r.default.createElement("div",{key:u.id,className:"bg-slate-900/30 border border-slate-800 p-4 rounded-xl flex justify-between items-center group hover:border-red-500/30 transition"},r.default.createElement("div",null,r.default.createElement("p",{className:"text-white font-bold text-sm"},u.description),r.default.createElement("p",{className:"text-slate-500 text-xs flex gap-2"},r.default.createElement("span",{className:"text-red-300 font-bold bg-red-900/20 px-1.5 rounded"},u.category),r.default.createElement("span",null,new Date(u.date).toLocaleDateString()))),r.default.createElement("div",{className:"flex items-center gap-4"},r.default.createElement("p",{className:"text-red-400 font-mono font-bold"},"-$",u.amount.toLocaleString()),r.default.createElement("button",{onClick:()=>qt("Eliminar Gasto","Deseas eliminar este registro?",async()=>await Ar(me(se,"artifacts",w,"public","data","expenses",u.id))),className:"text-slate-600 hover:text-red-400 p-2 hover:bg-slate-800 rounded-lg transition"},r.default.createElement(ht,{className:"w-4 h-4"})))))))),r.default.createElement("div",{className:"animate-fade-up pt-12 border-t border-slate-800"},r.default.createElement("div",{className:"flex justify-between items-center mb-8"},r.default.createElement("div",null,r.default.createElement("h2",{className:"text-2xl font-black text-white flex items-center gap-3"},r.default.createElement(su,{className:"w-8 h-8 text-green-500"})," Distribucin de Ganancias"),r.default.createElement("p",{className:"text-slate-500 mt-1"},"Clculo automtico basado en las inversiones registradas.")),r.default.createElement("div",{className:"text-right"},r.default.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Beneficio Neto"),r.default.createElement("p",{className:`text-3xl font-black ${Ie.netIncome>=0?"text-green-400":"text-red-500"}`},"$",Ie.netIncome.toLocaleString()))),r.default.createElement("div",{className:"flex flex-col gap-8 bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},(()=>{let g=(p?.team||[]).map(x=>{let k=a.filter(U=>U.investor===x.name||U.investor===x.email).reduce((U,L)=>U+(Number(L.amount)||0),0);return{...x,totalInv:k}}),y=g.reduce((x,k)=>x+k.totalInv,0);return y===0?r.default.createElement("p",{className:"text-slate-500 text-center py-12"},"Registra inversiones para ver la distribucin de ganancias."):r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"w-full h-8 bg-slate-900 rounded-full flex overflow-hidden"},g.map((x,k)=>{let U=y>0?x.totalInv/y*100:0,L=["bg-green-500","bg-orange-500","bg-purple-500","bg-pink-500","bg-yellow-500","bg-red-500"];return U<=0?null:r.default.createElement("div",{key:k,className:`${L[k%L.length]} h-full transition-all duration-500`,style:{width:`${U}%`},title:`${x.name}: ${U.toFixed(1)}%`})})),r.default.createElement("div",{className:"overflow-x-auto"},r.default.createElement("table",{className:"w-full text-left border-collapse"},r.default.createElement("thead",null,r.default.createElement("tr",{className:"bg-slate-900/50 border-b border-slate-800"},r.default.createElement("th",{className:"p-6 text-xs font-black text-slate-500 uppercase tracking-widest"},"Socio"),r.default.createElement("th",{className:"p-6 text-xs font-black text-slate-500 uppercase tracking-widest text-right"},"Capital Aportado"),r.default.createElement("th",{className:"p-6 text-xs font-black text-slate-500 uppercase tracking-widest text-center"},"% Part."),r.default.createElement("th",{className:"p-6 text-xs font-black text-slate-500 uppercase tracking-widest text-right text-green-500"},"Ganancia Est."))),r.default.createElement("tbody",{className:"divide-y divide-slate-800/50"},g.map((x,k)=>{let U=y>0?x.totalInv/y*100:0,L=Ie.netIncome*U/100,G=["text-green-500","text-orange-500","text-purple-500","text-pink-500","text-yellow-500","text-red-500"];return r.default.createElement("tr",{key:k,className:"hover:bg-slate-900/20 transition"},r.default.createElement("td",{className:"p-5"},r.default.createElement("div",{className:"flex items-center gap-3"},r.default.createElement("div",{className:`w-3 h-3 rounded-full ${G[k%G.length].replace("text-","bg-")}`}),r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},x.name||"Sin Nombre"),r.default.createElement("p",{className:"text-xs text-slate-500"},x.email)))),r.default.createElement("td",{className:"p-6 text-right font-mono font-bold text-white"},"$",x.totalInv.toLocaleString()),r.default.createElement("td",{className:"p-6 text-center font-mono text-slate-300 font-bold"},U.toFixed(1),"%"),r.default.createElement("td",{className:"p-6 text-right font-mono font-black text-green-400 text-lg"},"$",L.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})))})),r.default.createElement("tfoot",{className:"bg-slate-900/30 border-t border-slate-800"},r.default.createElement("tr",null,r.default.createElement("td",{className:"p-6 font-black text-white text-right"},"TOTAL CAPITAL"),r.default.createElement("td",{className:"p-6 text-right font-black text-orange-400 text-lg"},"$",y.toLocaleString()),r.default.createElement("td",{className:"p-6 text-center font-bold text-slate-500"},"100%"),r.default.createElement("td",{className:"p-6 text-right font-black text-green-500 text-xl"},"$",Ie.netIncome.toLocaleString()))))))})()))),n==="coupons"&&r.default.createElement("div",{className:"max-w-5xl mx-auto animate-fade-up pb-20 relative"},["business","premium"].includes(p?.subscriptionPlan)?r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"relative z-30 flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8"},r.default.createElement("h1",{className:"text-3xl font-black text-white"},"Gestin de Cupones"),r.default.createElement(Pr,{guideKey:"coupons"})),r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2.5rem] mb-10 shadow-xl"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(hn,{className:"w-5 h-5 text-purple-400"})," Crear Nuevo Cupn"),r.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},r.default.createElement("div",{className:"space-y-4"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Cdigo del Cupn"),r.default.createElement("input",{className:"input-cyber w-full p-4 font-mono text-lg uppercase tracking-widest",placeholder:"Ej: VERANO2024",value:be.code,onChange:u=>Bn({...be,code:u.target.value.toUpperCase()})})),r.default.createElement("div",{className:"flex gap-4"},r.default.createElement("div",{className:"flex-1"},r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Tipo"),r.default.createElement("select",{className:"input-cyber w-full p-4",value:be.type,onChange:u=>Bn({...be,type:u.target.value})},r.default.createElement("option",{value:"percentage"},"Porcentaje (%)"),r.default.createElement("option",{value:"fixed"},"Fijo ($)"))),r.default.createElement("div",{className:"flex-1"},r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Valor"),r.default.createElement("input",{className:"input-cyber w-full p-4",type:"number",placeholder:"0",value:be.value,onChange:u=>Bn({...be,value:u.target.value})})))),r.default.createElement("div",{className:"space-y-4"},r.default.createElement("div",{className:"flex gap-4"},r.default.createElement("div",{className:"flex-1"},r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Mnimo de Compra"),r.default.createElement("input",{className:"input-cyber w-full p-4",type:"number",placeholder:"$0",value:be.minPurchase,onChange:u=>Bn({...be,minPurchase:u.target.value})})),be.type==="percentage"&&r.default.createElement("div",{className:"flex-1"},r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Tope Reintegro"),r.default.createElement("input",{className:"input-cyber w-full p-4",type:"number",placeholder:"$0 (Opcional)",value:be.maxDiscount,onChange:u=>Bn({...be,maxDiscount:u.target.value})}))),r.default.createElement("div",{className:"flex gap-4"},r.default.createElement("div",{className:"flex-1"},r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Lmite Usos (Total)"),r.default.createElement("input",{className:"input-cyber w-full p-4",type:"number",placeholder:"Ej: 100",value:be.usageLimit,onChange:u=>Bn({...be,usageLimit:u.target.value})})),r.default.createElement("div",{className:"flex-1"},r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Vencimiento"),r.default.createElement("input",{className:"input-cyber w-full p-4",type:"date",value:be.expirationDate,onChange:u=>Bn({...be,expirationDate:u.target.value})}))),r.default.createElement("div",{className:"md:col-span-2"},r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Tipo de Cupn"),r.default.createElement("select",{className:"input-cyber w-full p-4",value:be.targetType,onChange:u=>Bn({...be,targetType:u.target.value})},r.default.createElement("option",{value:"global"}," Pblico / Canjeable (Redes Sociales)"),r.default.createElement("option",{value:"specific_email"}," Usuario Especfico (Email)"))),be.targetType==="specific_email"&&r.default.createElement("div",{className:"md:col-span-2"},r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Email del Usuario"),r.default.createElement("input",{type:"email",className:"input-cyber w-full p-4",placeholder:"usuario@ejemplo.com",value:be.targetUser||"",onChange:u=>Bn({...be,targetUser:u.target.value})}),r.default.createElement("p",{className:"text-xs text-slate-400 mt-1"},"Solo este usuario podr usar el cupn")))),r.default.createElement("button",{onClick:WS,className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-4 rounded-xl shadow-lg transition flex items-center justify-center gap-2"},r.default.createElement(di,{className:"w-5 h-5"})," Guardar Cupn")),r.default.createElement("div",{className:"grid gap-4"},Mr.length===0&&r.default.createElement("div",{className:"text-center py-16 border-2 border-dashed border-slate-800 rounded-[2rem]"},r.default.createElement(Is,{className:"w-14 h-14 mx-auto mb-4 text-slate-700"}),r.default.createElement("p",{className:"text-slate-500 font-bold text-lg"},"No hay cupones creados"),r.default.createElement("p",{className:"text-slate-600 text-sm mt-1"},"Cre uno arriba para empezar.")),Mr.map((u,g)=>{let y=u.expirationDate&&new Date(u.expirationDate)<new Date,x=Array.isArray(u.usedBy)?u.usedBy.length:0,k=u.usageLimit&&x>=u.usageLimit,U=!y&&!k;return r.default.createElement("div",{key:u.id,style:{animationDelay:`${g*.05}s`},className:`relative overflow-hidden border p-6 rounded-[1.5rem] flex flex-col md:flex-row justify-between items-start md:items-center group transition animate-fade-up ${U?"bg-[#0a0a0a] border-slate-800 hover:border-purple-500/40":"bg-[#080808] border-slate-800/50 opacity-60"}`},r.default.createElement("div",{className:`absolute top-0 left-0 w-1.5 h-full ${U?"bg-purple-500":"bg-slate-700"}`}),r.default.createElement("div",{className:"flex items-center gap-5 mb-4 md:mb-0 w-full md:w-auto pl-3"},r.default.createElement("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center border font-black text-xl flex-shrink-0 ${U?"bg-purple-500/10 border-purple-500/30 text-purple-400":"bg-slate-900 border-slate-800 text-slate-600"}`},u.type==="fixed"?"$":"%"),r.default.createElement("div",{className:"min-w-0"},r.default.createElement("div",{className:"flex items-center gap-2 flex-wrap"},r.default.createElement("h4",{className:"text-white font-black text-lg tracking-widest font-mono"},u.code),!U&&r.default.createElement("span",{className:"text-[9px] px-2 py-0.5 rounded bg-red-500/10 text-red-400 border border-red-500/20 font-black uppercase"},y?"Vencido":"Agotado")),r.default.createElement("p",{className:"text-purple-400 font-bold text-sm mt-0.5"},u.type==="fixed"?`$${u.value} OFF`:`${u.value}% OFF`,u.maxDiscount>0&&u.type==="percentage"&&r.default.createElement("span",{className:"text-slate-500 text-xs ml-1"},"(tope $",u.maxDiscount,")"),u.minPurchase>0&&r.default.createElement("span",{className:"text-slate-600 font-normal text-xs ml-2"},"Min: $",u.minPurchase)),r.default.createElement("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-2"},r.default.createElement("span",{className:"text-[10px] text-slate-500 font-bold flex items-center gap-1"},r.default.createElement(co,{className:"w-3 h-3"})," ",x,u.usageLimit?`/${u.usageLimit}`:""," usos"),u.expirationDate&&r.default.createElement("span",{className:`text-[10px] font-bold flex items-center gap-1 ${y?"text-red-400":"text-slate-500"}`},r.default.createElement(Ea,{className:"w-3 h-3"})," ",new Date(u.expirationDate).toLocaleDateString()),u.targetType==="specific_email"&&u.targetUser&&r.default.createElement("span",{className:"text-[10px] text-blue-400 font-bold flex items-center gap-1"},r.default.createElement(tf,{className:"w-3 h-3"})," ",u.targetUser)))),r.default.createElement("div",{className:"flex items-center gap-2 mt-3 md:mt-0 pl-3 md:pl-0 flex-shrink-0"},u.targetType==="global"||!u.targetType&&!u.targetUser?r.default.createElement("div",{className:"bg-purple-900/20 text-purple-400 px-3 py-1.5 rounded-xl border border-purple-500/20 flex items-center gap-1.5 text-[10px] font-black uppercase tracking-wider"},r.default.createElement(gd,{className:"w-3 h-3"})," Pblico"):r.default.createElement("div",{className:"bg-blue-900/20 text-blue-400 px-3 py-1.5 rounded-xl border border-blue-500/20 flex items-center gap-1.5 text-[10px] font-black uppercase tracking-wider"},r.default.createElement(Hr,{className:"w-3 h-3"})," Personal"),r.default.createElement("button",{onClick:()=>{navigator.clipboard.writeText(u.code),M("Cdigo copiado al portapapeles","success")},className:"bg-slate-900 hover:bg-slate-800 text-slate-400 hover:text-white p-2.5 rounded-xl transition border border-slate-800",title:"Copiar Cdigo"},r.default.createElement(vy,{className:"w-4 h-4"})),r.default.createElement("button",{onClick:()=>qt("Eliminar Cupn",`Eliminar el cupn ${u.code}?`,async()=>await Ar(me(se,"artifacts",w,"public","data","coupons",u.id))),className:"bg-slate-900 hover:bg-red-900/20 text-slate-500 hover:text-red-400 p-2.5 rounded-xl transition border border-slate-800"},r.default.createElement(ht,{className:"w-4 h-4"}))))}))):r.default.createElement("div",{className:"flex flex-col items-center justify-center py-20 text-center"},r.default.createElement("div",{className:"w-20 h-20 bg-yellow-900/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-yellow-500/30"},r.default.createElement(pr,{className:"w-10 h-10 text-yellow-500"})),r.default.createElement("h3",{className:"text-2xl font-black text-white mb-4"},"Cupones Bloqueados"),r.default.createElement("p",{className:"text-slate-400 mb-6 max-w-md"},"Los cupones de descuento estn disponibles a partir del ",r.default.createElement("span",{className:"text-purple-400 font-bold"},"Plan Negocio"),". Mejor tu plan para gestionar cupones en tu tienda."),r.default.createElement("button",{onClick:()=>ys(!0),className:"px-8 py-4 bg-purple-600 hover:bg-purple-500 text-white font-bold rounded-xl shadow-lg shadow-purple-600/20 transition flex items-center gap-2"},r.default.createElement(Wn,{className:"w-5 h-5"})," Ver Planes Disponibles"))),n==="users"&&(()=>{let u=Un.filter(g=>{let y=Xl.toLowerCase(),x=(g.name||"").toLowerCase().includes(y)||(g.email||"").toLowerCase().includes(y)||(g.username||"").toLowerCase().includes(y),k=dr==="all"||g.role===dr;return x&&k});return r.default.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up pb-20"},r.default.createElement("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-10"},r.default.createElement("div",null,r.default.createElement("h1",{className:"text-4xl font-black text-white tracking-tighter flex items-center gap-4"},r.default.createElement("div",{className:"w-12 h-12 rounded-2xl bg-pink-500/20 flex items-center justify-center border border-pink-500/30"},r.default.createElement(co,{className:"w-6 h-6 text-pink-400"})),"Gestin de Usuarios"),r.default.createElement("p",{className:"text-slate-500 mt-2 font-medium"},"Control total sobre cuentas, roles y auditora de carritos.")),r.default.createElement("div",{className:"flex flex-col sm:flex-row items-center gap-3 w-full md:w-auto"},r.default.createElement("div",{className:"w-full sm:w-auto flex justify-end"},r.default.createElement(Pr,{guideKey:"users"})),r.default.createElement("div",{className:"relative w-full sm:w-64 group"},r.default.createElement(bd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 group-focus-within:text-orange-400 transition"}),r.default.createElement("input",{className:"input-cyber w-full pl-11 pr-4 py-3 text-sm",placeholder:"Buscar por nombre, email...",value:Xl,onChange:g=>od(g.target.value)})),r.default.createElement("div",{className:"flex bg-slate-900/50 p-1 rounded-xl border border-white/5"},["all","admin","user"].map(g=>r.default.createElement("button",{key:g,onClick:()=>ad(g),className:`px-4 py-2 rounded-lg text-xs font-black uppercase transition-all ${dr===g?"bg-white/10 text-white shadow-lg":"text-slate-500 hover:text-slate-300"}`},g==="all"?"Todos":g))))),r.default.createElement("div",{className:"bg-[#050505] border border-white/5 rounded-[2.5rem] overflow-hidden shadow-2xl"},r.default.createElement("div",{className:"overflow-x-auto overflow-y-visible"},r.default.createElement("table",{className:"w-full text-left border-collapse"},r.default.createElement("thead",null,r.default.createElement("tr",{className:"bg-white/[0.02] border-b border-white/5"},r.default.createElement("th",{className:"p-5 text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]"},"Identidad"),r.default.createElement("th",{className:"p-5 text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] text-center"},"Actividad & Stats"),r.default.createElement("th",{className:"p-5 text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]"},"Rango"),r.default.createElement("th",{className:"p-5 text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] text-right"},"Acciones"))),r.default.createElement("tbody",{className:"divide-y divide-white/5"},u.length===0?r.default.createElement("tr",null,r.default.createElement("td",{colSpan:"4",className:"p-20 text-center"},r.default.createElement("div",{className:"flex flex-col items-center gap-4 opacity-20"},r.default.createElement(ff,{className:"w-16 h-16"}),r.default.createElement("p",{className:"font-black uppercase tracking-widest"},"No se encontraron usuarios")))):u.map((g,y)=>r.default.createElement("tr",{key:g.id,style:{animationDelay:`${y*.03}s`},className:"group hover:bg-white/[0.01] transition-all animate-fade-up"},r.default.createElement("td",{className:"p-5"},r.default.createElement("div",{className:"flex items-center gap-5"},r.default.createElement("div",{className:"relative group/avatar"},r.default.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-500 to-purple-600 rounded-2xl blur-lg opacity-20 group-hover/avatar:opacity-40 transition"}),r.default.createElement("div",{className:"relative w-14 h-14 rounded-2xl bg-[#0a0a0a] border border-white/10 flex items-center justify-center text-xl font-black text-white overflow-hidden shadow-xl"},g.image?r.default.createElement("img",{src:g.image,alt:g.name||"Usuario",className:"w-full h-full object-cover"}):(g.name||"?").charAt(0).toUpperCase())),r.default.createElement("div",null,r.default.createElement("div",{className:"flex items-center gap-2"},r.default.createElement("p",{className:"font-bold text-white text-lg tracking-tight"},g.name),g.isVerified&&r.default.createElement(Te,{className:"w-4 h-4 text-orange-400"})),r.default.createElement("p",{className:"text-xs text-slate-500 font-mono"},g.email),r.default.createElement("div",{className:"flex items-center gap-3 mt-2"},r.default.createElement("span",{className:"text-[9px] font-black text-slate-600 uppercase tracking-widest bg-white/5 px-2 py-0.5 rounded-md"},"ID: ",g.id.slice(-6)),r.default.createElement("span",{className:"text-[9px] font-bold text-slate-500 uppercase"},"INC. ",g.createdAt||g.joinDate?new Date(g.createdAt||g.joinDate).toLocaleDateString():"Sin fecha"))))),r.default.createElement("td",{className:"p-8 relative"},(p?.subscriptionPlan==="entrepreneur"||!p?.subscriptionPlan)&&r.default.createElement("button",{onClick:()=>ys(!0),className:"absolute inset-0 z-10 flex items-center justify-center bg-black/60 backdrop-blur-sm rounded-xl cursor-pointer hover:bg-black/70 transition group"},r.default.createElement("div",{className:"text-center"},r.default.createElement(pr,{className:"w-6 h-6 text-yellow-500 mx-auto mb-2 group-hover:scale-110 transition"}),r.default.createElement("p",{className:"text-xs font-black text-yellow-400 uppercase tracking-wider"},"Plan Negocio"),r.default.createElement("p",{className:"text-[10px] text-slate-400 group-hover:text-white transition"},"Clic para ver planes"))),r.default.createElement("div",{className:`flex flex-col items-center gap-3 ${p?.subscriptionPlan==="entrepreneur"||!p?.subscriptionPlan?"filter blur-sm pointer-events-none":""}`},r.default.createElement("div",{className:"flex gap-2"},r.default.createElement("div",{className:"bg-slate-900/80 px-4 py-2 rounded-xl border border-white/5 flex items-center gap-3",title:"Favoritos"},r.default.createElement(iu,{className:`w-4 h-4 ${g.favorites?.length>0?"text-pink-500 fill-pink-500":"text-slate-600"}`}),r.default.createElement("span",{className:"text-sm font-black text-white"},g.favorites?g.favorites.length:0)),r.default.createElement("div",{className:"bg-slate-900/80 px-4 py-2 rounded-xl border border-white/5 flex items-center gap-3",title:"Pedidos Realizados"},r.default.createElement(Es,{className:"w-4 h-4 text-orange-500"}),r.default.createElement("span",{className:"text-sm font-black text-white"},g.ordersCount||0))),r.default.createElement("button",{onClick:()=>ti(g),className:"w-full py-2.5 rounded-xl border border-orange-500/20 bg-orange-500/5 text-orange-400 hover:bg-orange-500/20 text-[10px] font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2"},r.default.createElement(rf,{className:"w-3 h-3"})," Ver Carrito en Vivo"))),r.default.createElement("td",{className:"p-8"},r.default.createElement("div",{className:`inline-flex items-center gap-2 px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-[0.1em] border shadow-inner ${g.role==="admin"?"bg-purple-500/10 text-purple-400 border-purple-500/30":"bg-slate-900/50 text-slate-500 border-white/5"}`},g.role==="admin"?r.default.createElement(Tn,{className:"w-3 h-3"}):r.default.createElement(Hr,{className:"w-3 h-3"}),g.role)),r.default.createElement("td",{className:"p-8"},r.default.createElement("div",{className:"flex justify-end gap-3 translate-x-2 opacity-60 group-hover:opacity-100 transition-opacity"},r.default.createElement("button",{onClick:()=>ba(g),className:"w-11 h-11 flex items-center justify-center bg-[#0a0a0a] border border-white/5 rounded-2xl text-slate-400 hover:text-orange-400 hover:border-orange-500/40 hover:bg-orange-500/5 transition-all shadow-xl group",title:"Gestionar Perfil"},r.default.createElement(pi,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})),r.default.createElement("button",{onClick:()=>{xa(""),Yl(g)},className:"w-11 h-11 flex items-center justify-center bg-[#0a0a0a] border border-white/5 rounded-2xl text-slate-400 hover:text-pink-400 hover:border-pink-500/40 hover:bg-pink-500/5 transition-all shadow-xl group",title:"Seguridad & Acceso"},r.default.createElement(pr,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})))))))))))})(),n==="promos"&&r.default.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up pb-20"},r.default.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8"},r.default.createElement("h1",{className:"text-3xl font-black text-white flex items-center gap-3"},r.default.createElement(Sa,{className:"w-8 h-8 text-purple-500"})," Gestin de Promos"),r.default.createElement(Pr,{guideKey:"promos"})),!((p?.subscriptionPlan==="entrepreneur"||!p?.subscriptionPlan)&&an.length>=1)||_n?r.default.createElement("div",{className:"bg-[#0a0a0a] border border-purple-500/30 p-8 rounded-[2rem] mb-10 shadow-2xl"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},_n?r.default.createElement(pi,{className:"w-5 h-5 text-purple-400"}):r.default.createElement(hn,{className:"w-5 h-5 text-green-400"}),_n?"Editar Promo":"Crear Nueva Promo"),r.default.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8"},r.default.createElement("div",{className:"space-y-4"},r.default.createElement("input",{type:"text",className:"input-cyber w-full p-4",placeholder:"Nombre de la Promo",value:qe.name,onChange:u=>Nn({...qe,name:u.target.value})}),r.default.createElement("div",{className:"grid grid-cols-2 gap-4"},r.default.createElement("div",{className:"relative"},r.default.createElement("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500"},"$"),r.default.createElement("input",{type:"number",className:"input-cyber w-full p-4 pl-8",placeholder:"Precio",value:qe.price,onChange:u=>Nn({...qe,price:u.target.value})})),r.default.createElement("div",{className:"p-4 bg-slate-900 rounded-xl border border-slate-700 text-slate-400 font-mono text-sm flex items-center"},"Costo: $",qe.items.reduce((u,g)=>{let y=le.find(x=>x.id===g.productId);return u+(Number(y?.basePrice)||0)*g.quantity},0).toLocaleString())),r.default.createElement("div",{className:"mb-4"},r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Imagen de la Promo"),r.default.createElement("input",{type:"file",className:"block w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-900/20 file:text-purple-400 hover:file:bg-purple-900/40 transition",accept:"image/*",onChange:u=>oi(u,Nn)}),qe.image&&r.default.createElement("div",{className:"mt-2 relative group w-32 aspect-video overflow-hidden rounded-xl border border-slate-700"},r.default.createElement("img",{src:qe.image,alt:qe.name||"Promo",className:"w-full h-full object-cover"}),r.default.createElement("button",{onClick:()=>Nn({...qe,image:""}),className:"absolute top-1 right-1 bg-black/50 p-1 rounded-full text-white hover:bg-red-500 transition opacity-0 group-hover:opacity-100"},r.default.createElement(It,{className:"w-3 h-3"})))),r.default.createElement("textarea",{className:"input-cyber w-full p-4 h-20 resize-none",placeholder:"Descripcin breve...",value:qe.description,onChange:u=>Nn({...qe,description:u.target.value})})),r.default.createElement("div",{className:"bg-slate-900/40 p-6 rounded-2xl border border-slate-800"},r.default.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4 flex items-center gap-2"},r.default.createElement(mr,{className:"w-4 h-4"})," Productos Incluidos"),r.default.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_5rem_auto] gap-2 mb-4"},r.default.createElement("select",{className:"input-cyber w-full p-3 text-sm min-w-0",value:un,onChange:u=>zl(u.target.value)},r.default.createElement("option",{value:""},"Agregar producto..."),le.map(u=>r.default.createElement("option",{key:u.id,value:u.id},u.name," ($",Number(u.basePrice),")"))),r.default.createElement("input",{type:"number",className:"input-cyber w-full sm:w-20 p-3 text-sm text-center",value:pa,min:"1",onChange:u=>Bl(Math.max(1,parseInt(u.target.value)||1))}),r.default.createElement("button",{onClick:()=>{if(!un)return;let u=qe.items.find(g=>g.productId===un);Nn(u?{...qe,items:qe.items.map(g=>g.productId===un?{...g,quantity:g.quantity+pa}:g)}:{...qe,items:[...qe.items,{productId:un,quantity:pa}]}),zl(""),Bl(1)},className:"h-[46px] w-full sm:w-auto px-4 bg-purple-600 hover:bg-purple-500 text-white rounded-xl transition flex items-center justify-center"},r.default.createElement(hn,{className:"w-5 h-5"}))),r.default.createElement("div",{className:"space-y-2 max-h-[150px] overflow-y-auto custom-scrollbar"},qe.items.map((u,g)=>{let y=le.find(x=>x.id===u.productId);return y?r.default.createElement("div",{key:g,className:"flex justify-between items-center bg-slate-900 p-3 rounded-lg border border-slate-700"},r.default.createElement("div",{className:"flex items-center gap-3"},r.default.createElement("img",{src:y.image,alt:y.name||"Producto",className:"w-8 h-8 rounded bg-white object-contain p-0.5"}),r.default.createElement("div",null,r.default.createElement("p",{className:"text-sm font-bold text-white truncate max-w-[200px] sm:max-w-none"},y.name),r.default.createElement("p",{className:"text-xs text-slate-500"},u.quantity," un. x $",y.basePrice))),r.default.createElement("button",{onClick:()=>Nn({...qe,items:qe.items.filter((x,k)=>k!==g)}),className:"text-red-500 hover:text-red-400 p-1"},r.default.createElement(ht,{className:"w-4 h-4"}))):null}),qe.items.length===0&&r.default.createElement("div",{className:"text-center py-6 text-slate-600 italic text-sm border border-dashed border-slate-800 rounded-lg"},"Agrega productos para armar el combo")))),r.default.createElement("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 sm:justify-end mt-6"},_n&&r.default.createElement("button",{onClick:()=>{ql(!1),Gl(null),Nn({name:"",price:"",image:"",description:"",items:[]})},className:"w-full sm:w-auto px-6 py-3 rounded-xl border border-slate-800 bg-slate-900/40 text-slate-300 hover:text-white hover:bg-slate-900 transition font-bold"},"Cancelar"),r.default.createElement("button",{onClick:async()=>{if(!qe.name||!qe.price||qe.items.length===0)return M("Completa nombre, precio y agrega productos.","warning");Nt(!0);try{_n&&td?(await nt(me(se,"artifacts",w,"public","data","promos",td),qe),M("Promo actualizada","success")):(await tr(tt(se,"artifacts",w,"public","data","promos"),{...qe,createdAt:new Date().toISOString()}),M("Promo creada exitosamente","success")),Nn({name:"",price:"",image:"",description:"",items:[]}),ql(!1),Gl(null)}catch(u){console.error(u),M("Error al guardar promo","error")}finally{Nt(!1)}},className:"w-full sm:w-auto px-8 py-3 bg-purple-600 hover:bg-purple-500 text-white font-bold rounded-xl shadow-lg transition flex items-center justify-center"},_n?"Guardar Cambios":"Crear Promo"))):r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem] mb-10 shadow-xl flex flex-col items-center justify-center text-center animate-fade-up"},r.default.createElement("div",{className:"w-20 h-20 bg-purple-500/20 rounded-full flex items-center justify-center mb-6 border border-purple-500/30"},r.default.createElement(pr,{className:"w-10 h-10 text-purple-400"})),r.default.createElement("h3",{className:"text-2xl font-black text-white mb-2"},"Lmite de Promos Alcanzado"),r.default.createElement("p",{className:"text-slate-400 max-w-md mb-8"},"Tu plan actual te permite tener hasta ",r.default.createElement("strong",{className:"text-white"},"1 promo activa"),". Para crear ms promociones ilimitadas, actualiza tu plan."),r.default.createElement("button",{onClick:()=>ys(!0),className:"px-8 py-3 bg-purple-600 hover:bg-purple-500 text-white font-bold rounded-xl shadow-lg shadow-purple-600/20 transition flex items-center gap-2"},r.default.createElement(Wn,{className:"w-5 h-5"})," Mejorar mi Plan")),r.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},an.map(u=>{let g=(u.items||[]).reduce((L,G)=>{let V=le.find(J=>J.id===G.productId);return L+(Number(V?.purchasePrice)||0)*G.quantity},0),y=Number(u.price)||0,x=y-g,k=y>0?(x/y*100).toFixed(1):0,U=x>0;return r.default.createElement("div",{key:u.id,className:"bg-[#0a0a0a] border border-slate-800 rounded-2xl overflow-hidden hover:border-purple-500/30 transition group flex flex-col"},r.default.createElement("div",{className:"aspect-video relative overflow-hidden"},r.default.createElement("img",{src:u.image||"https://via.placeholder.com/400",alt:u.name||"Promo",className:"w-full h-full object-cover transition duration-500 group-hover:scale-105"}),r.default.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),r.default.createElement("div",{className:"absolute bottom-4 left-4 right-4 bg-black/55 backdrop-blur-sm rounded-2xl p-4 border border-white/10"},r.default.createElement("h4",{className:"text-xl font-black text-white mb-1 leading-tight"},u.name),r.default.createElement("div",{className:"flex items-center gap-3"},r.default.createElement("p",{className:"text-3xl text-purple-400 font-black"},"$",y.toLocaleString()),g>0&&r.default.createElement("div",{className:`px-2 py-1 rounded text-xs font-bold border ${U?"bg-green-900/30 border-green-500/30 text-green-400":"bg-red-900/30 border-red-500/30 text-red-400"}`},k,"% MG")))),r.default.createElement("div",{className:"p-6 flex-1 flex flex-col"},r.default.createElement("div",{className:"mb-6 flex-1"},r.default.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3"},"Incluye:"),r.default.createElement("div",{className:"flex flex-col gap-2"},(u.items||[]).map((L,G)=>{let V=le.find(J=>J.id===L.productId);return r.default.createElement("div",{key:G,className:"flex items-center gap-3 p-2 rounded-lg bg-slate-900/50 border border-slate-800/50"},r.default.createElement("div",{className:"w-10 h-10 bg-white rounded-lg p-0.5 flex-shrink-0"},r.default.createElement("img",{src:V?.image,alt:V?.name||"Producto",className:"w-full h-full object-contain"})),r.default.createElement("div",{className:"flex-1 min-w-0"},r.default.createElement("p",{className:"text-sm font-bold text-white truncate"},V?.name||"Producto Eliminado"),r.default.createElement("p",{className:"text-xs text-slate-500"},L.quantity," x $",Number(V?.basePrice||0).toLocaleString()," (Costo)")))}))),r.default.createElement("div",{className:"mb-6 p-4 bg-slate-900/40 rounded-xl border border-dashed border-slate-800"},r.default.createElement("div",{className:"flex justify-between text-sm mb-1"},r.default.createElement("span",{className:"text-slate-500"},"Costo Real:"),r.default.createElement("span",{className:"text-slate-300 font-mono"},"$",g.toLocaleString())),r.default.createElement("div",{className:"flex justify-between text-sm mb-1"},r.default.createElement("span",{className:"text-slate-500"},"Precio Venta:"),r.default.createElement("span",{className:"text-slate-300 font-mono"},"$",y.toLocaleString())),r.default.createElement("div",{className:"border-t border-slate-800 my-2"}),r.default.createElement("div",{className:"flex justify-between text-sm font-bold"},r.default.createElement("span",{className:U?"text-green-500":"text-red-500"},"Ganancia Neta:"),r.default.createElement("span",{className:`font-mono ${U?"text-green-400":"text-red-400"}`},U?"+":"","$",x.toLocaleString()))),r.default.createElement("div",{className:"flex gap-3 mt-auto"},r.default.createElement("button",{onClick:()=>{Nn({name:u.name,price:u.price,image:u.image,description:u.description||"",items:u.items||[]}),Gl(u.id),ql(!0),window.scrollTo({top:0,behavior:"smooth"})},className:"flex-1 py-3 bg-slate-900 hover:bg-slate-800 text-white rounded-xl font-bold transition border border-slate-700 flex items-center justify-center gap-2 group-hover:border-purple-500/30"},r.default.createElement(pi,{className:"w-4 h-4"})," Editar"),r.default.createElement("button",{onClick:()=>qt("Eliminar Promo","Ests seguro? Esto no se puede deshacer.",async()=>{await Ar(me(se,"artifacts",w,"public","data","promos",u.id)),M("Promo eliminada","info")}),className:"px-4 py-3 bg-red-900/20 hover:bg-red-900/40 text-red-500 rounded-xl transition border border-red-500/20"},r.default.createElement(ht,{className:"w-4 h-4"})))))}))),n==="orders"&&r.default.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up pb-20"},r.default.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8"},r.default.createElement("h1",{className:"text-3xl font-black text-white"},"Gestin de Pedidos"),r.default.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3"},r.default.createElement(Pr,{guideKey:"orders"}),r.default.createElement("button",{onClick:()=>SS(),className:`px-5 py-3 rounded-xl font-black transition border flex items-center gap-3 ${yn?"bg-slate-900 text-slate-400 border-slate-800 hover:bg-slate-800":"bg-green-900/10 text-green-400 border-green-500/20 hover:bg-green-600 hover:text-white"}`},r.default.createElement(Wm,{className:`w-5 h-5 ${yn?"opacity-40":""}`}),"Notificacin pedidos",r.default.createElement("span",{className:`text-[10px] px-2 py-1 rounded-full border font-black uppercase tracking-widest ${yn?"bg-slate-900/60 text-slate-400 border-slate-700":"bg-green-900/20 text-green-400 border-green-500/30"}`},yn?"Muteada":"Activa")))),Ce.length===0?r.default.createElement("div",{className:"text-center py-20 border border-dashed border-slate-800 rounded-[3rem] bg-slate-900/20"},r.default.createElement(Es,{className:"w-20 h-20 mx-auto mb-4 text-slate-700"}),r.default.createElement("p",{className:"text-xl text-slate-500 font-bold"},"No hay pedidos registrados an.")):r.default.createElement("div",{className:"space-y-4"},Ce.map((u,g)=>r.default.createElement("div",{key:u.id,style:{animationDelay:`${g*.05}s`},className:"bg-[#0a0a0a] border border-slate-800 p-6 rounded-2xl flex flex-col lg:flex-row justify-between items-center gap-6 hover:border-slate-700 transition group animate-fade-up"},r.default.createElement("div",{className:"flex-1 w-full lg:w-auto"},r.default.createElement("div",{className:"flex items-center gap-4 mb-2"},r.default.createElement("span",{className:"bg-slate-900 text-orange-400 px-3 py-1 rounded-lg text-sm font-black tracking-widest border border-slate-800"},"#",u.orderId),r.default.createElement("span",{className:`text-[10px] px-2 py-1 rounded-full uppercase font-bold border ${u.status==="Realizado"?"bg-green-900/20 text-green-400 border-green-500/30":"bg-yellow-900/20 text-yellow-400 border-yellow-500/30"}`},u.status)),r.default.createElement("h4",{className:"text-white font-bold text-lg mb-1"},u.customer.name),r.default.createElement("p",{className:"text-slate-500 text-xs flex items-center gap-2"},r.default.createElement(Ea,{className:"w-3 h-3"})," ",new Date(u.date).toLocaleString(),r.default.createElement("span",{className:"w-1 h-1 bg-slate-700 rounded-full"}),r.default.createElement("span",{className:"text-slate-400 font-mono"},"$",u.total.toLocaleString()))),r.default.createElement("div",{className:"flex -space-x-2"},u.items.slice(0,4).map((y,x)=>r.default.createElement("div",{key:x,className:"w-10 h-10 rounded-full border-2 border-[#0a0a0a] bg-slate-800 flex items-center justify-center overflow-hidden",title:y.title},y.image?r.default.createElement("img",{src:y.image,alt:y.title||"Producto",className:"w-full h-full object-cover"}):r.default.createElement(mr,{className:"w-4 h-4 text-slate-500"}))),u.items.length>4&&r.default.createElement("div",{className:"w-10 h-10 rounded-full border-2 border-[#0a0a0a] bg-slate-800 flex items-center justify-center text-xs text-white font-bold"},"+",u.items.length-4)),r.default.createElement("div",{className:"flex items-center gap-3 w-full lg:w-auto justify-end"},r.default.createElement("button",{onClick:()=>rd(u),className:"p-3 bg-slate-900 hover:bg-slate-800 text-slate-300 hover:text-white rounded-xl transition border border-slate-800",title:"Ver Detalles"},r.default.createElement(pd,{className:"w-5 h-5"})),u.status!=="Realizado"&&r.default.createElement("button",{onClick:()=>GS(u.id),className:"p-3 bg-green-900/10 hover:bg-green-600 text-green-500 hover:text-white rounded-xl transition border border-green-500/20",title:"Marcar como Finalizado"},r.default.createElement(Te,{className:"w-5 h-5"})),r.default.createElement("button",{onClick:()=>HS(u.id),className:"p-3 bg-red-900/10 hover:bg-red-600 text-red-500 hover:text-white rounded-xl transition border border-red-500/20",title:"Eliminar Pedido"},r.default.createElement(ht,{className:"w-5 h-5"}))))),r.default.createElement("div",{className:"flex items-center justify-center gap-4 mt-10 pb-10"},r.default.createElement("button",{onClick:CS,disabled:ur.length===0,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-bold transition ${ur.length===0?"bg-slate-900 text-slate-700 cursor-not-allowed":"bg-slate-800 text-white hover:bg-slate-700"}`},r.default.createElement(my,{className:"w-5 h-5"})," Anterior"),r.default.createElement("span",{className:"text-slate-500 font-mono text-sm"},"Pgina ",ur.length+1),r.default.createElement("button",{onClick:kS,disabled:!En||Ce.length<no,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-bold transition ${!En||Ce.length<no?"bg-slate-900 text-slate-700 cursor-not-allowed":"bg-orange-600 text-white hover:bg-orange-500"}`},"Siguiente ",r.default.createElement(fy,{className:"w-5 h-5"}))))),n==="products"&&r.default.createElement("div",{className:"max-w-7xl mx-auto animate-fade-in pb-20"},r.default.createElement("div",{className:"flex justify-between items-center mb-8"},r.default.createElement("div",null,r.default.createElement("h1",{className:"text-3xl font-black text-white"},"Inventario"),(()=>{let u=p?.subscriptionPlan||"entrepreneur",g=u==="premium"?"":u==="business"?50:30,y=le.length,x=u!=="premium"&&y>=g*.8;return r.default.createElement("p",{className:`text-sm font-bold mt-1 ${x?"text-yellow-400":"text-slate-500"}`},y," / ",g," productos",x&&u!=="premium"&&r.default.createElement("span",{className:"text-yellow-500 ml-2"}," Cerca del lmite"))})()),r.default.createElement("div",{className:"flex gap-2"},r.default.createElement(Pr,{guideKey:"products"}),r.default.createElement("button",{onClick:()=>Ur(!0),className:"bg-slate-800 px-6 py-3 rounded-xl font-bold text-white flex gap-2 shadow-lg hover:bg-slate-700 transition transform hover:scale-105 active:scale-95 border border-slate-700"},r.default.createElement(Ia,{className:"w-5 h-5"})," Categoras"),r.default.createElement("button",{onClick:()=>{Ee({}),bs(null),da(!0)},className:"bg-orange-600 px-6 py-3 rounded-xl font-bold text-white flex gap-2 shadow-lg hover:bg-orange-500 transition transform hover:scale-105 active:scale-95"},r.default.createElement(hn,{className:"w-5 h-5"})," Agregar Producto"))),(()=>{let u=le.filter(x=>x.isActive===!1&&x.deactivatedByPlan),g=le.filter(x=>x.isActive===!1&&!x.deactivatedByPlan),y=le.filter(x=>x.isActive===!1);return y.length>0?r.default.createElement("div",{className:"bg-yellow-900/20 border border-yellow-500/30 p-4 rounded-2xl mb-6 flex flex-col md:flex-row items-start md:items-center justify-between gap-4"},r.default.createElement("div",{className:"flex items-start gap-3"},r.default.createElement(mi,{className:"w-6 h-6 text-yellow-400 flex-shrink-0 mt-0.5"}),r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-yellow-400"},y.length," producto(s) desactivado(s)"),r.default.createElement("p",{className:"text-sm text-yellow-200/70"},u.length>0&&`${u.length} por lmite de plan. `,g.length>0&&`${g.length} desactivado(s) manualmente. `,"Los productos desactivados no se muestran en la tienda."))),r.default.createElement("button",{onClick:()=>M("Usa el botn de ojo () en cada producto para activar/desactivar","info"),className:"px-4 py-2 bg-yellow-500/20 text-yellow-400 rounded-xl font-bold text-sm hover:bg-yellow-500/30 transition border border-yellow-500/30 whitespace-nowrap"},"Ver desactivados")):null})(),to&&r.default.createElement("div",{className:"bg-[#0a0a0a] border border-orange-500/30 p-8 rounded-[2rem] mb-10 shadow-2xl relative"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6"},vs?"Editar Producto":"Nuevo Producto"),r.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},r.default.createElement("div",{className:"space-y-4"},r.default.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Nombre del Producto",value:ye.name||"",onChange:u=>Ee({...ye,name:u.target.value})}),r.default.createElement("div",{className:"flex gap-4"},r.default.createElement("input",{className:"input-cyber w-full p-4",type:"number",placeholder:"Precio Venta ($)",value:ye.basePrice||"",onChange:u=>Ee({...ye,basePrice:u.target.value})}),r.default.createElement("input",{className:"input-cyber w-full p-4",type:"number",placeholder:"Costo Compra ($)",value:ye.purchasePrice||"",onChange:u=>Ee({...ye,purchasePrice:u.target.value})}),r.default.createElement("input",{className:"input-cyber w-full p-4",type:"number",placeholder:"Stock",value:ye.stock||"",onChange:u=>Ee({...ye,stock:u.target.value})})),r.default.createElement("div",{className:"space-y-2"},r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block mb-2"},"Categoras (Selecciona una o ms)"),r.default.createElement("div",{className:"bg-slate-900/50 border border-slate-700 rounded-xl p-4 max-h-64 overflow-y-auto custom-scrollbar"},(p?.categories||[]).length===0?r.default.createElement("p",{className:"text-center text-slate-600 py-4 text-sm"},"No hay categoras disponibles. Agrgalas abajo."):(p?.categories||[]).map(u=>{let g=Array.isArray(ye.categories)?ye.categories.includes(u):ye.category===u;return r.default.createElement("label",{key:u,className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-all group hover:bg-slate-800 mb-2 last:mb-0 ${g?"bg-orange-900/20 border border-orange-500/30":"border border-transparent"}`},r.default.createElement("input",{type:"checkbox",checked:g,onChange:y=>{if(y.target.checked){let x=Array.isArray(ye.categories)?ye.categories:ye.category?[ye.category]:[];Ee({...ye,categories:[...x,u],category:void 0})}else{let x=Array.isArray(ye.categories)?ye.categories.filter(k=>k!==u):[];Ee({...ye,categories:x})}},className:"w-4 h-4 text-orange-600 bg-slate-900 border-slate-600 rounded focus:ring-orange-500 focus:ring-2"}),r.default.createElement("span",{className:`flex-1 text-sm font-medium transition-colors ${g?"text-orange-400":"text-slate-300 group-hover:text-white"}`},u),g&&r.default.createElement("span",{className:"text-xs font-bold text-orange-500 bg-orange-500/10 px-2 py-0.5 rounded flex items-center gap-1"},r.default.createElement(Te,{className:"w-3 h-3"})))})),ye.categories&&ye.categories.length>0&&r.default.createElement("div",{className:"flex flex-wrap gap-2 mt-3"},ye.categories.map(u=>r.default.createElement("span",{key:u,className:"bg-orange-500/20 text-orange-400 text-xs font-bold px-3 py-1.5 rounded-full border border-orange-500/30 flex items-center gap-2"},u,r.default.createElement("button",{type:"button",onClick:()=>{Ee({...ye,categories:ye.categories.filter(g=>g!==u)})},className:"hover:text-orange-300 transition"},r.default.createElement(It,{className:"w-3 h-3"})))))),r.default.createElement("button",{type:"button",onClick:()=>Ur(!0),className:"w-full mt-2 py-2 bg-orange-900/20 hover:bg-orange-900/40 text-orange-400 rounded-xl font-bold transition flex items-center justify-center gap-2 text-sm border border-orange-800"},r.default.createElement(Ia,{className:"w-4 h-4"})," Nueva Categora")),r.default.createElement("div",{className:"space-y-4"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Imagen del Producto"),r.default.createElement("div",{className:"space-y-3"},r.default.createElement("input",{type:"file",accept:"image/*",onChange:u=>oi(u,Ee),className:"block w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-orange-900/20 file:text-orange-400 hover:file:bg-orange-900/40 transition"}),ye.image&&r.default.createElement("div",{className:"bg-white rounded-xl p-3 w-32 h-32"},r.default.createElement("img",{src:ye.image,className:"w-full h-full object-contain",alt:"Preview"})))),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Descuento (%)"),r.default.createElement("p",{className:"text-xs text-slate-400 mb-2"},"Porcentaje de descuento sobre el precio base (0-100)"),r.default.createElement("input",{type:"number",min:"0",max:"100",className:"input-cyber w-full p-4",placeholder:"0",value:ye.discount||0,onChange:u=>Ee({...ye,discount:parseFloat(u.target.value)||0})})))),r.default.createElement("textarea",{className:"input-cyber w-full h-32 p-4 mb-6 resize-none",placeholder:"Descripcin detallada del producto...",value:ye.description||"",onChange:u=>Ee({...ye,description:u.target.value})}),r.default.createElement("div",{className:"flex gap-4 justify-end"},r.default.createElement("button",{onClick:()=>da(!1),className:"px-6 py-3 text-slate-400 font-bold hover:text-white transition"},"Cancelar"),r.default.createElement("button",{onClick:US,className:"px-8 py-3 bg-orange-600 rounded-xl text-white font-bold shadow-lg hover:bg-orange-500 transition"},"Guardar Producto"))),r.default.createElement("div",{className:"grid gap-3"},le.map((u,g)=>r.default.createElement("div",{key:u.id,style:{animationDelay:`${g*.05}s`},className:`bg-[#0a0a0a] border p-4 rounded-xl flex flex-col sm:flex-row justify-between items-center group hover:border-orange-900/50 transition animate-fade-up ${u.isActive===!1?"border-yellow-500/30 opacity-60":"border-slate-800"}`},r.default.createElement("div",{className:"flex items-center gap-6 w-full sm:w-auto"},r.default.createElement("div",{className:`w-16 h-16 bg-white rounded-lg p-2 flex-shrink-0 relative ${u.isActive===!1?"grayscale":""}`},r.default.createElement("img",{src:u.image,alt:u.name||"Producto",className:"w-full h-full object-contain"}),u.isFeatured&&r.default.createElement("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-yellow-500 rounded-full flex items-center justify-center shadow-lg"},r.default.createElement(lo,{className:"w-3 h-3 text-black fill-current"}))),r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white text-lg flex items-center gap-2"},u.name,u.isFeatured&&r.default.createElement("span",{className:"text-[10px] bg-yellow-500/20 text-yellow-400 px-2 py-0.5 rounded-full font-bold"},"DESTACADO"),u.isActive===!1&&r.default.createElement("span",{className:"text-[10px] bg-red-500/20 text-red-400 px-2 py-0.5 rounded-full font-bold"},"OCULTO",u.deactivatedByPlan?" (LMITE)":"")),r.default.createElement("p",{className:"text-xs text-slate-500 font-mono"},"Stock: ",r.default.createElement("span",{className:(u.stock||0)<(p?.lowStockThreshold||5)?"text-red-400 font-bold animate-pulse":"text-slate-400"},u.stock||0)," |",r.default.createElement("span",{className:"text-orange-400 font-bold ml-2",title:"Precio Venta"},"$",Number(u.basePrice).toLocaleString())," |",r.default.createElement("span",{className:"text-slate-500 ml-2 font-mono",title:"Costo Adquisicin"},"Costo: $",Number(u.purchasePrice||0).toLocaleString()),Number(u.basePrice)>0&&r.default.createElement("span",{className:`ml-2 text-[10px] font-black px-1.5 py-0.5 rounded border ${(Number(u.basePrice)-Number(u.purchasePrice||0))/Number(u.basePrice)<.3?"bg-red-900/20 text-red-400 border-red-500/20":"bg-green-900/20 text-green-400 border-green-500/20"}`},((Number(u.basePrice)-Number(u.purchasePrice||0))/Number(u.basePrice)*100).toFixed(0),"%")," |",r.default.createElement("span",{className:"text-green-400 ml-2"},"Ventas: ",Ie?.salesCount?.[u.id]||0)))),r.default.createElement("div",{className:"flex gap-2 mt-4 sm:mt-0 w-full sm:w-auto justify-end items-center"},r.default.createElement("button",{onClick:async()=>{try{await nt(me(se,"artifacts",w,"public","data","products",u.id),{isFeatured:!u.isFeatured}),M(u.isFeatured?"Producto quitado de destacados":"Producto marcado como destacado","success")}catch(y){console.error(y),M("Error al actualizar","error")}},className:`p-3 rounded-xl transition border transform hover:scale-105 active:scale-95 ${u.isFeatured?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30 hover:bg-yellow-500/30":"bg-slate-900 text-slate-500 border-slate-800 hover:text-yellow-400 hover:border-yellow-500/30"}`,title:u.isFeatured?"Quitar de Destacados":"Marcar como Destacado"},r.default.createElement(lo,{className:`w-5 h-5 ${u.isFeatured?"fill-current":""}`})),r.default.createElement("button",{onClick:()=>u.isActive===!1?Tm(u.id):ed(u.id),className:`p-3 rounded-xl transition border transform hover:scale-105 active:scale-95 ${u.isActive===!1?"bg-red-500/20 text-red-400 border-red-500/30 hover:bg-green-500/20 hover:text-green-400 hover:border-green-500/30":"bg-slate-900 text-slate-500 border-slate-800 hover:text-red-400 hover:border-red-500/30"}`,title:u.isActive===!1?"Activar Producto (hacerlo visible en tienda)":"Desactivar Producto (ocultarlo de la tienda)"},u.isActive===!1?r.default.createElement(pd,{className:"w-5 h-5"}):r.default.createElement(by,{className:"w-5 h-5"})),r.default.createElement("button",{onClick:()=>ne(u),className:"p-3 bg-slate-900 rounded-xl text-green-400 hover:bg-green-900/20 transition border border-slate-800 transform hover:scale-105 active:scale-95",title:"Venta Manual (Descontar 1)"},r.default.createElement(su,{className:"w-5 h-5"})),r.default.createElement("button",{onClick:()=>{Ee(u),bs(u.id),da(!0)},className:"p-3 bg-slate-900 rounded-xl text-orange-400 hover:bg-orange-900/20 transition border border-slate-800 transform hover:scale-105 active:scale-95"},r.default.createElement(pi,{className:"w-5 h-5"})),r.default.createElement("button",{onClick:()=>qS(u),className:"p-3 bg-slate-900 rounded-xl text-red-400 hover:bg-red-900/20 transition border border-slate-800 transform hover:scale-105 active:scale-95"},r.default.createElement(ht,{className:"w-5 h-5"}))))))),n==="carousel"&&r.default.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up pb-20 relative"},["business","premium"].includes(p?.subscriptionPlan)?r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8"},r.default.createElement("div",null,r.default.createElement("h1",{className:"text-3xl md:text-4xl font-black text-white neon-text"},"Carrusel"),r.default.createElement("p",{className:"text-slate-500 mt-2"},"Administr los banners rotativos del home de tu tienda.")),r.default.createElement(Pr,{guideKey:"carousel"})),r.default.createElement("div",{className:"space-y-6"},r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(uf,{className:"w-5 h-5 text-orange-400"})," Configuracin del Carrusel"),r.default.createElement("div",{className:"space-y-6"},r.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},r.default.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Mostrar carrusel"),r.default.createElement("p",{className:"text-xs text-slate-500"},"Si est apagado, se usa la imagen Hero tradicional.")),r.default.createElement("button",{onClick:()=>W({...p,showHomeBannerCarousel:p?.showHomeBannerCarousel===!1}),className:`w-14 h-8 rounded-full transition relative ${p?.showHomeBannerCarousel!==!1?"bg-orange-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${p?.showHomeBannerCarousel!==!1?"left-7":"left-1"}`}))),r.default.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Cambio automtico (segundos)"),r.default.createElement("input",{type:"number",min:"1",className:"input-cyber w-full p-3",value:Number.isFinite(Number(p?.homeBannerAutoplayMs))?Math.max(1,Math.round(Number(p.homeBannerAutoplayMs)/1e3)):5,onChange:u=>{let g=Number(u.target.value),y=Number.isFinite(g)?Math.max(1,g):5;W({...p,homeBannerAutoplayMs:Math.round(y*1e3)})}}))),r.default.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6"},r.default.createElement("div",{className:"lg:col-span-1"},r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Imagen del slide"),r.default.createElement("input",{type:"file",accept:"image/*",onChange:u=>oi(u,$r,"imageUrl",1400),className:"block w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-orange-900/20 file:text-orange-400 hover:file:bg-orange-900/40 transition"}),Ve?.imageUrl&&r.default.createElement("div",{className:"mt-4 rounded-xl overflow-hidden border border-slate-700 h-28"},r.default.createElement("img",{src:Ve.imageUrl,className:"w-full h-full object-cover",alt:"Banner preview"}))),r.default.createElement("div",{className:"lg:col-span-2 space-y-4"},r.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Accin al hacer click"),r.default.createElement("select",{className:"input-cyber w-full p-3",value:Ve?.targetType||"none",onChange:u=>$r(g=>({...g,targetType:u.target.value,targetId:""}))},r.default.createElement("option",{value:"none"},"Solo mostrar (sin link)"),r.default.createElement("option",{value:"product"},"Abrir producto"),r.default.createElement("option",{value:"promo"},"Abrir promo"))),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Orden (0 = primero)"),r.default.createElement("input",{type:"number",className:"input-cyber w-full p-3",value:Number.isFinite(Number(Ve?.order))?Number(Ve.order):0,onChange:u=>$r(g=>({...g,order:u.target.value}))}),r.default.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Menor nmero aparece primero (0, 1, 2...)."))),Ve?.targetType!=="none"&&r.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},Ve?.targetType==="promo"?"Promo al hacer click":"Producto al hacer click"),r.default.createElement("select",{className:"input-cyber w-full p-3",value:Ve?.targetId||"",onChange:u=>$r(g=>({...g,targetId:u.target.value}))},r.default.createElement("option",{value:""},"Seleccionar..."),(Ve?.targetType==="promo"?[...an]:[...le]).sort((u,g)=>(u?.name||"").localeCompare(g?.name||"")).map(u=>r.default.createElement("option",{key:u.id,value:u.id},u.name)))),r.default.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800 flex items-center gap-4"},(()=>{let u=Ve?.targetType==="promo",g=u?an.find(x=>x.id===Ve?.targetId):le.find(x=>x.id===Ve?.targetId),y=g?.image;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"w-16 h-16 rounded-xl overflow-hidden border border-slate-700 bg-black/30 flex items-center justify-center flex-shrink-0"},y?r.default.createElement("img",{src:y,className:"w-full h-full object-cover",alt:"Preview"}):r.default.createElement(oo,{className:"w-6 h-6 text-slate-600"})),r.default.createElement("div",{className:"min-w-0"},r.default.createElement("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-wider"},"Vista previa"),r.default.createElement("p",{className:"font-black text-white truncate"},g?.name||"Sin seleccin")))})())),r.default.createElement("div",{className:"flex flex-col md:flex-row md:items-center gap-4"},r.default.createElement("div",{className:"flex items-center justify-between flex-1 p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Slide habilitado"),r.default.createElement("p",{className:"text-xs text-slate-500"},"Si est apagado no se muestra.")),r.default.createElement("button",{onClick:()=>$r(u=>({...u,enabled:u?.enabled===!1})),className:`w-14 h-8 rounded-full transition relative ${Ve?.enabled!==!1?"bg-green-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${Ve?.enabled!==!1?"left-7":"left-1"}`}))),r.default.createElement("div",{className:"flex gap-3"},Rs&&r.default.createElement("button",{onClick:Um,className:"px-6 py-3 rounded-xl font-bold border border-slate-700 text-slate-200 hover:bg-slate-900/60 transition"},"Cancelar"),r.default.createElement("button",{onClick:zS,className:"px-8 py-3 bg-orange-600 rounded-xl text-white font-bold shadow-lg hover:bg-orange-500 transition"},Rs?"Guardar Slide":"Agregar Slide"))))),r.default.createElement("div",{className:"space-y-3"},Ro.length===0?r.default.createElement("p",{className:"text-slate-500 text-sm"},"Todava no hay slides en el carrusel."):Ro.map(u=>{let g=u.targetType||(u.promoId?"promo":u.productId?"product":"none"),y=u.targetId||u.promoId||u.productId||"",x=g==="promo"?an.find(L=>L.id===y):g==="product"?le.find(L=>L.id===y):null,k=g==="none"?"Solo imagen":x?.name||(g==="promo"?"Promo inexistente":"Producto inexistente"),U=u?.enabled!==!1;return r.default.createElement("div",{key:u.id,className:"flex flex-col md:flex-row md:items-center gap-4 p-4 bg-slate-900/40 rounded-2xl border border-slate-800"},r.default.createElement("div",{className:"w-full md:w-40 h-20 rounded-xl overflow-hidden border border-slate-700 bg-black/30 flex-shrink-0"},u?.imageUrl?r.default.createElement("img",{src:u.imageUrl,className:"w-full h-full object-cover",alt:"Slide"}):null),r.default.createElement("div",{className:"flex-1 min-w-0"},r.default.createElement("div",{className:"flex items-center gap-3 flex-wrap"},r.default.createElement("div",{className:"w-10 h-10 rounded-lg overflow-hidden border border-slate-700 bg-black/30 flex items-center justify-center flex-shrink-0"},x?.image?r.default.createElement("img",{src:x.image,className:"w-full h-full object-cover",alt:"Target"}):r.default.createElement(oo,{className:"w-4 h-4 text-slate-600"})),r.default.createElement("p",{className:"font-black text-white truncate"},k),r.default.createElement("span",{className:`text-[10px] font-black px-2 py-1 rounded-lg border ${U?"text-green-400 border-green-500/30 bg-green-500/10":"text-slate-400 border-slate-700 bg-slate-800/30"}`},U?"ACTIVO":"PAUSADO"),r.default.createElement("span",{className:"text-[10px] font-black px-2 py-1 rounded-lg border border-slate-700 bg-slate-800/30 text-slate-300"},g==="promo"?"PROMO":g==="product"?"PRODUCTO":"SIN LINK"),r.default.createElement("span",{className:"text-[10px] font-black px-2 py-1 rounded-lg border border-slate-700 bg-slate-800/30 text-slate-300"},"ORDEN ",Number.isFinite(Number(u.order))?Number(u.order):0)),r.default.createElement("p",{className:"text-xs text-slate-500 mt-1 truncate"},g==="none"?"Click desactivado":y)),r.default.createElement("div",{className:"flex items-center gap-2"},r.default.createElement("button",{onClick:()=>jS(u),className:"px-4 py-2 rounded-xl font-bold border border-slate-700 text-slate-200 hover:bg-slate-900/60 transition flex items-center gap-2"},r.default.createElement(pi,{className:"w-4 h-4"})," Editar"),r.default.createElement("button",{onClick:()=>BS(u),className:"px-4 py-2 rounded-xl font-bold border border-red-500/30 text-red-400 hover:bg-red-500/10 transition flex items-center gap-2"},r.default.createElement(ht,{className:"w-4 h-4"})," Eliminar")))})))),K?.email===Ge&&r.default.createElement("div",{className:"fixed bottom-8 right-8 z-50"},r.default.createElement("button",{onClick:async()=>{try{Nt(!0);let u=me(se,"artifacts",w,"public","data","settings","config");await Cr(u,p,{merge:!0}),M("Configuracin del carrusel guardada","success")}catch(u){console.error(u),M("Error al guardar","error")}finally{Nt(!1)}},className:"px-8 py-4 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 text-white font-bold rounded-2xl shadow-2xl shadow-orange-900/30 flex items-center gap-3 transition transform hover:scale-105"},r.default.createElement(di,{className:"w-5 h-5"})," Guardar Cambios")))):r.default.createElement("div",{className:"flex flex-col items-center justify-center py-20 text-center"},r.default.createElement("div",{className:"w-20 h-20 bg-yellow-900/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-yellow-500/30"},r.default.createElement(pr,{className:"w-10 h-10 text-yellow-500"})),r.default.createElement("h3",{className:"text-2xl font-black text-white mb-4"},"Carrusel Bloqueado"),r.default.createElement("p",{className:"text-slate-400 mb-6 max-w-md"},"El carrusel de banners del home est disponible a partir del ",r.default.createElement("span",{className:"text-purple-400 font-bold"},"Plan Negocio"),". Mejor tu plan para personalizar los slides de tu tienda."),r.default.createElement("button",{onClick:()=>ys(!0),className:"px-8 py-4 bg-purple-600 hover:bg-purple-500 text-white font-bold rounded-xl shadow-lg shadow-purple-600/20 transition flex items-center gap-2"},r.default.createElement(Wn,{className:"w-5 h-5"})," Ver Planes Disponibles"))),n==="settings"&&r.default.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up pb-20 relative"},K?.email!==Ge&&r.default.createElement("div",{className:"absolute inset-0 z-30 flex items-center justify-center bg-black/90 backdrop-blur-md rounded-[2.5rem]"},r.default.createElement("div",{className:"text-center p-8 max-w-lg"},r.default.createElement("div",{className:"w-24 h-24 mx-auto mb-6 bg-red-500/20 rounded-full flex items-center justify-center border border-red-500/30"},r.default.createElement(Tn,{className:"w-12 h-12 text-red-400"})),r.default.createElement("h3",{className:"text-3xl font-black text-white mb-4"},"Acceso Restringido"),r.default.createElement("p",{className:"text-slate-400 mb-6"},"Esta seccin est reservada nicamente para el ",r.default.createElement("span",{className:"text-orange-400 font-bold"},"desarrollador")," de la plataforma."),r.default.createElement("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-800 mb-6"},r.default.createElement("p",{className:"text-sm text-slate-500 mb-2"},"Para solicitar cambios en la configuracin, contacta a:"),r.default.createElement("p",{className:"text-orange-400 font-bold text-lg"},"lautarocorazza63@gmail.com")),r.default.createElement("p",{className:"text-xs text-slate-600"},"Si necesitas modificar tu tienda, enva un email detallando los cambios que deseas realizar."))),r.default.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8"},r.default.createElement("h1",{className:"text-4xl font-black text-white neon-text flex items-center gap-3"},r.default.createElement(df,{className:"w-8 h-8 text-orange-500 animate-spin-slow"})," Configuracin General"),r.default.createElement(Pr,{guideKey:"settings"})),r.default.createElement("div",{className:"flex flex-wrap gap-2 mb-8 pb-4 border-b border-slate-800"},[{id:"store",label:"Tienda",icon:uo},{id:"appearance",label:"Apariencia",icon:af},{id:"social",label:"Redes",icon:hf},{id:"payments",label:"Pagos",icon:Ns},{id:"ticket",label:"Ticket",icon:Is},{id:"shipping",label:"Envos",icon:Gr},{id:"seo",label:"SEO",icon:gd},{id:"advanced",label:"Avanzado",icon:Jm},{id:"team",label:"Equipo",icon:co},...K?.email===Ge?[{id:"subscription",label:"Suscripciones",icon:Wn}]:[]].map(u=>r.default.createElement("button",{key:u.id,onClick:()=>km(u.id),className:`px-5 py-2.5 rounded-xl font-bold text-sm flex items-center gap-2 transition-all duration-300 border ${nn===u.id?"bg-orange-600 text-white shadow-[0_0_20px_rgba(8,145,178,0.4)] border-orange-400 transform scale-105":"bg-slate-900 text-slate-400 hover:text-white hover:bg-slate-800 border-slate-800"}`},r.default.createElement(u.icon,{className:`w-4 h-4 ${nn===u.id?"animate-pulse":""}`})," ",u.label))),nn==="subscription"&&K?.email===Ge&&r.default.createElement("div",{className:"space-y-6 animate-fade-up"},r.default.createElement("div",{className:"bg-[#0a0a0a] border border-orange-500/30 p-8 rounded-[2rem] shadow-[0_0_50px_rgba(249,115,22,0.1)]"},r.default.createElement("h3",{className:"text-2xl font-black text-white mb-6 flex items-center gap-3"},r.default.createElement(Wn,{className:"w-6 h-6 text-yellow-500 fill-current"}),"Modelos de Suscripcin"),r.default.createElement("div",{className:"mb-8 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-xl flex items-center gap-4"},r.default.createElement(mi,{className:"w-8 h-8 text-yellow-500"}),r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-yellow-500"},"Zona de Peligro: Super Admin"),r.default.createElement("p",{className:"text-sm text-yellow-200"},"Cambiar el plan afecta inmediatamente los lmites y funcionalidades de la tienda."))),r.default.createElement("div",{className:"mb-8 p-6 bg-slate-900/40 border border-slate-800 rounded-2xl"},r.default.createElement("div",{className:"flex items-center justify-between gap-4 flex-wrap"},r.default.createElement("div",null,r.default.createElement("p",{className:"text-white font-black text-lg"},"Backup de Tienda"),r.default.createElement("p",{className:"text-slate-500 text-xs font-mono"},"storeId: ",w||"")),r.default.createElement("div",{className:"flex items-center gap-2"},r.default.createElement("button",{disabled:D||!w,onClick:Fl,className:"px-4 py-3 rounded-xl bg-green-500/10 border border-green-500/20 text-green-400 font-black text-[10px] uppercase tracking-widest hover:bg-green-500/20 transition disabled:opacity-50"},D?"Exportando":"Exportar"),r.default.createElement("label",{className:`px-4 py-3 rounded-xl bg-indigo-600/20 border border-indigo-500/30 text-indigo-200 font-black text-[10px] uppercase tracking-widest hover:bg-indigo-600/30 transition ${B||!w?"opacity-50 pointer-events-none":""}`},B?"Importando":"Importar",r.default.createElement("input",{type:"file",accept:"application/json",className:"hidden",onChange:u=>{let g=u.target.files&&u.target.files[0];g&&Ul(g),u.target.value=""}})))),r.default.createElement("p",{className:"text-slate-600 text-xs mt-4"},"Importar escribe con merge (no borra por defecto). Usalo con cuidado.")),r.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},r.default.createElement("button",{onClick:()=>jl("entrepreneur"),className:`relative p-6 rounded-2xl border-2 transition-all duration-300 text-left group ${p.subscriptionPlan==="entrepreneur"||!p.subscriptionPlan?"bg-slate-900 border-orange-500 shadow-[0_0_30px_rgba(249,115,22,0.2)] scale-105 z-10":"bg-[#050505] border-slate-800 hover:border-slate-600 opacity-60 hover:opacity-100"}`},r.default.createElement("div",{className:"flex justify-between items-start mb-4"},r.default.createElement("div",{className:"p-3 bg-slate-800 rounded-xl"},r.default.createElement(uo,{className:"w-6 h-6 text-orange-400"})),(p.subscriptionPlan==="entrepreneur"||!p.subscriptionPlan)&&r.default.createElement("div",{className:"bg-orange-500 text-black text-xs font-black px-2 py-1 rounded"},"ACTIVO")),r.default.createElement("h4",{className:"text-xl font-black text-white mb-1"},"Emprendedor"),r.default.createElement("p",{className:"text-sm text-slate-400 mb-4 h-10"},"El esencial para arrancar slido y econmico."),r.default.createElement("div",{className:"text-2xl font-black text-orange-400 mb-6"},"US$5.99 ",r.default.createElement("span",{className:"text-sm text-slate-500 font-normal"},"/mes")),r.default.createElement("ul",{className:"space-y-2 text-sm text-slate-300"},r.default.createElement("li",{className:"flex items-center gap-2"},r.default.createElement(Te,{className:"w-4 h-4 text-orange-500"})," Hasta 30 productos"),r.default.createElement("li",{className:"flex items-center gap-2"},r.default.createElement(Te,{className:"w-4 h-4 text-orange-500"})," Mercado Pago integrado"),r.default.createElement("li",{className:"flex items-center gap-2"},r.default.createElement(Te,{className:"w-4 h-4 text-orange-500"})," 1 promocin activa"),r.default.createElement("li",{className:"flex items-center gap-2"},r.default.createElement(Te,{className:"w-4 h-4 text-orange-500"})," Panel de control completo"),r.default.createElement("li",{className:"flex items-center gap-2"},r.default.createElement(Te,{className:"w-4 h-4 text-orange-500"})," Soporte tcnico por Gmail"))),r.default.createElement("button",{onClick:()=>jl("business"),className:`relative p-6 rounded-2xl border-2 transition-all duration-300 text-left group ${p.subscriptionPlan==="business"?"bg-slate-900 border-purple-500 shadow-[0_0_30px_rgba(168,85,247,0.2)] scale-105 z-10":"bg-[#050505] border-slate-800 hover:border-slate-600 opacity-60 hover:opacity-100"}`},r.default.createElement("div",{className:"flex justify-between items-start mb-4"},r.default.createElement("div",{className:"p-3 bg-slate-800 rounded-xl"},r.default.createElement(Km,{className:"w-6 h-6 text-purple-400"})),p.subscriptionPlan==="business"&&r.default.createElement("div",{className:"bg-purple-500 text-white text-xs font-black px-2 py-1 rounded"},"ACTIVO")),r.default.createElement("h4",{className:"text-xl font-black text-white mb-1"},"Negocio"),r.default.createElement("p",{className:"text-sm text-slate-400 mb-4 h-10"},"Para marcas con identidad definida."),r.default.createElement("div",{className:"text-2xl font-black text-purple-400 mb-6"},"US$9.99 ",r.default.createElement("span",{className:"text-sm text-slate-500 font-normal"},"/mes")),r.default.createElement("ul",{className:"space-y-2 text-sm text-slate-300"},r.default.createElement("li",{className:"flex items-center gap-2"},r.default.createElement(Te,{className:"w-4 h-4 text-purple-500"})," Incluye todo Emprendedor"),r.default.createElement("li",{className:"flex items-center gap-2"},r.default.createElement(Te,{className:"w-4 h-4 text-purple-500"})," Hasta 50 productos"),r.default.createElement("li",{className:"flex items-center gap-2"},r.default.createElement(Te,{className:"w-4 h-4 text-purple-500"})," Promociones ilimitadas + cupones"),r.default.createElement("li",{className:"flex items-center gap-2"},r.default.createElement(Te,{className:"w-4 h-4 text-purple-500"})," Analtica de clientes + carrusel"),r.default.createElement("li",{className:"flex items-center gap-2"},r.default.createElement(Te,{className:"w-4 h-4 text-purple-500"})," Botn WhatsApp flotante"))),r.default.createElement("button",{onClick:()=>jl("premium"),className:`relative p-6 rounded-2xl border-2 transition-all duration-300 text-left group ${p.subscriptionPlan==="premium"?"bg-slate-900 border-yellow-500 shadow-[0_0_30px_rgba(234,179,8,0.2)] scale-105 z-10":"bg-[#050505] border-slate-800 hover:border-slate-600 opacity-60 hover:opacity-100"}`},r.default.createElement("div",{className:"flex justify-between items-start mb-4"},r.default.createElement("div",{className:"p-3 bg-slate-800 rounded-xl"},r.default.createElement(hi,{className:"w-6 h-6 text-yellow-400"})),p.subscriptionPlan==="premium"&&r.default.createElement("div",{className:"bg-yellow-500 text-black text-xs font-black px-2 py-1 rounded"},"ACTIVO")),r.default.createElement("h4",{className:"text-xl font-black text-white mb-1"},"Premium"),r.default.createElement("p",{className:"text-sm text-slate-400 mb-4 h-10"},"Servicio full con IA."),r.default.createElement("div",{className:"text-2xl font-black text-yellow-400 mb-6"},"US$17.99 ",r.default.createElement("span",{className:"text-sm text-slate-500 font-normal"},"/mes")),r.default.createElement("ul",{className:"space-y-2 text-sm text-slate-300"},r.default.createElement("li",{className:"flex items-center gap-2"},r.default.createElement(Te,{className:"w-4 h-4 text-yellow-500"})," Incluye todo Negocio"),r.default.createElement("li",{className:"flex items-center gap-2"},r.default.createElement(Te,{className:"w-4 h-4 text-yellow-500"})," Productos y promos ilimitados"),r.default.createElement("li",{className:"flex items-center gap-2"},r.default.createElement(Te,{className:"w-4 h-4 text-yellow-500"})," Asistente IA 24/7 (SustIA)"),r.default.createElement("li",{className:"flex items-center gap-2"},r.default.createElement(Te,{className:"w-4 h-4 text-yellow-500"})," Carga VIP inicial (10 productos)"),r.default.createElement("li",{className:"flex items-center gap-2"},r.default.createElement(Te,{className:"w-4 h-4 text-yellow-500"})," Mantenimiento mensual full"),r.default.createElement("li",{className:"flex items-center gap-2"},r.default.createElement(Te,{className:"w-4 h-4 text-yellow-500"})," Omnicanalidad total")))),r.default.createElement("div",{className:"mt-8 pt-8 border-t border-slate-800/50"},r.default.createElement("h4",{className:"text-lg font-bold text-slate-300 mb-4 flex items-center gap-2"},r.default.createElement(dy,{className:"w-5 h-5 text-green-400"})," Ciclo de Facturacin"),r.default.createElement("div",{className:"grid grid-cols-3 gap-4"},[{id:"Semanal",label:"Semanal"},{id:"Mensual",label:"Mensual"},{id:"Anual",label:"Anual"}].map(u=>r.default.createElement("button",{key:u.id,onClick:()=>W({...p,subscriptionBillingCycle:u.id}),className:`p-3 rounded-xl border transition-all font-bold ${p?.subscriptionBillingCycle===u.id?"bg-green-500 text-black border-green-400 shadow-lg shadow-green-500/20":"bg-slate-900 text-slate-400 border-slate-800 hover:bg-slate-800"}`},u.label))),r.default.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Define la frecuencia de cobro para este plan.")))),nn==="store"&&r.default.createElement("div",{className:"space-y-6 animate-fade-up"},r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(uo,{className:"w-5 h-5 text-orange-400"})," Informacin de la Tienda"),r.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Nombre de la Tienda"),r.default.createElement("input",{className:"input-cyber w-full p-4",value:p?.storeName||"",onChange:u=>W({...p,storeName:u.target.value}),placeholder:"Mi Tienda"})),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Email de Contacto"),r.default.createElement("input",{type:"email",className:"input-cyber w-full p-4",value:p?.storeEmail||"",onChange:u=>W({...p,storeEmail:u.target.value}),placeholder:"contacto@mitienda.com"})),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Telfono"),r.default.createElement("input",{className:"input-cyber w-full p-4",value:p?.storePhone||"",onChange:u=>W({...p,storePhone:u.target.value}),placeholder:"+54 11 1234-5678"})),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Direccin"),r.default.createElement("input",{className:"input-cyber w-full p-4",value:p?.storeAddress||"",onChange:u=>W({...p,storeAddress:u.target.value}),placeholder:"Av. Corrientes 1234, CABA"}))),r.default.createElement("div",{className:"mt-6"},r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Descripcin de la Tienda"),r.default.createElement("textarea",{className:"input-cyber w-full p-4 h-24 resize-none",value:p?.storeDescription||"",onChange:u=>W({...p,storeDescription:u.target.value}),placeholder:"Breve descripcin de tu tienda..."})),r.default.createElement("div",{className:"mt-6"},r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Texto de Nosotros"),r.default.createElement("textarea",{className:"input-cyber w-full p-4 h-32 resize-none",value:p?.aboutUsText||"",onChange:u=>W({...p,aboutUsText:u.target.value}),placeholder:"Historia de tu marca, valores, misin..."}))),r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(fd,{className:"w-5 h-5 text-orange-400"})," Textos de Copyright"),r.default.createElement("div",{className:"space-y-6"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Copyright del Men Lateral"),r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.menuCopyright||"",onChange:u=>W({...p,menuCopyright:u.target.value}),placeholder:`${p?.storeName||"Mi Tienda"}  ${new Date().getFullYear()}`}),r.default.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Aparece al final del men hamburguesa")),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Copyright del Footer"),r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.footerCopyright||"",onChange:u=>W({...p,footerCopyright:u.target.value}),placeholder:` ${new Date().getFullYear()} ${p?.storeName||"Mi Tienda"}. All rights reserved.`}),r.default.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Aparece en la barra inferior del sitio")))),r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(md,{className:"w-5 h-5 text-orange-400"}),' Gua "Cmo Comprar"'),r.default.createElement("div",{className:"space-y-6"},r.default.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Mostrar en Men"),r.default.createElement("p",{className:"text-xs text-slate-500"},'Mostrar enlace "Cmo Comprar" en el men lateral')),r.default.createElement("button",{onClick:()=>W({...p,showGuideLink:p?.showGuideLink===!1}),className:`w-14 h-7 rounded-full transition-all duration-300 relative ${p?.showGuideLink!==!1?"bg-orange-600":"bg-slate-700"}`},r.default.createElement("div",{className:`w-5 h-5 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${p?.showGuideLink!==!1?"left-8":"left-1"}`}))),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Ttulo de la Pgina"),r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.guideTitle||"",onChange:u=>W({...p,guideTitle:u.target.value}),placeholder:"Cmo Comprar"})),r.default.createElement("div",{className:"border-t border-slate-800 pt-4"},r.default.createElement("div",{className:"flex items-center justify-between mb-3"},r.default.createElement("div",{className:"flex items-center gap-2"},r.default.createElement("span",{className:"w-6 h-6 rounded-full bg-orange-900/30 text-orange-400 text-xs font-bold flex items-center justify-center"},"1"),r.default.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"Paso 1")),r.default.createElement("button",{onClick:()=>W({...p,showGuideStep1:p?.showGuideStep1===!1}),className:`w-10 h-5 rounded-full transition-all duration-300 relative ${p?.showGuideStep1!==!1?"bg-orange-600":"bg-slate-700"}`},r.default.createElement("div",{className:`w-3 h-3 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${p?.showGuideStep1!==!1?"left-6":"left-1"}`}))),r.default.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-3 ${p?.showGuideStep1===!1?"opacity-50":""}`},r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.guideStep1Title||"",onChange:u=>W({...p,guideStep1Title:u.target.value}),placeholder:"Selecciona Productos",disabled:p?.showGuideStep1===!1}),r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.guideStep1Text||"",onChange:u=>W({...p,guideStep1Text:u.target.value}),placeholder:"Descripcin del paso...",disabled:p?.showGuideStep1===!1}))),r.default.createElement("div",{className:"border-t border-slate-800 pt-4"},r.default.createElement("div",{className:"flex items-center justify-between mb-3"},r.default.createElement("div",{className:"flex items-center gap-2"},r.default.createElement("span",{className:"w-6 h-6 rounded-full bg-orange-900/30 text-orange-400 text-xs font-bold flex items-center justify-center"},"2"),r.default.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"Paso 2")),r.default.createElement("button",{onClick:()=>W({...p,showGuideStep2:p?.showGuideStep2===!1}),className:`w-10 h-5 rounded-full transition-all duration-300 relative ${p?.showGuideStep2!==!1?"bg-orange-600":"bg-slate-700"}`},r.default.createElement("div",{className:`w-3 h-3 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${p?.showGuideStep2!==!1?"left-6":"left-1"}`}))),r.default.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-3 ${p?.showGuideStep2===!1?"opacity-50":""}`},r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.guideStep2Title||"",onChange:u=>W({...p,guideStep2Title:u.target.value}),placeholder:"Revisa tu Carrito",disabled:p?.showGuideStep2===!1}),r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.guideStep2Text||"",onChange:u=>W({...p,guideStep2Text:u.target.value}),placeholder:"Descripcin del paso...",disabled:p?.showGuideStep2===!1}))),r.default.createElement("div",{className:"border-t border-slate-800 pt-4"},r.default.createElement("div",{className:"flex items-center justify-between mb-3"},r.default.createElement("div",{className:"flex items-center gap-2"},r.default.createElement("span",{className:"w-6 h-6 rounded-full bg-orange-900/30 text-orange-400 text-xs font-bold flex items-center justify-center"},"3"),r.default.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"Paso 3")),r.default.createElement("button",{onClick:()=>W({...p,showGuideStep3:p?.showGuideStep3===!1}),className:`w-10 h-5 rounded-full transition-all duration-300 relative ${p?.showGuideStep3!==!1?"bg-orange-600":"bg-slate-700"}`},r.default.createElement("div",{className:`w-3 h-3 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${p?.showGuideStep3!==!1?"left-6":"left-1"}`}))),r.default.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-3 ${p?.showGuideStep3===!1?"opacity-50":""}`},r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.guideStep3Title||"",onChange:u=>W({...p,guideStep3Title:u.target.value}),placeholder:"Datos de Envo",disabled:p?.showGuideStep3===!1}),r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.guideStep3Text||"",onChange:u=>W({...p,guideStep3Text:u.target.value}),placeholder:"Descripcin del paso...",disabled:p?.showGuideStep3===!1}))),r.default.createElement("div",{className:"border-t border-slate-800 pt-4"},r.default.createElement("div",{className:"flex items-center justify-between mb-3"},r.default.createElement("div",{className:"flex items-center gap-2"},r.default.createElement("span",{className:"w-6 h-6 rounded-full bg-orange-900/30 text-orange-400 text-xs font-bold flex items-center justify-center"},"4"),r.default.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"Paso 4")),r.default.createElement("button",{onClick:()=>W({...p,showGuideStep4:p?.showGuideStep4===!1}),className:`w-10 h-5 rounded-full transition-all duration-300 relative ${p?.showGuideStep4!==!1?"bg-orange-600":"bg-slate-700"}`},r.default.createElement("div",{className:`w-3 h-3 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${p?.showGuideStep4!==!1?"left-6":"left-1"}`}))),r.default.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-3 ${p?.showGuideStep4===!1?"opacity-50":""}`},r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.guideStep4Title||"",onChange:u=>W({...p,guideStep4Title:u.target.value}),placeholder:"Pago y Confirmacin",disabled:p?.showGuideStep4===!1}),r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.guideStep4Text||"",onChange:u=>W({...p,guideStep4Text:u.target.value}),placeholder:"Descripcin del paso...",disabled:p?.showGuideStep4===!1}))),r.default.createElement("div",{className:"border-t border-slate-800 pt-4"},r.default.createElement("div",{className:"flex items-center justify-between mb-3"},r.default.createElement("div",{className:"flex items-center gap-2"},r.default.createElement("span",{className:"w-6 h-6 rounded-full bg-orange-900/30 text-orange-400 text-xs font-bold flex items-center justify-center"},"5"),r.default.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"Paso 5")),r.default.createElement("button",{onClick:()=>W({...p,showGuideStep5:p?.showGuideStep5===!1}),className:`w-10 h-5 rounded-full transition-all duration-300 relative ${p?.showGuideStep5!==!1?"bg-orange-600":"bg-slate-700"}`},r.default.createElement("div",{className:`w-3 h-3 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${p?.showGuideStep5!==!1?"left-6":"left-1"}`}))),r.default.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-3 ${p?.showGuideStep5===!1?"opacity-50":""}`},r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.guideStep5Title||"",onChange:u=>W({...p,guideStep5Title:u.target.value}),placeholder:"Listo!",disabled:p?.showGuideStep5===!1}),r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.guideStep5Text||"",onChange:u=>W({...p,guideStep5Text:u.target.value}),placeholder:"Descripcin del paso...",disabled:p?.showGuideStep5===!1}))))),r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(Wm,{className:"w-5 h-5 text-yellow-400"})," Anuncios"),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Mensaje de Anuncio (Banner superior)"),r.default.createElement("input",{className:"input-cyber w-full p-4",value:p?.announcementMessage||"",onChange:u=>W({...p,announcementMessage:u.target.value}),placeholder:" Envo gratis en compras mayores a $50.000!"}),r.default.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Dejar vaco para ocultar el banner."))),r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(Wn,{className:"w-5 h-5 text-yellow-500"})," Pantalla de Carga"),r.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Ttulo de Carga"),r.default.createElement("input",{className:"input-cyber w-full p-4",value:p?.loadingTitle||"",onChange:u=>W({...p,loadingTitle:u.target.value}),placeholder:p?.storeName||"SUSTORE"}),r.default.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Aparece en grande (ej. SUSTORE).")),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Mensaje de Carga"),r.default.createElement("input",{className:"input-cyber w-full p-4",value:p?.loadingText||"",onChange:u=>W({...p,loadingText:u.target.value}),placeholder:"Cargando sistema..."}),r.default.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Texto pequeo debajo del ttulo."))))),nn==="appearance"&&r.default.createElement("div",{className:"space-y-6 animate-fade-up"},r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(oo,{className:"w-5 h-5 text-purple-400"})," Imgenes"),r.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Imagen Hero (Banner Principal)"),r.default.createElement("input",{type:"file",accept:"image/*",onChange:u=>oi(u,W,"heroUrl"),className:"block w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-900/20 file:text-purple-400 hover:file:bg-purple-900/40 transition"}),p?.heroUrl&&r.default.createElement("div",{className:"mt-4 rounded-xl overflow-hidden border border-slate-700 h-32"},r.default.createElement("img",{src:p.heroUrl,className:"w-full h-full object-cover",alt:"Hero Preview"}))),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Logo de la Tienda"),r.default.createElement("input",{type:"file",accept:"image/*",onChange:u=>oi(u,W,"logoUrl"),className:"block w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-orange-900/20 file:text-orange-400 hover:file:bg-orange-900/40 transition"}),p?.logoUrl&&r.default.createElement("div",{className:"mt-4 w-24 h-24 rounded-xl overflow-hidden border border-slate-700 bg-white p-2"},r.default.createElement("img",{src:p.logoUrl,className:"w-full h-full object-contain",alt:"Logo Preview"}))))),r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(af,{className:"w-5 h-5 text-pink-400"})," Colores del Tema"),r.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Color Primario"),r.default.createElement("div",{className:"flex gap-3 items-center"},r.default.createElement("input",{type:"color",value:p?.primaryColor||"#f97316",onChange:u=>W({...p,primaryColor:u.target.value}),className:"w-12 h-12 rounded-lg border border-slate-700 cursor-pointer"}),r.default.createElement("input",{type:"text",value:p?.primaryColor||"#f97316",onChange:u=>W({...p,primaryColor:u.target.value}),className:"input-cyber flex-1 p-3 font-mono"}))),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Color Secundario"),r.default.createElement("div",{className:"flex gap-3 items-center"},r.default.createElement("input",{type:"color",value:p?.secondaryColor||"#8b5cf6",onChange:u=>W({...p,secondaryColor:u.target.value}),className:"w-12 h-12 rounded-lg border border-slate-700 cursor-pointer"}),r.default.createElement("input",{type:"text",value:p?.secondaryColor||"#8b5cf6",onChange:u=>W({...p,secondaryColor:u.target.value}),className:"input-cyber flex-1 p-3 font-mono"}))),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Color Acento"),r.default.createElement("div",{className:"flex gap-3 items-center"},r.default.createElement("input",{type:"color",value:p?.accentColor||"#22c55e",onChange:u=>W({...p,accentColor:u.target.value}),className:"w-12 h-12 rounded-lg border border-slate-700 cursor-pointer"}),r.default.createElement("input",{type:"text",value:p?.accentColor||"#22c55e",onChange:u=>W({...p,accentColor:u.target.value}),className:"input-cyber flex-1 p-3 font-mono"}))))),r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(hi,{className:"w-5 h-5 text-orange-400"})," Ticker de Marca"),r.default.createElement("div",{className:"space-y-6"},r.default.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Mostrar Ticker"),r.default.createElement("p",{className:"text-xs text-slate-500"},"Activar/desactivar la cinta de texto animada.")),r.default.createElement("button",{onClick:()=>W({...p,showBrandTicker:p?.showBrandTicker===!1}),className:`w-14 h-8 rounded-full transition relative ${p?.showBrandTicker!==!1?"bg-orange-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${p?.showBrandTicker!==!1?"left-7":"left-1"}`}))),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Texto del Ticker"),r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.tickerText||"",onChange:u=>W({...p,tickerText:u.target.value}),placeholder:"TECNOLOGA  INNOVACIN  CALIDAD PREMIUM  FUTURO"}),r.default.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Este texto se repetir en bucle.")))),r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(oo,{className:"w-5 h-5 text-purple-400"})," Banner Principal (Hero)"),r.default.createElement("div",{className:"space-y-6"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Badge/Etiqueta"),r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.heroBadge||"",onChange:u=>W({...p,heroBadge:u.target.value}),placeholder:"Nueva Coleccin 2026"})),r.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Ttulo Lnea 1"),r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.heroTitle1||"",onChange:u=>W({...p,heroTitle1:u.target.value}),placeholder:"TECNOLOGA"})),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Ttulo Lnea 2"),r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.heroTitle2||"",onChange:u=>W({...p,heroTitle2:u.target.value}),placeholder:"DEL FUTURO"}))),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Subttulo"),r.default.createElement("textarea",{className:"input-cyber w-full p-3 h-20 resize-none",value:p?.heroSubtitle||"",onChange:u=>W({...p,heroSubtitle:u.target.value}),placeholder:"Explora nuestra seleccin premium. Calidad garantizada y soporte tcnico especializado."})),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Imagen de Fondo"),r.default.createElement("input",{type:"file",accept:"image/*",onChange:u=>oi(u,W,"heroUrl",1920),className:"block w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-900/20 file:text-purple-400 hover:file:bg-purple-900/40 transition"}),p?.heroUrl&&r.default.createElement("div",{className:"mt-4 rounded-xl overflow-hidden border border-slate-700 h-32"},r.default.createElement("img",{src:p.heroUrl,className:"w-full h-full object-cover",alt:"Hero Preview"})),r.default.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Recomendado: 1920x800 px mnimo")))),r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(lo,{className:"w-5 h-5 text-yellow-400"})," Beneficios Destacados"),r.default.createElement("div",{className:"space-y-6"},r.default.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Mostrar Seccin de Beneficios"),r.default.createElement("p",{className:"text-xs text-slate-500"},"Activa/desactiva toda la seccin de beneficios")),r.default.createElement("button",{onClick:()=>W({...p,showFeaturesSection:p?.showFeaturesSection===!1}),className:`w-14 h-7 rounded-full transition-all duration-300 relative ${p?.showFeaturesSection!==!1?"bg-orange-600":"bg-slate-700"}`},r.default.createElement("div",{className:`w-5 h-5 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${p?.showFeaturesSection!==!1?"left-8":"left-1"}`}))),r.default.createElement("div",{className:`transition-opacity duration-300 ${p?.showFeaturesSection===!1?"opacity-50 pointer-events-none":""}`},r.default.createElement("div",{className:"flex items-center justify-between mb-3"},r.default.createElement("div",{className:"flex items-center gap-2"},r.default.createElement(Wn,{className:"w-4 h-4 text-orange-400"}),r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block"},"Beneficio 1 (Rayo)")),r.default.createElement("button",{onClick:()=>W({...p,showFeature1:p?.showFeature1===!1}),className:`w-12 h-6 rounded-full transition-all duration-300 relative ${p?.showFeature1!==!1?"bg-orange-600":"bg-slate-700"}`},r.default.createElement("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${p?.showFeature1!==!1?"left-7":"left-1"}`}))),r.default.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 ${p?.showFeature1===!1?"opacity-50":""}`},r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.feature1Title||"",onChange:u=>W({...p,feature1Title:u.target.value}),placeholder:"Envo Ultra Rpido",disabled:p?.showFeature1===!1}),r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.feature1Desc||"",onChange:u=>W({...p,feature1Desc:u.target.value}),placeholder:"Subttulo corto...",disabled:p?.showFeature1===!1}))),r.default.createElement("div",{className:`transition-opacity duration-300 ${p?.showFeaturesSection===!1?"opacity-50 pointer-events-none":""}`},r.default.createElement("div",{className:"flex items-center justify-between mb-3"},r.default.createElement("div",{className:"flex items-center gap-2"},r.default.createElement(Tn,{className:"w-4 h-4 text-purple-400"}),r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block"},"Beneficio 2 (Escudo)")),r.default.createElement("button",{onClick:()=>W({...p,showFeature2:p?.showFeature2===!1}),className:`w-12 h-6 rounded-full transition-all duration-300 relative ${p?.showFeature2!==!1?"bg-purple-600":"bg-slate-700"}`},r.default.createElement("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${p?.showFeature2!==!1?"left-7":"left-1"}`}))),r.default.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 ${p?.showFeature2===!1?"opacity-50":""}`},r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.feature2Title||"",onChange:u=>W({...p,feature2Title:u.target.value}),placeholder:"Garanta Extendida",disabled:p?.showFeature2===!1}),r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.feature2Desc||"",onChange:u=>W({...p,feature2Desc:u.target.value}),placeholder:"Subttulo corto...",disabled:p?.showFeature2===!1}))),r.default.createElement("div",{className:`transition-opacity duration-300 ${p?.showFeaturesSection===!1?"opacity-50 pointer-events-none":""}`},r.default.createElement("div",{className:"flex items-center justify-between mb-3"},r.default.createElement("div",{className:"flex items-center gap-2"},r.default.createElement(Rm,{className:"w-4 h-4 text-green-400"}),r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block"},"Beneficio 3 (Soporte)")),r.default.createElement("button",{onClick:()=>W({...p,showFeature3:p?.showFeature3===!1}),className:`w-12 h-6 rounded-full transition-all duration-300 relative ${p?.showFeature3!==!1?"bg-green-600":"bg-slate-700"}`},r.default.createElement("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${p?.showFeature3!==!1?"left-7":"left-1"}`}))),r.default.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 ${p?.showFeature3===!1?"opacity-50":""}`},r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.feature3Title||"",onChange:u=>W({...p,feature3Title:u.target.value}),placeholder:"Soporte 24/7",disabled:p?.showFeature3===!1}),r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.feature3Desc||"",onChange:u=>W({...p,feature3Desc:u.target.value}),placeholder:"Subttulo corto...",disabled:p?.showFeature3===!1}))))),r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(ci,{className:"w-5 h-5 text-green-400"})," Seccin Contacto (Footer)"),r.default.createElement("div",{className:"space-y-6"},r.default.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Mostrar Seccin"),r.default.createElement("p",{className:"text-xs text-slate-500"},"Activa/desactiva la seccin de contacto en el footer")),r.default.createElement("button",{onClick:()=>W({...p,showFooterContact:p?.showFooterContact===!1}),className:`w-14 h-8 rounded-full transition relative ${p?.showFooterContact!==!1?"bg-green-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${p?.showFooterContact!==!1?"left-7":"left-1"}`}))),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Ttulo"),r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.footerContactTitle||"",onChange:u=>W({...p,footerContactTitle:u.target.value}),placeholder:"Contacto"})),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Descripcin"),r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.footerContactDescription||"",onChange:u=>W({...p,footerContactDescription:u.target.value}),placeholder:"Tienes alguna duda? Estamos aqu para ayudarte."})),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Texto del Botn"),r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.footerContactButtonText||"",onChange:u=>W({...p,footerContactButtonText:u.target.value}),placeholder:"Contactar Soporte"})),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Tipo de Contacto"),r.default.createElement("select",{className:"input-cyber w-full p-3",value:p?.footerContactType||"whatsapp",onChange:u=>W({...p,footerContactType:u.target.value})},r.default.createElement("option",{value:"whatsapp"},"WhatsApp"),r.default.createElement("option",{value:"instagram"},"Instagram"),r.default.createElement("option",{value:"email"},"Email")),(!p?.footerContactType||p?.footerContactType==="whatsapp")&&r.default.createElement("div",{className:"mt-3 animate-fade-in"},r.default.createElement("label",{className:"text-[10px] font-bold text-green-500 uppercase tracking-wider mb-1 block"},"Enlace de WhatsApp"),r.default.createElement("input",{className:"input-cyber w-full p-3 text-sm border-green-500/30 focus:border-green-500",value:p?.whatsappLink||"",onChange:u=>W({...p,whatsappLink:u.target.value}),placeholder:"https://wa.me/54911..."})),p?.footerContactType==="instagram"&&r.default.createElement("div",{className:"mt-3 animate-fade-in"},r.default.createElement("label",{className:"text-[10px] font-bold text-pink-500 uppercase tracking-wider mb-1 block"},"Perfil de Instagram"),r.default.createElement("input",{className:"input-cyber w-full p-3 text-sm border-pink-500/30 focus:border-pink-500",value:p?.instagramLink||"",onChange:u=>W({...p,instagramLink:u.target.value}),placeholder:"https://instagram.com/usuario"})),p?.footerContactType==="email"&&r.default.createElement("div",{className:"mt-3 animate-fade-in"},r.default.createElement("label",{className:"text-[10px] font-bold text-blue-500 uppercase tracking-wider mb-1 block"},"Email de Soporte"),r.default.createElement("input",{className:"input-cyber w-full p-3 text-sm border-blue-500/30 focus:border-blue-500",value:p?.storeEmail||"",onChange:u=>W({...p,storeEmail:u.target.value}),placeholder:"soporte@tienda.com"}))))),r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(uo,{className:"w-5 h-5 text-orange-400"})," Marca en Footer"),r.default.createElement("div",{className:"space-y-6"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Sufijo del Nombre"),r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.footerSuffix||"",onChange:u=>W({...p,footerSuffix:u.target.value}),placeholder:".SF"}),r.default.createElement("p",{className:"text-xs text-slate-500 mt-1"},"Aparece junto al nombre de la tienda (ej: SUSTORE.SF)")),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Descripcin"),r.default.createElement("textarea",{className:"input-cyber w-full p-3 h-24 resize-none",value:p?.footerDescription||"",onChange:u=>W({...p,footerDescription:u.target.value}),placeholder:"Tu destino premium para tecnologa de vanguardia..."})))),r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(fd,{className:"w-5 h-5 text-slate-400"})," Links Legales"),r.default.createElement("div",{className:"space-y-4"},r.default.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Poltica de Privacidad"),r.default.createElement("p",{className:"text-xs text-slate-500"},"Mostrar link en el footer")),r.default.createElement("button",{onClick:()=>W({...p,showPrivacyPolicy:p?.showPrivacyPolicy===!1}),className:`w-14 h-8 rounded-full transition relative ${p?.showPrivacyPolicy!==!1?"bg-green-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${p?.showPrivacyPolicy!==!1?"left-7":"left-1"}`}))),r.default.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Terms of Service"),r.default.createElement("p",{className:"text-xs text-slate-500"},"Mostrar link en el footer")),r.default.createElement("button",{onClick:()=>W({...p,showTermsOfService:p?.showTermsOfService===!1}),className:`w-14 h-8 rounded-full transition relative ${p?.showTermsOfService!==!1?"bg-green-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${p?.showTermsOfService!==!1?"left-7":"left-1"}`})))))),nn==="ticket"&&r.default.createElement("div",{className:"space-y-6 animate-fade-up"},r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(Is,{className:"w-5 h-5 text-orange-400"})," Ticket / Comprobante"),r.default.createElement("p",{className:"text-sm text-slate-500 mb-6"},"Estos datos se usan en el comprobante que se enva por email al confirmar la compra."),r.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Nombre que aparece en el ticket"),r.default.createElement("input",{className:"input-cyber w-full p-4",value:p?.ticket?.brandName||"",onChange:u=>W({...p,ticket:{...p?.ticket,brandName:u.target.value}}),placeholder:p?.storeName||"Mi Tienda"})),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Link de WhatsApp (para el ticket)"),r.default.createElement("input",{className:"input-cyber w-full p-4",value:p?.ticket?.whatsappLink||"",onChange:u=>W({...p,ticket:{...p?.ticket,whatsappLink:u.target.value}}),placeholder:p?.whatsappLink||"https://wa.me/5491112345678"})),r.default.createElement("div",{className:"md:col-span-2"},r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Link de la pgina (para el ticket)"),r.default.createElement("input",{className:"input-cyber w-full p-4",value:p?.ticket?.siteUrl||"",onChange:u=>W({...p,ticket:{...p?.ticket,siteUrl:u.target.value}}),placeholder:p?.seoUrl||""}))))),nn==="social"&&r.default.createElement("div",{className:"space-y-6 animate-fade-up"},r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(hf,{className:"w-5 h-5 text-blue-400"})," Redes Sociales"),r.default.createElement("p",{className:"text-sm text-slate-500 mb-6"},"Configura los enlaces y activa/desactiva la visibilidad de cada red social en el footer."),r.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},r.default.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",{className:"flex items-center justify-between mb-3"},r.default.createElement("label",{className:"text-sm font-bold text-white flex items-center gap-2"},r.default.createElement(ci,{className:"w-4 h-4 text-green-400"})," WhatsApp"),r.default.createElement("div",{className:"flex items-center gap-2"},r.default.createElement("span",{className:"text-[10px] text-slate-500 font-mono uppercase"},"Footer"),r.default.createElement("button",{onClick:()=>W({...p,showWhatsapp:!p?.showWhatsapp}),className:`w-10 h-5 rounded-full transition relative ${p?.showWhatsapp===!0?"bg-green-500":"bg-slate-700"}`},r.default.createElement("div",{className:"absolute top-0.5 w-4 h-4 bg-white rounded-full transition",style:{left:p?.showWhatsapp===!0?"22px":"2px"}})))),r.default.createElement("input",{className:"input-cyber w-full p-3 text-sm mb-3",value:p?.whatsappLink||"",onChange:u=>W({...p,whatsappLink:u.target.value}),placeholder:"https://wa.me/5491112345678"}),r.default.createElement("div",{className:"flex items-center justify-between pt-3 border-t border-slate-800/50"},r.default.createElement("div",null,r.default.createElement("p",{className:"text-xs text-slate-400 font-bold flex items-center gap-2"},"Botn Flotante",!["business","premium"].includes(p?.subscriptionPlan)&&r.default.createElement(pr,{className:"w-3 h-3 text-yellow-500"})),!["business","premium"].includes(p?.subscriptionPlan)&&r.default.createElement("p",{className:"text-[9px] text-yellow-500/80 mt-0.5"},"Requiere Plan Negocio")),r.default.createElement("button",{onClick:()=>{["business","premium"].includes(p?.subscriptionPlan)?W({...p,showFloatingWhatsapp:!p?.showFloatingWhatsapp}):ys(!0)},className:`w-10 h-5 rounded-full transition relative ${p?.showFloatingWhatsapp?"bg-green-500":"bg-slate-700"} ${["business","premium"].includes(p?.subscriptionPlan)?"":"opacity-50 cursor-not-allowed"}`},r.default.createElement("div",{className:"absolute top-0.5 w-4 h-4 bg-white rounded-full transition",style:{left:p?.showFloatingWhatsapp?"22px":"2px"}}))),r.default.createElement("div",{className:"flex items-center justify-between pt-3 mt-3 border-t border-slate-800/50"},r.default.createElement("div",null,r.default.createElement("p",{className:"text-xs text-slate-400 font-bold"},"Botn en Carrito"),r.default.createElement("p",{className:"text-[9px] text-slate-500 mt-0.5"},"Terminar compra por WhatsApp")),r.default.createElement("button",{onClick:()=>W({...p,showCartWhatsappCheckout:!p?.showCartWhatsappCheckout}),className:`w-10 h-5 rounded-full transition relative ${p?.showCartWhatsappCheckout?"bg-green-500":"bg-slate-700"}`},r.default.createElement("div",{className:"absolute top-0.5 w-4 h-4 bg-white rounded-full transition",style:{left:p?.showCartWhatsappCheckout?"22px":"2px"}})))),r.default.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",{className:"flex items-center justify-between mb-3"},r.default.createElement("label",{className:"text-sm font-bold text-white flex items-center gap-2"},r.default.createElement(ou,{className:"w-4 h-4 text-pink-400"})," Instagram"),r.default.createElement("button",{onClick:()=>W({...p,showInstagram:p?.showInstagram===!1}),className:`w-12 h-6 rounded-full transition relative ${p?.showInstagram!==!1?"bg-pink-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full transition ${p?.showInstagram!==!1?"left-6":"left-0.5"}`}))),r.default.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:p?.instagramLink||"",onChange:u=>W({...p,instagramLink:u.target.value}),placeholder:"https://instagram.com/mitienda"})),r.default.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",{className:"flex items-center justify-between mb-3"},r.default.createElement("label",{className:"text-sm font-bold text-white flex items-center gap-2"},r.default.createElement(Xm,{className:"w-4 h-4 text-blue-500"})," Facebook"),r.default.createElement("button",{onClick:()=>W({...p,showFacebook:!p?.showFacebook}),className:`w-12 h-6 rounded-full transition relative ${p?.showFacebook?"bg-blue-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full transition ${p?.showFacebook?"left-6":"left-0.5"}`}))),r.default.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:p?.facebookLink||"",onChange:u=>W({...p,facebookLink:u.target.value}),placeholder:"https://facebook.com/mitienda"})),r.default.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",{className:"flex items-center justify-between mb-3"},r.default.createElement("label",{className:"text-sm font-bold text-white flex items-center gap-2"},r.default.createElement(pf,{className:"w-4 h-4 text-sky-400"})," Twitter/X"),r.default.createElement("button",{onClick:()=>W({...p,showTwitter:!p?.showTwitter}),className:`w-12 h-6 rounded-full transition relative ${p?.showTwitter?"bg-sky-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full transition ${p?.showTwitter?"left-6":"left-0.5"}`}))),r.default.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:p?.twitterLink||"",onChange:u=>W({...p,twitterLink:u.target.value}),placeholder:"https://twitter.com/mitienda"})),r.default.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",{className:"flex items-center justify-between mb-3"},r.default.createElement("label",{className:"text-sm font-bold text-white flex items-center gap-2"},r.default.createElement(of,{className:"w-4 h-4 text-rose-400"})," TikTok"),r.default.createElement("button",{onClick:()=>W({...p,showTiktok:!p?.showTiktok}),className:`w-12 h-6 rounded-full transition relative ${p?.showTiktok?"bg-rose-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full transition ${p?.showTiktok?"left-6":"left-0.5"}`}))),r.default.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:p?.tiktokLink||"",onChange:u=>W({...p,tiktokLink:u.target.value}),placeholder:"https://tiktok.com/@mitienda"})),r.default.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",{className:"flex items-center justify-between mb-3"},r.default.createElement("label",{className:"text-sm font-bold text-white flex items-center gap-2"},r.default.createElement(vf,{className:"w-4 h-4 text-red-500"})," YouTube"),r.default.createElement("button",{onClick:()=>W({...p,showYoutube:!p?.showYoutube}),className:`w-12 h-6 rounded-full transition relative ${p?.showYoutube?"bg-red-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full transition ${p?.showYoutube?"left-6":"left-0.5"}`}))),r.default.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:p?.youtubeLink||"",onChange:u=>W({...p,youtubeLink:u.target.value}),placeholder:"https://youtube.com/c/mitienda"}))))),nn==="payments"&&r.default.createElement("div",{className:"space-y-6 animate-fade-up"},r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(Ns,{className:"w-5 h-5 text-green-400"})," Mtodos de Pago"),r.default.createElement("div",{className:"space-y-6"},r.default.createElement("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-slate-800"},r.default.createElement("div",{className:"flex items-center justify-between"},r.default.createElement("div",{className:"flex items-center gap-3"},r.default.createElement(Qm,{className:"w-6 h-6 text-orange-400"}),r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Transferencia Bancaria"),r.default.createElement("p",{className:"text-xs text-slate-500"},"Activado / Desactivado"))),r.default.createElement("button",{onClick:()=>W({...p,paymentTransfer:{...p?.paymentTransfer,enabled:!p?.paymentTransfer?.enabled}}),className:`w-14 h-8 rounded-full transition relative ${p?.paymentTransfer?.enabled?"bg-green-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${p?.paymentTransfer?.enabled?"left-7":"left-1"}`}))),p?.paymentTransfer?.enabled&&r.default.createElement("div",{className:"mt-5 grid grid-cols-1 md:grid-cols-3 gap-4"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase ml-2 mb-1 block"},"Titular"),r.default.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:p?.paymentTransfer?.holderName||"",onChange:u=>W({...p,paymentTransfer:{...p?.paymentTransfer,holderName:u.target.value}}),placeholder:"Nombre y apellido"})),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase ml-2 mb-1 block"},"Alias"),r.default.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:p?.paymentTransfer?.alias||"",onChange:u=>W({...p,paymentTransfer:{...p?.paymentTransfer,alias:u.target.value}}),placeholder:"alias.ejemplo"})),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase ml-2 mb-1 block"},"CBU"),r.default.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:p?.paymentTransfer?.cbu||"",onChange:u=>W({...p,paymentTransfer:{...p?.paymentTransfer,cbu:u.target.value}}),placeholder:"0000000000000000000000"})))),r.default.createElement("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-slate-800"},r.default.createElement("div",{className:"flex items-center justify-between"},r.default.createElement("div",{className:"flex items-center gap-3"},r.default.createElement(Hm,{className:"w-6 h-6 text-green-400"}),r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Efectivo"),r.default.createElement("p",{className:"text-xs text-slate-500"},"Pago al recibir"))),r.default.createElement("button",{onClick:()=>{if(!p?.shippingPickup?.enabled){M('Debes activar "Retiro en Local" (Envos) para habilitar efectivo.',"warning");return}W({...p,paymentCash:!p?.paymentCash})},className:`w-14 h-8 rounded-full transition relative ${p?.paymentCash&&p?.shippingPickup?.enabled?"bg-green-500":"bg-slate-700"} ${p?.shippingPickup?.enabled?"":"opacity-50 cursor-not-allowed"}`},r.default.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${p?.paymentCash&&p?.shippingPickup?.enabled?"left-7":"left-1"}`}))),!p?.shippingPickup?.enabled&&r.default.createElement("p",{className:"text-[10px] text-orange-400/80 mt-2 flex items-center gap-1"},r.default.createElement(mi,{className:"w-3 h-3"})," Requiere activar Retiro en Local")),r.default.createElement("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-slate-800"},r.default.createElement("div",{className:"flex items-center justify-between"},r.default.createElement("div",{className:"flex items-center gap-3"},r.default.createElement(Ns,{className:"w-6 h-6 text-orange-400"}),r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Tarjeta (Mercado Pago)"),r.default.createElement("p",{className:"text-xs text-slate-500"},"Activado / Desactivado"))),r.default.createElement("button",{onClick:()=>W({...p,paymentMercadoPago:{...p?.paymentMercadoPago,enabled:!p?.paymentMercadoPago?.enabled}}),className:`w-14 h-8 rounded-full transition relative ${p?.paymentMercadoPago?.enabled?"bg-green-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${p?.paymentMercadoPago?.enabled?"left-7":"left-1"}`}))))))),nn==="shipping"&&r.default.createElement("div",{className:"space-y-6 animate-fade-up"},r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(Gr,{className:"w-5 h-5 text-orange-400"})," Opciones de Envo"),r.default.createElement("div",{className:"space-y-6"},r.default.createElement("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-slate-800"},r.default.createElement("div",{className:"flex items-center justify-between mb-4"},r.default.createElement("div",{className:"flex items-center gap-3"},r.default.createElement(nf,{className:"w-6 h-6 text-orange-400"}),r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Retiro en Local"),r.default.createElement("p",{className:"text-xs text-slate-500"},"El cliente pasa a buscar"))),r.default.createElement("button",{onClick:()=>W({...p,shippingPickup:{...p?.shippingPickup,enabled:!p?.shippingPickup?.enabled}}),className:`w-14 h-8 rounded-full transition relative ${p?.shippingPickup?.enabled?"bg-green-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${p?.shippingPickup?.enabled?"left-7":"left-1"}`}))),p?.shippingPickup?.enabled&&r.default.createElement("input",{className:"input-cyber w-full p-4",value:p?.shippingPickup?.address||"",onChange:u=>W({...p,shippingPickup:{...p?.shippingPickup,address:u.target.value}}),placeholder:"Direccin de retiro: Av. Corrientes 1234"})),r.default.createElement("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-slate-800"},r.default.createElement("div",{className:"flex items-center justify-between mb-4"},r.default.createElement("div",{className:"flex items-center gap-3"},r.default.createElement(mr,{className:"w-6 h-6 text-purple-400"}),r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Envo a Domicilio"),r.default.createElement("p",{className:"text-xs text-slate-500"},"Delivery estndar"))),r.default.createElement("button",{onClick:()=>W({...p,shippingDelivery:{...p?.shippingDelivery,enabled:!p?.shippingDelivery?.enabled}}),className:`w-14 h-8 rounded-full transition relative ${p?.shippingDelivery?.enabled?"bg-green-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${p?.shippingDelivery?.enabled?"left-7":"left-1"}`}))),p?.shippingDelivery?.enabled&&r.default.createElement("div",{className:"grid grid-cols-2 gap-4"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs text-slate-500 mb-1 block"},"Costo de Envo ($)"),r.default.createElement("input",{type:"number",className:"input-cyber w-full p-4",value:p?.shippingDelivery?.fee||0,onChange:u=>W({...p,shippingDelivery:{...p?.shippingDelivery,fee:parseFloat(u.target.value)||0}})})),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs text-slate-500 mb-1 block"},"Gratis desde ($)"),r.default.createElement("input",{type:"number",className:"input-cyber w-full p-4",value:p?.shippingDelivery?.freeAbove||0,onChange:u=>W({...p,shippingDelivery:{...p?.shippingDelivery,freeAbove:parseFloat(u.target.value)||0}}),placeholder:"0 = nunca gratis"}))))))),nn==="seo"&&r.default.createElement("div",{className:"space-y-6 animate-fade-up"},r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(gd,{className:"w-5 h-5 text-green-400"})," Optimizacin SEO"),r.default.createElement("div",{className:"space-y-6"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Ttulo del Sitio"),r.default.createElement("input",{className:"input-cyber w-full p-4",value:p?.seoTitle||"",onChange:u=>W({...p,seoTitle:u.target.value}),placeholder:"Mi Tienda Online | Los Mejores Productos"}),r.default.createElement("p",{className:"text-xs text-slate-500 mt-1"},"Aparece en la pestaa del navegador")),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Meta Descripcin"),r.default.createElement("textarea",{className:"input-cyber w-full p-4 h-20 resize-none",value:p?.seoDescription||"",onChange:u=>W({...p,seoDescription:u.target.value}),placeholder:"Tienda online de productos de alta calidad. Envos a todo el pas. Visitanos!"}),r.default.createElement("p",{className:"text-xs text-slate-500 mt-1"},"Descripcin que aparece en Google (max 160 caracteres)")),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Palabras Clave"),r.default.createElement("input",{className:"input-cyber w-full p-4",value:p?.seoKeywords||"",onChange:u=>W({...p,seoKeywords:u.target.value}),placeholder:"tienda online, productos, ofertas, descuentos"}),r.default.createElement("p",{className:"text-xs text-slate-500 mt-1"},"Separadas por comas")),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"URL del Sitio (Cannica)"),r.default.createElement("input",{className:"input-cyber w-full p-4",value:p?.seoUrl||"",onChange:u=>W({...p,seoUrl:u.target.value}),placeholder:"https://mitienda.vercel.app"}),r.default.createElement("p",{className:"text-xs text-slate-500 mt-1"},"URL oficial de tu tienda (aparece en Google y redes sociales)")),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Autor / Empresa"),r.default.createElement("input",{className:"input-cyber w-full p-4",value:p?.seoAuthor||"",onChange:u=>W({...p,seoAuthor:u.target.value}),placeholder:"Mi Empresa S.A."}),r.default.createElement("p",{className:"text-xs text-slate-500 mt-1"},"Nombre que aparece como autor del sitio")),r.default.createElement("div",null,r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Imagen para Redes Sociales (OG:Image)"),r.default.createElement("div",{className:"flex items-center gap-4"},r.default.createElement("div",{className:"relative group w-32 h-32 bg-slate-900 rounded-xl border-2 border-dashed border-slate-700 hover:border-orange-500 transition flex items-center justify-center overflow-hidden cursor-pointer"},p?.seoImage?r.default.createElement("img",{src:p.seoImage,alt:"SEO Preview",className:"w-full h-full object-cover"}):r.default.createElement(oo,{className:"w-8 h-8 text-slate-600 group-hover:text-orange-500 transition"}),r.default.createElement("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer z-50",onChange:u=>oi(u,W,"seoImage",1200)}),r.default.createElement("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition pointer-events-none"},r.default.createElement(mf,{className:"w-6 h-6 text-white"}))),r.default.createElement("div",{className:"flex-1"},r.default.createElement("p",{className:"text-sm text-slate-400 mb-2"},"Sube una imagen atractiva (ej: logo con fondo, banner)."),r.default.createElement("p",{className:"text-xs text-slate-600"},"Recomendado: 1200x630 pxeles para mejor visualizacin en Facebook/WhatsApp."),p?.seoImage&&r.default.createElement("button",{onClick:()=>W({...p,seoImage:""}),className:"mt-2 text-xs text-red-400 hover:text-red-300 flex items-center gap-1"},r.default.createElement(ht,{className:"w-3 h-3"})," Eliminar imagen")))),r.default.createElement("div",{className:"pt-4 border-t border-slate-800 grid grid-cols-2 gap-4"},r.default.createElement("a",{href:"/sitemap.xml",target:"_blank",className:"p-3 bg-slate-900 rounded-xl hover:bg-slate-800 transition flex items-center justify-between group"},r.default.createElement("div",null,r.default.createElement("p",{className:"text-sm font-bold text-white"},"Ver Sitemap.xml"),r.default.createElement("p",{className:"text-xs text-green-500"},"Activo")),r.default.createElement(Ym,{className:"w-4 h-4 text-slate-500 group-hover:text-white transition"})),r.default.createElement("a",{href:"/robots.txt",target:"_blank",className:"p-3 bg-slate-900 rounded-xl hover:bg-slate-800 transition flex items-center justify-between group"},r.default.createElement("div",null,r.default.createElement("p",{className:"text-sm font-bold text-white"},"Ver Robots.txt"),r.default.createElement("p",{className:"text-xs text-green-500"},"Activo")),r.default.createElement(Ym,{className:"w-4 h-4 text-slate-500 group-hover:text-white transition"})))))),nn==="advanced"&&r.default.createElement("div",{className:"space-y-6 animate-fade-up"},r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(Jm,{className:"w-5 h-5 text-slate-400"})," Configuracin Avanzada"),r.default.createElement("div",{className:"space-y-4"},r.default.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Modo Mantenimiento"),r.default.createElement("p",{className:"text-xs text-slate-500"},'Mostrar pgina de "Volvemos pronto"')),r.default.createElement("button",{onClick:()=>W({...p,maintenanceMode:!p?.maintenanceMode}),className:`w-14 h-8 rounded-full transition relative ${p?.maintenanceMode?"bg-red-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${p?.maintenanceMode?"left-7":"left-1"}`}))),r.default.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800 space-y-4"},r.default.createElement("h4",{className:"text-sm font-bold text-orange-400 uppercase tracking-wider mb-2"},"Rendimiento & PWA"),r.default.createElement("div",{className:"flex items-center justify-between"},r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Carga Diferida (Lazy Load)"),r.default.createElement("p",{className:"text-xs text-slate-500"},"Mejora velocidad cargando imgenes al hacer scroll")),r.default.createElement("button",{onClick:()=>W({...p,enableLazyLoad:p?.enableLazyLoad===!1}),className:`w-14 h-8 rounded-full transition relative ${p?.enableLazyLoad!==!1?"bg-green-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${p?.enableLazyLoad!==!1?"left-7":"left-1"}`}))),r.default.createElement("div",{className:"flex items-center justify-between"},r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Modo Offline (PWA)"),r.default.createElement("p",{className:"text-xs text-slate-500"},"Permite instalar la app y uso sin internet")),r.default.createElement("button",{onClick:()=>W({...p,enablePWA:p?.enablePWA===!1}),className:`w-14 h-8 rounded-full transition relative ${p?.enablePWA!==!1?"bg-green-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${p?.enablePWA!==!1?"left-7":"left-1"}`}))),r.default.createElement("div",{className:"pt-2 border-t border-slate-700"},r.default.createElement("button",{onClick:()=>{"caches"in window?caches.keys().then(u=>{u.forEach(g=>caches.delete(g)),M("Cach limpiada. Recargando...","success"),setTimeout(()=>window.location.reload(),1500)}):M("Tu navegador no soporta gestin de cach","warning")},className:"w-full py-2 px-4 bg-slate-800 hover:bg-slate-700 text-white rounded-lg text-sm font-medium transition flex items-center justify-center gap-2"},r.default.createElement(ht,{className:"w-4 h-4"})," Forzar Limpieza de Cach y Recargar"),r.default.createElement("p",{className:"text-xs text-slate-500 mt-2 text-center"},"Usar si ves errores grficos o versiones antiguas."))),r.default.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",{className:"mb-3"},r.default.createElement("p",{className:"font-bold text-white"},"Texto de Carga"),r.default.createElement("p",{className:"text-xs text-slate-500"},"Mensaje que aparece mientras carga la pgina")),r.default.createElement("input",{className:"input-cyber w-full p-3",value:p?.loadingText||"",onChange:u=>W({...p,loadingText:u.target.value}),placeholder:"Cargando sistema..."})),r.default.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Banner de Anuncio"),r.default.createElement("p",{className:"text-xs text-slate-500"},"Barra superior con mensaje promocional")),r.default.createElement("button",{onClick:()=>W({...p,showAnnouncementBanner:p?.showAnnouncementBanner===!1}),className:`w-14 h-8 rounded-full transition relative ${p?.showAnnouncementBanner!==!1?"bg-green-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${p?.showAnnouncementBanner!==!1?"left-7":"left-1"}`}))),r.default.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Ticker de Marca"),r.default.createElement("p",{className:"text-xs text-slate-500"},"Texto en movimiento debajo del anuncio")),r.default.createElement("button",{onClick:()=>W({...p,showBrandTicker:p?.showBrandTicker===!1}),className:`w-14 h-8 rounded-full transition relative ${p?.showBrandTicker!==!1?"bg-green-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${p?.showBrandTicker!==!1?"left-7":"left-1"}`}))),r.default.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Mostrar Stock Disponible"),r.default.createElement("p",{className:"text-xs text-slate-500"},"Los clientes ven cuntas unidades hay")),r.default.createElement("button",{onClick:()=>W({...p,showStockCount:p?.showStockCount===!1}),className:`w-14 h-8 rounded-full transition relative ${p?.showStockCount!==!1?"bg-green-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${p?.showStockCount!==!1?"left-7":"left-1"}`}))),r.default.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Requerir Telfono"),r.default.createElement("p",{className:"text-xs text-slate-500"},"Obligatorio al registrarse")),r.default.createElement("button",{onClick:()=>W({...p,requirePhone:p?.requirePhone===!1}),className:`w-14 h-8 rounded-full transition relative ${p?.requirePhone!==!1?"bg-green-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${p?.requirePhone!==!1?"left-7":"left-1"}`}))),r.default.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Requerir DNI"),r.default.createElement("p",{className:"text-xs text-slate-500"},"Obligatorio al registrarse")),r.default.createElement("button",{onClick:()=>W({...p,requireDNI:p?.requireDNI===!1}),className:`w-14 h-8 rounded-full transition relative ${p?.requireDNI!==!1?"bg-green-500":"bg-slate-700"}`},r.default.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${p?.requireDNI!==!1?"left-7":"left-1"}`}))),r.default.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},r.default.createElement("div",{className:"flex items-center justify-between mb-3"},r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white"},"Umbral de Stock Bajo"),r.default.createElement("p",{className:"text-xs text-slate-500"},"Alerta cuando el stock es menor a este valor"))),r.default.createElement("input",{type:"number",className:"input-cyber w-full p-4",value:p?.lowStockThreshold||5,onChange:u=>W({...p,lowStockThreshold:parseInt(u.target.value)||5})})))),r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(hi,{className:"w-5 h-5 text-yellow-500"})," Personalizacin IA"),r.default.createElement("div",{className:"flex items-center gap-6"},r.default.createElement("div",{className:"relative group w-24 h-24 bg-slate-900 rounded-full border-2 border-dashed border-slate-700 hover:border-yellow-500 transition flex items-center justify-center overflow-hidden cursor-pointer shrink-0 shadow-xl"},p?.botImage?r.default.createElement("img",{src:p.botImage,alt:"Bot Preview",className:"w-full h-full object-cover"}):r.default.createElement(hi,{className:"w-8 h-8 text-slate-600 group-hover:text-yellow-500 transition"}),r.default.createElement("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer z-50",onChange:u=>oi(u,W,"botImage",300)}),r.default.createElement("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition pointer-events-none"},r.default.createElement(mf,{className:"w-6 h-6 text-white"}))),r.default.createElement("div",null,r.default.createElement("p",{className:"font-bold text-white text-base mb-1"},"Avatar del Asistente"),r.default.createElement("p",{className:"text-xs text-slate-500 mb-3 max-w-xs leading-relaxed"},"Sube una imagen personalizada para el bot (PNG/JPG). Se recomienda formato cuadrado."),p?.botImage?r.default.createElement("button",{onClick:()=>W({...p,botImage:""}),className:"text-xs bg-red-900/20 text-red-400 hover:bg-red-900/40 px-3 py-1.5 rounded-lg transition flex items-center gap-2 border border-red-500/20"},r.default.createElement(ht,{className:"w-3 h-3"})," Restaurar Default"):r.default.createElement("span",{className:"text-xs text-yellow-600 bg-yellow-900/20 px-3 py-1 rounded-lg border border-yellow-700/30"},"Usando imagen por defecto")))),r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(Ia,{className:"w-5 h-5 text-orange-400"})," Categoras de Productos"),r.default.createElement("div",{className:"flex flex-wrap gap-2 mb-4"},(p?.categories||[]).map((u,g)=>r.default.createElement("div",{key:g,className:"bg-slate-900 text-white px-4 py-2 rounded-lg flex items-center gap-2 border border-slate-700"},r.default.createElement("span",null,u),r.default.createElement("button",{onClick:()=>W({...p,categories:(p?.categories||[]).filter((y,x)=>x!==g)}),className:"text-red-400 hover:text-red-300"},r.default.createElement(It,{className:"w-4 h-4"}))))),r.default.createElement("button",{onClick:()=>Ur(!0),className:"px-4 py-2 bg-orange-900/20 text-orange-400 rounded-lg font-bold text-sm border border-orange-500/30 hover:bg-orange-900/40 transition flex items-center gap-2"},r.default.createElement(hn,{className:"w-4 h-4"})," Agregar Categora"))),nn==="team"&&r.default.createElement("div",{className:"space-y-6 animate-fade-up"},r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},r.default.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},r.default.createElement(co,{className:"w-5 h-5 text-purple-400"})," Equipo y Accesos"),r.default.createElement("p",{className:"text-slate-500 mb-6"},"Gestiona los miembros del equipo, sus roles de acceso y participacin en ganancias."),r.default.createElement("div",{className:"space-y-4 mb-6"},(p?.team||[]).map((u,g)=>r.default.createElement("div",{key:g,className:"flex flex-col md:flex-row md:items-center gap-4 bg-slate-900/50 p-6 rounded-2xl border border-slate-800"},r.default.createElement("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-lg flex-shrink-0"},u.name?.charAt(0)?.toUpperCase()||"?"),r.default.createElement("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-[10px] uppercase font-bold text-slate-500 mb-1 block"},"Nombre"),r.default.createElement("input",{className:"input-cyber w-full p-2 text-sm",value:u.name||"",onChange:y=>{let x=[...p?.team||[]];x[g]={...x[g],name:y.target.value},W({...p,team:x})},placeholder:"Nombre"})),r.default.createElement("div",null,r.default.createElement("label",{className:"text-[10px] uppercase font-bold text-slate-500 mb-1 block"},"Email (Acceso)"),r.default.createElement("input",{type:"email",className:`input-cyber w-full p-2 text-sm ${u.email===Ge?"opacity-50 cursor-not-allowed":""}`,value:u.email||"",onChange:y=>{let x=[...p?.team||[]];x[g]={...x[g],email:y.target.value},W({...p,team:x})},placeholder:"usuario@email.com",disabled:u.email===Ge})),r.default.createElement("div",null,r.default.createElement("label",{className:"text-[10px] uppercase font-bold text-slate-500 mb-1 block"},"Rol"),r.default.createElement("select",{className:`input-cyber w-full p-2 text-sm ${u.email===Ge?"opacity-50 cursor-not-allowed":""}`,value:u.role||"employee",onChange:y=>{let x=[...p?.team||[]];x[g]={...x[g],role:y.target.value},W({...p,team:x})},disabled:u.email===Ge},r.default.createElement("option",{value:"employee"},"Empleado"),r.default.createElement("option",{value:"admin"},"Admin"))),r.default.createElement("div",null,r.default.createElement("label",{className:"text-[10px] uppercase font-bold text-slate-500 mb-1 block"},"Total Invertido"),r.default.createElement("div",{className:"input-cyber w-full p-2 text-sm bg-slate-900/50 text-slate-400 flex items-center cursor-not-allowed"},"$ ",a.filter(y=>y.investor===u.name||y.investor===u.email).reduce((y,x)=>y+(Number(x.amount)||0),0).toLocaleString()))),u.email!==Ge&&r.default.createElement("button",{onClick:()=>W({...p,team:(p?.team||[]).filter((y,x)=>x!==g)}),className:"p-3 bg-red-900/20 text-red-400 hover:bg-red-900/40 rounded-xl transition flex-shrink-0",title:"Eliminar Miembro"},r.default.createElement(ht,{className:"w-5 h-5"}))))),r.default.createElement("button",{onClick:()=>W({...p,team:[...p?.team||[],{name:"",email:"",role:"employee",investment:0}]}),className:"px-6 py-3 bg-purple-600 hover:bg-purple-500 text-white rounded-xl font-bold shadow-lg shadow-purple-600/30 flex items-center gap-2 transition"},r.default.createElement(ff,{className:"w-5 h-5"})," Agregar Nuevo Miembro"))),K?.email===Ge&&r.default.createElement("div",{className:"fixed bottom-8 right-8 z-50"},r.default.createElement("button",{onClick:async()=>{try{Nt(!0);let u=me(se,"artifacts",w,"public","data","settings","config");await Cr(u,p,{merge:!0}),M("Configuracin guardada exitosamente","success")}catch(u){console.error(u),M("Error al guardar","error")}finally{Nt(!1)}},className:"px-8 py-4 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 text-white font-bold rounded-2xl shadow-2xl shadow-orange-900/30 flex items-center gap-3 transition transform hover:scale-105"},r.default.createElement(di,{className:"w-5 h-5"})," Guardar Cambios"))),la&&r.default.createElement("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in-scale"},r.default.createElement("div",{className:"bg-[#0a0a0a] border border-slate-700 p-8 rounded-[2.5rem] w-full max-w-lg shadow-2xl relative overflow-hidden flex flex-col max-h-[90vh]"},r.default.createElement("div",{className:"overflow-y-auto custom-scrollbar pr-2 pb-20"},r.default.createElement("h3",{className:"text-2xl font-black text-white mb-6 sticky top-0 bg-[#0a0a0a] py-2 z-10"},aa?"Editar":"Nuevo"," Proveedor"),r.default.createElement("div",{className:"space-y-4 mb-6"},r.default.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Nombre de la Empresa",value:dt.name,onChange:u=>or({...dt,name:u.target.value})}),r.default.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Nombre del Contacto",value:dt.contact,onChange:u=>or({...dt,contact:u.target.value})}),r.default.createElement("div",{className:"grid grid-cols-2 gap-4"},r.default.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Telfono",value:dt.phone,onChange:u=>or({...dt,phone:u.target.value})}),r.default.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Instagram (sin @)",value:dt.ig,onChange:u=>or({...dt,ig:u.target.value})})),r.default.createElement("div",{className:"border-t border-slate-800 pt-6 mt-6"},r.default.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3 block"},"Asignar Productos Suministrados"),r.default.createElement("div",{className:"h-48 overflow-y-auto bg-slate-900/50 rounded-xl p-2 border border-slate-800 custom-scrollbar"},le.length===0?r.default.createElement("p",{className:"text-center text-slate-600 text-xs py-4"},"Carga productos primero."):le.map(u=>r.default.createElement("div",{key:u.id,onClick:()=>{let g=dt.associatedProducts||[],y=g.includes(u.id);or({...dt,associatedProducts:y?g.filter(x=>x!==u.id):[...g,u.id]})},className:`flex items-center gap-3 p-2 rounded-lg cursor-pointer mb-1 transition ${dt.associatedProducts?.includes(u.id)?"bg-orange-900/30 border border-orange-500/30":"hover:bg-slate-800 border border-transparent"}`},r.default.createElement("div",{className:"w-8 h-8 bg-white rounded p-0.5 flex-shrink-0"},r.default.createElement("img",{src:u.image,alt:u.name||"Producto",className:"w-full h-full object-contain"})),r.default.createElement("span",{className:"text-xs text-white truncate flex-1 font-medium"},u.name),dt.associatedProducts?.includes(u.id)&&r.default.createElement(Te,{className:"w-4 h-4 text-orange-400"}))))))),r.default.createElement("div",{className:"absolute bottom-0 left-0 w-full p-8 bg-gradient-to-t from-[#0a0a0a] via-[#0a0a0a] to-transparent flex gap-4"},r.default.createElement("button",{onClick:()=>eo(!1),className:"flex-1 py-4 text-slate-400 font-bold hover:text-white transition bg-slate-900 rounded-xl"},"Cancelar"),r.default.createElement("button",{onClick:KS,className:"flex-1 py-4 bg-orange-600 hover:bg-orange-500 text-white rounded-xl font-bold shadow-lg transition"},"Guardar")))))):r.default.createElement(rD,{onBack:()=>e("store")})),t==="terms"&&r.default.createElement("div",{className:"max-w-4xl mx-auto py-10 sm:py-20 px-3 sm:px-6 animate-fade-up"},r.default.createElement("div",{className:"glass p-5 sm:p-8 md:p-12 rounded-2xl sm:rounded-[3rem] border border-slate-800"},r.default.createElement("div",{className:"prose prose-invert max-w-none"},r.default.createElement("h1",{className:"text-3xl sm:text-5xl font-black mb-8 sm:mb-12 tracking-tighter italic"},"Condiciones de ",r.default.createElement("span",{className:"text-orange-500 text-4xl sm:text-6xl"},"Uso")),r.default.createElement("p",{className:"text-slate-400 font-bold mb-8"},"ltima actualizacin: 07 de enero de 2026"),r.default.createElement("h3",{className:"text-xl font-bold text-white mt-8 mb-4"},"ACUERDO CON NUESTROS TRMINOS LEGALES"),r.default.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"Nosotros somos ",r.default.createElement("strong",null,p?.storeName||"Sustore"),' ("',r.default.createElement("strong",null,"Empresa"),'", "',r.default.createElement("strong",null,"nosotros"),'", "',r.default.createElement("strong",null,"nos"),'", "',r.default.createElement("strong",null,"nuestro"),'").'),r.default.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"Operamos el sitio web ",r.default.createElement("a",{href:p?.seoUrl||"#",className:"text-orange-400 hover:underline"},p?.seoUrl||"[URL del sitio]"),' (el "',r.default.createElement("strong",null,"Sitio"),'"), as como cualquier otro producto y servicio relacionado que haga referencia o se vincule con estos trminos legales (los "',r.default.createElement("strong",null,"Trminos Legales"),'") (colectivamente, los "',r.default.createElement("strong",null,"Servicios"),'").'),r.default.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"Puede contactarnos por correo electrnico a la direccin proporcionada al final de este documento."),r.default.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},'Estos Trminos Legales constituyen un acuerdo legalmente vinculante celebrado entre usted, ya sea personalmente o en nombre de una entidad ("',r.default.createElement("strong",null,"usted"),'"), y Sustore, en relacin con su acceso y uso de los Servicios. Usted acepta que al acceder a los Servicios, ha ledo, comprendido y aceptado estar sujeto a todos estos Trminos Legales. ',r.default.createElement("strong",{className:"text-red-400"},"SI NO EST DE ACUERDO CON TODOS ESTOS TRMINOS LEGALES, ENTONCES TIENE EXPRESAMENTE PROHIBIDO UTILIZAR LOS SERVICIOS Y DEBE DEJAR DE UTILIZARLOS INMEDIATAMENTE.")),r.default.createElement("div",{className:"bg-slate-900/50 p-8 rounded-3xl border border-slate-800 my-10"},r.default.createElement("h3",{className:"text-lg font-black text-white uppercase tracking-widest mb-6"},"NDICE"),r.default.createElement("ul",{className:"space-y-2 text-sm text-orange-400 font-medium"},r.default.createElement("li",null,r.default.createElement("a",{href:"#section1",className:"hover:text-orange-300 transition"},"1. NUESTROS SERVICIOS")),r.default.createElement("li",null,r.default.createElement("a",{href:"#section2",className:"hover:text-orange-300 transition"},"2. DERECHOS DE PROPIEDAD INTELECTUAL")),r.default.createElement("li",null,r.default.createElement("a",{href:"#section3",className:"hover:text-orange-300 transition"},"3. REPRESENTACIONES DE USUARIOS")),r.default.createElement("li",null,r.default.createElement("a",{href:"#section4",className:"hover:text-orange-300 transition"},"4. ACTIVIDADES PROHIBIDAS")),r.default.createElement("li",null,r.default.createElement("a",{href:"#section5",className:"hover:text-orange-300 transition"},"5. CONTRIBUCIONES GENERADAS POR EL USUARIO")),r.default.createElement("li",null,r.default.createElement("a",{href:"#section6",className:"hover:text-orange-300 transition"},"6. LICENCIA DE CONTRIBUCIN")),r.default.createElement("li",null,r.default.createElement("a",{href:"#section7",className:"hover:text-orange-300 transition"},"7. GESTIN DE SERVICIOS")),r.default.createElement("li",null,r.default.createElement("a",{href:"#section8",className:"hover:text-orange-300 transition"},"8. PLAZO Y TERMINACIN")),r.default.createElement("li",null,r.default.createElement("a",{href:"#section9",className:"hover:text-orange-300 transition"},"9. MODIFICACIONES E INTERRUPCIONES")),r.default.createElement("li",null,r.default.createElement("a",{href:"#section10",className:"hover:text-orange-300 transition"},"10. LEY APLICABLE")),r.default.createElement("li",null,r.default.createElement("a",{href:"#section11",className:"hover:text-orange-300 transition"},"11. RESOLUCIN DE DISPUTAS")),r.default.createElement("li",null,r.default.createElement("a",{href:"#section12",className:"hover:text-orange-300 transition"},"12. CORRECCIONES")),r.default.createElement("li",null,r.default.createElement("a",{href:"#section13",className:"hover:text-orange-300 transition"},"13. DESCARGO DE RESPONSABILIDAD")),r.default.createElement("li",null,r.default.createElement("a",{href:"#section14",className:"hover:text-orange-300 transition"},"14. LIMITACIONES DE RESPONSABILIDAD")),r.default.createElement("li",null,r.default.createElement("a",{href:"#section15",className:"hover:text-orange-300 transition"},"15. INDEMNIZACIN")),r.default.createElement("li",null,r.default.createElement("a",{href:"#section16",className:"hover:text-orange-300 transition"},"16. DATOS DEL USUARIO")),r.default.createElement("li",null,r.default.createElement("a",{href:"#section17",className:"hover:text-orange-300 transition"},"17. COMUNICACIONES ELECTRNICAS")),r.default.createElement("li",null,r.default.createElement("a",{href:"#section18",className:"hover:text-orange-300 transition"},"18. VARIOS")),r.default.createElement("li",null,r.default.createElement("a",{href:"#section19",className:"hover:text-orange-300 transition"},"19. CONTCTENOS")))),r.default.createElement("section",{id:"section1",className:"mb-12"},r.default.createElement("h2",{className:"text-2xl font-bold text-white mb-4"},"1. NUESTROS SERVICIOS"),r.default.createElement("p",{className:"text-slate-500 leading-relaxed"},"La informacin proporcionada al utilizar los Servicios no est destinada a ser distribuida o utilizada por ninguna persona o entidad en ninguna jurisdiccin o pas donde dicha distribucin o uso sera contrario a la ley o regulacin o que nos sometera a cualquier requisito de registro dentro de dicha jurisdiccin o pas. En consecuencia, aquellas personas que eligen acceder a los Servicios desde otras ubicaciones lo hacen por iniciativa propia y son las nicas responsables del cumplimiento de las leyes locales, si y en la medida en que sean aplicables.")),r.default.createElement("section",{id:"section2",className:"mb-12"},r.default.createElement("h2",{className:"text-2xl font-bold text-white mb-4"},"2. DERECHOS DE PROPIEDAD INTELECTUAL"),r.default.createElement("h3",{className:"text-lg font-bold text-white mt-6 mb-2"},"Nuestra propiedad intelectual"),r.default.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},'Somos propietarios o licenciatarios de todos los derechos de propiedad intelectual de nuestros Servicios, incluido todo el cdigo fuente, bases de datos, funcionalidad, software, diseos de sitios web, audio, video, texto, fotografas y grficos de los Servicios (colectivamente, el "Contenido"), as como las marcas comerciales, marcas de servicio y logotipos contenidos en ellas (las "Marcas").'),r.default.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"Nuestro Contenido y Marcas estn protegidos por leyes de derechos de autor y marcas registradas (y varias otras leyes de derechos de propiedad intelectual y competencia desleal) y tratados alrededor del mundo."),r.default.createElement("p",{className:"text-slate-500 leading-relaxed"},'El Contenido y las Marcas se proporcionan en o a travs de los Servicios "TAL CUAL" para su uso personal, no comercial o finalidad empresarial interna.'),r.default.createElement("h3",{className:"text-lg font-bold text-white mt-6 mb-2"},"Su uso de nuestros Servicios"),r.default.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},'Sujeto a su cumplimiento de estos Trminos Legales, incluidos los "ACTIVIDADES PROHIBIDAS" en la seccin siguiente, le otorgamos un contrato no exclusivo, intransferible y revocable licencia para:'),r.default.createElement("ul",{className:"list-disc pl-6 text-slate-500 space-y-2 mb-4"},r.default.createElement("li",null,"acceder a los Servicios; y"),r.default.createElement("li",null,"descargar o imprimir una copia de cualquier parte del Contenido al que haya obtenido acceso correctamente,")),r.default.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"nicamente para tu uso personal, no comercial o finalidad empresarial interna."),r.default.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"Salvo lo establecido en esta seccin o en otra parte de nuestros Trminos Legales, ninguna parte de los Servicios ni ningn Contenido o Marca podrn copiarse ni reproducirse, agregado, republicado, cargado, publicado, mostrado pblicamente, codificado, traducido, transmitido, distribuido, vendido, licenciado o explotado de otro modo para cualquier fin comercial, sin nuestro expreso previo escrito permiso."),r.default.createElement("p",{className:"text-slate-500 leading-relaxed"},"Si desea hacer algn uso de los Servicios, Contenido o Marcas que no sea el establecido en esta seccin o en otra parte de nuestros Trminos Legales, dirija su solicitud a nuestro correo de contacto.")),r.default.createElement("section",{id:"section3",className:"mb-12"},r.default.createElement("h2",{className:"text-2xl font-bold text-white mb-4"},"3. REPRESENTACIONES DE USUARIOS"),r.default.createElement("p",{className:"text-slate-500 leading-relaxed"},"Al utilizar los Servicios, usted declara y garantiza que: (1) usted tiene la capacidad legal y acepta cumplir con estos Trminos Legales; (2) no eres un menor de edad en la jurisdiccin en la que usted reside; (3) no acceders a los Servicios a travs de medios automatizados o no humanos, ya sea a travs de un bot, script o de otro modo; (4) no utilizar los Servicios para ninguna actividad ilegal o no autorizado propsito; y (5) su uso de los Servicios no violar ninguna ley o regulacin aplicable.")),r.default.createElement("section",{id:"section4",className:"mb-12"},r.default.createElement("h2",{className:"text-2xl font-bold text-white mb-4"},"4. ACTIVIDADES PROHIBIDAS"),r.default.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"No puede acceder ni utilizar los Servicios para ningn otro propsito que no sea aquel para el cual los ponemos a disposicin. Los Servicios no podrn utilizarse en relacin con ningn negocio comercial esfuerzo excepto aquellos que estn especficamente respaldados o aprobados por nosotros."),r.default.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"Como usuario de los Servicios, usted acepta no:"),r.default.createElement("ul",{className:"list-disc pl-6 text-slate-500 space-y-2"},r.default.createElement("li",null,"Recuperar sistemticamente datos u otro contenido de los Servicios para crear o compilar, directa o indirectamente, una coleccin, compilacin, base de datos o directorio sin nuestro permiso por escrito."),r.default.createElement("li",null,"Engaarnos, defraudarnos o engaarnos a nosotros y a otros usuarios, especialmente en cualquier intento de obtener informacin confidencial de la cuenta, como las contraseas de los usuarios."),r.default.createElement("li",null,"Eludir, deshabilitar o interferir de otro modo con las caractersticas relacionadas con la seguridad de los Servicios."),r.default.createElement("li",null,"Menospreciar, empaar o daar de otro modo, en nuestra opinin, a nosotros y/o a los Servicios."),r.default.createElement("li",null,"Utilizar cualquier informacin obtenida de los Servicios para acosar, abusar o daar a otra persona."),r.default.createElement("li",null,"Hacer un uso indebido de nuestros servicios de soporte o presentar informes falsos de abuso o mala conducta."),r.default.createElement("li",null,"Utilice los Servicios de una manera incompatible con las leyes o regulaciones aplicables."))),r.default.createElement("section",{id:"section13",className:"mb-12"},r.default.createElement("h2",{className:"text-2xl font-bold text-white mb-4"},"13. DESCARGO DE RESPONSABILIDAD"),r.default.createElement("p",{className:"text-slate-500 leading-relaxed text-xs uppercase tracking-wide border-l-4 border-red-500/50 pl-4 py-2 bg-red-900/5"},"LOS SERVICIOS SE PRESTAN TAL CUAL Y SEGN EST DISPONIBLE. USTED ACEPTA QUE SU USO DE LOS SERVICIOS SER BAJO SU PROPIO RIESGO. EN LA MXIMA MEDIDA PERMITIDA POR LA LEY, RENUNCIAMOS A TODAS LAS GARANTAS, EXPRESAS O IMPLCITAS, EN RELACIN CON LOS SERVICIOS Y SU USO DE LOS MISMOS.")),r.default.createElement("section",{id:"section19",className:"mb-12"},r.default.createElement("h2",{className:"text-2xl font-bold text-white mb-4"},"19. CONTCTENOS"),r.default.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"Para resolver una queja con respecto a los Servicios o para recibir ms informacin sobre el uso de los Servicios, contctenos en:"),r.default.createElement("p",{className:"text-2xl font-black text-orange-400"},p?.storeEmail||"soporte@tuempresa.com")),r.default.createElement("button",{onClick:()=>e("store"),className:"px-10 py-4 bg-slate-900 hover:bg-slate-800 text-white rounded-2xl font-bold transition flex items-center gap-3 border border-slate-700 mt-12"},r.default.createElement(ws,{className:"w-5 h-5"})," Volver a la Tienda"))))),t!=="admin"&&t!=="login"&&t!=="register"&&r.default.createElement("footer",{className:`pt-16 pb-8 relative overflow-hidden transition-colors duration-300 border-t ${f?"bg-[#050505] border-slate-900":"bg-slate-100 border-slate-200"}`},r.default.createElement("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-orange-500/30 to-transparent"}),r.default.createElement("div",{className:`absolute -top-40 -right-40 w-96 h-96 rounded-full blur-[100px] pointer-events-none ${f?"bg-blue-900/5":"bg-blue-500/5"}`}),r.default.createElement("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6 md:px-12 grid grid-cols-1 md:grid-cols-4 gap-8 sm:gap-12 mb-10 sm:mb-16 relative z-10"},r.default.createElement("div",{className:"md:col-span-2 space-y-6"},r.default.createElement("h2",{className:`text-3xl font-black tracking-tighter italic ${f?"text-white":"text-slate-900"}`},Bt&&p?.storeName||"",r.default.createElement("span",{className:"text-orange-500"},p?.footerSuffix||".SF")),r.default.createElement("p",{className:`max-w-sm leading-relaxed text-sm ${f?"text-slate-500":"text-slate-600"}`},p?.footerDescription||"Tu destino premium para tecnologa de vanguardia. Ofrecemos los mejores productos con garanta y soporte especializado. Elevamos tu experiencia digital."),r.default.createElement("div",{className:"flex gap-3 pt-2 flex-wrap"},p?.showInstagram!==!1&&p?.instagramLink&&r.default.createElement("button",{onClick:()=>window.open(p?.instagramLink,"_blank"),className:`p-2 rounded-lg transition border ${f?"bg-slate-900 text-slate-400 border-slate-800 hover:text-pink-400 hover:bg-pink-900/10 hover:border-pink-500/30":"bg-white text-slate-500 border-slate-200 hover:text-pink-600 hover:bg-pink-50 hover:border-pink-300"}`},r.default.createElement(ou,{className:"w-5 h-5"})),p?.showWhatsapp===!0&&p?.whatsappLink&&r.default.createElement("button",{onClick:()=>window.open(p?.whatsappLink,"_blank"),className:`p-2 rounded-lg transition border ${f?"bg-slate-900 text-slate-400 border-slate-800 hover:text-green-400 hover:bg-green-900/10 hover:border-green-500/30":"bg-white text-slate-500 border-slate-200 hover:text-green-600 hover:bg-green-50 hover:border-green-300"}`},r.default.createElement(ci,{className:"w-5 h-5"})),p?.showFacebook&&p?.facebookLink&&r.default.createElement("button",{onClick:()=>window.open(p?.facebookLink,"_blank"),className:`p-2 rounded-lg transition border ${f?"bg-slate-900 text-slate-400 border-slate-800 hover:text-blue-400 hover:bg-blue-900/10 hover:border-blue-500/30":"bg-white text-slate-500 border-slate-200 hover:text-blue-600 hover:bg-blue-50 hover:border-blue-300"}`},r.default.createElement(Xm,{className:"w-5 h-5"})),p?.showTwitter&&p?.twitterLink&&r.default.createElement("button",{onClick:()=>window.open(p?.twitterLink,"_blank"),className:`p-2 rounded-lg transition border ${f?"bg-slate-900 text-slate-400 border-slate-800 hover:text-sky-400 hover:bg-sky-900/10 hover:border-sky-500/30":"bg-white text-slate-500 border-slate-200 hover:text-sky-600 hover:bg-sky-50 hover:border-sky-300"}`},r.default.createElement(pf,{className:"w-5 h-5"})),p?.showTiktok&&p?.tiktokLink&&r.default.createElement("button",{onClick:()=>window.open(p?.tiktokLink,"_blank"),className:`p-2 rounded-lg transition border ${f?"bg-slate-900 text-slate-400 border-slate-800 hover:text-rose-400 hover:bg-rose-900/10 hover:border-rose-500/30":"bg-white text-slate-500 border-slate-200 hover:text-rose-600 hover:bg-rose-50 hover:border-rose-300"}`},r.default.createElement(of,{className:"w-5 h-5"})),p?.showYoutube&&p?.youtubeLink&&r.default.createElement("button",{onClick:()=>window.open(p?.youtubeLink,"_blank"),className:`p-2 rounded-lg transition border ${f?"bg-slate-900 text-slate-400 border-slate-800 hover:text-red-400 hover:bg-red-900/10 hover:border-red-500/30":"bg-white text-slate-500 border-slate-200 hover:text-red-600 hover:bg-red-50 hover:border-red-300"}`},r.default.createElement(vf,{className:"w-5 h-5"})))),r.default.createElement("div",{className:"space-y-6"},r.default.createElement("h3",{className:`font-bold uppercase tracking-widest text-xs ${f?"text-white":"text-slate-900"}`},"Enlaces Rpidos"),r.default.createElement("ul",{className:`space-y-3 text-sm font-medium ${f?"text-slate-500":"text-slate-600"}`},r.default.createElement("li",null,r.default.createElement("button",{onClick:()=>e("store"),className:"hover:text-orange-500 transition flex items-center gap-2 group"},r.default.createElement("span",{className:"w-0 group-hover:w-2 h-px bg-orange-500 transition-all duration-300"})," Inicio")),r.default.createElement("li",null,r.default.createElement("button",{onClick:()=>e("profile"),className:"hover:text-orange-500 transition flex items-center gap-2 group"},r.default.createElement("span",{className:"w-0 group-hover:w-2 h-px bg-orange-500 transition-all duration-300"})," Mi Cuenta")),r.default.createElement("li",null,r.default.createElement("button",{onClick:()=>e("guide"),className:"hover:text-orange-500 transition flex items-center gap-2 group"},r.default.createElement("span",{className:"w-0 group-hover:w-2 h-px bg-orange-500 transition-all duration-300"})," Ayuda & Soporte")))),p?.showFooterContact!==!1&&r.default.createElement("div",{className:"space-y-6"},r.default.createElement("h3",{className:`font-bold uppercase tracking-widest text-xs ${f?"text-white":"text-slate-900"}`},p?.footerContactTitle||"Contacto"),r.default.createElement("p",{className:`text-sm leading-relaxed mb-4 ${f?"text-slate-500":"text-slate-600"}`},p?.footerContactDescription||"Tienes alguna duda? Estamos aqu para ayudarte."),r.default.createElement("button",{onClick:()=>{let u=p?.footerContactType||"whatsapp";u==="whatsapp"&&p?.whatsappLink?window.open(p.whatsappLink,"_blank"):u==="instagram"&&p?.instagramLink?window.open(p.instagramLink,"_blank"):u==="email"&&p?.storeEmail&&window.open(`https://mail.google.com/mail/?view=cm&fs=1&to=${p.storeEmail}`,"_blank")},className:`px-6 py-3 rounded-xl text-sm font-bold transition w-full md:w-auto border ${f?"bg-orange-900/10 text-orange-400 border-orange-500/20 hover:bg-orange-500 hover:text-white":"bg-orange-50 text-orange-600 border-orange-200 hover:bg-orange-500 hover:text-white hover:border-orange-500"}`},p?.footerContactButtonText||"Contactar Soporte"))),r.default.createElement("div",{className:`border-t transition-colors duration-300 ${f?"border-slate-900 bg-[#020202]":"border-slate-200 bg-slate-200/50"}`},r.default.createElement("div",{className:"max-w-[1400px] mx-auto px-6 md:px-12 py-6 flex flex-col md:flex-row justify-between items-center gap-4"},r.default.createElement("p",{className:`text-xs font-mono ${f?"text-slate-600":"text-slate-500"}`},p?.footerCopyright||` ${new Date().getFullYear()} Sustore. Todos los derechos reservados.`),r.default.createElement("div",{className:"flex gap-6"},p?.showPrivacyPolicy!==!1&&r.default.createElement("span",{onClick:()=>e("privacy"),className:`text-xs font-bold uppercase tracking-wider cursor-pointer hover:text-orange-500 transition underline underline-offset-4 ${f?"text-slate-700 decoration-slate-900":"text-slate-500 decoration-slate-300"}`},"Privacy Policy"),p?.showTermsOfService!==!1&&r.default.createElement("span",{onClick:()=>e("terms"),className:`text-xs font-bold uppercase tracking-wider cursor-pointer hover:text-orange-500 transition underline underline-offset-4 ${f?"text-slate-700 decoration-slate-900":"text-slate-500 decoration-slate-300"}`},"Terms of Service"))))),Fr&&r.default.createElement("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/90 backdrop-blur-md animate-fade-in-scale p-4"},r.default.createElement("div",{className:"glass p-8 rounded-[2rem] max-w-md w-full border border-orange-800 shadow-2xl"},r.default.createElement("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-6 mx-auto bg-orange-900/20 text-orange-500"},r.default.createElement(Ia,{className:"w-8 h-8"})),r.default.createElement("h3",{className:"text-2xl font-black text-center mb-6 text-white"},"Nueva Categora"),r.default.createElement("input",{type:"text",value:zr,onChange:u=>xs(u.target.value),className:"input-cyber w-full p-4 mb-6",placeholder:"Nombre de la categora",autoFocus:!0}),r.default.createElement("div",{className:"flex gap-3"},r.default.createElement("button",{onClick:()=>{xs(""),Ur(!1)},className:"flex-1 py-3 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-xl font-bold transition"},"Cancelar"),r.default.createElement("button",{onClick:YS,className:"flex-1 py-3 bg-orange-600 hover:bg-orange-500 text-white rounded-xl font-bold transition shadow-lg shadow-orange-600/30"},"Crear")))),id&&r.default.createElement("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/90 backdrop-blur-md animate-fade-in-scale p-4"},r.default.createElement("div",{className:"glass p-8 rounded-[2rem] max-w-md w-full border border-green-900 shadow-2xl"},r.default.createElement("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-6 mx-auto bg-green-900/20 text-green-500"},r.default.createElement(su,{className:"w-8 h-8"})),r.default.createElement("h3",{className:"text-2xl font-black text-center mb-2 text-white"},"Venta Manual"),r.default.createElement("p",{className:"text-center text-slate-400 mb-6"},le.find(u=>u.id===ve.productId)?.name),r.default.createElement("div",{className:"space-y-4 mb-8"},r.default.createElement("div",{className:"grid grid-cols-2 gap-4"},r.default.createElement("div",null,r.default.createElement("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-1 block"},"Cantidad"),r.default.createElement("input",{type:"number",className:"input-cyber w-full p-3",value:ve.quantity,onChange:u=>cr({...ve,quantity:parseInt(u.target.value)||1}),min:"1"})),r.default.createElement("div",null,r.default.createElement("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-1 block"},"Precio Unit."),r.default.createElement("input",{type:"number",className:"input-cyber w-full p-3",value:ve.price,onChange:u=>cr({...ve,price:parseFloat(u.target.value)||0})}))),r.default.createElement("div",null,r.default.createElement("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-1 block"},"Mtodo de Pago"),r.default.createElement("select",{className:"input-cyber w-full p-3",value:ve.paymentMethod,onChange:u=>cr({...ve,paymentMethod:u.target.value})},r.default.createElement("option",{value:"Efectivo"},"Efectivo"),r.default.createElement("option",{value:"Transferencia"},"Transferencia"),r.default.createElement("option",{value:"Tarjeta"},"Tarjeta"))),r.default.createElement("div",{className:"bg-slate-900 p-4 rounded-xl flex justify-between items-center border border-slate-800"},r.default.createElement("span",{className:"text-slate-400 font-bold"},"Total:"),r.default.createElement("span",{className:"text-2xl font-black text-green-400"},"$",(ve.quantity*ve.price).toLocaleString()))),r.default.createElement("div",{className:"flex gap-3"},r.default.createElement("button",{onClick:()=>qn(!1),className:"flex-1 py-3 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-xl font-bold transition"},"Cancelar"),r.default.createElement("button",{onClick:$e,disabled:Dr,className:"flex-1 py-3 bg-green-600 hover:bg-green-500 text-white rounded-xl font-bold transition shadow-lg shadow-green-600/30 flex items-center justify-center gap-2"},Dr?r.default.createElement(ui,{className:"w-5 h-5 animate-spin"}):r.default.createElement(Te,{className:"w-5 h-5"}),"Confirmar")))),p?.showFloatingWhatsapp&&p?.whatsappLink&&["business","premium"].includes(p?.subscriptionPlan)&&t!=="admin"&&r.default.createElement("button",{onClick:()=>window.open(p.whatsappLink,"_blank"),className:"fixed bottom-24 right-6 z-50 p-4 bg-green-500 rounded-full shadow-[0_0_20px_rgba(34,197,94,0.4)] hover:scale-110 hover:shadow-[0_0_30px_rgba(34,197,94,0.6)] transition-all animate-bounce-slow",title:"Chatea con nosotros"},r.default.createElement(ci,{className:"w-8 h-8 text-white fill-white"})),r.default.createElement(aT,null),ld&&r.default.createElement(nD,{settings:p,onClose:()=>ys(!1)}),!1,r.default.createElement(Y4,{isOpen:b.isOpen,title:b.title,message:b.message,onConfirm:b.onConfirm,onCancel:b.onCancel||(()=>N(u=>({...u,isOpen:!1}))),isDangerous:!0,darkMode:f}),r.default.createElement(R4,{isOpen:Fr,onClose:()=>Ur(!1),categories:p?.categories||[],onAdd:u=>W({...p,categories:[...p?.categories||[],u]}),onRemove:u=>W({...p,categories:(p?.categories||[]).filter(g=>g!==u)}),darkMode:f}),r.default.createElement(r.Suspense,{fallback:null},r.default.createElement(B4,{settings:p,products:le,addToCart:(u,g=1)=>ii(u,g),controlPanel:{setDarkMode:P,openCart:()=>e("cart")},coupons:Mr,appId:w})))}var nD=({settings:t,onClose:e})=>{let[n,s]=r.default.useState(null),[i,o]=r.default.useState(null),a={purple:{iconBg:"bg-purple-600",iconText:"text-purple-400",price:"text-purple-400",check:"text-purple-500",activeBg:"bg-purple-500",activeBorder:"border-purple-400",gradient:"from-purple-900/40 to-slate-900",border:"border-purple-500/50"},orange:{iconBg:"bg-orange-600",iconText:"text-orange-400",price:"text-orange-400",check:"text-orange-500",activeBg:"bg-orange-500",activeBorder:"border-orange-400",gradient:"from-orange-900/40 to-slate-900",border:"border-orange-500/50"},yellow:{iconBg:"bg-yellow-500",iconText:"text-yellow-400",price:"text-yellow-400",check:"text-yellow-500",activeBg:"bg-yellow-500",activeBorder:"border-yellow-400",gradient:"from-yellow-900/40 to-slate-900",border:"border-yellow-500/50"}};return r.default.createElement("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/95 backdrop-blur-xl animate-fade-in-scale p-2 sm:p-4 overflow-hidden"},r.default.createElement("div",{className:"bg-gradient-to-b from-[#0d0d0d] to-[#050505] relative w-full h-full sm:h-auto sm:max-h-[95vh] sm:max-w-5xl sm:rounded-3xl border-0 sm:border sm:border-slate-800/50 shadow-2xl flex flex-col overflow-hidden"},r.default.createElement("div",{className:"flex justify-between items-center p-4 sm:p-6 border-b border-slate-800/50 shrink-0"},r.default.createElement("div",null,r.default.createElement("h2",{className:"text-xl sm:text-3xl font-black text-white flex items-center gap-2 sm:gap-3"},r.default.createElement(Wn,{className:"w-6 h-6 sm:w-8 sm:h-8 text-yellow-500 fill-current"})," Planes Disponibles"),r.default.createElement("p",{className:"text-slate-500 text-xs sm:text-sm mt-1"},"Eleg un plan y seleccion tu forma de pago")),r.default.createElement("button",{onClick:e,className:"p-2 sm:p-3 bg-slate-800 hover:bg-slate-700 rounded-full text-white transition-all hover:rotate-90"},r.default.createElement(It,{className:"w-5 h-5 sm:w-6 sm:h-6"}))),r.default.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 sm:p-6"},r.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-5"},[{id:"entrepreneur",name:"Plan Emprendedor",emoji:"",subtitle:"El impulso que tu negocio necesita para despegar.",price:"US$5.99",features:[" Carga de hasta 30 productos"," Integracin con Mercado Pago"," 1 promocin activa"," Panel de control completo"," Soporte tcnico va Gmail"],cycles:[{id:"weekly",label:"Semanal",price:"US$1.99",sub:"Flexibilidad total"},{id:"monthly",label:"Mensual",price:"US$5.99",sub:"Opcin equilibrada"},{id:"annual",label:"Anual",price:"US$59.90",sub:" 2 MESES GRATIS"}],color:"orange",icon:uo},{id:"business",name:"Plan Negocio",emoji:"",subtitle:"Para marcas con identidad que buscan escalar.",price:"US$9.99",popular:!0,features:[" Incluye TODO lo del Plan Emprendedor"," Hasta 50 productos"," Promociones ilimitadas"," Sistema de cupones"," Analtica de clientes"," Botn WhatsApp flotante"," Carrusel de banners"],cycles:[{id:"weekly",label:"Semanal",price:"US$3.49",sub:"Flexibilidad total"},{id:"monthly",label:"Mensual",price:"US$9.99",sub:"Equilibrio perfecto"},{id:"annual",label:"Anual",price:"US$89.90",sub:" 3 MESES GRATIS"}],color:"purple",icon:Km},{id:"premium",name:"Plan Premium",emoji:"",subtitle:"Automatizacin total y cero preocupaciones.",price:"US$17.99",features:[" Incluye TODO lo del Plan Negocio"," Productos ilimitados"," Promociones ilimitadas"," Asistente IA 24/7"," Carga VIP (10 productos)"," Mantenimiento mensual"," Omnicanalidad total"],cycles:[{id:"weekly",label:"Semanal",price:"US$5.99",sub:"Flexibilidad total"},{id:"monthly",label:"Mensual",price:"US$17.99",sub:"Equilibrio perfecto"},{id:"annual",label:"Anual",price:"US$161.90",sub:" 3 MESES GRATIS"}],color:"yellow",icon:hi}].map(d=>{let m=n===d.id,b=t?.subscriptionPlan===d.id||!t?.subscriptionPlan&&d.id==="entrepreneur",N=d.icon,E=a[d.color];return r.default.createElement("div",{key:d.id,onClick:()=>s(m?null:d.id),className:`relative rounded-2xl sm:rounded-3xl border-2 transition-all duration-300 overflow-hidden cursor-pointer flex flex-col
                                        ${m?`bg-gradient-to-b ${E.gradient} ${E.border} shadow-xl scale-[1.01]`:"bg-[#111] border-slate-800 hover:border-slate-600"}`},d.popular&&r.default.createElement("div",{className:"absolute top-0 right-0 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-[10px] font-black px-3 py-1 rounded-bl-xl"},"POPULAR"),b&&r.default.createElement("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 bg-white/10 backdrop-blur text-white text-[10px] font-bold px-3 py-1 rounded-b-lg border border-white/20"}," TU PLAN"),r.default.createElement("div",{className:"p-4 sm:p-5 flex-1 flex flex-col"},r.default.createElement("div",{className:"flex items-center gap-3 mb-3"},r.default.createElement("div",{className:`p-2.5 sm:p-3 rounded-xl ${E.iconBg} shadow-lg`},r.default.createElement(N,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})),r.default.createElement("div",null,r.default.createElement("h3",{className:"text-lg sm:text-xl font-black text-white"},d.name),r.default.createElement("p",{className:"text-[11px] sm:text-xs text-slate-500"},d.subtitle))),r.default.createElement("div",{className:`text-2xl sm:text-3xl font-black ${E.price} mb-4`},d.price," ",r.default.createElement("span",{className:"text-sm text-slate-500 font-normal"},"/mes")),r.default.createElement("div",{className:"space-y-2 mb-4 flex-1"},d.features.map((S,j)=>r.default.createElement("div",{key:j,className:"flex items-start gap-2 text-xs sm:text-sm text-slate-300"},r.default.createElement(Te,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 ${E.check} shrink-0 mt-0.5`}),r.default.createElement("span",null,S)))),r.default.createElement("button",{className:`w-full py-2 text-xs font-bold uppercase tracking-wider rounded-lg transition-all flex items-center justify-center gap-2
                                                ${m?"bg-white/5 text-white":"bg-slate-800/50 text-slate-400 hover:bg-slate-700/50"}`},m?"Eleg tu forma de pago":"Ver opciones de pago",r.default.createElement(py,{className:`w-4 h-4 transition-transform ${m?"rotate-180":""}`})),r.default.createElement("div",{className:`transition-all duration-300 overflow-hidden ${m?"max-h-[400px] opacity-100 mt-4":"max-h-0 opacity-0"}`},r.default.createElement("div",{className:"space-y-2 pt-4 border-t border-white/10"},d.cycles.map(S=>{let j=i?.price===S.price&&i?.plan===d.name;return r.default.createElement("button",{key:S.id,onClick:z=>{z.stopPropagation(),o({plan:d.name,cycle:S.label,price:S.price,sub:S.sub,emoji:d.emoji})},className:`w-full text-left p-3 rounded-xl border-2 transition-all flex justify-between items-center
                                                                ${j?`${E.activeBg} text-black ${E.activeBorder} shadow-lg`:"bg-slate-900/50 border-slate-700 hover:bg-slate-800 text-slate-300 hover:border-slate-500"}`},r.default.createElement("div",null,r.default.createElement("div",{className:"font-bold text-sm"},S.label),r.default.createElement("div",{className:`text-[10px] ${j?"text-black/70":"text-slate-500"}`},S.sub)),r.default.createElement("div",{className:"font-black text-base sm:text-lg"},S.price))})))))}))),i&&r.default.createElement("div",{className:"border-t border-slate-800 bg-gradient-to-r from-green-900/30 to-emerald-900/30 p-3 sm:p-5 shrink-0 animate-slide-up"},r.default.createElement("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 max-w-4xl mx-auto"},r.default.createElement("div",{className:"text-center sm:text-left"},r.default.createElement("p",{className:"text-white text-sm sm:text-base font-bold"},i.emoji," ",i.plan,"  ",r.default.createElement("span",{className:"text-green-400"},i.cycle)),r.default.createElement("p",{className:"text-slate-400 text-xs"},i.sub,"  ",i.price)),r.default.createElement("a",{href:`https://wa.me/5493425906300?text=${encodeURIComponent(`Hola! Quiero contratar el *${i.plan}* con pago *${i.cycle}* (${i.price}). Cmo sigo?`)}`,target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto px-6 py-3 bg-green-500 hover:bg-green-400 text-black font-black text-sm sm:text-base rounded-xl transition shadow-lg shadow-green-500/30 flex items-center justify-center gap-2"},r.default.createElement(ci,{className:"w-5 h-5 fill-current"})," Confirmar por WhatsApp")))))},rD=({onBack:t})=>r.default.createElement("div",{className:"min-h-screen bg-black flex items-center justify-center p-4 animate-fade-in"},r.default.createElement("div",{className:"text-center max-w-md"},r.default.createElement("div",{className:"w-20 h-20 bg-red-900/20 text-red-500 rounded-full flex items-center justify-center mx-auto mb-6 border border-red-900/50"},r.default.createElement(Tn,{className:"w-10 h-10"})),r.default.createElement("h1",{className:"text-3xl font-black text-white mb-2"},"ACCESO DENEGADO"),r.default.createElement("p",{className:"text-slate-500 mb-8"},"No tienes los permisos necesarios para acceder al Panel de Administracin."),r.default.createElement("button",{onClick:t,className:"px-8 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-xl font-bold transition flex items-center gap-2 mx-auto border border-slate-700"},r.default.createElement(ws,{className:"w-4 h-4"})," Volver a la Tienda"))),ES=document.getElementById("root");if(!ES)throw new Error("No se encontr el contenedor #root");var sD=(0,yS.createRoot)(ES);sD.render(r.default.createElement(Zx,null,r.default.createElement(tD,null)));
/*! Bundled license information:

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/logger/dist/esm/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/logger/dist/esm/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/logger/dist/esm/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
@firebase/component/dist/esm/index.esm2017.js:
@firebase/app/dist/esm/index.esm2017.js:
@firebase/app/dist/esm/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/component/dist/esm/index.esm2017.js:
@firebase/component/dist/esm/index.esm2017.js:
@firebase/component/dist/esm/index.esm2017.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/util/dist/index.esm2017.js:
@firebase/component/dist/esm/index.esm2017.js:
@firebase/component/dist/esm/index.esm2017.js:
@firebase/component/dist/esm/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
firebase/app/dist/esm/index.esm.js:
@firebase/util/dist/index.esm2017.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/util/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/util/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm2017/index-68602d24.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm2017/index-68602d24.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm2017/index-68602d24.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm2017/index-68602d24.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm2017/index-68602d24.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/webchannel-wrapper/dist/bloom-blob/esm/bloom_blob_es2018.js:
@firebase/webchannel-wrapper/dist/webchannel-blob/esm/webchannel_blob_es2018.js:
  (** @license
  Copyright The Closure Library Authors.
  SPDX-License-Identifier: Apache-2.0
  *)
  (** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  *)

@firebase/firestore/dist/index.esm2017.js:
  (**
  * @license
  * Copyright 2020 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2018 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2024 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2024 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2024 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
*/
//# sourceMappingURL=app.js.map

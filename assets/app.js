import e,{useState as v,useEffect as X,useRef as je,useMemo as ea,useCallback as St,Suspense as yl,lazy as qo}from"react";import{createRoot as kl}from"react-dom/client";import{ShoppingBag as gt,X as ue,User as xt,Search as ms,Zap as Be,CheckCircle as Q,MessageCircle as At,Instagram as Ta,Minus as hs,Heart as Da,Tag as ga,Plus as Ie,Trash2 as de,Edit as $t,AlertTriangle as jt,RefreshCw as mo,LogOut as po,Mail as Sl,CreditCard as ft,Menu as uo,Home as $l,Info as ht,FileQuestion as ps,Users as xa,Package as Re,LayoutDashboard as Pl,Settings as bo,Ticket as Pt,Truck as et,Wallet as go,FileText as us,ArrowRight as Oa,ArrowLeft as ot,DollarSign as ja,ChevronRight as Il,TrendingUp as bs,TrendingDown as gs,Briefcase as Fo,Save as It,AlertCircle as Lt,Phone as xo,MapPin as fo,Copy as El,ExternalLink as ho,Shield as Le,ShoppingCart as Xt,Play as vo,FolderPlus as fa,Eye as vs,EyeOff as Al,Clock as xs,Calendar as Tl,Gift as jl,Lock as Ye,Loader2 as Et,Star as ta,Percent as Ll,Sparkles as Tt,Flame as wo,Image as aa,Filter as Dl,ChevronDown as Ol,Store as sa,BarChart as Ml,Globe as fs,Headphones as No,Palette as yo,Share2 as ko,Cog as Co,Facebook as So,Twitter as $o,Youtube as Po,Bell as Io,Music as Eo,Building as Ao,Banknote as To,UserPlus as jo,Maximize2 as Go,Sun as _l,Moon as zl,Upload as Lo,ChevronLeft as Ul,HelpCircle as Bl,Lightbulb as ql}from"lucide-react";import{initializeApp as Fl}from"firebase/app";import{getAuth as Gl,signInAnonymously as Vl,onAuthStateChanged as Do,signInWithCustomToken as Oo,signInWithEmailAndPassword as Mo,createUserWithEmailAndPassword as Hl}from"firebase/auth";import{getFirestore as Wl,collection as se,addDoc as ze,onSnapshot as Pe,query as _o,updateDoc as oe,doc as A,deleteDoc as Ke,where as Jl,writeBatch as Kl,getDoc as tt,increment as Zt,setDoc as at,orderBy as zo,limit as Uo,startAfter as Yl}from"firebase/firestore";var Cl=qo(()=>import("./SustIABot-K3BFNV27.js")),Ei=qo(()=>import("./AdminPanel-O4M56LSA.js")),Ql={apiKey:"AIzaSyAfllte-D_I3h3TwBaiSL4KVfWrCSVh9ro",authDomain:"sustore-63266.firebaseapp.com",projectId:"sustore-63266",storageBucket:"sustore-63266.firebasestorage.app",messagingSenderId:"684651914850",appId:"1:684651914850:web:f3df09e5caf6e50e9e533b",measurementId:"G-X3K7XGYPRD"},Vo=Fl(Ql),R=Gl(Vo),k=Wl(Vo),Rt="sustore-63266-prod",Bo="3.0.0",La=null;async function Xl(){return La||(La=(async()=>{try{let m=await fetch("/api/checkout?action=public_config",{method:"GET"});if(!m.ok)return null;let b=await m.json().catch(()=>({}));return String(b?.mpPublicKey||"").trim()||null}catch{return null}})(),La)}var Zl=()=>{if(typeof window>"u"||typeof document>"u"||window.__smoothWheelScrollEnabled||(window.__smoothWheelScrollEnabled=!0,typeof window.matchMedia=="function"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches))return;let b=()=>document.scrollingElement||document.documentElement,y=new WeakMap,S=(T,B,j)=>Math.min(j,Math.max(B,T)),$=T=>Math.max(0,T.scrollHeight-T.clientHeight),U=T=>{if(!T||!(T instanceof Element))return!1;let j=window.getComputedStyle(T).overflowY;return j==="hidden"||j==="visible"?!1:T.scrollHeight>T.clientHeight+1},M=T=>{let B=T;for(;B&&B instanceof Element&&B!==document.body&&B!==document.documentElement;){if(U(B))return B;B=B.parentElement}return null},O=T=>{let B=y.get(T);if(B)return B;let j={rafId:null,velocity:0,lastTs:0};return y.set(T,j),j},_=(T,B)=>{let j=O(T);j.lastTs||(j.lastTs=B);let xe=Math.min(48,B-j.lastTs);j.lastTs=B;let o=Math.pow(.86,xe/16.67),ce=T.scrollTop,d=S(ce+j.velocity*(xe/16.67),0,$(T));if(T.scrollTop=d,(d===0||d===$(T))&&(j.velocity*=.5),j.velocity*=o,Math.abs(j.velocity)<.1){j.rafId=null,j.velocity=0,j.lastTs=0;return}j.rafId=window.requestAnimationFrame(ee=>_(T,ee))},W=T=>{if(T.defaultPrevented||T.ctrlKey||T.metaKey||T.shiftKey)return;let B=T.target instanceof Element?T.target:null,j=B&&M(B)||b(),xe=T.deltaX,K=T.deltaY;if(Math.abs(xe)>Math.abs(K)||!Number.isFinite(K)||Math.abs(K)<.01)return;T.preventDefault(),T.deltaMode===1?K*=40:T.deltaMode===2&&(K*=window.innerHeight);let o=O(j),ce=.9;o.velocity+=K*ce,o.velocity=S(o.velocity,-4500,4500),o.rafId===null&&(o.rafId=window.requestAnimationFrame(d=>_(j,d)))},Z=()=>{let T=b(),B=O(T);B.velocity=S(B.velocity,-4500,4500)};document.addEventListener("wheel",W,{passive:!1,capture:!0}),window.addEventListener("resize",Z,{passive:!0})};try{Zl()}catch{}var Rl=["bGF1dGFyb2NvcmF6emE2M0BnbWFpbC5jb20="],re=(()=>{try{return atob(Rl[0])}catch{return""}})(),Ho={sessionToken:null,loginAttempts:{},maxAttempts:5,lockoutTime:3e5,integrityChecks:{},_generateSalt(){let m="tienda_secure_2024",b=Math.floor(Date.now()/864e5);return m+"_"+b},async hashPassword(m){let b=new TextEncoder,y=this._generateSalt(),S=b.encode(m+y),$=await crypto.subtle.digest("SHA-256",S);return Array.from(new Uint8Array($)).map(M=>M.toString(16).padStart(2,"0")).join("")},async verifyPassword(m,b){return await this.hashPassword(m)===b},canAttemptLogin(m){let b=this._hashKey(m.toLowerCase()),y=Date.now(),S=this.loginAttempts[b];return S&&S.lockedUntil>y?{allowed:!1,remainingTime:Math.ceil((S.lockedUntil-y)/1e3)}:(S&&S.lockedUntil&&S.lockedUntil<y&&delete this.loginAttempts[b],{allowed:!0})},_hashKey(m){let b=0;for(let y=0;y<m.length;y++){let S=m.charCodeAt(y);b=(b<<5)-b+S,b=b&b}return"k_"+Math.abs(b).toString(36)},recordFailedAttempt(m){let b=this._hashKey(m.toLowerCase());this.loginAttempts[b]||(this.loginAttempts[b]={count:0,firstAttempt:Date.now()}),this.loginAttempts[b].count++,this.loginAttempts[b].count>=this.maxAttempts&&(this.loginAttempts[b].lockedUntil=Date.now()+this.lockoutTime,console.warn("[Security] Account locked - too many failed attempts"))},clearAttempts(m){let b=this._hashKey(m.toLowerCase());delete this.loginAttempts[b]},generateSessionToken(m){let b={uid:m,iat:Date.now(),exp:Date.now()+864e5,nonce:crypto.getRandomValues(new Uint32Array(1))[0].toString(36)},y=btoa(JSON.stringify(b)),S=this._signToken(y),$=y+"."+S;return this.sessionToken=$,sessionStorage.setItem("_st",$),$},_signToken(m){let b=0,S=m+"tienda_secret_key_2024";for(let $=0;$<S.length;$++)b=(b<<5)-b+S.charCodeAt($),b=b&b;return Math.abs(b).toString(36)},verifySession(){let m=sessionStorage.getItem("_st");if(!m||m!==this.sessionToken)return!1;try{let[b]=m.split("."),y=JSON.parse(atob(b));return y.exp&&y.exp<Date.now()?(this.invalidateSession(),!1):!0}catch{return!1}},invalidateSession(){this.sessionToken=null,sessionStorage.removeItem("_st"),localStorage.removeItem("sustore_user_data")},detectManipulation(){let m=localStorage.getItem("sustore_user_data");if(m)try{let b=JSON.parse(m);if(!b.id||b.id.length<10||!b.email||!b.email.includes("@"))return console.warn("[Security] Invalid session data detected"),localStorage.removeItem("sustore_user_data"),!0;if(b.role==="admin"&&!this._validateAdminClaim(b))return console.warn("[Security] Admin role manipulation detected"),b.role="user",localStorage.setItem("sustore_user_data",JSON.stringify(b)),!0}catch{return localStorage.removeItem("sustore_user_data"),!0}return!1},_validateAdminClaim(m){return m.email===re?!0:m._adminVerified===!0},sanitizeInput(m){return typeof m!="string"?m:m.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;").replace(/javascript:/gi,"").replace(/on\w+=/gi,"")},isValidEmail(m){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m)&&m.length<=254},isStrongPassword(m){return m.length>=8&&/[A-Z]/.test(m)&&/[a-z]/.test(m)&&/[0-9]/.test(m)},async secureCompare(m,b){if(typeof m!="string"||typeof b!="string")return!1;let y=new TextEncoder,S=y.encode(m),$=y.encode(b);if(S.length!==$.length)return!1;let U=0;for(let M=0;M<S.length;M++)U|=S[M]^$[M];return U===0},protectConsole(){if(window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1")){let m=()=>{};["log","debug","info","table","dir"].forEach(b=>{console[b]=m})}},detectDevTools(){setInterval(()=>{let y=window.outerWidth-window.innerWidth>160,S=window.outerHeight-window.innerHeight>160},5e3)},init(){this.detectManipulation(),this.protectConsole(),this.detectDevTools(),Object.defineProperty(window,"SUPER_ADMIN_EMAIL",{get:()=>{},configurable:!1})}};Ho.init();var st={storeName:"Tienda Online",primaryColor:"#f97316",currency:"$",ticket:{brandName:"",whatsappLink:"",siteUrl:""},admins:re,team:[{email:re,role:"admin",name:"Administrador"}],sellerEmail:"",instagramUser:"",instagramLink:"",whatsappLink:"",showWhatsapp:!1,showFloatingWhatsapp:!1,showCartWhatsappCheckout:!1,showInstagram:!1,paymentTransfer:{enabled:!1,holderName:"",alias:"",cbu:""},paymentCash:!1,paymentMercadoPago:{enabled:!1},logoUrl:"",heroUrl:"",showHomeBannerCarousel:!0,homeBannerAutoplayMs:5e3,markupPercentage:0,announcementMessage:"",categories:["General"],aboutUsText:"Bienvenido a nuestra tienda. Ofrecemos productos de calidad con envío a todo el país.",seoTitle:"",seoDescription:"Tu tienda online de confianza. Calidad y vanguardia en cada producto. Envíos a todo el país.",seoKeywords:"tienda online, productos, comprar, envíos",seoAuthor:"",seoUrl:"",seoImage:"",loadingTitle:"",loadingText:"Cargando sistema..."};var ei=({settingsLoaded:m,banners:b,fallbackUrl:y,autoplayMs:S,darkMode:$,onBannerClick:U})=>{let M=ea(()=>Array.isArray(b)?b.filter(d=>d&&d.enabled!==!1&&typeof d.imageUrl=="string"&&d.imageUrl.trim().length>0):[],[b]),[O,_]=v(0),[W,Z]=v(!1);X(()=>{O>=M.length&&_(0)},[O,M.length]);let T=Number(S),B=m&&!W&&M.length>1&&Number.isFinite(T)&&T>=1500;X(()=>{if(!B)return;let d=setInterval(()=>{_(ee=>(ee+1)%M.length)},T);return()=>clearInterval(d)},[B,M.length,T]),X(()=>{if(M.length<=1)return;let d=M[(O+1)%M.length];if(!d?.imageUrl)return;let ee=new Image;ee.src=d.imageUrl},[M,O]);let j=.85,xe=`w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105 ${$?"":"saturate-110 contrast-110"}`,K=()=>{_(d=>{let ee=d-1;return ee<0?M.length-1:ee})},o=()=>{_(d=>(d+1)%M.length)};if(!m)return e.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-800 to-slate-900 animate-pulse"});if(M.length===0)return y?e.createElement("img",{src:y,alt:"Banner",style:{opacity:j},className:`absolute inset-0 w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105 ${$?"":"saturate-110 contrast-110"}`}):e.createElement("div",{className:`absolute inset-0 opacity-60 ${$?"bg-gradient-to-br from-orange-900/40 via-[#0a0a0a] to-slate-900/40":"bg-gradient-to-br from-orange-200/60 via-white to-slate-200/60"}`},e.createElement("div",{className:`absolute inset-0 bg-[url('/noise.svg')] ${$?"opacity-20":"opacity-10"}`}));let ce=d=>{let ee=d?.targetType||(d?.promoId?"promo":d?.productId?"product":"none"),be=d?.targetId||d?.promoId||d?.productId||"";return ee!=="none"&&!!be};return e.createElement("div",{className:"absolute inset-0 overflow-hidden z-[2]",onMouseEnter:()=>Z(!0),onMouseLeave:()=>Z(!1)},e.createElement("div",{className:"h-full w-full flex transition-transform duration-700 ease-in-out",style:{transform:`translate3d(-${O*100}%, 0, 0)`,willChange:"transform"}},M.map((d,ee)=>{let be=ce(d);return e.createElement("div",{key:d.id||`${ee}-${d.targetId||d.productId||d.promoId||"slide"}`,className:`w-full h-full flex-shrink-0 relative ${be?"cursor-pointer":""}`,onClick:()=>be&&U?.(d)},e.createElement("img",{src:d.imageUrl,alt:"Banner",style:{opacity:j},className:xe}))})),M.length>1&&e.createElement(e.Fragment,null,e.createElement("button",{type:"button",className:`absolute left-2 sm:left-3 top-1/3 sm:top-1/2 -translate-y-1/2 z-20 w-8 h-8 sm:w-10 sm:h-10 rounded-full transition-all duration-200 flex items-center justify-center pointer-events-auto sm:opacity-0 sm:group-hover:opacity-100 ${$?"bg-black/40 sm:bg-black/50 hover:bg-black/70 text-white/70 hover:text-white":"bg-white/40 sm:bg-white/50 hover:bg-white/70 text-slate-700 hover:text-slate-900"}`,onClick:d=>{d.stopPropagation(),K()},"aria-label":"Banner anterior"},e.createElement(ot,{className:"w-4 h-4 sm:w-5 sm:h-5"})),e.createElement("button",{type:"button",className:`absolute right-2 sm:right-3 top-1/3 sm:top-1/2 -translate-y-1/2 z-20 w-8 h-8 sm:w-10 sm:h-10 rounded-full transition-all duration-200 flex items-center justify-center pointer-events-auto sm:opacity-0 sm:group-hover:opacity-100 ${$?"bg-black/40 sm:bg-black/50 hover:bg-black/70 text-white/70 hover:text-white":"bg-white/40 sm:bg-white/50 hover:bg-white/70 text-slate-700 hover:text-slate-900"}`,onClick:d=>{d.stopPropagation(),o()},"aria-label":"Banner siguiente"},e.createElement(Oa,{className:"w-4 h-4 sm:w-5 sm:h-5"})),e.createElement("div",{className:"absolute bottom-2 sm:bottom-3 inset-x-0 z-20 flex items-center justify-center gap-1.5 pointer-events-auto",onClick:d=>d.stopPropagation()},M.map((d,ee)=>e.createElement("button",{key:`dot-${ee}`,type:"button","aria-label":`Ir al banner ${ee+1}`,className:`rounded-full transition-all duration-300 ${ee===O?"w-6 h-2 bg-white shadow-lg":"w-2 h-2 bg-white/40 hover:bg-white/60"}`,onClick:()=>_(ee)})))))},ti=({message:m,type:b,onClose:y})=>{let S="fixed top-24 right-4 z-[9999] flex items-center gap-4 p-5 rounded-2xl border-l-4 backdrop-blur-xl animate-fade-up shadow-2xl transition-all duration-300",$="p-2 rounded-full",U=ht;return b==="success"?(S+=" border-green-500 text-green-400 bg-black/90 shadow-[0_0_20px_rgba(34,197,94,0.3)]",$+=" bg-green-500/20",U=Q):b==="error"?(S+=" border-red-500 text-red-400 bg-black/90 shadow-[0_0_20px_rgba(239,68,68,0.3)]",$+=" bg-red-500/20",U=Lt):b==="warning"?(S+=" border-yellow-500 text-yellow-400 bg-black/90 shadow-[0_0_20px_rgba(234,179,8,0.3)]",$+=" bg-yellow-500/20",U=jt):(S+=" border-orange-500 text-orange-400 bg-black/90 shadow-[0_0_20px_rgba(249,115,22,0.3)]",$+=" bg-orange-500/20",U=ht),X(()=>{let M=setTimeout(y,4e3);return()=>clearTimeout(M)},[y]),e.createElement("div",{className:S},e.createElement("div",{className:$},e.createElement(U,{className:"w-5 h-5"})),e.createElement("div",null,e.createElement("p",{className:"font-bold text-sm tracking-wide"},m)),e.createElement("button",{onClick:y,className:"ml-2 text-white/50 hover:text-white transition"},e.createElement(ue,{className:"w-4 h-4"})))},ai=({isOpen:m,title:b,message:y,onConfirm:S,onCancel:$,confirmText:U="Confirmar",cancelText:M="Cancelar",isDangerous:O=!1,darkMode:_=!0})=>m?e.createElement("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/90 backdrop-blur-md animate-fade-up p-4"},e.createElement("div",{className:`p-8 rounded-[2rem] max-w-sm w-full border transition-all duration-300 ${_?"bg-[#0a0a0a] border-slate-800 shadow-2xl":"bg-white border-slate-200 shadow-xl"} ${O&&_?"border-red-500/50 shadow-[0_0_30px_rgba(220,38,38,0.2)]":O?"border-red-200 shadow-red-100":""}`},e.createElement("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-6 mx-auto transition-colors duration-300 ${O?"bg-red-500/20 text-red-500":_?"bg-orange-900/20 text-orange-500":"bg-orange-50 text-orange-600"}`},O?e.createElement(jt,{className:"w-8 h-8"}):e.createElement(ht,{className:"w-8 h-8"})),e.createElement("h3",{className:`text-xl font-black text-center mb-2 transition-colors duration-300 ${_?"text-white":"text-slate-900"}`},b),e.createElement("p",{className:`text-center mb-8 text-sm leading-relaxed transition-colors duration-300 ${_?"text-slate-400":"text-slate-500"}`},y),e.createElement("div",{className:"flex gap-3"},e.createElement("button",{onClick:$,className:`flex-1 py-3 rounded-xl font-bold transition ${_?"bg-slate-800 hover:bg-slate-700 text-slate-300":"bg-slate-100 hover:bg-slate-200 text-slate-600"}`},M),e.createElement("button",{onClick:S,className:`flex-1 py-3 text-white rounded-xl font-bold transition shadow-lg ${O?"bg-red-600 hover:bg-red-500 shadow-red-600/30":"bg-orange-600 hover:bg-orange-500 shadow-orange-600/30"}`},U)))):null,ws=class extends e.Component{constructor(b){super(b),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(b){return{hasError:!0}}componentDidCatch(b,y){this.setState({error:b,errorInfo:y}),console.error("Uncaught error:",b,y)}render(){return this.state.hasError?e.createElement("div",{className:"min-h-screen bg-black text-red-500 p-10 font-mono"},e.createElement("h1",{className:"text-4xl font-bold mb-4"},"CRITICAL SYSTEM FAILURE"),e.createElement("div",{className:"border border-red-900 bg-red-900/10 p-6 rounded-xl overflow-auto"},e.createElement("h2",{className:"text-xl font-bold mb-2"},this.state.error?.toString()),e.createElement("pre",{className:"text-xs text-red-400/70 whitespace-pre-wrap"},this.state.errorInfo?.componentStack)),e.createElement("button",{onClick:()=>window.location.reload(),className:"mt-8 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-500 font-bold"},"REINICIAR SISTEMA")):this.props.children}},si=({product:m,onAdd:b,darkMode:y})=>{let[S,$]=v(1),[U,M]=v(!1),O=Z=>{Z.stopPropagation(),b(m,S),M(!0),setTimeout(()=>M(!1),2e3),$(1)},_=S>=m.stock,W=S<=1;return e.createElement("div",{className:"flex flex-col items-end gap-2",onClick:Z=>Z.stopPropagation()},e.createElement("div",{className:`flex items-center rounded-lg ${y?"bg-zinc-800":"bg-slate-100"} p-0.5 border ${y?"border-zinc-700":"border-slate-200"}`},e.createElement("button",{onClick:Z=>{Z.stopPropagation(),$(Math.max(1,S-1))},disabled:W,className:`w-7 h-7 flex items-center justify-center rounded-md transition ${W?"opacity-30 cursor-not-allowed":y?"hover:bg-zinc-700 text-white":"hover:bg-slate-200 text-slate-700"}`},e.createElement(hs,{className:"w-3 h-3"})),e.createElement("span",{className:`w-8 text-center text-xs font-bold font-mono ${y?"text-white":"text-slate-900"}`},S),e.createElement("button",{onClick:Z=>{Z.stopPropagation(),$(Math.min(m.stock,S+1))},disabled:_,className:`w-7 h-7 flex items-center justify-center rounded-md transition ${_?"opacity-30 cursor-not-allowed":y?"hover:bg-zinc-700 text-white":"hover:bg-slate-200 text-slate-700"}`},e.createElement(Ie,{className:"w-3 h-3"}))),e.createElement("button",{onClick:O,className:`w-full py-1.5 px-3 rounded-xl transition-all duration-300 shadow-md flex items-center justify-center gap-1.5 active:scale-95 ${U?"bg-green-500 text-white shadow-green-500/30":y?"bg-white text-black hover:bg-orange-400 hover:text-black shadow-white/10":"bg-orange-500 text-white hover:bg-orange-600 shadow-orange-500/20"}`},U?e.createElement(Q,{className:"w-4 h-4"}):e.createElement(e.Fragment,null,e.createElement(Ie,{className:"w-5 h-5 md:w-4 md:h-4"}))))},oi=e.memo(({p:m,settings:b,currentUser:y,toggleFavorite:S,setSelectedProduct:$,manageCart:U,calculateItemPrice:M,darkMode:O})=>{let _=O?"bg-[#0a0a0a]":"bg-white",W=O?"border-slate-800/50":"border-slate-200",Z=O?"hover:border-orange-500/50":"hover:border-orange-400",T=O?"hover:shadow-[0_0_30px_rgba(249,115,22,0.1)]":"shadow-sm hover:shadow-xl hover:shadow-orange-200/50",B=O?"bg-gradient-to-b from-slate-900 to-[#0a0a0a]":"bg-gradient-to-b from-slate-100 to-white",j=O?"text-white":"text-slate-900",xe=O?"text-slate-400":"text-slate-600",K=O?"bg-[#0a0a0a]":"bg-white",o=O?"border-slate-800/50":"border-slate-200";return e.createElement("div",{className:`${_} rounded-2xl sm:rounded-3xl border ${W} overflow-hidden group ${Z} ${T} transition duration-500 relative flex flex-col h-full animate-fade-in content-visibility-auto contain-content`},e.createElement("div",{className:`h-56 sm:h-80 ${B} m-2 sm:m-3 p-2 sm:p-3 flex items-center justify-center relative overflow-hidden cursor-zoom-in transition-all duration-500`,onClick:()=>$(m)},e.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-orange-500/5 to-transparent opacity-0 group-hover:opacity-100 transition duration-500"}),m.image?e.createElement("div",{className:"w-full h-full flex items-center justify-center overflow-hidden"},e.createElement("img",{src:m.image,loading:"lazy",decoding:"async",onError:ce=>{ce.target.style.display="none",ce.target.parentElement.nextSibling.style.display="flex"},className:`max-w-full max-h-full rounded-xl sm:rounded-2xl border-2 ${O?"border-orange-500/20":"border-slate-100"} shadow-lg z-10 transition-transform duration-700 group-hover:scale-105 ${m.stock<=0?"grayscale opacity-50":""}`})):null,e.createElement("button",{onClick:ce=>{ce.stopPropagation(),$(m)},className:`absolute bottom-2 right-2 sm:bottom-4 sm:right-4 z-30 ${O?"bg-black/60 border-white/20":"bg-white/90 border-slate-200"} backdrop-blur-md p-2 sm:p-3 rounded-full ${O?"text-white":"text-slate-700"} border md:hidden`},e.createElement(Go,{className:"w-4 h-4 sm:w-5 sm:h-5"})),e.createElement("div",{className:"hidden w-full h-full flex items-center justify-center z-0 absolute inset-0",style:{display:m.image?"none":"flex"}},e.createElement("div",{className:`flex flex-col items-center justify-center ${O?"text-slate-700":"text-slate-400"}`},e.createElement(aa,{className:"w-12 h-12 sm:w-16 sm:h-16 mb-2 opacity-50"}),e.createElement("span",{className:"text-[10px] sm:text-xs font-bold uppercase tracking-widest opacity-50"},"Sin Imagen"))),m.stock<=0&&e.createElement("div",{className:`absolute inset-0 z-30 flex items-center justify-center ${O?"bg-black/40":"bg-white/60"} backdrop-blur-[2px]`},e.createElement("div",{className:"border-4 border-red-500 p-2 sm:p-4 -rotate-12 bg-black/80 shadow-[0_0_30px_rgba(239,68,68,0.5)] transform scale-90 sm:scale-110"},e.createElement("span",{className:"text-red-500 font-black text-lg sm:text-2xl md:text-3xl tracking-[0.15em] sm:tracking-[0.2em] uppercase"},"AGOTADO"))),m.isFeatured&&m.stock>0&&e.createElement("div",{className:"absolute top-0 left-0 bg-gradient-to-r from-yellow-500 to-orange-500 text-black text-[9px] sm:text-[10px] font-black px-2 sm:px-4 py-1 sm:py-1.5 rounded-br-xl sm:rounded-br-2xl uppercase tracking-wider z-20 shadow-lg flex items-center gap-1"},e.createElement(ta,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 fill-current"})," Destacado"),m.discount>0&&m.stock>0&&!m.isFeatured&&e.createElement("span",{className:"absolute top-2 left-2 sm:top-4 sm:left-4 bg-red-600 text-white text-[9px] sm:text-[10px] font-black px-2 sm:px-3 py-1 sm:py-1.5 rounded-lg shadow-lg z-20 shadow-red-600/20"},"-",m.discount,"% OFF"),m.discount>0&&m.stock>0&&m.isFeatured&&e.createElement("span",{className:"absolute top-8 sm:top-10 left-0 bg-red-600 text-white text-[9px] sm:text-[10px] font-black px-2 sm:px-3 py-0.5 sm:py-1 rounded-r-lg shadow-lg z-20"},"-",m.discount,"% OFF"),e.createElement("button",{onClick:ce=>{ce.stopPropagation(),S(m)},className:`absolute top-2 right-2 sm:top-4 sm:right-4 p-2 sm:p-3 rounded-full z-20 transition shadow-lg backdrop-blur-sm border ${y?.favorites?.includes(m.id)?"bg-red-500 text-white border-red-500 shadow-red-500/30":O?"bg-white/10 text-slate-300 border-white/10 hover:bg-white hover:text-red-500":"bg-slate-100 text-slate-500 border-slate-200 hover:bg-red-50 hover:text-red-500 hover:border-red-200"}`},e.createElement(Da,{className:`w-4 h-4 sm:w-5 sm:h-5 ${y?.favorites?.includes(m.id)?"fill-current":""}`}))),e.createElement("div",{className:`p-3 sm:p-4 flex-1 flex flex-col relative z-10 ${K}`},e.createElement("div",{className:"flex justify-between items-start mb-2 sm:mb-3"},e.createElement("p",{className:`text-[9px] sm:text-[10px] text-orange-500 font-black uppercase tracking-widest ${O?"border-orange-900/30 bg-orange-900/10":"border-orange-200 bg-orange-50"} border px-1.5 sm:px-2 py-0.5 sm:py-1 rounded`},Array.isArray(m.categories)&&m.categories.length>0?m.categories[0]:m.category||"Sin categoría"),b?.showStockCount!==!1&&m.stock>0&&m.stock<=(b?.lowStockThreshold||5)?e.createElement("span",{className:"text-[9px] sm:text-[10px] text-red-500 font-bold flex items-center gap-1"},e.createElement(Lt,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})," Últimos ",m.stock):null),e.createElement("h3",{className:`${j} font-bold text-sm sm:text-base leading-tight mb-2 sm:mb-4 group-hover:text-orange-600 transition line-clamp-2 min-h-[2rem] sm:min-h-[2.5rem]`},m.name),e.createElement("div",{className:`mt-auto pt-2 sm:pt-4 border-t ${o} flex items-end justify-between`},e.createElement("div",{className:"flex flex-col"},m.discount>0&&e.createElement("span",{className:`text-[10px] sm:text-xs ${xe} line-through font-medium mb-0.5 sm:mb-1`},"$",m.basePrice.toLocaleString()),e.createElement("span",{className:`text-lg sm:text-2xl font-black ${j} tracking-tight flex items-center gap-1`},"$",M(m.basePrice,m.discount).toLocaleString())),m.stock>0&&e.createElement("div",{className:"flex items-center gap-2",onClick:ce=>ce.stopPropagation()},e.createElement(si,{product:m,onAdd:(ce,d)=>U(ce,d),darkMode:O})))))},(m,b)=>m.p.id===b.p.id&&m.p.stock===b.p.stock&&m.p.basePrice===b.p.basePrice&&m.p.name===b.p.name&&m.p.image===b.p.image&&m.currentUser?.favorites?.includes(m.p.id)===b.currentUser?.favorites?.includes(b.p.id));var ri=({isOpen:m,onClose:b,categories:y,onAdd:S,onRemove:$,darkMode:U=!0})=>{let[M,O]=e.useState("");return m?e.createElement("div",{className:"fixed inset-0 z-[10010] flex items-center justify-center bg-black/90 backdrop-blur-md animate-fade-in p-4",onClick:b},e.createElement("div",{className:`p-8 rounded-[2rem] max-w-md w-full relative border transition-all duration-300 ${U?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200 shadow-xl"}`,onClick:W=>W.stopPropagation()},e.createElement("button",{onClick:b,className:`absolute top-4 right-4 transition ${U?"text-slate-500 hover:text-white":"text-slate-400 hover:text-slate-900"}`},e.createElement(ue,{className:"w-6 h-6"})),e.createElement("h3",{className:`text-2xl font-bold mb-6 flex items-center gap-2 transition-colors duration-300 ${U?"text-white":"text-slate-900"}`},e.createElement(fa,{className:"w-6 h-6 text-orange-400"})," Gestionar Categorías"),e.createElement("form",{onSubmit:W=>{W.preventDefault(),M.trim()&&(S(M.trim()),O(""))},className:"flex gap-2 mb-6"},e.createElement("input",{className:`flex-1 p-3 rounded-xl border transition-all duration-300 ${U?"bg-slate-900 border-slate-700 text-white focus:border-orange-500 outline-none":"bg-slate-50 border-slate-200 text-slate-900 focus:border-orange-500 outline-none"}`,placeholder:"Nueva categoría...",value:M,onChange:W=>O(W.target.value),autoFocus:!0}),e.createElement("button",{type:"submit",className:"bg-orange-600 hover:bg-orange-500 text-white p-3 rounded-xl font-bold transition shadow-lg shadow-orange-600/20"},e.createElement(Ie,{className:"w-5 h-5"}))),e.createElement("div",{className:"space-y-2 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar"},y.map((W,Z)=>e.createElement("div",{key:Z,className:`flex items-center justify-between p-3 rounded-xl border group transition-all duration-300 ${U?"bg-slate-900/50 border-slate-800 hover:border-slate-700":"bg-slate-50 border-slate-100 hover:border-slate-200"}`},e.createElement("span",{className:`font-medium transition-colors duration-300 ${U?"text-slate-300":"text-slate-700"}`},W),e.createElement("button",{onClick:()=>$(W),className:`transition opacity-0 group-hover:opacity-100 ${U?"text-slate-600 hover:text-red-500":"text-slate-400 hover:text-red-600"}`},e.createElement(de,{className:"w-4 h-4"})))),y.length===0&&e.createElement("p",{className:`text-center italic py-4 transition-colors duration-300 ${U?"text-slate-600":"text-slate-400"}`},"No hay categorías definidas")))):null},li={dashboard:{title:"Inicio (Panel de Control)",color:"orange",description:"Tu centro de comando. Acá ves el resumen completo de tu tienda en tiempo real: ventas, ingresos, rentabilidad, tendencias y métricas clave para tomar decisiones inteligentes.",sections:[{title:"Lo que podés ver",icon:"eye",bullets:["Ingresos Brutos: el total de dinero que entró por ventas, con gráfico de barras de los últimos 6 meses.","Beneficio Neto Estimado: ingresos menos gastos y compras, con comparativa visual Ingresos vs Gastos por mes.","KPIs rápidos: Usuarios Totales, Pedidos Totales, Ticket Promedio y cantidad de productos con Stock Bajo.","Producto Estrella: el más vendido con unidades vendidas y stock actual.","Menos Vendido (En Stock): producto con menor rotación para que puedas hacer promos o descuentos.","Registro de Movimientos: tabla tipo libro mayor con fecha, tipo, concepto, estado y monto de cada transacción."]},{title:"Lo que podés hacer",icon:"zap",bullets:["Registrar Venta Manual: para pedidos fuera del checkout (mostrador, WhatsApp, en persona). Seleccionás productos, cantidades y método de pago.","Ver detalle de métricas: hacé clic en las tarjetas para expandir información.","Comparar meses: usá las barras de rendimiento mensual para detectar tendencias de crecimiento o baja.","Identificar productos de baja rotación para armar promos o ajustar precios."]},{title:"Consejo",icon:"tip",bullets:["Revisá este panel al menos una vez al día para estar al tanto de nuevos pedidos, stock bajo y la salud financiera de tu tienda."]}]},orders:{title:"Pedidos",color:"green",description:"Acá gestionás todos los pedidos que entran a tu tienda. Podés ver el detalle completo, cambiar estados, finalizar entregas y mantener todo organizado.",sections:[{title:"Lo que podés ver",icon:"eye",bullets:["Lista de pedidos con número de orden (#ID), estado (Pendiente / Realizado), nombre del cliente, fecha/hora y monto total.","Vista previa de los productos del pedido (imágenes circulares apiladas).","Detalle completo: productos con cantidades, datos del cliente (nombre, dirección, teléfono), método de pago y totales.","Paginación para navegar entre páginas de pedidos anteriores."]},{title:"Lo que podés hacer",icon:"zap",bullets:["Ver Detalle (ícono de ojo): abre el pedido completo con toda la info del cliente y los productos.",'Finalizar Pedido (ícono de tilde verde): marca como "Realizado" cuando ya fue entregado y pagado.',"Eliminar Pedido (ícono de papelera rojo): borra pedidos inválidos, duplicados o de prueba.",'Notificación de pedidos: activa/mutea el sonido de alerta cuando entra un nuevo pedido. Dice "Activa" o "Muteada".','Navegar páginas: usá "Anterior" y "Siguiente" para recorrer el historial completo.']},{title:"Consejo",icon:"tip",bullets:["Dejá las notificaciones activas durante el horario de atención para no perderte ningún pedido nuevo."]}]},products:{title:"Productos",color:"blue",description:"El inventario completo de tu tienda. Desde acá creás, editás, organizás por categorías y controlás el stock y la visibilidad de cada producto.",sections:[{title:"Lo que podés ver",icon:"eye",bullets:["Contador de productos: cuántos tenés vs. el límite de tu plan (ej: 12/30). Si estás cerca del límite, aparece advertencia amarilla.","Lista de productos con imagen, nombre, precio de venta, stock actual y estado (activo/inactivo).","Banner de advertencia si hay productos desactivados (por límite de plan o manualmente).","Formulario expandido con todos los campos al crear o editar."]},{title:"Lo que podés hacer",icon:"zap",bullets:["Agregar Producto: cargá nombre, precio de venta, precio de compra (costo), stock, categorías (múltiples), imagen, descuento (%) y descripción.","Categorías: creá, editá, reordená y eliminá categorías. Un producto puede pertenecer a varias.","Editar producto: modificá cualquier campo de un producto existente.","Activar/Desactivar: un producto desactivado no aparece en la tienda. Usá el ícono de ojo para cambiar visibilidad.","Eliminar producto: borralo definitivamente del catálogo.","Subir imagen: seleccioná desde tu dispositivo, se comprime automáticamente."]},{title:"Límites de plan",icon:"lock",bullets:["Emprendedor: hasta 30 productos. Negocio: hasta 50. Premium: ilimitados.","Si superás el límite al bajar de plan, los productos excedentes se desactivan automáticamente."]}]},promos:{title:"Promos",color:"purple",description:"Creá combos y promociones atractivas armando paquetes de productos con un precio especial. Ideal para aumentar el ticket promedio y mover stock.",sections:[{title:"Lo que podés ver",icon:"eye",bullets:["Lista de promos activas con nombre, imagen, precio del combo y productos incluidos.","Costo real del combo (suma de precios base) vs. precio de venta para calcular si conviene.","Formulario de creación/edición con vista previa de los productos incluidos."]},{title:"Lo que podés hacer",icon:"zap",bullets:["Crear Nueva Promo: poné nombre, precio final, imagen y descripción.","Armar el combo: agregá productos del catálogo con la cantidad deseada. Podés mezclar varios productos.","Ver costo real: el sistema calcula automáticamente cuánto cuestan los productos incluidos.","Editar promo: modificá nombre, precio, productos o imagen de una promo existente.","Eliminar promo: borrá combos viejos o que ya no quieras ofrecer."]},{title:"Límites de plan",icon:"lock",bullets:["Emprendedor: hasta 1 promo activa. Negocio y Premium: promos ilimitadas."]}]},carousel:{title:"Carrusel de Banners",color:"cyan",description:"Personalizá los banners rotativos del home de tu tienda. Mostrá ofertas, productos destacados o promos con imágenes atractivas que rotan automáticamente.",sections:[{title:"Lo que podés ver",icon:"eye",bullets:["Toggle de activación: encendé o apagá el carrusel. Si está apagado, se muestra la imagen Hero tradicional.","Velocidad de rotación: tiempo en segundos entre cada slide.","Lista de slides existentes con imagen, orden, estado (habilitado/deshabilitado) y destino al hacer clic.","Vista previa del producto o promo vinculada a cada slide."]},{title:"Lo que podés hacer",icon:"zap",bullets:['Activar/Desactivar el carrusel completo con el toggle "Mostrar carrusel".',"Configurar velocidad: cambiá el tiempo de rotación automática en segundos.","Agregar slide: subí una imagen, elegí la acción al hacer clic (solo mostrar, abrir producto o abrir promo), definí el orden y si está habilitado.","Vincular a producto o promo: al hacer clic en el banner, se abre directamente el producto o promo que elegiste.","Ordenar slides: usá el campo de orden (0 = primero, 1 = segundo, etc.).","Habilitar/Deshabilitar slides individuales sin eliminarlos.","Eliminar slides que ya no necesites."]},{title:"Requisitos",icon:"lock",bullets:["Disponible desde el Plan Negocio. Con Plan Emprendedor el carrusel aparece bloqueado con opción para mejorar tu plan."]}]},coupons:{title:"Cupones de Descuento",color:"pink",description:"Creá cupones de descuento por porcentaje o monto fijo para tus clientes. Configuralos con límites de uso, vencimiento y restricciones.",sections:[{title:"Lo que podés ver",icon:"eye",bullets:["Lista de cupones creados con código, tipo de descuento, valor, estado y cantidad de usos.","Formulario completo de creación con todos los campos configurables.","Indicador de cupón vencido o agotado."]},{title:"Lo que podés hacer",icon:"zap",bullets:["Crear cupón: definí código en mayúsculas (ej: VERANO2024), elegí tipo Porcentaje (%) o Fijo ($) y el valor.","Mínimo de compra: opcionalmente, exigí un monto mínimo para poder usar el cupón.","Límite de usos: definí cuántas veces se puede usar en total.","Fecha de vencimiento: poné una fecha límite de validez.","Público o privado: elegí si cualquiera puede usarlo o solo un email específico.","Copiar código: usá el botón de copiar para compartir rápido por WhatsApp o Instagram.","Eliminar cupones vencidos o que ya no quieras ofrecer."]},{title:"Requisitos",icon:"lock",bullets:["Disponible desde el Plan Negocio. Con Plan Emprendedor el panel aparece bloqueado con acceso a ver planes."]}]},suppliers:{title:"Proveedores",color:"emerald",description:"Organizá tu red de proveedores con toda su información de contacto y vinculalos a los productos que te abastecen. Todo centralizado en un solo lugar.",sections:[{title:"Lo que podés ver",icon:"eye",bullets:["Lista de proveedores con nombre, contacto, teléfono, Instagram, dirección y CUIT.","Productos asociados a cada proveedor para saber qué comprás a quién.","Modal de creación/edición con todos los campos."]},{title:"Lo que podés hacer",icon:"zap",bullets:["Nuevo Proveedor: cargá nombre, persona de contacto, teléfono, Instagram, dirección y CUIT/datos fiscales.","Asociar productos: vinculá productos del catálogo al proveedor para referencia rápida.","Editar proveedor: actualizá cualquier dato cuando cambie contacto, dirección o datos fiscales.","Eliminar proveedor: borrá proveedores con los que ya no trabajás."]},{title:"Consejo",icon:"tip",bullets:["Mantené actualizados los datos de contacto y asociá siempre los productos. Así cuando necesites reponer stock, sabés exactamente a quién llamar."]}]},purchases:{title:"Compras / Stock",color:"amber",description:"Registrá las reposiciones de stock y llevá un historial completo de compras a proveedores. El sistema ajusta el stock automáticamente al guardar.",sections:[{title:"Lo que podés ver",icon:"eye",bullets:["Formulario de nueva compra con selector de producto, cantidad, proveedor y costo.","Historial completo de compras pasadas con fecha, producto, cantidad, proveedor y costo total.","Stock actual del producto seleccionado antes de registrar la reposición."]},{title:"Lo que podés hacer",icon:"zap",bullets:["Registrar reposición: elegí el producto, poné la cantidad comprada y seleccioná el proveedor.","Costo estimado: el sistema calcula automáticamente basándose en el precio de compra del producto.","Ajuste automático de stock: al guardar, el stock se incrementa con la cantidad comprada.","Ver historial: revisá todas las compras pasadas ordenadas por fecha.","Editar compra: modificá una compra registrada (puede ajustar el stock automáticamente).","Eliminar compra: borrá registros erróneos."]},{title:"Consejo",icon:"tip",bullets:["Registrá cada reposición apenas la recibas para que el stock siempre esté actualizado y no vendas sin disponibilidad."]}]},finance:{title:"Finanzas y Capital",color:"green",description:"El centro financiero de tu negocio. Registrá inversiones, gastos y visualizá la distribución automática de ganancias entre socios según el capital aportado.",sections:[{title:"Lo que podés ver",icon:"eye",bullets:["Formulario de inversión/aporte con selector de socio, monto, fecha y notas.","Formulario de gasto/egreso con descripción, monto y categoría (General, Servicios, Impuestos, Mantenimiento, Marketing, Sueldos, Otros).","Historial de Inversiones: lista cronológica de aportes con inversor, fecha, notas y monto.","Historial de Gastos: lista cronológica con descripción, categoría, fecha y monto.","Distribución de Ganancias: tabla automática con cada socio, capital aportado, % de participación y ganancia estimada.","Barra visual de distribución proporcional entre socios con colores distintos."]},{title:"Lo que podés hacer",icon:"zap",bullets:['Registrar Inversión/Aporte: elegí el socio (o "Otro/Externo"), poné monto, fecha y notas opcionales.',"Registrar Gasto/Egreso: cargá descripción, monto y categoría. La fecha se registra automáticamente.","Eliminar inversiones o gastos erróneos desde el historial (ícono de papelera).","Ver distribución de ganancias: se calcula automáticamente según el % de inversión de cada socio sobre el beneficio neto."]},{title:"Consejo",icon:"tip",bullets:["Cargá todos los gastos recurrentes (internet, alquiler, servicios) para que el beneficio neto sea realista. La distribución es tan precisa como los datos que cargues."]}]},users:{title:"Gestión de Usuarios",color:"pink",description:"Control total sobre las cuentas de tu tienda. Buscá, filtrá por rol, gestioná perfiles, editá permisos y auditá la actividad de cada usuario incluyendo su carrito en vivo.",sections:[{title:"Lo que podés ver",icon:"eye",bullets:["Tabla de usuarios con avatar, nombre, email, ID corto y fecha de registro.","Actividad y estadísticas: cantidad de favoritos y pedidos realizados por cada usuario.","Rol actual (Admin o Usuario) con badge visual.","Carrito en vivo: qué tiene cada usuario en su carrito en ese momento.","Filtros rápidos por rol: Todos, Admin, Usuario."]},{title:"Lo que podés hacer",icon:"zap",bullets:["Buscar usuarios: usá la barra para encontrar por nombre o email.",'Filtrar por rol: seleccioná "Admin" o "Usuario" para ver solo un tipo.',"Ver Carrito en Vivo: auditá qué tiene un usuario en su carrito actual (útil para soporte y reclamos).","Editar Perfil (ícono de lápiz): modificá datos del usuario como nombre, imagen o permisos.","Seguridad y Acceso (ícono de candado): gestioná contraseña y acceso del usuario.","Los usuarios verificados tienen un check naranja junto a su nombre."]},{title:"Requisitos",icon:"lock",bullets:["Las estadísticas de actividad (favoritos, pedidos, carrito en vivo) requieren Plan Negocio o superior. Con Plan Emprendedor esa sección aparece borrosa."]}]},settings:{title:"Configuración",color:"slate",description:"La configuración avanzada de tu tienda. Desde acá se ajustan todos los parámetros técnicos, de apariencia, pagos, envíos y más. Administrada por el desarrollador.",sections:[{title:"Sub-secciones disponibles",icon:"eye",bullets:["Tienda: nombre, logo, descripción y datos generales de tu negocio.","Apariencia: colores, tema visual y personalización del diseño.","Redes Sociales: links a Instagram, Facebook, TikTok y otras redes.","Pagos: configuración de Mercado Pago, transferencia bancaria y pago en efectivo.","Ticket: personalización del comprobante/ticket de compra.","Envíos: métodos de envío, costos y zonas de cobertura.","SEO: meta tags, título, descripción para buscadores y redes sociales.","Avanzado: configuraciones técnicas del sistema.","Equipo: gestión de miembros del equipo (socios, editores)."]},{title:"Importante",icon:"lock",bullets:["Esta sección está reservada para el desarrollador de la plataforma.","Si necesitás cambios en la configuración, contactá al desarrollador con los detalles.","No modifiques valores sin entender el impacto, ya que puede afectar el funcionamiento de la tienda."]}]}};function Ue({guideKey:m}){let[b,y]=v(!1),S=li[m];if(!S)return null;let $={orange:{border:"border-orange-500/30",bg:"bg-orange-500/10",text:"text-orange-400",dot:"bg-orange-500",glow:"shadow-orange-500/20"},green:{border:"border-green-500/30",bg:"bg-green-500/10",text:"text-green-400",dot:"bg-green-500",glow:"shadow-green-500/20"},blue:{border:"border-blue-500/30",bg:"bg-blue-500/10",text:"text-blue-400",dot:"bg-blue-500",glow:"shadow-blue-500/20"},purple:{border:"border-purple-500/30",bg:"bg-purple-500/10",text:"text-purple-400",dot:"bg-purple-500",glow:"shadow-purple-500/20"},cyan:{border:"border-cyan-500/30",bg:"bg-cyan-500/10",text:"text-cyan-400",dot:"bg-cyan-500",glow:"shadow-cyan-500/20"},pink:{border:"border-pink-500/30",bg:"bg-pink-500/10",text:"text-pink-400",dot:"bg-pink-500",glow:"shadow-pink-500/20"},emerald:{border:"border-emerald-500/30",bg:"bg-emerald-500/10",text:"text-emerald-400",dot:"bg-emerald-500",glow:"shadow-emerald-500/20"},amber:{border:"border-amber-500/30",bg:"bg-amber-500/10",text:"text-amber-400",dot:"bg-amber-500",glow:"shadow-amber-500/20"},slate:{border:"border-slate-500/30",bg:"bg-slate-500/10",text:"text-slate-400",dot:"bg-slate-500",glow:"shadow-slate-500/20"}},U=$[S.color]||$.orange,M={eye:{Icon:vs,color:"text-blue-400",bg:"bg-blue-500/10"},zap:{Icon:Be,color:"text-yellow-400",bg:"bg-yellow-500/10"},tip:{Icon:ql,color:"text-green-400",bg:"bg-green-500/10"},lock:{Icon:Ye,color:"text-red-400",bg:"bg-red-500/10"}};return e.createElement(e.Fragment,null,e.createElement("button",{onClick:()=>y(!0),className:`px-4 py-2.5 rounded-xl ${U.bg} hover:brightness-125 ${U.text} border ${U.border} transition-all duration-200 flex items-center gap-2 font-black text-[10px] uppercase tracking-widest hover:shadow-lg ${U.glow} group`,type:"button"},e.createElement(Bl,{className:"w-4 h-4 group-hover:rotate-12 transition-transform"}),"Cómo usar"),b&&e.createElement("div",{className:"fixed inset-0 z-[20050] bg-black/90 backdrop-blur-md flex items-center justify-center p-4 animate-fade-in",onClick:()=>y(!1),role:"dialog","aria-modal":"true"},e.createElement("div",{className:`w-full max-w-2xl max-h-[90vh] flex flex-col bg-[#0a0a0a] border ${U.border} rounded-[2rem] shadow-2xl overflow-hidden animate-fade-up`,onClick:O=>O.stopPropagation()},e.createElement("div",{className:"relative p-6 md:p-8 border-b border-slate-800/50 overflow-hidden flex-shrink-0"},e.createElement("div",{className:`absolute inset-0 ${U.bg} opacity-30`}),e.createElement("div",{className:"absolute top-0 right-0 w-40 h-40 rounded-full blur-3xl opacity-10",style:{background:"radial-gradient(circle, var(--tw-gradient-stops))"}}),e.createElement("div",{className:"relative flex items-start justify-between gap-4"},e.createElement("div",{className:"flex-1"},e.createElement("div",{className:"flex items-center gap-2 mb-2"},e.createElement("span",{className:`w-2 h-2 rounded-full ${U.dot} animate-pulse`}),e.createElement("p",{className:`text-[10px] font-black uppercase tracking-widest ${U.text}`},"Guía Rápida")),e.createElement("h2",{className:"text-xl md:text-2xl font-black text-white mt-1 leading-tight"},S.title),e.createElement("p",{className:"text-slate-400 text-sm mt-3 leading-relaxed"},S.description)),e.createElement("button",{onClick:()=>y(!1),className:"p-2.5 rounded-xl bg-slate-900/80 hover:bg-slate-800 text-slate-400 hover:text-white border border-slate-700 transition-all hover:scale-105 flex-shrink-0",type:"button","aria-label":"Cerrar"},e.createElement(ue,{className:"w-5 h-5"})))),e.createElement("div",{className:"p-5 md:p-6 flex-1 min-h-0 overflow-y-auto custom-scrollbar space-y-4"},(S.sections||[]).map((O,_)=>{let W=M[O.icon]||M.eye;return e.createElement("div",{key:_,className:"bg-slate-900/40 border border-slate-800/60 rounded-2xl p-5 hover:border-slate-700 transition-colors"},e.createElement("div",{className:"flex items-center gap-3 mb-4"},e.createElement("div",{className:`w-8 h-8 rounded-lg ${W.bg} flex items-center justify-center flex-shrink-0`},e.createElement(W.Icon,{className:`w-4 h-4 ${W.color}`})),e.createElement("h3",{className:"text-white font-black text-sm"},O.title)),e.createElement("ul",{className:"space-y-2.5 ml-1"},(O.bullets||[]).map((Z,T)=>{let B=Z.split(":"),j=B.length>1&&B[0].length<40;return e.createElement("li",{key:T,className:"flex gap-3 text-[13px] leading-relaxed"},e.createElement("span",{className:`w-1.5 h-1.5 rounded-full ${U.dot} mt-[7px] flex-shrink-0 opacity-60`}),e.createElement("span",{className:"text-slate-300"},j?e.createElement(e.Fragment,null,e.createElement("span",{className:"text-white font-bold"},B[0],":"),B.slice(1).join(":")):Z))})))})),e.createElement("div",{className:"p-5 md:p-6 border-t border-slate-800/50 flex items-center justify-between gap-4 flex-shrink-0"},e.createElement("p",{className:"text-[10px] text-slate-600 font-mono uppercase tracking-wider hidden sm:block"},"Panel Admin v3.0"),e.createElement("button",{onClick:()=>y(!1),className:"px-6 py-3 rounded-xl bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 text-white font-black transition-all shadow-lg shadow-orange-600/20 hover:shadow-orange-500/30 hover:scale-[1.02] active:scale-[0.98]",type:"button"},"Entendido")))))}function ii(){let[m,b]=v("store"),[y,S]=v("dashboard"),[$,U]=v([]),[M,O]=v([]),[_,W]=v([]),[Z,T]=v({isOpen:!1,title:"",message:"",onConfirm:null}),[B,j]=v(!1),[xe,K]=v(!1),[o,ce]=v(()=>{try{let t=localStorage.getItem("sustore_dark_mode");return t!==null?JSON.parse(t):!1}catch{return!1}}),[d,ee]=v(null),[be,rt]=v({status:"resolving",hostname:"",normalizedHostname:"",storeId:null,error:null}),[Ma,Jo]=v(""),[_a,Dt]=v(!1),[Ns,ys]=v(!1),[ks,Cs]=v(!1),[h,Ne]=v(()=>{try{let t=localStorage.getItem("sustore_user_data");if(!t)return null;let s=JSON.parse(t);return!s||!s.id||!s.email||!s.name?(localStorage.removeItem("sustore_user_data"),null):s}catch{return localStorage.removeItem("sustore_user_data"),null}}),[le,Ko]=v(null),[Ss,he]=v(!0),[vt,oa]=v(!1),[Yo,$s]=v([]),[lt,Qo]=v(()=>{try{return localStorage.getItem("sustore_admin_order_alarm_muted")==="1"}catch{return!1}}),wt=je(null),ha=je(null),za=je(!1),Ps=je(!1),Is=je(null),[Xo,Zo]=v(!1),[I,Ro]=v([]),[it,Es]=v([]),[Ua,As]=v([]),[te,Ot]=v(()=>{try{let t=JSON.parse(localStorage.getItem("sustore_cart"));return Array.isArray(t)?t:[]}catch{return[]}}),Mt=je(!1),[Ts,js]=v([]),[me,va]=v([]),[Nt,Ba]=v([]),[_t,Ls]=v([]),[qa,Ds]=v([]),[a,x]=v(st),[ye,Os]=v(!1),[Fa,Ms]=v(""),[ve,zt]=v(""),ra=je(null),[_s,Ga]=v(!1),[er,tr]=v(0),[ar,sr]=v(0),or=t=>{Ga(!0),tr(t.pageX-ra.current.offsetLeft),sr(ra.current.scrollLeft)},rr=()=>{Ga(!1)},lr=()=>{Ga(!1)},ir=t=>{if(!_s)return;t.preventDefault();let r=(t.pageX-ra.current.offsetLeft-er)*2;ra.current.scrollLeft=ar-r},[F,Qe]=v({email:"",password:"",name:"",username:"",dni:"",phone:""}),[qe,nr]=v(!0),[Xe,wa]=v({description:"",amount:"",category:"General",date:new Date().toISOString().split("T")[0]}),[ke,Ut]=v({investor:"",amount:"",date:new Date().toISOString().split("T")[0],notes:""}),[pe,la]=v({productId:"",supplierId:"",quantity:1,cost:0,isNewProduct:!1}),[ie,yt]=v({imageUrl:"",targetType:"none",targetId:"",enabled:!0,order:0}),[ia,zs]=v(null),[ge,nt]=v({name:"",contact:"",phone:"",ig:"",address:"",cuit:"",associatedProducts:[]}),[Va,Ha]=v(null),[dr,Na]=v(!1),[Ce,na]=v([]),[Us,Bt]=v(!1),[J,qt]=v(null),Se=(t,s,r)=>{T({isOpen:!0,title:t,message:s,onConfirm:async()=>{await r(),T(l=>({...l,isOpen:!1}))},onCancel:()=>T(l=>({...l,isOpen:!1}))})},cr=(t,s)=>{let r=new Blob([JSON.stringify(s,null,2)],{type:"application/json;charset=utf-8"}),l=URL.createObjectURL(r),i=document.createElement("a");i.href=l,i.download=t,document.body.appendChild(i),i.click(),i.remove(),setTimeout(()=>URL.revokeObjectURL(l),1e3)},mr=async()=>{if(!d)throw new Error("Tienda no configurada");if(!R.currentUser||R.currentUser.isAnonymous)throw new Error("Sesión inválida");ys(!0);try{let t=await R.currentUser.getIdToken(),s=await fetch("/api/admin/export-store",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":d,Authorization:`Bearer ${t}`},body:JSON.stringify({})}),r=await s.json().catch(()=>({}));if(!s.ok)throw new Error(r.error||"No se pudo exportar");let l=new Date().toISOString().replace(/[:.]/g,"-");cr(`backup-${d}-${l}.json`,r),c("Backup exportado.","success")}catch(t){c(t?.message||"No se pudo exportar","error")}finally{ys(!1)}},pr=async t=>{if(!d)throw new Error("Tienda no configurada");if(!R.currentUser||R.currentUser.isAnonymous)throw new Error("Sesión inválida");Cs(!0);try{let s=await t.text(),r=JSON.parse(s),l=await R.currentUser.getIdToken(),i=await fetch("/api/admin/import-store",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":d,Authorization:`Bearer ${l}`},body:JSON.stringify({backup:r})}),n=await i.json().catch(()=>({}));if(!i.ok)throw new Error(n.error||"No se pudo importar");c(`Backup importado (${n.written||0} docs).`,"success")}catch(s){c(s?.message||"No se pudo importar","error")}finally{Cs(!1)}},Wa=t=>{switch(t){case"premium":return 1/0;case"business":return 50;default:return 30}},ur=t=>t==="business"||t==="premium",Ja=async t=>{let s=a?.subscriptionPlan||"entrepreneur",r=Wa(s),l=Wa(t);if(l>=r){x({...a,subscriptionPlan:t}),c(`¡Plan actualizado a ${t==="premium"?"Premium":t==="business"?"Negocio":"Emprendedor"}!`,"success");return}let i=I.filter(g=>g.isActive!==!1),n=[],u=[];if(i.length>l){let g=[...i].sort((p,f)=>{let C=me.filter(E=>E.items?.some(L=>L.productId===p.id)).length;return me.filter(E=>E.items?.some(L=>L.productId===f.id)).length-C});for(let p=l;p<g.length;p++)n.push(g[p])}if(!ur(t)){let g=_t.filter(p=>p.isActive!==!1);u.push(...g)}if(n.length>0||u.length>0){let g=`
                ${n.length>0?`• ${n.length} producto(s) serán desactivados (se conservan los ${l} más vendidos)
`:""}
                ${u.length>0?`• ${u.length} cupón(es) serán desactivados (el plan ${t==="entrepreneur"?"Emprendedor":""} no incluye cupones)
`:""}
                
                Los productos y cupones NO se eliminarán, solo se desactivarán. Podrás reactivarlos manualmente si mejoras tu plan.
            `;Se("⚠️ Cambio de Plan - Atención",g,async()=>{try{for(let p of n)await oe(A(k,"artifacts",d,"public","data","products",p.id),{isActive:!1,deactivatedByPlan:!0,deactivatedAt:new Date().toISOString()});for(let p of u)await oe(A(k,"artifacts",d,"public","data","coupons",p.id),{isActive:!1,deactivatedByPlan:!0,deactivatedAt:new Date().toISOString()});x({...a,subscriptionPlan:t}),Sr({showWarning:!0,deactivatedProducts:n.map(p=>p.id),deactivatedCoupons:u.map(p=>p.id),previousPlan:s,newPlan:t}),c(`Plan cambiado. ${n.length} producto(s) y ${u.length} cupón(es) fueron desactivados.`,"warning")}catch(p){console.error("Error al cambiar de plan:",p),c("Error al cambiar de plan","error")}})}else x({...a,subscriptionPlan:t}),c(`Plan actualizado a ${t==="premium"?"Premium":t==="business"?"Negocio":"Emprendedor"}`,"success")},br=async t=>{let s=a?.subscriptionPlan||"entrepreneur",r=Wa(s);if(I.filter(i=>i.isActive!==!1).length>=r){c(`Has alcanzado el límite de ${r} productos de tu plan. Mejora tu plan o desactiva otro producto primero.`,"warning");return}try{await oe(A(k,"artifacts",d,"public","data","products",t),{isActive:!0,deactivatedByPlan:!1,reactivatedAt:new Date().toISOString()}),c("Producto reactivado correctamente","success")}catch(i){console.error("Error al reactivar producto:",i),c("Error al reactivar producto","error")}},gr=async t=>{try{await oe(A(k,"artifacts",d,"public","data","products",t),{isActive:!1,deactivatedManually:!0,deactivatedAt:new Date().toISOString()}),c("Producto desactivado correctamente","success")}catch(s){console.error("Error al desactivar producto:",s),c("Error al desactivar producto","error")}},[P,De]=v({address:"",city:"",province:"",zipCode:"",paymentChoice:"",shippingMethod:"Pickup"}),[Ee,ya]=v(null),[xr,ka]=v(!1);X(()=>{if(P.shippingMethod==="Delivery"&&P.paymentChoice==="Efectivo"){c("Pago en efectivo solo disponible con Retiro en Local.","info");let t=a?.paymentTransfer?.enabled,s=a?.paymentMercadoPago?.enabled;De(r=>({...r,paymentChoice:t?"Transferencia":s?"Tarjeta":""}))}},[P.shippingMethod,a]);let[q,$e]=v({name:"",basePrice:"",stock:"",categories:[],image:"",description:"",discount:0,purchasePrice:""}),[Ca,Ka]=v(null),[fr,Sa]=v(!1),[Ae,hr]=v("store"),[ae,Oe]=v({name:"",price:"",image:"",description:"",items:[]}),[mi,pi]=v(""),[da,Bs]=v(""),[Ya,qs]=v(1),[Ft,Qa]=v(!1),[Fs,Xa]=v(null),[G,Fe]=v({code:"",type:"percentage",value:0,minPurchase:0,maxDiscount:0,expirationDate:"",targetType:"global",targetUser:"",usageLimit:"",perUserLimit:1,isActive:!0}),[dt,ca]=v(null),[ui,Gs]=v(""),[$a,Za]=v(""),[bi,gi]=v({email:"",role:"employee",name:""}),[vr,Vs]=v(null),[ma,xi]=v(20),[Pa,Hs]=v(null),[Gt,Ws]=v([]),[Ra,wr]=v(!0),[Js,Vt]=v(!1),[pa,Ks]=v(null),[fi,hi]=v(!1),[z,Ze]=v({productId:"",quantity:1,price:0,customerName:"Cliente Offline",paymentMethod:"Efectivo",notes:"Venta presencial"}),[es,Ys]=v(null),[ts,Qs]=v(null),[Xs,Zs]=v(null),[vi,Nr]=v(""),[Rs,yr]=v(""),[as,kr]=v("all"),[Cr,Ht]=v(!1),[wi,Ni]=v(null),[yi,Sr]=v({showWarning:!1,deactivatedProducts:[],deactivatedCoupons:[],previousPlan:null,newPlan:null}),[Ge,Wt]=v(null),[$r,Jt]=v(!1),[eo,Ve]=v(null),Me=je(!1),Pr=je(null),Ir=t=>{Ze({productId:t.id,quantity:1,price:Number(t.basePrice)||0,customerName:"Cliente Offline",paymentMethod:"Efectivo",notes:"Venta presencial"}),Vt(!0)},Er=async()=>{if(z.productId){if(z.quantity<=0){c("La cantidad debe ser mayor a 0","error");return}oa(!0);try{let t=A(k,"artifacts",d,"public","data","products",z.productId),s=await tt(t);if(!s.exists())throw new Error("Producto no encontrado");let r=Number(s.data().stock)||0;if(r<z.quantity){c(`Stock insuficiente. Solo quedan ${r} unidades.`,"error"),oa(!1);return}let l=z.quantity*z.price,i={orderId:Date.now().toString().slice(-6),date:new Date().toISOString(),status:"Realizado",source:"manual_sale",userId:"manual_admin",customer:{name:z.customerName||"Cliente Mostrador",email:"-",phone:"-",dni:"-"},items:[{id:z.productId,title:I.find(n=>n.id===z.productId)?.name||"Producto",quantity:z.quantity,unit_price:z.price,image:I.find(n=>n.id===z.productId)?.image||""}],total:l,paymentMethod:z.paymentMethod,notes:z.notes};await ze(se(k,"artifacts",d,"public","data","orders"),i),await oe(t,{stock:Zt(-z.quantity)}),c("Venta registrada exitosamente","success"),Vt(!1)}catch(t){console.error("Error en venta manual:",t),c("Error al registrar venta: "+t.message,"error")}finally{oa(!1)}}},ki=je(null),c=(t,s="info")=>{let r=Date.now();$s(l=>[...l.filter(n=>Date.now()-n.id<3e3),{id:r,message:t,type:s}])},Ar=t=>$s(s=>s.filter(r=>r.id!==t)),Tr=t=>{let s=t?.targetType||(t?.promoId?"promo":t?.productId?"product":"none"),r=t?.targetId||t?.promoId||t?.productId||"";if(!(!r||s==="none")){if(s==="product"){let l=I.find(i=>String(i.id).trim()===String(r).trim());if(l){qt(l);return}c("Este banner apunta a un producto que ya no existe.","warning"),document.getElementById("catalog")?.scrollIntoView({behavior:"smooth"});return}if(s==="promo"){let l=it.find(n=>String(n.id).trim()===String(r).trim());if(!l){c("Este banner apunta a una promo que ya no existe.","warning"),document.getElementById("catalog")?.scrollIntoView({behavior:"smooth"});return}let i=1/0;(l.items||[]).forEach(n=>{let u=I.find(f=>f.id===n.productId),g=u&&Number(u.stock)||0,p=Math.floor(g/(Number(n.quantity)||1));p<i&&(i=p)}),Number.isFinite(i)||(i=0),qt({...l,isPromo:!0,stock:i})}}},ua=t=>{if(!t)return"user";let s=t.trim().toLowerCase();if(s===re.toLowerCase())return"admin";if(h&&h.email&&h.email.trim().toLowerCase()===s&&h.role&&h.role!=="user")return h.role;if(!a||!ye)return"loading";let l=(a?.team||[]).find(i=>i.email&&i.email.trim().toLowerCase()===s);if(l)return l.role;if(Nt&&Nt.length>0){let i=Nt.find(n=>n.email&&n.email.trim().toLowerCase()===s);if(i&&i.role)return i.role}return"user"},ba=t=>ua(t)==="admin",jr=t=>ua(t)==="editor",Lr=t=>ua(t)==="loading",ss=t=>{let s=ua(t);return s==="loading"?!1:s==="admin"||s==="editor"||s==="employee"},we=ba(le?.email||h?.email),Dr=!!(le?.email&&re&&le.email.trim().toLowerCase()===re.trim().toLowerCase()),ct=ea(()=>{if(!we)return null;let t=me?.[0]?.date;return typeof t=="string"?t:null},[we,me]),to=typeof a?.ordersLastSeenIso=="string"?a.ordersLastSeenIso:null,os=!!(ct&&(!to||ct>to)),Or=St(()=>{Qo(t=>{let s=!t;try{localStorage.setItem("sustore_admin_order_alarm_muted",s?"1":"0")}catch{}return s})},[]),mt=St(async()=>{za.current=!1,ha.current&&(clearInterval(ha.current),ha.current=null);let t=wt.current;if(wt.current=null,t)try{await t.close()}catch{}},[]),Ia=St(async t=>{if(!we||!d)return;let s=typeof t=="string"&&t?t:new Date().toISOString();if(Is.current!==s){Is.current=s;try{await oe(A(k,"artifacts",d,"public","data","settings","config"),{ordersLastSeenIso:s})}catch{}}},[we,d]),ao=St(async()=>{if(!we||lt||za.current)return;let t=wt.current;if(!t||t.state==="closed")return;try{t.state==="suspended"&&await t.resume()}catch{return}let s=l=>{let i=t.createOscillator(),n=t.createGain();i.type="triangle",i.frequency.value=880,n.gain.setValueAtTime(1e-4,l),n.gain.exponentialRampToValueAtTime(.12,l+.01),n.gain.exponentialRampToValueAtTime(1e-4,l+.09),i.connect(n),n.connect(t.destination),i.start(l),i.stop(l+.1)},r=()=>{let l=t.currentTime;s(l),s(l+.18)};za.current=!0,r(),ha.current=setInterval(r,2e3)},[we,lt]);X(()=>{let t=typeof window<"u"&&window.location&&window.location.hostname?String(window.location.hostname).trim().toLowerCase():"",s=t.startsWith("www.")?t.slice(4):t;if(!s){rt({status:"unconfigured",hostname:t,normalizedHostname:s,storeId:null,error:"hostname-empty"}),ee(null);return}if(s==="localhost"||s==="127.0.0.1"){rt({status:"resolved",hostname:t,normalizedHostname:s,storeId:Rt,error:null}),ee(Rt);return}if(s.endsWith(".vercel.app")){rt({status:"resolved",hostname:t,normalizedHostname:s,storeId:Rt,error:null}),ee(Rt);return}rt({status:"resolving",hostname:t,normalizedHostname:s,storeId:null,error:null});let r=!1;return(async()=>{try{let i=await tt(A(k,"storesIndex",s));if(r)return;if(i.exists()){let n=i.data()||{},u=typeof n.storeId=="string"?n.storeId.trim():"";if(u){rt({status:"resolved",hostname:t,normalizedHostname:s,storeId:u,error:null}),ee(u);return}}rt({status:"unconfigured",hostname:t,normalizedHostname:s,storeId:null,error:null}),ee(null)}catch(i){if(r)return;rt({status:"unconfigured",hostname:t,normalizedHostname:s,storeId:null,error:i?.message||"resolve-error"}),ee(null)}})(),()=>{r=!0}},[]);let Mr=St(()=>{let s=(l=>String(l||"").trim().toLowerCase().replace(/[^a-z0-9-]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""))(be.normalizedHostname||be.hostname||"store"),r=typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID().split("-")[0]:Math.random().toString(36).slice(2,8);return`${s}-${r}`.slice(0,80)},[be.hostname,be.normalizedHostname]),so=St(async t=>{let s=new Date().toISOString();await at(A(k,"artifacts",t,"public","data","settings","config"),{...st,createdAt:s,updatedAt:s},{merge:!0}),await at(A(k,"artifacts",t,"public","config"),{version:Bo,updatedAt:s},{merge:!0})},[]),rs=St(async t=>{let s=be.normalizedHostname;if(!s)throw new Error("Dominio inválido");let r=String(t||"").trim();if(!r)throw new Error("StoreId inválido");let l=new Date().toISOString();await at(A(k,"storesIndex",s),{storeId:r,hostname:s,updatedAt:l,updatedBy:le?.email||null,createdAt:l},{merge:!0}),await so(r),ee(r),rt(i=>({...i,status:"resolved",storeId:r,error:null}))},[so,be.normalizedHostname,le?.email]);X(()=>{o?(document.documentElement.classList.add("dark-mode"),document.body.classList.add("dark-mode")):(document.documentElement.classList.remove("dark-mode"),document.body.classList.remove("dark-mode")),localStorage.setItem("sustore_dark_mode",JSON.stringify(o))},[o]),X(()=>{if(localStorage.setItem("sustore_cart",JSON.stringify(te)),d&&h&&h.id){let s=setTimeout(async()=>{try{await at(A(k,"artifacts",d,"public","data","carts",h.id),{userId:h.id,userName:h.name||"Usuario",items:te.map(r=>({productId:r.product.id,quantity:r.quantity,name:r.product.name,price:r.product.basePrice})),lastUpdated:new Date().toISOString()},{merge:!0})}catch(r){console.error("Error syncing cart",r)}},800);return()=>clearTimeout(s)}},[te,h,d]),X(()=>{if(!h?.id||!d||Mt.current)return;let t=!1;return(async()=>{try{let r=await tt(A(k,"artifacts",d,"public","data","carts",h.id));if(!r.exists()){Mt.current=!0;return}let l=r.data()||{},i=Array.isArray(l.items)?l.items:[];if(i.length===0){Mt.current=!0;return}let n=i.filter(u=>u&&u.productId&&Number(u.quantity)>0).map(u=>({product:{id:u.productId,name:typeof u.name=="string"?u.name:"",basePrice:Number(u.price)||0,image:"",category:""},quantity:Number(u.quantity)||1}));if(n.length===0){Mt.current=!0;return}t||(Ot(u=>u.length===0?n:u),Mt.current=!0)}catch{Mt.current=!0}})(),()=>{t=!0}},[d,h?.id]),X(()=>{if(!we){mt();return}typeof a?.ordersLastSeenIso!="string"&&ye&&me.length>0&&ct&&Ia(ct)},[we,ye,a?.ordersLastSeenIso,me.length,ct,Ia,mt]),X(()=>{if(!we||Ps.current)return;let t=window.AudioContext||window.webkitAudioContext;if(!t)return;let s=async()=>{try{wt.current||(wt.current=new t),wt.current?.state==="suspended"&&await wt.current.resume(),Zo(!0)}catch{}Ps.current=!0};return window.addEventListener("pointerdown",s,{once:!0,capture:!0}),()=>window.removeEventListener("pointerdown",s,!0)},[we]),X(()=>{if(!we){mt();return}if(lt){mt();return}os&&!(m==="admin"&&y==="orders")?ao():mt()},[we,lt,os,m,y,ao,mt,Xo]),X(()=>{we&&(m!=="admin"||y!=="orders"||ct&&(Ia(ct),mt()))},[we,m,y,ct,Ia,mt]),X(()=>{I.length>0&&te.length>0&&Ot(t=>{let s=!1,r=t.map(l=>{let i=I.find(n=>n.id===l.product.id);return i&&(i.basePrice!==(l.product?.basePrice??0)||i.name!==(l.product?.name??"")||i.image!==(l.product?.image??""))?(s=!0,{...l,product:{...i,basePrice:Number(i.basePrice)||0}}):l});return s?r:t})},[I]),X(()=>{if(!d)return;let t=A(k,"artifacts",d,"public","config"),s=Pe(t,r=>{if(r.exists()){let l=r.data();l.version&&l.version!==Bo&&(console.log(`Nueva versión detectada: ${l.version}. Actualizando...`),window.location.reload())}});return()=>s()},[d]),X(()=>{h&&h.id&&h.email&&h.name?(localStorage.setItem("sustore_user_data",JSON.stringify(h)),De(t=>({...t,address:h.address||t.address,city:h.city||t.city,province:h.province||t.province,zipCode:h.zipCode||t.zipCode}))):h||localStorage.removeItem("sustore_user_data")},[h]),X(()=>{let t=!1,s=!1,r=async()=>{if(!s){s=!0;try{typeof __initial_auth_token<"u"&&__initial_auth_token?await Oo(R,__initial_auth_token):await Vl(R)}catch(l){console.error("Error en bootstrap Auth:",l)}finally{s=!1}}};return Do(R,async l=>{if(Ko(l),!l){Ne(null),s||await r(),t||(t=!0),setTimeout(()=>he(!1),300);return}t||(t=!0),l.isAnonymous&&Ne(null),setTimeout(()=>he(!1),300)})},[]),X(()=>{if(!d||!le||le.isAnonymous)return;let t=!1;return(async()=>{try{let r=A(k,"artifacts",d,"public","data","users",le.uid),l=await tt(r);if(t)return;if(l.exists()){let i={id:l.id,...l.data()};i.role==="admin"&&(i._adminVerified=!0),Ne(i)}else Ne(null)}catch{t||Ne(null)}})(),()=>{t=!0}},[d,le?.uid,le?.isAnonymous]),X(()=>{if(a){let t=a.primaryColor||"#f97316",s=a.secondaryColor||"#8b5cf6",r=a.accentColor||"#22c55e",l=document.getElementById("dynamic-theme-styles");l||(l=document.createElement("style"),l.id="dynamic-theme-styles",document.head.appendChild(l)),l.textContent=`
                :root {
                    --color-primary: ${t};
                    --color-secondary: ${s};
                    --color-accent: ${r};
                }
                
                /* Primary color overrides */
                .text-orange-400, .text-orange-500 { color: ${t} !important; }
                .bg-orange-400, .bg-orange-500 { background-color: ${t} !important; }
                .bg-orange-900\\/10, .bg-orange-900\\/20 { background-color: ${t}1a !important; }
                .border-orange-500, .border-orange-500\\/20, .border-orange-500\\/30, .border-orange-500\\/50 { border-color: ${t} !important; }
                .hover\\:text-orange-400:hover { color: ${t} !important; }
                .hover\\:bg-orange-400:hover, .hover\\:bg-orange-500:hover { background-color: ${t} !important; }
                .hover\\:border-orange-500:hover, .hover\\:border-orange-500\\/30:hover, .hover\\:border-orange-500\\/50:hover { border-color: ${t} !important; }
                .focus-within\\:border-orange-500\\/50:focus-within { border-color: ${t}80 !important; }
                .from-orange-400 { --tw-gradient-from: ${t} !important; }
                .to-orange-500 { --tw-gradient-to: ${t} !important; }
                .shadow-orange-500\\/30, .shadow-orange-600\\/30 { --tw-shadow-color: ${t}4d !important; }
                .ring-orange-500 { --tw-ring-color: ${t} !important; }
                .selection\\:bg-orange-500\\/30 ::selection { background-color: ${t}4d !important; }
                .selection\\:text-orange-200 ::selection { color: ${t} !important; }
                
                /* Secondary color overrides */
                .text-purple-400, .text-purple-500 { color: ${s} !important; }
                .bg-purple-400, .bg-purple-500 { background-color: ${s} !important; }
                .bg-purple-900\\/10, .bg-purple-900\\/20 { background-color: ${s}1a !important; }
                .border-purple-500, .border-purple-500\\/20 { border-color: ${s} !important; }
                .hover\\:text-purple-400:hover { color: ${s} !important; }
                .from-purple-500, .from-purple-600 { --tw-gradient-from: ${s} !important; }
                
                /* Accent color overrides */
                .text-green-400, .text-green-500 { color: ${r} !important; }
                .bg-green-400, .bg-green-500, .bg-green-600 { background-color: ${r} !important; }
                .bg-green-900\\/10 { background-color: ${r}1a !important; }
                .border-green-500, .border-green-500\\/20, .border-green-500\\/30 { border-color: ${r} !important; }
                .hover\\:text-green-400:hover { color: ${r} !important; }
                .hover\\:bg-green-400:hover, .hover\\:bg-green-500:hover { background-color: ${r} !important; }
                .shadow-green-500\\/30, .shadow-green-600\\/30 { --tw-shadow-color: ${r}4d !important; }
                
                /* Neon text effect with primary color */
                .neon-text {
                    text-shadow: 0 0 10px ${t}40, 0 0 20px ${t}20, 0 0 30px ${t}10 !important;
                }
            `}},[a?.primaryColor,a?.secondaryColor,a?.accentColor]),X(()=>{let t=document.getElementById("light-mode-styles");if(t||(t=document.createElement("style"),t.id="light-mode-styles",document.head.appendChild(t)),m==="admin"){t.textContent="";return}o?t.textContent="":t.textContent=`
                /* Light Mode Overrides */
                body, .bg-\\[\\#050505\\], .bg-\\[\\#0a0a0a\\], .bg-\\[\\#080808\\], .bg-\\[\\#111\\], .bg-black {
                    background-color: #f8fafc !important;
                }
                .bg-\\[\\#1a1a1a\\], .bg-zinc-800 { background-color: #ffffff !important; }
                .hover\\:bg-zinc-700:hover { background-color: #e2e8f0 !important; }
                .bg-grid {
                    background-image: linear-gradient(rgba(0,0,0,0.03) 1px, transparent 1px),
                                      linear-gradient(90deg, rgba(0,0,0,0.03) 1px, transparent 1px) !important;
                }
                .text-white { color: #0f172a !important; }
                .text-white\\/50, .text-white\\/60, .text-white\\/70, .text-white\\/80 { color: #475569 !important; }
                .hover\\:text-white:hover { color: #0f172a !important; }
                .text-slate-200 { color: #334155 !important; }
                .text-slate-300, .text-slate-400, .text-slate-500, .text-slate-600 { color: #64748b !important; }
                .bg-slate-900, .bg-slate-900\\/50, .bg-slate-800 { background-color: #ffffff !important; }
                .bg-slate-900\\/30 { background-color: rgba(255,255,255,0.8) !important; }
                .border-slate-700, .border-slate-700\\/50, .border-slate-800, .border-slate-800\\/50, .border-slate-900 { 
                    border-color: #e2e8f0 !important; 
                }
                .border-white\\/5, .border-white\\/10, .border-white\\/20 { border-color: #e2e8f0 !important; }
                .fill-white { fill: #0f172a !important; }
                .stroke-white { stroke: #0f172a !important; }
                .glass {
                    background: rgba(255, 255, 255, 0.95) !important;
                    border-color: #e2e8f0 !important;
                }
                .input-cyber {
                    background-color: #f1f5f9 !important;
                    border-color: #e2e8f0 !important;
                    color: #0f172a !important;
                }
                .input-cyber::placeholder { color: #94a3b8 !important; }
                .input-cyber:focus { border-color: var(--color-primary, #f97316) !important; }
                
                /* Cards and containers */
                .rounded-\\[2rem\\], .rounded-\\[2\\.5rem\\], .rounded-\\[1\\.5rem\\] {
                    box-shadow: 0 4px 20px rgba(0,0,0,0.05) !important;
                }
                
                /* Footer */
                footer.bg-\\[\\#050505\\] { background-color: #0f172a !important; }
                footer.bg-\\[\\#050505\\] .bg-slate-900, 
                footer.bg-\\[\\#050505\\] .bg-slate-900\\/50,
                footer.bg-\\[\\#050505\\] .bg-slate-800 { background-color: rgba(255,255,255,0.06) !important; }
                footer.bg-\\[\\#050505\\] .border-slate-800 { border-color: rgba(255,255,255,0.10) !important; }
                footer .text-white { color: #ffffff !important; }
                footer .text-slate-500, footer .text-slate-400, footer .text-slate-600 { color: #94a3b8 !important; }
                
                /* Admin panel stays dark */
                [class*="admin"] .bg-\\[\\#050505\\] { background-color: #050505 !important; }
            `},[o,m]),X(()=>{if(!le||!d)return;let t=[],s=!1;return t.push(Pe(se(k,"artifacts",d,"public","data","products"),r=>{let l=r.docs.map(i=>{let n=i.data();return{id:i.id,...n,stock:Number(n.stock)||0}});Ro(l),te.length===0&&he(!1)},r=>{console.error("Error fetching products:",r),r?.code==="permission-denied"||String(r?.message||"").includes("permission")?(c("Error de permisos. Reiniciando sesión...","warning"),setTimeout(()=>{R.signOut().then(()=>window.location.reload())},2e3)):c("Error al cargar productos: "+(r?.message||"error"),"error")})),t.push(Pe(A(k,"artifacts",d,"public","data","settings","config"),r=>{if(r.exists()){let l=r.data(),i=l.team||st.team,n=l.teamRoles&&typeof l.teamRoles=="object"?l.teamRoles:Object.fromEntries((i||[]).filter(g=>g?.email&&g?.role).map(g=>[g.email.trim().toLowerCase(),g.role])),u={...st,...l,team:i,teamRoles:n,categories:l.categories||st.categories};x(u),Os(!0),Gs(l.aboutUsText||st.aboutUsText)}else x(st),Os(!0),Gs(st.aboutUsText)})),t.push(Pe(se(k,"artifacts",d,"public","data","promos"),r=>{Es(r.docs.map(l=>({id:l.id,...l.data()})))},r=>{console.error("Error fetching promos:",r),Es([])})),t.push(Pe(se(k,"artifacts",d,"public","data","homeBanners"),r=>{let l=r.docs.map(i=>({id:i.id,...i.data()}));l.sort((i,n)=>{let u=Number.isFinite(Number(i.order))?Number(i.order):0,g=Number.isFinite(Number(n.order))?Number(n.order):0;if(u!==g)return u-g;let p=typeof i.createdAt=="string"?i.createdAt:"",f=typeof n.createdAt=="string"?n.createdAt:"";return p.localeCompare(f)}),As(l)},r=>{console.error("Error fetching homeBanners:",r),As([])})),t.push(Pe(se(k,"artifacts",d,"public","data","coupons"),r=>{Ls(r.docs.map(l=>({id:l.id,...l.data()})))},r=>{console.error("Error fetching coupons:",r),Ls([])})),()=>{s=!0,t.forEach(r=>r())}},[le,d]),X(()=>{if(!le||!d)return;let t=le&&!le.isAnonymous,s=h?.role==="admin",r=m==="admin";if(!t){va([]);return}if(s&&!r){va([]);return}let l=se(k,"artifacts",d,"public","data","orders"),i;if(s){let n=[zo("date","desc"),Uo(ma)];Pa&&n.push(Yl(Pa)),i=_o(l,...n)}else i=_o(l,Jl("customerId","==",le.uid),zo("date","desc"),Uo(50));return Pe(i,n=>{let u=n.docs.map(g=>({id:g.id,...g.data()}));if(s&&wr(n.docs.length===ma),!s){let g=p=>{if(!p)return 0;if(typeof p?.toMillis=="function")return p.toMillis();let f=Date.parse(String(p));return Number.isFinite(f)?f:0};u.sort((p,f)=>g(f.date)-g(p.date))}va(u)},n=>{console.error("Orders Snapshot Error:",n),va([])})},[le,h?.role,d,m,ma,Pa]);let _r=()=>{if(!Ra||me.length===0)return;let t=me[me.length-1].id;tt(A(k,"artifacts",d,"public","data","orders",t)).then(s=>{s.exists()&&(Ws(r=>[...r,Pa]),Hs(s))})},zr=()=>{if(Gt.length===0)return;let t=Gt[Gt.length-1];Hs(t),Ws(s=>s.slice(0,-1))};X(()=>{if(!d)return;if(!(h?.role==="admin"&&m==="admin")){Ba([]),Ds([]),U([]),W([]),O([]),js([]);return}let r=[],l=g=>p=>{console.error(`[Admin] Error cargando ${g}:`,p?.code||p?.message||p)},i=async()=>{try{let g=await R.currentUser?.getIdToken();if(!g)return;let p=await fetch("/api/admin?action=list-users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`,"x-store-id":d||""},body:JSON.stringify({})});if(p.ok){let f=await p.json();Array.isArray(f.users)&&Ba(f.users)}}catch(g){console.error("[Admin] Fallback API list-users failed:",g)}},n=!1;r.push(Pe(se(k,"artifacts",d,"public","data","users"),g=>{n=!0;let p=g.docs.map(f=>({id:f.id,...f.data()}));Ba(p),p.length===0&&i()},g=>{console.error("[Admin] Error cargando users:",g?.code||g?.message||g),i()}));let u=setTimeout(()=>{n||i()},4e3);return r.push(Pe(se(k,"artifacts",d,"public","data","suppliers"),g=>{Ds(g.docs.map(p=>({id:p.id,...p.data()})))},l("suppliers"))),r.push(Pe(se(k,"artifacts",d,"public","data","expenses"),g=>{U(g.docs.map(p=>({id:p.id,...p.data()})))},l("expenses"))),r.push(Pe(se(k,"artifacts",d,"public","data","purchases"),g=>{W(g.docs.map(p=>({id:p.id,...p.data()})))},l("purchases"))),r.push(Pe(se(k,"artifacts",d,"public","data","investments"),g=>{O(g.docs.map(p=>({id:p.id,...p.data()})))},l("investments"))),r.push(Pe(se(k,"artifacts",d,"public","data","carts"),g=>{let p=g.docs.map(f=>({id:f.id,...f.data()})).filter(f=>f.items&&f.items.length>0);js(p)},l("carts"))),()=>{clearTimeout(u),r.forEach(g=>g())}},[h?.role,d,m]);let Ea=ea(()=>{let t=new Map;for(let s of I)t.set(String(s.id).trim(),s);return t},[I]),oo=je(null);X(()=>{if(!d||I.length===0||!h||te.length===0)return;let t=!1,s=[],r=te.filter(i=>{let n=String(i.product?.id||"").trim(),u=Ea.get(n);return u?u.isActive===!1?(t=!0,s.push(`${i.product?.name||"Producto"} (No disponible actualmente)`),!1):u.isPromo&&Array.isArray(u.items)&&!u.items.every(p=>{let f=String(p?.productId||"").trim(),C=Ea.get(f);return!!C&&C.isActive!==!1})?(t=!0,s.push(`${i.product?.name||"Promo"} (Componente inválido)`),!1):Number(u.stock)>0?!0:(t=!0,s.push(`${i.product?.name||"Producto"} (Sin Stock)`),!1):(t=!0,s.push(`${i.product?.name||"Producto"} (Producto eliminado)`),!1)}).map(i=>{let n=Ea.get(String(i.product?.id||"").trim());return n&&((i.product?.basePrice??0)!==n.basePrice||(i.product?.discount??0)!==n.discount)&&(t=!0),{...i,product:n||i.product}});if(!t)return;Ot(r);let l=JSON.stringify(r.map(i=>({id:String(i.product?.id||""),q:i.quantity,p:i.product?.basePrice,d:i.product?.discount})));oo.current!==l&&(oo.current=l,at(A(k,"artifacts",d,"public","data","carts",h.id),{userId:h.id,items:r},{merge:!0}),s.length>0&&c(`Tu carrito se actualizó: ${s.join(", ")}`,"info"))},[Ea,h?.id,te,d]);let ls=je(null);X(()=>{if(!d||!ye||!a)return;let t=JSON.stringify(a);if(ls.current===t)return;let s=setTimeout(async()=>{try{if(h?.role!=="admin"){ls.current=t;return}let w=A(k,"artifacts",d,"public","data","settings","config"),E=a?.team||st.team,L=a?.teamRoles&&typeof a.teamRoles=="object"?a.teamRoles:Object.fromEntries((E||[]).filter(Y=>Y?.email&&Y?.role).map(Y=>[Y.email.trim().toLowerCase(),Y.role])),H={...a,teamRoles:L};await at(w,H,{merge:!0}),ls.current=JSON.stringify(H),console.log("[AutoSave] Settings saved successfully.")}catch(w){console.error("[AutoSave] Error saving settings:",w)}},2e3),r=(w,E)=>{let L=document.querySelector(w);L&&E&&L.setAttribute("content",E)},l=(w,E)=>{let L=document.getElementById(w);L&&E&&L.setAttribute("content",E)},i=(w,E)=>{let L=document.getElementById(w);L&&E&&L.setAttribute("href",E)},n=a.seoTitle||(a.storeName?`${a.storeName} - Tienda Online`:"Tienda Online");document.title=n;let u=a.seoDescription||`${a.storeName||"Tienda"} - Tu tienda online de confianza.`;l("meta-description",u);let g=a.seoKeywords||`${a.storeName||"tienda"}, productos, comprar, envíos`;l("meta-keywords",g);let p=a.seoAuthor||a.storeName||"Tienda Online";l("meta-author",p),l("meta-apple-title",a.storeName||"Tienda"),a.primaryColor&&l("meta-theme-color",a.primaryColor),a.seoUrl&&i("link-canonical",a.seoUrl);let f=a.seoImage||a.logoUrl||a.heroUrl||"";l("og-title",n),l("og-description",u),l("og-site-name",a.storeName||"Tienda Online"),a.seoUrl&&l("og-url",a.seoUrl),f&&l("og-image",f),l("twitter-title",n),l("twitter-description",u),f&&l("twitter-image",f);let C=document.getElementById("dynamic-favicon")||document.querySelector("link[rel*='icon']");if(C)if(a.logoUrl){let w=new Image;w.crossOrigin="Anonymous",w.onload=()=>{try{let E=document.createElement("canvas");E.width=64,E.height=64;let L=E.getContext("2d");L.beginPath(),L.arc(32,32,32,0,Math.PI*2),L.closePath(),L.clip(),L.drawImage(w,0,0,64,64),C.href=E.toDataURL("image/png")}catch{C.href=a.logoUrl}},w.onerror=()=>{C.href=a.logoUrl},w.src=a.logoUrl}else C.href="/icon-192.png";return console.log("[SEO & AutoSave] Updated and Autosaved."),()=>clearTimeout(s)},[a,ye,h?.role]);let Ur=async t=>{he(!0);try{let s=String(F.email||"").trim().toLowerCase()===String(re||"").trim().toLowerCase(),r=String(window.location.hostname||"").trim().toLowerCase(),l=r==="localhost"||r==="127.0.0.1"||r==="::1";if(!d&&!s)throw new Error("Tienda no configurada para este dominio.");let i=d?["artifacts",d,"public","data","users"]:null,n=async p=>{if(!i)return null;let f=await tt(A(k,...i,p));return f.exists()?{id:f.id,...f.data()}:null},u=async p=>{if(!d)return;let f=await p.getIdToken(),C=await fetch("/api/auth/setup-profile",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":d||"",Authorization:`Bearer ${f}`},body:JSON.stringify({name:F.name,username:F.username,dni:F.dni,phone:F.phone})}),w=await C.json().catch(()=>({}));if(!C.ok)throw new Error(w.error||"Error al crear el perfil")},g=async p=>{if(!d)return;let f=await p.getIdToken();await fetch("/api/auth/claim-legacy-profile",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":d||"",Authorization:`Bearer ${f}`},body:JSON.stringify({})})};if(t){let p=F.email.trim().toLowerCase();if(!F.name||F.name.trim().length<3)throw new Error("El nombre es muy corto.");if(!F.username||F.username.trim().length<3)throw new Error("Debes elegir un nombre de usuario.");if(!p||!p.includes("@"))throw new Error("Email inválido.");if(!F.password||F.password.length<6)throw new Error("La contraseña debe tener al menos 6 caracteres.");if(!F.dni||F.dni.trim().length<6)throw new Error("Debes ingresar tu DNI (mínimo 6 dígitos).");if(!F.phone||F.phone.trim().length<8)throw new Error("Debes ingresar tu teléfono (mínimo 8 dígitos).");let f=await Hl(R,p,F.password),C={id:f.user.uid,name:F.name,email:p,emailLower:p,role:String(p).trim().toLowerCase()===String(re||"").trim().toLowerCase()?"admin":"user"};Ne(C),b("store"),Qe({email:"",password:"",name:"",username:"",dni:"",phone:""}),he(!1),c("¡Cuenta creada exitosamente! Bienvenido.","success"),(async()=>{try{await u(f.user);let w=await n(f.user.uid);if(!w)return;let E=String(w?.emailLower||w?.email||"").trim().toLowerCase(),L=String(re||"").trim().toLowerCase(),H=L&&E===L?{...w,role:"admin"}:w;Ne(H)}catch(w){console.error("Error setup profile (background):",w),c(w?.message||"Error al crear el perfil","error");try{await R.signOut()}catch{}try{await f.user.delete()}catch{}}})();return}else{let p=F.email.trim();if(!p)throw new Error("Ingresa tu email o usuario.");if(!F.password)throw new Error("Ingresa tu contraseña.");let f=p.toLowerCase(),C=null;if(!p.includes("@")){let w=await fetch("/api/auth/username-lookup",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":d||""},body:JSON.stringify({username:p})}),E=await w.json().catch(()=>({}));if(!w.ok)throw new Error("Usuario no encontrado.");f=String(E.email||"").toLowerCase()}try{C=(await Mo(R,f,F.password)).user}catch(w){let E=w?.code||"";if(E==="auth/user-not-found"||new Set(["auth/invalid-credential","auth/invalid-login-credentials"]).has(E)){let H=await fetch("/api/auth/legacy-login",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":d||""},body:JSON.stringify({identifier:p,password:F.password})}),Y=await H.text().catch(()=>""),ne={};try{ne=Y?JSON.parse(Y):{}}catch{ne={}}if(!H.ok||!ne?.token){if(H.status===401)throw/<html/i.test(Y)||/login\s*–\s*vercel/i.test(Y)||/vercel/i.test(Y)?new Error("Tu despliegue está respondiendo 401 (Vercel protegido). Desactivá Deployment Protection / Vercel Authentication o hacé el sitio público."):new Error("Credenciales incorrectas.");if(ne?.code==="firebase_admin_not_configured")throw new Error(ne.error||"Backend no configurado (Firebase Admin)");if(s){if(!l)throw new Error("El Super Admin no se inicializa desde Vercel. Crealo en Firebase Auth (Authentication > Users) o inicializalo en localhost.");let We=await fetch("/api/auth/bootstrap-super-admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f,password:F.password})});if(We.ok)C=(await Mo(R,f,F.password)).user;else{let Ct=await We.json().catch(()=>({}));throw new Error(Ct?.error||"No se pudo inicializar el Super Admin")}}if(!C)throw new Error(ne.error||"No se pudo recuperar tu cuenta legacy")}C=(await Oo(R,ne.token)).user}else throw E==="auth/wrong-password"?new Error("La contraseña es incorrecta."):E==="auth/too-many-requests"?new Error("Demasiados intentos fallidos. Intenta más tarde o restablece tu contraseña."):w}if(!C)throw new Error("Error al iniciar sesión");if(!i){let w=String(C.email||f).toLowerCase(),E=String(re||"").trim().toLowerCase();Ne({id:C.uid,name:C.displayName||"Usuario",email:C.email||f,emailLower:(C.email||f).toLowerCase(),role:E&&w===E?"admin":"user"}),c("Sesión iniciada. Vinculá el dominio para cargar la tienda.","success"),b("store"),Qe({email:"",password:"",name:"",username:"",dni:"",phone:""});return}Ne({id:C.uid,name:C.displayName||"Usuario",email:C.email||f,emailLower:(C.email||f).toLowerCase(),role:String(C.email||f).trim().toLowerCase()===String(re||"").trim().toLowerCase()?"admin":"user"}),b("store"),Qe({email:"",password:"",name:"",username:"",dni:"",phone:""}),he(!1),c("¡Hola de nuevo!","success"),(async()=>{try{let w=await n(C.uid);if(w||(await g(C),w=await n(C.uid)),!w){let Y={name:C.displayName||"Usuario",email:C.email||f,emailLower:(C.email||f).toLowerCase(),role:String(C.email||f).trim().toLowerCase()===String(re||"").trim().toLowerCase()?"admin":"user",createdAt:new Date().toISOString()};await at(A(k,...i,C.uid),Y,{merge:!0}),w=await n(C.uid)}if(await oe(A(k,...i,C.uid),{lastLogin:new Date().toISOString()}).catch(()=>{}),!w)return;let E=String(w?.emailLower||w?.email||"").trim().toLowerCase(),L=String(re||"").trim().toLowerCase(),H=L&&E===L?{...w,role:"admin"}:w;Ne(H)}catch(w){console.error("Error load profile (background):",w)}})();return}}catch(s){console.error("Error de autenticación:",s),c(s.message||"Error de autenticación","error")}finally{he(!1)}},Br=async()=>{Ne(null),b("store");try{await R.signOut()}catch(t){console.error("Error al cerrar sesión:",t)}},qr=async()=>{let t=String(F.email||"").trim().toLowerCase();if(!t||!t.includes("@")){c("Ingresa tu email (válido) en el campo de arriba para recuperar la contraseña.","warning");return}he(!0);try{let s=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":d||""},body:JSON.stringify({email:t})}),r=await s.json().catch(()=>({}));if(!s.ok)throw new Error(r.error||"Error al enviar el email");c(`¡Listo! Enviamos el link de recuperación a ${t}. Revisá tu email.`,"success")}catch(s){console.error("Error reset pass:",s),c(s?.message||"Error al enviar el email de recuperación.","error")}finally{he(!1)}},ro=async t=>{if(!h){c("Debes iniciar sesión para guardar favoritos.","info");return}let s=h.favorites||[],r=s.includes(t.id),l=[];r?(l=s.filter(i=>i!==t.id),c("Eliminado de tus favoritos.","info")):(l=[...s,t.id],c("¡Guardado en favoritos!","success")),Ne(i=>({...i,favorites:l}));try{let i=A(k,"artifacts",d,"public","data","users",h.id);await oe(i,{favorites:l})}catch(i){console.error("Error guardando favorito:",i)}},pt=(t,s)=>{Ot(r=>{let l=r.findIndex(g=>g.product.id===t.id),n=(l>=0?r[l].quantity:0)+s,u=0;if(t.isPromo){let g=1/0;t.items.forEach(p=>{let f=I.find(E=>E.id===p.productId),C=f&&Number(f.stock)||0,w=Math.floor(C/p.quantity);w<g&&(g=w)}),u=g}else u=Number(t.stock);if(n>u)return c(`Lo sentimos, el stock máximo disponible es ${u}.`,"warning"),r;if(n<=0)return l>=0?(c("Producto eliminado del carrito.","info"),r.filter(g=>g.product.id!==t.id)):r;if(l>=0){let g=[...r];return g[l]={...g[l],quantity:n},g}else return c("¡Producto agregado al carrito!","success"),[...r,{product:t,quantity:n}]})},Kt=(t,s)=>{if(!s||s<=0)return Number(t);let r=Number(t)*(1-s/100);return Math.ceil(r)},_e=ea(()=>te.reduce((t,s)=>{let r=Kt(s.product?.basePrice??0,s.product?.discount??0);return t+r*(s.quantity||0)},0),[te]),lo=(t,s)=>{if(!s||s.expirationDate&&new Date(s.expirationDate)<new Date)return 0;let r=0;return s.type==="fixed"?(r=s.value,r>t&&(r=t)):s.type==="percentage"&&(r=t*(s.value/100),s.maxDiscount&&s.maxDiscount>0&&r>s.maxDiscount&&(r=s.maxDiscount)),Math.ceil(r)},Fr=(t,s)=>{let r=(t||"").trim();if(!r)return null;try{let l=new URL(r);return l.searchParams.set("text",s),l.toString()}catch{let l=r.replace(/[^\d]/g,"");return l?`https://wa.me/${l}?text=${encodeURIComponent(s)}`:null}},Gr=t=>!(!t||t.targetType==="specific_email"&&h?.email&&t.targetUser&&t.targetUser.toLowerCase()!==h.email.toLowerCase()||t.expirationDate&&new Date(t.expirationDate)<new Date||t.usageLimit&&t.usedBy&&t.usedBy.length>=t.usageLimit||_e<(t.minPurchase||0)||!h?.dni),Vr=()=>{let t=a?.currency||"$",s=a?.storeName||"la tienda",r=[];if(r.push(`Hola, quiero terminar mi compra por WhatsApp en ${s}.`),h?.name){let f=[h.name];h.email&&f.push(h.email),h.phone&&f.push(h.phone),r.push(`Cliente: ${f.join(" - ")}`)}else h?.email&&r.push(`Cliente: ${h.email}`);r.push(""),r.push("Mi carrito:"),te.forEach(f=>{let C=f.product?.name||"Producto",w=Number(f.quantity)||0,E=Kt(f.product?.basePrice??0,f.product?.discount??0),L=Math.ceil(E*w);r.push(`- ${w} x ${C} — ${t}${E.toLocaleString()} c/u — ${t}${L.toLocaleString()}`)});let l=Gr(Ee)?Ee:null,i=l?lo(_e,l):0,n=Math.max(0,Number(_e)||0),u=Math.max(0,Number(Yt)||0),g=Math.max(0,n-i+u);r.push(""),r.push(`Subtotal: ${t}${n.toLocaleString()}`),l&&i>0&&(r.push(`Cupón: ${l.code}`),r.push(`Descuento: -${t}${i.toLocaleString()}`));let p=P.shippingMethod==="Delivery"?"Envío a domicilio":"Retiro en local";return r.push(`${p}: ${u>0?`${t}${u.toLocaleString()}`:"Gratis"}`),r.push(`Total estimado: ${t}${g.toLocaleString()}`),r.join(`
`)},Aa=Ee?lo(_e,Ee):0,Yt=ea(()=>{if(P.shippingMethod!=="Delivery")return 0;let t=a?.shippingDelivery;return!t?.enabled||t.freeAbove>0&&_e>=t.freeAbove?0:Number(t.fee)||0},[P.shippingMethod,_e,a?.shippingDelivery]),kt=Math.max(0,_e-Aa+Yt),Hr=async t=>{if(t.targetType==="specific_email"&&h&&t.targetUser&&t.targetUser.toLowerCase()!==h.email.toLowerCase())return c("Este cupón no está disponible para tu cuenta.","error");if(new Date(t.expirationDate)<new Date)return c("Este cupón ha vencido.","error");if(t.usageLimit&&t.usedBy&&t.usedBy.length>=t.usageLimit)return c("Este cupón ha agotado sus usos totales.","error");if(_e<(t.minPurchase||0))return c(`El monto mínimo para este cupón es $${t.minPurchase}.`,"warning");if(!h?.dni)return c("Debes actualizar tu DNI en el perfil para usar cupones.","warning");ya(t),ka(!1);let s="¡Cupón aplicado correctamente!";t.type==="percentage"&&t.maxDiscount>0&&(s+=` (Tope de reintegro: $${t.maxDiscount})`),c(s,"success")},Ci=async(t,s)=>{try{await fetch("/api/payment",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":d||""},body:JSON.stringify({orderId:t.orderId,customer:t.customer,items:t.items,total:t.total,subtotal:t.subtotal,discountDetails:s,shipping:t.shippingAddress,shippingFee:t.shippingFee,shippingMethod:t.shippingMethod,paymentMethod:t.paymentMethod,date:t.date})}),console.log("Correo de confirmación enviado enviada API.")}catch(r){console.error("Error al enviar email automático:",r)}},io=async()=>{let t=R.currentUser;if(t&&!t.isAnonymous)return t;let s=await new Promise(r=>{let l=null,i=setTimeout(()=>{l&&l(),r(R.currentUser)},1200);l=Do(R,n=>{clearTimeout(i),l(),r(n)})});return s&&!s.isAnonymous?s:null},Wr=async()=>{if(!vt)try{let t=await io();if(!t)return b("login"),c("Por favor inicia sesión para finalizar la compra.","info");let s=h;if(!s&&d)try{let n=await tt(A(k,"artifacts",d,"public","data","users",t.uid));if(n.exists()){let u={id:n.id,...n.data()};u.role==="admin"&&(u._adminVerified=!0),Ne(u),s=u}}catch{}if(!s)return b("login"),c("Por favor inicia sesión para finalizar la compra.","info");if(!s.name||!s.phone||!s.dni)return b("profile"),c("Por favor completa tus datos personales (Nombre, Teléfono y DNI) en tu perfil antes de comprar.","warning");if(P.shippingMethod==="Delivery"&&(!P.address||!P.city||!P.province||!P.zipCode))return c("Por favor completa TODOS los datos de envío.","warning");if(!P.paymentChoice)return c("Selecciona un método de pago.","warning");if(P.paymentChoice==="Tarjeta")throw new Error("Para pagar con tarjeta usá el formulario de Mercado Pago.");oa(!0),c("Procesando tu pedido, por favor espera...","info");let r=await t.getIdToken(!0),l=await fetch("/api/orders/confirm",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":d||"",Authorization:`Bearer ${r}`},body:JSON.stringify({paymentMethod:P.paymentChoice,shippingMethod:P.shippingMethod,shipping:{address:P.address,city:P.city,province:P.province,zipCode:P.zipCode,fee:Yt},couponCode:Ee?.code||null,cart:te.map(n=>({productId:n.product?.id,quantity:n.quantity}))})}),i=await l.json().catch(()=>({}));if(l.status===401)throw b("login"),new Error("Tu sesión venció. Iniciá sesión nuevamente para finalizar la compra.");if(!l.ok)throw new Error(i.error||"Error al procesar el pedido");Ot([]),ya(null),b("profile"),c("¡Pedido realizado con éxito! Te enviamos un email con el detalle.","success")}catch(t){console.error("Error al procesar pedido:",t),c(t.message||"Ocurrió un error al procesar el pedido.","error")}finally{oa(!1)}},no=async()=>{if(Me.current)return;if(Jt(!1),Ve(null),console.log("💎 Mercado Pago: Iniciando Brick. Total a cobrar:",kt),!window.MercadoPago)try{await(async()=>{window.MercadoPago||await new Promise((g,p)=>{let f=document.createElement("script");f.src="https://sdk.mercadopago.com/js/v2",f.async=!0,f.onload=g,f.onerror=p,document.head.appendChild(f)})})()}catch{Ve("No se pudo cargar el sistema de pagos. Intentá nuevamente.");return}let t=Number(parseFloat(kt).toFixed(2));if(isNaN(t)||t<=0){console.error("❌ Error: Monto inválido para pago:",kt);return}if(!document.getElementById("cardPaymentBrick_container"))return;Me.current=!0;let r=setTimeout(()=>{Me.current&&(console.warn("⚠️ Mercado Pago: La inicialización está tardando demasiado. Liberando bloqueo..."),Me.current=!1)},1e4);if(Ge){try{await Ge.unmount()}catch(g){console.warn("Error unmounting:",g)}Wt(null)}let l=document.getElementById("cardPaymentBrick_container");l&&(l.innerHTML="",l.style.display="none",l.offsetHeight,l.style.display="block"),Ve(null);let i=await Xl();if(!i){Me.current=!1,clearTimeout(r),Ve("Mercado Pago no está configurado. Verificá la clave pública en el servidor.");return}let u=new window.MercadoPago(i,{locale:"es-AR"}).bricks();try{let g=await u.create("cardPayment","cardPaymentBrick_container",{initialization:{amount:t},customization:{visual:{style:{theme:"default",customVariables:{formBackgroundColor:"#0f172a",baseColor:"#f97316",borderRadiusMedium:"12px",borderRadiusLarge:"16px",textPrimaryColor:"#000000",textSecondaryColor:"#334155"}}},paymentMethods:{maxInstallments:12}},callbacks:{onReady:()=>{console.log("✅ Mercado Pago: Card Payment Brick cargado."),Me.current=!1,clearTimeout(r)},onSubmit:async p=>{if(console.log("🚀 Mercado Pago: Procesando pago..."),Jt(!0),Ve(null),!p.token){Jt(!1),Ve("Error en los datos de la tarjeta. Por favor intentá nuevamente."),c("Error al procesar los datos de la tarjeta.","error");return}try{let f=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"process_payment",paymentData:{token:p.token,transaction_amount:t,description:`Compra en ${a?.storeName||"Tienda Online"}`,installments:p.installments||1,payment_method_id:p.payment_method_id||"",issuer_id:p.issuer_id||""},payer:{email:h?.email||"sin-email@tienda.com",identificationType:p.payer?.identification?.type||"DNI",identificationNumber:p.payer?.identification?.number||"00000000"}})}),C=await f.json().catch(()=>({}));if(console.log("📦 Respuesta:",C),!f.ok){let w=C?.error||C?.message||`Error procesando pago (${f.status})`;throw new Error(w)}if(C.status==="approved"||C.status==="in_process"||C.status==="pending"){if(await Jr(C.id),c("¡Compra realizada!","success"),Jt(!1),Me.current=!1,Ge){try{await Ge.unmount()}catch(w){console.log(w)}Wt(null)}}else{let E={cc_rejected_high_risk:"El pago fue rechazado por controles de seguridad de Mercado Pago. Te recomendamos probar con otra tarjeta o medio de pago.",cc_rejected_insufficient_amount:"Tu tarjeta no tiene fondos suficientes.",cc_rejected_bad_filled_other:"Revisá los datos de tu tarjeta.",cc_rejected_bad_filled_date:"La fecha de vencimiento es incorrecta.",cc_rejected_bad_filled_security_code:"El código de seguridad es incorrecto.",cc_rejected_call_for_authorize:"Debés autorizar el pago llamando a tu banco.",cc_rejected_card_disabled:"Tu tarjeta está inactiva. Llamá a tu banco para activarla.",cc_rejected_max_attempts:"Llegaste al límite de intentos permitidos. Usá otra tarjeta.",cc_rejected_duplicated_payment:"Ya hiciste un pago similar recientemente. Esperá unos minutos."}[C.status_detail]||C.status_detail||C.error||"Pago rechazado";if(console.error("❌ Motivo del rechazo:",E),Ge){try{await Ge.unmount()}catch(L){console.log("Error al desmontar brick tras falla:",L)}Wt(null)}Me.current=!1,Jt(!1),Ve(`${E}`),c("El pago no se pudo completar. Revisá los detalles.","error")}}catch(f){console.error("❌ Error de conexión:",f),Jt(!1),Ve("Error de conexión con el servidor. Revisá tu internet e intentá de nuevo."),c("Error de conexión.","error")}},onError:p=>{console.error("❌ Mercado Pago Error:",p),Me.current=!1,clearTimeout(r),!(p&&p.message&&p.message.includes("melidata"))&&Ve("Error en el formulario. Verificá tus claves de producción.")}}});Wt(g)}catch(g){console.error("Error creating brick:",g),Me.current=!1,clearTimeout(r),c("Error al cargar el formulario de pago.","error")}},Jr=async t=>{try{let s=await io();if(!s)throw new Error("Sesión inválida. Reiniciá e intentá de nuevo.");let r=await s.getIdToken(!0),l=await fetch("/api/orders/confirm",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":d||"",Authorization:`Bearer ${r}`},body:JSON.stringify({paymentMethod:"Tarjeta",mpPaymentId:t,shippingMethod:P.shippingMethod,shipping:{address:P.address,city:P.city,province:P.province,zipCode:P.zipCode,fee:Yt},couponCode:Ee?.code||null,cart:te.map(n=>({productId:n.product?.id,quantity:n.quantity}))})}),i=await l.json().catch(()=>({}));if(l.status===401)throw new Error("Tu sesión venció. Iniciá sesión nuevamente e intentá otra vez.");if(!l.ok)throw new Error(i.error||"Error guardando el pedido");if(Ot([]),ya(null),Ge)try{Ge.unmount()}catch{}Wt(null),b("profile")}catch(s){console.error("Error creating order after payment:",s),c("El pago fue exitoso pero hubo un error guardando el pedido. Contacta soporte.","warning")}};X(()=>{let t=m==="checkout",s=P.paymentChoice==="Tarjeta";if(t&&s&&kt>0&&h&&te.length>0){if(!h.name||!h.phone||!h.dni){c("Por favor completá tus datos personales antes de pagar con tarjeta.","warning"),b("profile");return}let r=setTimeout(()=>{document.getElementById("cardPaymentBrick_container")&&no()},300);return()=>clearTimeout(r)}else if(Ge&&(!t||!s)){console.log("Sweep: Limpiando Brick por cambio de vista o método.");try{Ge.unmount()}catch{}Wt(null),Me.current=!1}},[P.paymentChoice,kt,h,te.length,m]);let Kr=async()=>{if(!q.name)return c("El nombre del producto es obligatorio.","warning");let t=30,s=50;if(!Ca){let i=a?.subscriptionPlan||"entrepreneur",n=i==="entrepreneur",u=i==="business";if(n&&I.length>=t)return c(`Has alcanzado el límite de ${t} productos del Plan Emprendedor. ¡Mejora tu plan para seguir creciendo!`,"error");if(u&&I.length>=s)return c(`Has alcanzado el límite de ${s} productos del Plan Negocio. ¡Pásate a Premium para productos ilimitados!`,"error")}if(!q.basePrice||Number(q.basePrice)<=0)return c("El precio debe ser mayor a 0.","warning");let r=Array.isArray(q.categories)?q.categories:q.category?[q.category]:[];if(r.length===0)return c("Selecciona al menos una categoría.","warning");let l={...q,categories:r,basePrice:Number(q.basePrice)||0,purchasePrice:Number(q.purchasePrice||0),stock:Number(q.stock)||0,discount:Number(q.discount||0),image:q.image||"https://via.placeholder.com/150",lastUpdated:new Date().toISOString()};"category"in l&&delete l.category;try{Ca?(await oe(A(k,"artifacts",d,"public","data","products",Ca),l),c("Producto actualizado correctamente.","success")):(await ze(se(k,"artifacts",d,"public","data","products"),{...l,createdAt:new Date().toISOString()}),c("Producto creado correctamente.","success")),$e({name:"",basePrice:"",purchasePrice:"",stock:"",categories:[],image:"",description:"",discount:0}),Ka(null),Sa(!1)}catch(i){console.error(i),c("Error al guardar el producto.","error")}},ut=(t,s,r="image",l=800)=>{let i=t.target.files?.[0];if(!i)return;if(!i.type.startsWith("image/"))return c("Por favor selecciona una imagen válida.","warning");let n=new FileReader;n.onload=u=>{let g=new Image;g.onload=()=>{let p=document.createElement("canvas"),f=l,C=l,w=g.width,E=g.height;w>E?w>f&&(E*=f/w,w=f):E>C&&(w*=C/E,E=C),p.width=w,p.height=E,p.getContext("2d").drawImage(g,0,0,w,E);let H=p.toDataURL("image/jpeg",.7);s(Y=>({...Y,[r]:H})),c("Imagen optimizada y cargada.","success")},g.src=u.target.result},n.readAsDataURL(i)},is=()=>{zs(null),yt({imageUrl:"",targetType:"none",targetId:"",enabled:!0,order:0})},Yr=t=>{if(!t)return;zs(t.id);let s=t.targetType||(t.promoId?"promo":t.productId?"product":"none"),r=t.targetId||t.promoId||t.productId||"";yt({imageUrl:t.imageUrl||"",targetType:s,targetId:r,enabled:t.enabled!==!1,order:Number.isFinite(Number(t.order))?Number(t.order):0})},Qr=async()=>{if(!ie?.imageUrl)return c("Subí una imagen para el banner.","warning");let t=ie?.targetType||"none",s=ie?.targetId||"";if(t!=="none"&&!s)return c("Seleccioná el destino del banner.","warning");let r=Number.isFinite(Number(ie.order))?Number(ie.order):0,l={imageUrl:ie.imageUrl,enabled:ie.enabled!==!1,order:r,targetType:t,targetId:t==="none"?"":String(s),productId:t==="product"?String(s):"",promoId:t==="promo"?String(s):""};try{ia?(await oe(A(k,"artifacts",d,"public","data","homeBanners",ia),l),c("Banner actualizado.","success")):(await ze(se(k,"artifacts",d,"public","data","homeBanners"),{...l,createdAt:new Date().toISOString()}),c("Banner creado.","success")),is()}catch(i){console.error(i),c("Error guardando banner: "+(i?.message||"error"),"error")}},Xr=t=>{t?.id&&Se("Eliminar Banner","¿Eliminar este banner del carrusel?",async()=>{try{await Ke(A(k,"artifacts",d,"public","data","homeBanners",t.id)),c("Banner eliminado.","success"),ia===t.id&&is()}catch(s){console.error(s),c("Error eliminando banner: "+(s?.message||"error"),"error")}})},Zr=t=>{Se("Eliminar Producto",`¿Estás seguro de eliminar el producto "${t.name}"?`,async()=>{try{await Ke(A(k,"artifacts",d,"public","data","products",t.id)),c("Producto eliminado correctamente.","success")}catch(s){console.error(s),c("Error al eliminar el producto.","error")}})},Si=t=>{if(t.stock<=0)return c("No hay stock para vender.","warning");Se("Venta Manual",`¿Registrar venta manual de 1 unidad de "${t.name}"?`,async()=>{try{let s=Number(t.basePrice)||0,r={orderId:`man-${Date.now().toString().slice(-6)}`,userId:"manual_admin",customer:{name:"Cliente Mostrador",email:"offline@store.com",phone:"-",dni:"-"},items:[{productId:t.id,title:t.name,quantity:1,unit_price:s,image:t.image||""}],subtotal:s,discount:0,total:s,status:"Realizado",date:new Date().toISOString(),shippingAddress:"Entrega Presencial (Offline)",paymentMethod:"Efectivo",source:"manual_sale",notes:"Venta presencial rápida"};await ze(se(k,"artifacts",d,"public","data","orders"),r),await oe(A(k,"artifacts",d,"public","data","products",t.id),{stock:Zt(-1)}),c("Venta registrada. Stock actualizado.","success")}catch(s){console.error(s),c("Error al registrar venta manual.","error")}})},Rr=t=>{Se("Finalizar Pedido","¿Marcar este pedido como REALIZADO/ENTREGADO?",async()=>{try{await oe(A(k,"artifacts",d,"public","data","orders",t),{status:"Realizado",lastUpdate:new Date().toISOString()}),c("Pedido finalizado correctamente.","success")}catch(s){console.error(s),c("Error al finalizar pedido.","error")}})},el=t=>{Se("Eliminar Pedido","¿Eliminar este pedido permanentemente? El stock de los productos será devuelto al inventario.",async()=>{try{let s=A(k,"artifacts",d,"public","data","orders",t),r=await tt(s);if(!r.exists())throw new Error("El pedido no existe o ya fue eliminado.");let l=r.data();if(l.items&&Array.isArray(l.items)){for(let i of l.items)if(i.productId&&i.quantity>0){let n=A(k,"artifacts",d,"public","data","products",i.productId);try{await oe(n,{stock:Zt(i.quantity)})}catch{console.warn(`Producto ${i.productId} no encontrado, no se restauró stock.`)}}}await Ke(s),c("Pedido eliminado y stock restaurado exitosamente.","success")}catch(s){console.error(s),c("Error al eliminar pedido: "+s.message,"error")}})},tl=async()=>{if(!G.code||G.code.length<3)return c("El código del cupón debe tener al menos 3 caracteres.","warning");if(!G.value||Number(G.value)<=0)return c("El valor del descuento debe ser mayor a 0.","warning");if(G.type==="percentage"&&Number(G.value)>100)return c("El porcentaje no puede ser mayor a 100%.","warning");if(G.targetType==="specific_user"&&!G.targetUser.includes("@"))return c("Si el cupón es para un usuario específico, ingresa un email válido.","warning");try{let t={...G,code:G.code.toUpperCase().trim(),value:Number(G.value),minPurchase:Number(G.minPurchase||0),maxDiscount:Number(G.maxDiscount||0),usageLimit:Number(G.usageLimit||0),perUserLimit:Number(G.perUserLimit||1),targetUser:G.targetType==="global"?"":G.targetUser,createdAt:new Date().toISOString(),usedBy:[]};await ze(se(k,"artifacts",d,"public","data","coupons"),t),Fe({code:"",type:"percentage",value:0,minPurchase:0,maxDiscount:0,expirationDate:"",targetType:"global",targetUser:"",usageLimit:"",perUserLimit:1}),c("Cupón de descuento creado exitosamente.","success")}catch(t){console.error(t),c("Error al crear el cupón.","error")}},al=async()=>{if(!ge.name)return c("El nombre de la empresa es obligatorio.","warning");if(!ge.phone&&!ge.ig)return c("Debes ingresar al menos un método de contacto (Teléfono o Instagram).","warning");let t={...ge,associatedProducts:ge.associatedProducts||[],lastUpdated:new Date().toISOString()};try{Va?(await oe(A(k,"artifacts",d,"public","data","suppliers",Va),t),c("Proveedor actualizado correctamente.","success")):(await ze(se(k,"artifacts",d,"public","data","suppliers"),{...t,createdAt:new Date().toISOString()}),c("Proveedor registrado correctamente.","success")),nt({name:"",contact:"",phone:"",ig:"",address:"",cuit:"",associatedProducts:[]}),Ha(null),Na(!1)}catch(s){console.error(s),c("Error al guardar proveedor.","error")}},sl=t=>{Se("Eliminar Compra",`¿Eliminar registro de compra? Se descontarán ${t.quantity} unidades del stock del producto.`,async()=>{try{await oe(A(k,"artifacts",d,"public","data","products",t.productId),{stock:Zt(-t.quantity)}),await Ke(A(k,"artifacts",d,"public","data","purchases",t.id)),c("Compra eliminada y stock revertido.","success")}catch(s){console.error(s),c("Error al eliminar compra.","error")}})},ol=async(t,s,r)=>{let l=(r.quantity||0)-(s.quantity||0);try{l!==0&&await oe(A(k,"artifacts",d,"public","data","products",s.productId),{stock:Zt(l)}),await oe(A(k,"artifacts",d,"public","data","purchases",t),{quantity:r.quantity,cost:r.cost,supplierId:r.supplierId}),ca(null),c("Compra actualizada y stock ajustado.","success")}catch(i){console.error(i),c("Error al actualizar la compra.","error")}},rl=async()=>{if(!$a.trim())return c("Ingresa un nombre para la categoría.","warning");try{let t=[...a.categories||[],$a.trim()];await oe(A(k,"artifacts",d,"public","data","settings","config"),{categories:t}),Za(""),Bt(!1),c(`Categoría "${$a}" creada.`,"success")}catch(t){console.error(t),c("Error al crear categoría.","error")}},$i=(t,s,r)=>{if(!t||!r||s<=0)return c("Completa todos los campos.","warning");let l=I.find(g=>g.id===t);if(!l)return c("Producto no encontrado.","error");let i=l.purchasePrice||l.basePrice||0,n=i*s,u=Ce.findIndex(g=>g.productId===t);if(u>=0){let g=[...Ce];g[u].quantity+=s,g[u].cost=(l.purchasePrice||l.basePrice||0)*g[u].quantity,na(g),c(`Cantidad actualizada: ${l.name}`,"success")}else na([...Ce,{productId:t,productName:l.name,productImage:l.image,quantity:s,unitPrice:i,cost:n,supplierId:r}]),c(`Agregado al pedido: ${l.name}`,"success");la({productId:"",supplierId:r,quantity:1,cost:0,isNewProduct:!1})},ll=t=>{let s=Ce.filter((r,l)=>l!==t);na(s),c("Producto eliminado del pedido.","info")},il=(t,s)=>{let r=[...Ce];r[t].quantity=s,r[t].cost=r[t].unitPrice*s,na(r)},nl=async()=>{if(Ce.length===0)return c("El carrito de compras está vacío.","warning");try{let t=Kl(k),s=`BATCH - ${Date.now()}`,r=new Date().toISOString();for(let l of Ce){let i=A(se(k,"artifacts",d,"public","data","purchases"));t.set(i,{productId:l.productId,supplierId:l.supplierId,quantity:l.quantity,cost:l.cost,batchId:s,date:r});let n=I.find(f=>f.id===l.productId),g=(isNaN(Number(n?.stock))?0:Number(n.stock))+l.quantity,p=A(k,"artifacts",d,"public","data","products",l.productId);t.update(p,{stock:g})}await t.commit(),na([]),c(`Pedido finalizado: ${Ce.length} productos registrados.`,"success")}catch(t){console.error("Error in batch purchase:",t),c("Error al finalizar el pedido: "+t.message,"error")}},V=ea(()=>{let t={},s=N=>{t[N]||(t[N]={cart:0,fav:0,sales:0,total:0})};Ts.forEach(N=>{N.items&&N.items.forEach(D=>{s(D.productId),t[D.productId].cart+=1,t[D.productId].total+=1})}),Nt.forEach(N=>{N.favorites&&N.favorites.forEach(D=>{s(D),t[D].fav+=1,t[D].total+=1})});let r=me.filter(N=>N.status==="Realizado"),l=r.reduce((N,D)=>N+(D.total||0),0),i=$?.reduce((N,D)=>N+(D.amount||0),0)||0,n=_?.reduce((N,D)=>N+(D.cost||0),0)||0,u=l-i-n,g={},p={};r.forEach(N=>{N.items&&Array.isArray(N.items)&&N.items.forEach(D=>{let fe=D.productId,Qt=Number(D.quantity)||0;g[fe]=(g[fe]||0)+Qt,p[fe]||(p[fe]={name:D.title||D.name||"Producto Desconocido",image:D.image}),s(fe),t[fe].sales+=Qt,t[fe].total+=Qt*5})});let f=Object.entries(t).map(([N,D])=>{let fe=I.find(ds=>ds.id===N),Qt=p[N]||{};return fe?{id:N,name:fe.name,image:fe.image,stock:fe.stock,stats:D}:null}).filter(Boolean).sort((N,D)=>D.stats.total-N.stats.total).slice(0,5),C=null,w=-1;Object.entries(g).forEach(([N,D])=>{D>w&&(w=D,C=N)});let E=null;if(C){let N=I.find(fe=>fe.id===C),D=p[C];(N||D)&&(E={id:C,name:N?N.name:D.name,image:N?N.image:D.image,sales:w,stock:N?N.stock:0})}let L=null,H=1/0;I.forEach(N=>{let D=g[N.id]||0;D<H&&(H=D,L=N.id)});let Y=L?I.find(N=>N.id===L):null,ne={daily:{},monthly:{},yearly:{}},He={};r.forEach(N=>{let D=new Date(N.date),fe=D.toISOString().split("T")[0],Qt=D.toISOString().slice(0,7),ds=D.getFullYear().toString(),cs=(Je,Te,co)=>{Je[Te]||(Je[Te]={date:Te,revenue:0,orders:0}),Je[Te].revenue+=co,Je[Te].orders+=1};cs(ne.daily,fe,N.total),cs(ne.monthly,Qt,N.total),cs(ne.yearly,ds,N.total),N.items&&N.items.forEach(Je=>{let Te=I.find(bt=>bt.id===Je.productId||bt.id===Je.id);(Te?Array.isArray(Te.categories)&&Te.categories.length>0?Te.categories:Te.category?[Te.category]:["Otros"]:["Otros"]).forEach(bt=>{He[bt]||(He[bt]={name:bt,revenue:0,items:0,percentage:0}),He[bt].revenue+=Je.unit_price*Je.quantity,He[bt].items+=Je.quantity})})});let We={daily:Object.values(ne.daily).sort((N,D)=>N.date.localeCompare(D.date)),monthly:Object.values(ne.monthly).sort((N,D)=>N.date.localeCompare(D.date)),yearly:Object.values(ne.yearly).sort((N,D)=>N.date.localeCompare(D.date))},Ct=Object.values(He).reduce((N,D)=>N+D.items,0),fl=Object.values(He).map(N=>({...N,percentage:Ct>0?Math.round(N.items/Ct*100):0})).sort((N,D)=>D.items-N.items),hl=a?.lowStockThreshold||5,vl=I.filter(N=>!N.promoItems&&Number(N.stock)<=hl),wl=[...me].sort((N,D)=>new Date(D.date)-new Date(N.date)).slice(0,10),Nl=[...r.map(N=>({id:N.id||N.orderId,type:"income",category:"Venta",date:N.date,amount:N.total,description:`Orden #${N.orderId}`,status:N.status})),...$.map(N=>({id:N.id,type:"expense",category:N.category||"Gasto",date:N.date,amount:N.amount,description:N.description,status:"Pagado"})),...(_||[]).map(N=>({id:N.id,type:"expense",category:"Compra Stock",date:N.date,amount:N.cost,description:`Prov: ${N.supplier||"General"}`,status:"Completado"})),...(M||[]).map(N=>({id:N.id,type:"income",category:"Inversión",date:N.date,amount:N.amount,description:`Inv: ${N.investor}`,status:"Recibido"}))].sort((N,D)=>new Date(D.date)-new Date(N.date)).slice(0,100);return{revenue:l,expensesTotal:i,purchasesTotal:n,netIncome:u,trendingProducts:f,starProduct:E,leastSoldProduct:Y,salesCount:g,analytics:We,salesByCategory:fl,lowStockProducts:vl,recentActivity:wl,transactions:Nl,totalOrders:me.length,totalUsers:Nt.length}},[me,$,_,I,Ts,Nt,a]),dl=({order:t,onClose:s})=>t?e.createElement("div",{className:"fixed inset-0 z-[160] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-fade-up",onClick:s},e.createElement("div",{className:`rounded-[2rem] w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh] shadow-2xl border relative transition-colors duration-300 ${o?"glass border-slate-800":"bg-white border-slate-200"}`,onClick:r=>r.stopPropagation()},e.createElement("div",{className:`p-8 border-b flex justify-between items-center transition-colors duration-300 ${o?"border-slate-800 bg-slate-900/50":"border-slate-100 bg-slate-50/50"}`},e.createElement("div",null,e.createElement("h3",{className:`text-2xl font-black flex items-center gap-2 transition-colors duration-300 ${o?"text-white neon-text":"text-slate-900"}`},"DETALLE DE PEDIDO ",e.createElement("span",{className:"text-orange-500"},"#",t.orderId)),e.createElement("div",{className:"flex items-center gap-4 mt-2"},e.createElement("span",{className:`text-xs flex items-center gap-1 font-bold tracking-wider transition-colors duration-300 ${o?"text-slate-400":"text-slate-500"}`},e.createElement(xs,{className:"w-3 h-3"})," ",new Date(t.date).toLocaleString()),e.createElement("span",{className:`text-[10px] px-2 py-0.5 rounded border uppercase font-black tracking-widest transition-colors duration-300 ${t.status==="Realizado"?o?"bg-green-900/30 text-green-400 border-green-500/30":"bg-green-100 text-green-600 border-green-200":o?"bg-yellow-900/30 text-yellow-400 border-yellow-500/30":"bg-yellow-100 text-yellow-600 border-yellow-200"}`},t.status))),e.createElement("button",{onClick:s,className:`p-3 rounded-full transition shadow-lg border ${o?"bg-slate-800 hover:bg-slate-700 border-slate-700 text-slate-400 hover:text-white":"bg-slate-100 hover:bg-slate-200 border-slate-200 text-slate-500 hover:text-slate-900"}`},e.createElement(ue,{className:"w-5 h-5"}))),e.createElement("div",{className:`p-8 overflow-y-auto space-y-8 custom-scrollbar transition-colors duration-300 ${o?"bg-[#050505]":"bg-white"}`},e.createElement("div",{className:`flex justify-between items-center p-6 rounded-2xl border shadow-inner transition-colors duration-300 ${o?"bg-slate-900 border-slate-800":"bg-slate-50 border-slate-200"}`},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:`p-4 rounded-full shadow-lg transition-all duration-300 ${t.status==="Realizado"?o?"bg-green-500/20 text-green-400 shadow-[0_0_15px_rgba(34,197,94,0.2)]":"bg-green-100 text-green-600":o?"bg-yellow-500/20 text-yellow-400 shadow-[0_0_15px_rgba(234,179,8,0.2)]":"bg-yellow-100 text-yellow-600"}`},t.status==="Realizado"?e.createElement(Q,{className:"w-8 h-8"}):e.createElement(xs,{className:"w-8 h-8"})),e.createElement("div",null,e.createElement("p",{className:`text-xs uppercase font-bold tracking-widest mb-1 transition-colors duration-300 ${o?"text-slate-500":"text-slate-400"}`},"Estado Actual"),e.createElement("p",{className:`text-xl font-black transition-colors duration-300 ${t.status==="Realizado"?o?"text-green-400":"text-green-600":o?"text-yellow-400":"text-yellow-600"}`},t.status==="Realizado"?"Entregado / Finalizado":"Pendiente de Pago/Envío")))),e.createElement("div",{className:"grid md:grid-cols-2 gap-6"},e.createElement("div",{className:`p-6 rounded-2xl border transition duration-300 ${o?"bg-slate-900/30 border-slate-800 hover:border-slate-700":"bg-slate-50 border-slate-200 hover:border-slate-300"}`},e.createElement("h4",{className:`text-xs font-black uppercase tracking-widest mb-4 flex items-center gap-2 border-b pb-2 transition-colors duration-300 ${o?"text-slate-500 border-slate-800":"text-slate-400 border-slate-100"}`},e.createElement(xt,{className:"w-4 h-4"})," Datos del Cliente"),e.createElement("div",{className:"space-y-3"},e.createElement("p",{className:`font-bold text-lg transition-colors duration-300 ${o?"text-white":"text-slate-900"}`},t.customer.name),e.createElement("div",{className:"space-y-1"},e.createElement("p",{className:`text-sm flex justify-between border-b border-dashed pb-1 transition-colors duration-300 ${o?"text-slate-400 border-slate-800/50":"text-slate-600 border-slate-100"}`},e.createElement("span",null,"Email:")," ",e.createElement("span",{className:`font-medium transition-colors duration-300 ${o?"text-white":"text-slate-900"}`},t.customer.email)),e.createElement("p",{className:`text-sm flex justify-between border-b border-dashed pb-1 transition-colors duration-300 ${o?"text-slate-400 border-slate-800/50":"text-slate-600 border-slate-100"}`},e.createElement("span",null,"Teléfono:")," ",e.createElement("span",{className:`font-medium transition-colors duration-300 ${o?"text-white":"text-slate-900"}`},t.customer.phone||"-")),e.createElement("p",{className:`text-sm flex justify-between transition-colors duration-300 ${o?"text-slate-400":"text-slate-600"}`},e.createElement("span",null,"DNI:")," ",e.createElement("span",{className:`font-medium transition-colors duration-300 ${o?"text-white":"text-slate-900"}`},t.customer.dni||"-"))))),e.createElement("div",{className:`p-6 rounded-2xl border transition duration-300 ${o?"bg-slate-900/30 border-slate-800 hover:border-slate-700":"bg-slate-50 border-slate-200 hover:border-slate-300"}`},e.createElement("h4",{className:`text-xs font-black uppercase tracking-widest mb-4 flex items-center gap-2 border-b pb-2 transition-colors duration-300 ${o?"text-slate-500 border-slate-800":"text-slate-400 border-slate-100"}`},e.createElement(et,{className:"w-4 h-4"})," Datos de Entrega"),e.createElement("div",{className:"space-y-3"},e.createElement("p",{className:`font-medium text-sm leading-relaxed min-h-[3rem] transition-colors duration-300 ${o?"text-white":"text-slate-800"}`},t.shippingAddress||"Retiro en sucursal"),e.createElement("div",{className:`pt-2 mt-2 border-t transition-colors duration-300 ${o?"border-slate-800/50":"border-slate-100"}`},e.createElement("p",{className:`text-xs uppercase font-bold mb-1 transition-colors duration-300 ${o?"text-slate-400":"text-slate-500"}`},"Método de Pago"),e.createElement("div",{className:"flex items-center gap-2"},e.createElement(ft,{className:"w-4 h-4 text-orange-500"}),e.createElement("p",{className:"text-orange-500 font-black text-sm uppercase"},t.paymentMethod)))))),e.createElement("div",null,e.createElement("h4",{className:`text-xs font-black uppercase tracking-widest mb-4 flex items-center gap-2 border-b pb-2 transition-colors duration-300 ${o?"text-slate-500 border-slate-800":"text-slate-400 border-slate-100"}`},e.createElement(Re,{className:"w-4 h-4"})," Productos (",t.items.length,")"),e.createElement("div",{className:"space-y-3"},t.items.map((r,l)=>e.createElement("div",{key:l,className:`flex justify-between items-center p-4 rounded-xl border transition group duration-300 ${o?"bg-slate-900/40 border-slate-800 hover:border-orange-900/30":"bg-white border-slate-100 hover:border-orange-200 shadow-sm"}`},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:`w-12 h-12 flex items-center justify-center rounded-lg p-1 shadow-md group-hover:scale-105 transition border ${o?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`},r.image?e.createElement("img",{src:r.image,alt:r.title||"Producto",className:"w-full h-full object-contain"}):e.createElement(Re,{className:"text-slate-400"})),e.createElement("div",null,e.createElement("p",{className:`font-bold text-sm transition-colors duration-300 ${o?"text-white":"text-slate-900"}`},r.title),e.createElement("p",{className:"text-xs flex items-center gap-2 transition-colors duration-300 text-slate-500"},e.createElement("span",{className:`px-1.5 rounded text-[10px] font-bold transition-colors duration-300 ${o?"bg-slate-800 text-slate-300":"bg-slate-100 text-slate-600"}`},"x",r.quantity),e.createElement("span",null,"$",r.unit_price.toLocaleString()," c/u")))),e.createElement("span",{className:`font-mono font-bold text-lg tracking-tight transition-colors duration-300 ${o?"text-white":"text-slate-900"}`},"$",(r.unit_price*r.quantity).toLocaleString()))))),e.createElement("div",{className:`p-6 rounded-2xl border space-y-3 shadow-lg transition-colors duration-300 ${o?"bg-slate-900 border-slate-800":"bg-slate-50 border-slate-200"}`},e.createElement("div",{className:`flex justify-between text-sm font-medium transition-colors duration-300 ${o?"text-slate-400":"text-slate-500"}`},e.createElement("span",null,"Subtotal Productos"),e.createElement("span",null,"$",(t.subtotal||t.total).toLocaleString())),t.discount>0&&e.createElement("div",{className:`flex justify-between text-sm font-bold p-2 rounded-lg border border-dashed transition-colors duration-300 ${o?"text-green-400 bg-green-900/10 border-green-900/30":"text-green-600 bg-green-50 border-green-200"}`},e.createElement("span",{className:"flex items-center gap-2"},e.createElement(Pt,{className:"w-3 h-3"})," Descuento (",t.discountCode||"Cupón",")"),e.createElement("span",null,"-$",t.discount.toLocaleString())),e.createElement("div",{className:`flex justify-between items-center mt-4 pt-4 border-t border-dashed transition-colors duration-300 ${o?"border-slate-800":"border-slate-100"}`},e.createElement("span",{className:`font-bold text-lg transition-colors duration-300 ${o?"text-white":"text-slate-900"}`},"Total Abonado"),e.createElement("span",{className:`text-3xl font-black tracking-tighter transition-colors duration-300 ${o?"text-orange-500 neon-text":"text-orange-600"}`},"$",t.total.toLocaleString())))))):null,cl=()=>{if(!xr)return null;let t=_t.filter(s=>{let r=!s.expirationDate||new Date(s.expirationDate)>new Date,l=!s.targetUser||h&&s.targetUser===h.email,i=s.targetType==="global",n=s.usedBy?s.usedBy.length:0,u=!s.usageLimit||n<s.usageLimit,g=h&&s.usedBy&&!s.usedBy.includes(h.id);return r&&(l||i)&&u&&g});return e.createElement("div",{className:"fixed inset-0 z-[150] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-fade-up",onClick:()=>ka(!1)},e.createElement("div",{className:`rounded-[2rem] w-full max-w-lg overflow-hidden relative shadow-2xl border transition-colors duration-300 ${o?"border-purple-500/20 bg-[#050505]":"border-slate-200 bg-white"}`,onClick:s=>s.stopPropagation()},e.createElement("button",{onClick:()=>ka(!1),className:`absolute top-6 right-6 p-2 rounded-full transition z-10 ${o?"bg-slate-900 text-slate-400 hover:text-white hover:bg-slate-800":"bg-slate-100 text-slate-500 hover:text-slate-900 hover:bg-slate-200"}`},e.createElement(ue,{className:"w-5 h-5"})),e.createElement("div",{className:`p-8 border-b transition-colors duration-300 ${o?"bg-gradient-to-br from-slate-900 via-[#0a0a0a] to-[#050505] border-slate-800":"bg-gradient-to-br from-slate-50 to-white border-slate-100"}`},e.createElement("h3",{className:`text-2xl font-black mb-2 flex items-center gap-3 ${o?"text-white":"text-slate-900"}`},e.createElement("div",{className:`p-2 rounded-lg border transition-colors duration-300 ${o?"bg-purple-900/20 border-purple-500/30":"bg-purple-50 border-purple-200"}`},e.createElement(jl,{className:`w-6 h-6 ${o?"text-purple-400":"text-purple-600"}`})),"Mis Beneficios"),e.createElement("p",{className:`transition-colors duration-300 ${o?"text-slate-400":"text-slate-500"} text-sm`},"Selecciona un cupón para aplicar el descuento a tu compra.")),e.createElement("div",{className:`p-8 space-y-4 max-h-[50vh] overflow-y-auto custom-scrollbar transition-colors duration-300 ${o?"bg-[#050505]":"bg-white"}`},t.length===0?e.createElement("div",{className:`text-center py-12 border-2 border-dashed rounded-2xl transition-colors duration-300 ${o?"border-slate-800":"border-slate-200"}`},e.createElement(Pt,{className:`w-16 h-16 mx-auto mb-4 transition-colors duration-300 ${o?"text-slate-700":"text-slate-300"}`}),e.createElement("p",{className:`font-bold text-lg transition-colors duration-300 ${o?"text-slate-400":"text-slate-500"}`},"No tienes cupones disponibles."),e.createElement("p",{className:`transition-colors duration-300 ${o?"text-slate-600":"text-slate-400"} text-sm mt-2`},"Mantente atento a nuestras redes sociales.")):t.map(s=>{let r=_e>=(s.minPurchase||0);return e.createElement("div",{key:s.id,onClick:()=>r&&Hr(s),className:`relative overflow-hidden rounded-2xl border transition-all duration-300 group ${r?o?"bg-slate-900 border-slate-700 hover:border-purple-500 cursor-pointer hover:shadow-[0_0_20px_rgba(168,85,247,0.15)] hover:scale-[1.02]":"bg-white border-slate-200 hover:border-purple-500 cursor-pointer hover:shadow-xl hover:scale-[1.02]":o?"bg-slate-900/50 border-slate-800 opacity-50 cursor-not-allowed grayscale":"bg-slate-50 border-slate-100 opacity-50 cursor-not-allowed grayscale"}`},e.createElement("div",{className:`absolute top-0 left-0 w-2 h-full transition-colors duration-300 ${r?"bg-purple-500":o?"bg-slate-700":"bg-slate-300"}`}),e.createElement("div",{className:"p-5 pl-8 flex justify-between items-center"},e.createElement("div",{className:"flex-1"},e.createElement("div",{className:"flex items-center gap-3 mb-2"},e.createElement("span",{className:`font-black text-xl tracking-widest font-mono transition-colors duration-300 ${o?"text-white":"text-slate-900"}`},s.code),e.createElement("span",{className:`text-[10px] px-2 py-0.5 rounded border uppercase font-bold transition-colors duration-300 ${o?"bg-purple-900/30 text-purple-300 border-purple-500/30":"bg-purple-50 text-purple-600 border-purple-200"}`},s.type==="fixed"?"DESCUENTO FIJO":"PORCENTAJE")),e.createElement("p",{className:`font-bold text-sm transition-colors duration-300 ${o?"text-purple-400":"text-purple-600"}`},s.type==="fixed"?`Ahorra $${s.value}`:`${s.value}% de Descuento`,s.maxDiscount>0&&e.createElement("span",{className:`transition-colors duration-300 ${o?"text-slate-500":"text-slate-400"} text-xs ml-1 font-normal`},"(Tope $",s.maxDiscount,")")),s.minPurchase>0&&e.createElement("p",{className:`text-xs mt-3 font-bold flex items-center gap-1 transition-colors duration-300 ${r?o?"text-slate-500":"text-slate-400":"text-red-400"}`},r?e.createElement(Q,{className:"w-3 h-3"}):e.createElement(Lt,{className:"w-3 h-3"}),"Compra mínima: $",s.minPurchase)),r&&e.createElement("div",{className:"w-10 h-10 rounded-full bg-purple-600 flex items-center justify-center text-white shadow-lg transform group-hover:scale-110 transition ml-4"},e.createElement(Ie,{className:"w-6 h-6"}))))}))))},ml=()=>{if(!J)return null;let[t,s]=v(1),[r,l]=v(!1),i=J.isPromo||!!J.items,n=Number(J.stock),u=te.find(L=>L.product.id===J.id),g=u?u.quantity:0,p=Math.max(0,n-g),f=n>0,C=p===0&&f,w=i?Number(J.price||J.basePrice):Kt(J.basePrice,J.discount),E=L=>{if(L.stopPropagation(),!f)return;let H=i?{id:J.id,name:J.name,basePrice:J.price||J.basePrice,image:J.image,isPromo:!0,items:J.items,stock:J.stock}:J;pt(H,t),l(!0),setTimeout(()=>l(!1),2e3)};return e.createElement("div",{className:"fixed inset-0 z-[20000] flex items-end sm:items-center justify-center bg-black/90 backdrop-blur-xl animate-fade-in p-0 sm:p-4",onClick:()=>qt(null)},e.createElement("div",{className:`border rounded-t-3xl sm:rounded-[2.5rem] max-w-4xl w-full overflow-hidden flex flex-col md:flex-row shadow-2xl animate-scale-up relative max-h-[95dvh] sm:max-h-[90vh] md:max-h-none md:h-auto overflow-y-auto md:overflow-hidden ${o?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`,onClick:L=>L.stopPropagation()},e.createElement("div",{className:`md:w-1/2 h-56 sm:h-72 md:h-[550px] p-4 sm:p-8 md:p-12 flex items-center justify-center relative overflow-hidden group flex-shrink-0 ${o?"bg-gradient-to-b from-slate-900 to-[#0a0a0a]":"bg-gradient-to-b from-slate-100 to-white"}`},e.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white/5 to-transparent opacity-50 group-hover:opacity-100 transition duration-500"}),e.createElement("img",{src:J.image,className:`w-full h-full object-contain z-10 transition-transform duration-700 hover:scale-110 ${o?"drop-shadow-[0_0_50px_rgba(255,255,255,0.15)]":"drop-shadow-[0_0_50px_rgba(0,0,0,0.1)]"}`}),!f&&e.createElement("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-black/40 backdrop-blur-[2px]"},e.createElement("div",{className:"border-4 border-red-500 p-4 -rotate-12 bg-black shadow-2xl"},e.createElement("span",{className:"text-red-500 font-black text-2xl tracking-widest uppercase"},"AGOTADO")))),e.createElement("div",{className:`md:w-1/2 p-5 sm:p-8 md:p-12 flex flex-col ${o?"bg-[#080808]":"bg-white"}`},e.createElement("div",{className:"mb-4 sm:mb-8"},e.createElement("span",{className:`inline-block px-3 py-1 text-[10px] font-black uppercase tracking-[0.2em] rounded mb-3 sm:mb-4 border ${o?"bg-orange-500/10 text-orange-400 border-orange-500/20":"bg-orange-50 text-orange-600 border-orange-200"}`},i?"COMBOS & PROMOCIONES":Array.isArray(J.categories)&&J.categories.length>0?J.categories[0]:J.category||"Sin categoría"),e.createElement("h2",{className:`text-2xl sm:text-3xl md:text-4xl font-black leading-[1.1] mb-3 sm:mb-6 ${o?"text-white neon-text-small":"text-slate-900"}`},J.name),e.createElement("p",{className:`text-xs sm:text-sm md:text-base leading-relaxed line-clamp-3 sm:line-clamp-4 ${o?"text-slate-400":"text-slate-600"}`},J.description||"")),i&&J.items&&e.createElement("div",{className:`mb-8 space-y-3 p-6 rounded-2xl border shadow-inner ${o?"bg-purple-500/5 border-purple-500/20":"bg-purple-50 border-purple-200"}`},e.createElement("p",{className:`text-[10px] uppercase font-black tracking-[0.2em] flex items-center gap-2 ${o?"text-purple-400":"text-purple-600"}`},e.createElement(Tt,{className:"w-3 h-3"})," Este pack incluye:"),e.createElement("div",{className:"space-y-2"},J.items.map((L,H)=>{let Y=I.find(ne=>ne.id===L.productId);return e.createElement("div",{key:H,className:`flex items-center gap-3 text-sm group/item ${o?"text-slate-300":"text-slate-700"}`},e.createElement("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center text-[10px] font-black group-hover/item:text-white transition ${o?"bg-purple-500/20 text-purple-400 group-hover/item:bg-purple-500":"bg-purple-100 text-purple-600 group-hover/item:bg-purple-600"}`},L.quantity,"x"),e.createElement("span",{className:`font-bold transition ${o?"group-hover:text-white":"group-hover:text-slate-900"}`},Y?.name||"Producto del Packs"))}))),e.createElement("div",{className:`mt-auto pt-4 sm:pt-8 border-t flex flex-col gap-4 sm:gap-6 ${o?"border-white/5":"border-slate-100"}`},e.createElement("div",{className:"flex items-end justify-between"},e.createElement("div",{className:"flex flex-col"},e.createElement("span",{className:`text-[10px] sm:text-xs font-bold uppercase tracking-wider mb-1 ${o?"text-slate-500":"text-slate-400"}`},"Inversión Total"),e.createElement("div",{className:"flex items-center gap-2 sm:gap-3"},J.discount>0&&!i&&e.createElement("span",{className:`text-xs sm:text-sm line-through font-bold ${o?"text-slate-600":"text-slate-400"}`},"$",(J.basePrice*t).toLocaleString()),e.createElement("span",{className:`text-2xl sm:text-4xl font-black tracking-tighter ${o?"text-white":"text-slate-900"}`},"$",(w*t).toLocaleString()))),J.discount>0&&!i&&e.createElement("div",{className:"px-3 py-1 bg-red-500 text-white rounded-lg text-[10px] font-black animate-pulse"},"-",J.discount,"% OFF")),e.createElement("div",{className:"flex gap-2 sm:gap-3"},e.createElement("div",{className:`flex items-center gap-1.5 sm:gap-3 rounded-xl sm:rounded-2xl p-1.5 sm:p-2 border ${o?"bg-slate-900 border-slate-800":"bg-slate-100 border-slate-200"}`},e.createElement("button",{onClick:L=>{L.stopPropagation(),s(Math.max(1,t-1))},disabled:t<=1,className:`w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center rounded-lg sm:rounded-xl transition disabled:opacity-30 disabled:cursor-not-allowed ${o?"hover:bg-slate-800 text-slate-400 hover:text-white":"hover:bg-white text-slate-500 hover:text-slate-900"}`},e.createElement(hs,{className:"w-4 h-4 sm:w-5 sm:h-5"})),e.createElement("span",{className:`text-lg sm:text-xl font-bold w-6 sm:w-8 text-center font-mono ${o?"text-white":"text-slate-900"}`},t),e.createElement("button",{onClick:L=>{L.stopPropagation(),s(Math.min(p,t+1))},disabled:t>=p,className:`w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center rounded-lg sm:rounded-xl transition disabled:opacity-30 disabled:cursor-not-allowed ${o?"hover:bg-slate-800 text-slate-400 hover:text-white":"hover:bg-white text-slate-500 hover:text-slate-900"}`},e.createElement(Ie,{className:"w-4 h-4 sm:w-5 sm:h-5"}))),e.createElement("button",{onClick:E,disabled:!f||C,className:`flex-1 py-3.5 sm:py-5 rounded-xl sm:rounded-2xl font-black text-sm sm:text-base transition flex items-center justify-center gap-2 sm:gap-3 shadow-2xl ${r?"bg-green-500 text-white":f&&!C?o?"bg-white text-black hover:bg-orange-400 hover:text-white hover:scale-[1.02] active:scale-[0.98]":"bg-slate-900 text-white hover:bg-orange-600 hover:scale-[1.02] active:scale-[0.98]":o?"bg-slate-900 text-slate-600 border border-slate-800 cursor-not-allowed":"bg-slate-200 text-slate-400 border border-slate-300 cursor-not-allowed"}`},r?e.createElement(e.Fragment,null,e.createElement(Q,{className:"w-5 h-5 sm:w-6 sm:h-6"})," LISTO"):C?e.createElement(e.Fragment,null,e.createElement(Lt,{className:"w-5 h-5 sm:w-6 sm:h-6"})," MAX EN CARRITO"):f?e.createElement(e.Fragment,null,e.createElement(Xt,{className:"w-5 h-5 sm:w-6 sm:h-6"})," AGREGAR"):e.createElement(e.Fragment,null,e.createElement(Lt,{className:"w-5 h-5 sm:w-6 sm:h-6"})," AGOTADO")))),e.createElement("button",{onClick:()=>qt(null),className:`absolute top-4 right-4 md:top-6 md:right-6 p-4 rounded-full transition-all border z-[30] shadow-2xl backdrop-blur-md ${o?"bg-black/60 md:bg-white/5 hover:bg-white/10 text-white md:text-slate-400 hover:text-white border-white/20 md:border-white/5":"bg-white/60 md:bg-slate-900/5 hover:bg-slate-900/10 text-slate-900 md:text-slate-500 hover:text-slate-900 border-slate-200 md:border-slate-900/5"}`,title:"Cerrar detalle"},e.createElement(ue,{className:"w-6 h-6 md:w-5 md:h-5"})))))},pl=()=>{if(!Js)return null;let t=I.find(l=>l.id===z.productId),s=l=>{let i=l.target.value,n=I.find(u=>u.id===i);Ze({...z,productId:i,price:n?Number(n.basePrice):0})};return e.createElement("div",{className:"fixed inset-0 z-[160] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-fade-up",onClick:()=>Vt(!1)},e.createElement("div",{className:`rounded-[2rem] w-full max-w-lg border shadow-2xl relative overflow-hidden transition-colors duration-300 ${o?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`,onClick:l=>l.stopPropagation()},e.createElement("button",{onClick:()=>Vt(!1),className:`absolute top-6 right-6 p-2 rounded-full transition z-10 ${o?"bg-slate-900 text-slate-400 hover:text-white":"bg-slate-100 text-slate-400 hover:text-slate-900"}`},e.createElement(ue,{className:"w-5 h-5"})),e.createElement("div",{className:`p-8 border-b transition-colors duration-300 ${o?"border-slate-800":"border-slate-100"}`},e.createElement("h3",{className:`text-2xl font-black flex items-center gap-3 transition-colors duration-300 ${o?"text-white":"text-slate-900"}`},e.createElement(sa,{className:"w-6 h-6 text-green-400"})," Registrar Venta Manual"),e.createElement("p",{className:`text-sm mt-1 transition-colors duration-300 ${o?"text-slate-500":"text-slate-400"}`},"Para ventas fuera de la plataforma web.")),e.createElement("form",{onSubmit:async l=>{if(l.preventDefault(),!t)return c("Selecciona un producto.","warning");if(z.quantity<=0)return c("Cantidad inválida.","warning");try{let i=Number(t.stock)||0;if(z.quantity>i)return c(`Stock insuficiente (Disponible: ${i}).`,"error");let n=`man-${Date.now().toString().slice(-6)}`,u=z.quantity*z.price,g={orderId:n,userId:"manual_admin",customer:{name:z.customerName||"Cliente Mostrador",email:"offline@store.com",phone:"-",dni:"-"},items:[{productId:t.id,title:t.name,quantity:Number(z.quantity),unit_price:Number(z.price),image:t.image}],subtotal:u,discount:0,total:u,status:"Realizado",date:new Date().toISOString(),shippingAddress:"Entrega Presencial (Offline)",paymentMethod:z.paymentMethod,source:"manual_sale",notes:z.notes};await ze(se(k,"artifacts",d,"public","data","orders"),g),await oe(A(k,"artifacts",d,"public","data","products",t.id),{stock:Zt(-Number(z.quantity))}),c("Venta registrada correctamente.","success"),Vt(!1)}catch(i){console.error(i),c("Error al registrar venta manual.","error")}},className:"p-8 space-y-4"},e.createElement("div",null,e.createElement("label",{className:`text-xs font-bold uppercase tracking-widest block mb-1 transition-colors duration-300 ${o?"text-slate-500":"text-slate-400"}`},"Producto"),e.createElement("select",{className:`w-full rounded-xl p-3 focus:border-green-500 outline-none transition-all duration-300 ${o?"bg-slate-900 border border-slate-700 text-white":"bg-slate-50 border border-slate-200 text-slate-900"}`,value:z.productId,onChange:s},e.createElement("option",{value:""},"-- Seleccionar Producto --"),I.map(l=>e.createElement("option",{key:l.id,value:l.id},l.name," (Stock: ",l.stock,")")))),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:`text-xs font-bold uppercase tracking-widest block mb-1 transition-colors duration-300 ${o?"text-slate-500":"text-slate-400"}`},"Cantidad"),e.createElement("input",{type:"number",min:"1",className:`w-full rounded-xl p-3 focus:border-green-500 outline-none transition-all duration-300 ${o?"bg-slate-900 border border-slate-700 text-white":"bg-slate-50 border border-slate-200 text-slate-900"}`,value:z.quantity,onChange:l=>Ze({...z,quantity:Number(l.target.value)})})),e.createElement("div",null,e.createElement("label",{className:`text-xs font-bold uppercase tracking-widest block mb-1 transition-colors duration-300 ${o?"text-slate-500":"text-slate-400"}`},"Precio Unit. ($)"),e.createElement("input",{type:"number",min:"0",className:`w-full rounded-xl p-3 focus:border-green-500 outline-none transition-all duration-300 ${o?"bg-slate-900 border border-slate-700 text-white":"bg-slate-50 border border-slate-200 text-slate-900"}`,value:z.price,onChange:l=>Ze({...z,price:Number(l.target.value)})}))),e.createElement("div",null,e.createElement("label",{className:`text-xs font-bold uppercase tracking-widest block mb-1 transition-colors duration-300 ${o?"text-slate-500":"text-slate-400"}`},"Cliente / Notas"),e.createElement("input",{className:`w-full rounded-xl p-3 focus:border-green-500 outline-none transition-all duration-300 ${o?"bg-slate-900 border border-slate-700 text-white":"bg-slate-50 border border-slate-200 text-slate-900"}`,value:z.customerName,onChange:l=>Ze({...z,customerName:l.target.value})})),e.createElement("div",null,e.createElement("label",{className:`text-xs font-bold uppercase tracking-widest block mb-1 transition-colors duration-300 ${o?"text-slate-500":"text-slate-400"}`},"Método de Pago"),e.createElement("select",{className:`w-full rounded-xl p-3 focus:border-green-500 outline-none transition-all duration-300 ${o?"bg-slate-900 border border-slate-700 text-white":"bg-slate-50 border border-slate-200 text-slate-900"}`,value:z.paymentMethod,onChange:l=>Ze({...z,paymentMethod:l.target.value})},e.createElement("option",{value:"Efectivo"},"Efectivo"),e.createElement("option",{value:"Transferencia"},"Transferencia"),e.createElement("option",{value:"Tarjeta"},"Tarjeta (POS)"))),e.createElement("button",{type:"submit",className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-4 rounded-xl shadow-lg shadow-green-900/20 transition transform hover:-translate-y-1 mt-4"},"REGISTRAR VENTA"))))},ul=()=>{let[t,s]=v("monthly");if(!pa)return null;let r=V.analytics[t]||[],l=pa.type==="revenue"?"Ingresos Brutos":"Beneficio Neto",i=pa.type==="revenue"?"text-green-400":"text-orange-400",n=[...r].sort((p,f)=>f.revenue-p.revenue),u=n[0],g=n[n.length-1];return e.createElement("div",{className:"fixed inset-0 z-[160] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-fade-up",onClick:()=>Ks(null)},e.createElement("div",{className:`rounded-[2.5rem] w-full max-w-4xl max-h-[90vh] flex flex-col border shadow-2xl relative overflow-hidden transition-colors duration-300 ${o?"bg-[#050505] border-slate-800":"bg-white border-slate-200"}`,onClick:p=>p.stopPropagation()},e.createElement("div",{className:`p-8 border-b flex justify-between items-center ${o?"border-slate-800 bg-slate-900/20":"border-slate-100 bg-slate-50/50"}`},e.createElement("div",null,e.createElement("h3",{className:`text-3xl font-black ${i} flex items-center gap-3`},e.createElement(Ml,{className:"w-8 h-8"})," ",l," - Analítica"),e.createElement("p",{className:"text-slate-500 text-sm mt-1"},"Desglose detallado de tu rendimiento.")),e.createElement("button",{onClick:()=>Ks(null),className:`p-3 rounded-full transition border ${o?"bg-slate-900 text-slate-400 hover:text-white border-slate-700":"bg-slate-100 text-slate-500 hover:text-slate-900 border-slate-200"}`},e.createElement(ue,{className:"w-5 h-5"}))),e.createElement("div",{className:`p-6 flex gap-4 border-b justify-center ${o?"bg-slate-900/10 border-slate-800/50":"bg-slate-50/50 border-slate-100"}`},["daily","monthly","yearly"].map(p=>e.createElement("button",{key:p,onClick:()=>s(p),className:`px-6 py-2 rounded-full text-xs font-black uppercase tracking-widest transition ${t===p?o?"bg-slate-100 text-black":"bg-slate-900 text-white":o?"bg-slate-900 text-slate-500 hover:text-white border border-slate-800":"bg-white text-slate-400 hover:text-slate-600 border border-slate-200"}`},p==="daily"?"Diario":p==="monthly"?"Mensual":"Anual"))),e.createElement("div",{className:`grid grid-cols-2 gap-4 p-6 ${o?"bg-slate-900/5":"bg-slate-50/30"}`},e.createElement("div",{className:`border p-4 rounded-2xl flex items-center gap-4 ${o?"bg-green-900/10 border-green-500/20":"bg-green-50 border-green-100"}`},e.createElement("div",{className:`p-3 rounded-xl ${o?"bg-green-500/20 text-green-400":"bg-green-100 text-green-600"}`},e.createElement(bs,{className:"w-6 h-6"})),e.createElement("div",null,e.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Mejor Periodo"),e.createElement("p",{className:`${o?"text-green-400":"text-green-600"} font-black text-lg`},u?`$${u.revenue.toLocaleString()}`:"-"),e.createElement("p",{className:"text-[10px] text-slate-500 font-mono"},u?.date||"-"))),e.createElement("div",{className:`border p-4 rounded-2xl flex items-center gap-4 ${o?"bg-red-900/10 border-red-500/20":"bg-red-50 border-red-100"}`},e.createElement("div",{className:`p-3 rounded-xl ${o?"bg-red-500/20 text-red-400":"bg-red-100 text-red-600"}`},e.createElement(gs,{className:"w-6 h-6"})),e.createElement("div",null,e.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Peor Periodo"),e.createElement("p",{className:`${o?"text-red-400":"text-red-600"} font-black text-lg`},g?`$${g.revenue.toLocaleString()}`:"-"),e.createElement("p",{className:"text-[10px] text-slate-500 font-mono"},g?.date||"-")))),e.createElement("div",{className:"flex-1 p-6 relative flex items-end justify-between gap-2 overflow-x-auto custom-scrollbar"},r.length===0?e.createElement("div",{className:`w-full text-center my-auto transition-colors duration-300 ${o?"text-slate-500":"text-slate-400"}`},"No hay datos para mostrar el gráfico."):(()=>{let p=Math.max(...r.map(f=>f.revenue),1);return r.slice().map((f,C)=>{let w=f.revenue/p*100;return e.createElement("div",{key:C,className:`flex flex-col items-center justify-end h-full gap-2 group min-w-[60px] cursor-pointer rounded-xl p-1 transition-all ${o?"hover:bg-slate-900/30":"hover:bg-slate-100"}`},e.createElement("div",{className:`opacity-0 group-hover:opacity-100 absolute bottom-full mb-2 border px-3 py-2 rounded-xl pointer-events-none transition z-50 shadow-xl max-w-[min(240px,70vw)] whitespace-normal break-words ${o?"bg-slate-900 border-slate-700":"bg-white border-slate-200"}`},e.createElement("p",{className:`font-bold ${o?"text-white":"text-slate-900"}`},f.date),e.createElement("p",{className:`font-black ${i}`},"$",f.revenue.toLocaleString()),e.createElement("p",{className:`text-[10px] ${o?"text-slate-500":"text-slate-400"}`},f.orders," Pedidos")),e.createElement("div",{className:`w-4 bg-gradient-to-t rounded-t-full relative transition-all duration-500 group-hover:w-6 group-hover:brightness-125 ${pa.type==="revenue"?o?"from-green-900/50 to-green-500":"from-green-200 to-green-600":o?"from-orange-900/50 to-orange-500":"from-orange-200 to-orange-600"}`,style:{height:`${Math.max(w,5)}%`}},e.createElement("div",{className:`absolute top-0 left-0 right-0 h-4 rounded-full blur-md opacity-20 ${pa.type==="revenue"?"bg-green-400":"bg-orange-400"}`})),e.createElement("p",{className:`text-[10px] font-bold -rotate-45 group-hover:rotate-0 transition origin-center mt-2 truncate w-full text-center ${o?"text-slate-600 group-hover:text-white":"text-slate-400 group-hover:text-slate-900"}`},t==="monthly"||t==="daily"?f.date.slice(5):f.date))})})())))},bl=({cartItems:t,isLoading:s})=>s?e.createElement("div",{className:"py-20 flex flex-col items-center gap-4 opacity-50"},e.createElement(Et,{className:"w-8 h-8 animate-spin text-orange-400"}),e.createElement("p",{className:`text-xs font-black tracking-widest transition-colors duration-300 ${o?"text-slate-500":"text-slate-400"}`},"SINCRONIZANDO DATOS...")):t.length===0?e.createElement("div",{className:"py-20 text-center flex flex-col items-center gap-6"},e.createElement("div",{className:`p-6 rounded-full border transition-colors duration-300 ${o?"bg-white/5 border-white/5":"bg-slate-100 border-slate-200"}`},e.createElement(Xt,{className:`w-12 h-12 transition-colors duration-300 ${o?"text-slate-700":"text-slate-300"}`})),e.createElement("p",{className:`text-sm font-black uppercase tracking-widest italic transition-colors duration-300 ${o?"text-slate-500":"text-slate-400"}`},"No hay productos activos")):e.createElement(e.Fragment,null,e.createElement("div",{className:"flex justify-between items-center px-2"},e.createElement("p",{className:`text-[10px] font-black uppercase tracking-widest transition-colors duration-300 ${o?"text-slate-500":"text-slate-400"}`},"Contenido del Carrito"),e.createElement("p",{className:"text-xs font-bold text-orange-400 bg-orange-400/10 px-3 py-1 rounded-full"},t.length," ITEMS")),e.createElement("div",{className:"space-y-3"},t.map((r,l)=>e.createElement("div",{key:l,className:`border p-4 rounded-2xl flex gap-4 transition group animate-fade-up transition-colors duration-300 ${o?"bg-white/[0.03] border-white/10 hover:bg-white/[0.05] hover:border-orange-500/20":"bg-slate-50 border-slate-100 hover:bg-slate-100 hover:border-orange-200"}`,style:{animationDelay:`${l*.05}s`}},e.createElement("div",{className:`w-16 h-16 rounded-xl overflow-hidden shadow-inner border flex-shrink-0 transition-colors duration-300 ${o?"bg-[#0a0a0a] border-white/5":"bg-white border-slate-200"}`},e.createElement("img",{src:r.image||"https://images.unsplash.com/photo-1581404917879-53e19259fdda?w=100",alt:r.name||"Producto",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})),e.createElement("div",{className:"flex-1 flex flex-col justify-center"},e.createElement("p",{className:`font-bold text-sm leading-tight mb-1 transition-colors duration-300 ${o?"text-white":"text-slate-900"}`},r.name),e.createElement("div",{className:"flex justify-between items-center"},e.createElement("p",{className:"text-xs transition-colors duration-300 text-slate-500"},"Cant: ",e.createElement("span",{className:`font-mono font-bold transition-colors duration-300 ${o?"text-white":"text-slate-900"}`},r.quantity)),e.createElement("p",{className:"text-orange-400 font-black font-mono text-xs"},"$",Number(r.price).toLocaleString())))))),e.createElement("div",{className:`pt-6 border-t transition-colors duration-300 ${o?"border-white/5":"border-slate-100"}`},e.createElement("div",{className:`flex justify-between items-center p-6 rounded-2xl border transition-colors duration-300 ${o?"bg-orange-500/5 border-orange-500/20":"bg-orange-50 border-orange-100"}`},e.createElement("p",{className:`font-bold transition-colors duration-300 ${o?"text-slate-400":"text-slate-500"}`},"Valor Total"),e.createElement("p",{className:`text-2xl font-black font-mono transition-colors duration-300 ${o?"text-white":"text-slate-900"}`},"$",t.reduce((r,l)=>r+Number(l.price)*l.quantity,0).toLocaleString())))),gl=({user:t,currentUser:s,initialData:r,onSubmit:l,onDelete:i,isSaving:n})=>{let[u,g]=v(r),f=t.email==="lautarocorazza63@gmail.com";return X(()=>{g(r)},[r]),e.createElement("form",{onSubmit:w=>{w.preventDefault(),l(u)},className:"space-y-8 animate-fade-in"},e.createElement("div",{className:"space-y-6"},e.createElement("p",{className:`text-[10px] font-black uppercase tracking-widest flex items-center gap-2 transition-colors duration-300 ${o?"text-slate-500":"text-slate-400"}`},e.createElement(xt,{className:"w-3 h-3"})," Datos Identidad"),e.createElement("div",{className:"grid grid-cols-1 gap-6"},e.createElement("div",null,e.createElement("input",{className:`w-full p-4 text-sm transition-all duration-300 ${o?"input-cyber":"bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 text-slate-900 placeholder:text-slate-400"}`,placeholder:"Nombre Completo",value:u.name,onChange:w=>g({...u,name:w.target.value}),required:!0})),e.createElement("div",null,e.createElement("input",{className:`w-full p-4 text-sm font-mono transition-all duration-300 ${o?"input-cyber":"bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 text-slate-900 placeholder:text-slate-400"}`,placeholder:"Username / Alias",value:u.username,onChange:w=>g({...u,username:w.target.value})})),e.createElement("div",null,e.createElement("input",{className:`w-full p-4 text-sm font-mono transition-all duration-300 ${o?"input-cyber":"bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 text-slate-900 placeholder:text-slate-400"} ${f?"opacity-50 cursor-not-allowed":""}`,placeholder:"Email de la cuenta (Principal)",value:u.email,onChange:w=>g({...u,email:w.target.value}),required:!0,disabled:f,title:f?"No se puede modificar el email del Super Admin":""})),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("input",{className:`w-full p-4 text-sm font-mono transition-all duration-300 ${o?"input-cyber":"bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 text-slate-900 placeholder:text-slate-400"}`,placeholder:"DNI",value:u.dni,onChange:w=>g({...u,dni:w.target.value})}),e.createElement("input",{className:`w-full p-4 text-sm font-mono transition-all duration-300 ${o?"input-cyber":"bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 text-slate-900 placeholder:text-slate-400"}`,placeholder:"Teléfono",value:u.phone,onChange:w=>g({...u,phone:w.target.value})})))),e.createElement("div",{className:"space-y-6 pt-4"},e.createElement("p",{className:`text-[10px] font-black uppercase tracking-widest flex items-center gap-2 transition-colors duration-300 ${o?"text-slate-500":"text-slate-400"}`},e.createElement(Ye,{className:"w-3 h-3"})," Seguridad & Rol"),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:`flex p-1.5 rounded-2xl border transition-all duration-300 ${o?"bg-slate-900/50 border-white/5":"bg-slate-100 border-slate-200"} ${f?"opacity-50 pointer-events-none":""}`},["user","editor","admin"].map(w=>e.createElement("button",{key:w,type:"button",onClick:()=>g({...u,role:w}),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${u.role===w?o?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20":"bg-white text-indigo-600 shadow-sm":o?"text-slate-500 hover:text-slate-300":"text-slate-400 hover:text-slate-600"}`},w))),f&&e.createElement("p",{className:"text-[9px] text-orange-400 mt-1 ml-1"},"Rol de Super Admin inmutable."))),e.createElement("div",{className:"space-y-4 pt-6"},e.createElement("button",{type:"submit",disabled:n,className:"w-full py-5 bg-gradient-to-r from-indigo-600 to-orange-600 hover:from-indigo-500 hover:to-orange-500 text-white font-black rounded-2xl shadow-xl transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50"},n?e.createElement(Et,{className:"w-6 h-6 animate-spin"}):e.createElement(It,{className:"w-6 h-6"}),"SINCRONIZAR CAMBIOS"),!f&&e.createElement("button",{type:"button",onClick:i,className:"w-full py-4 border border-red-500/30 bg-red-500/5 text-red-500 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-red-500/10 transition flex items-center justify-center gap-2"},e.createElement(de,{className:"w-4 h-4"})," Eliminar Cuenta Permanente")))},xl=()=>{let[t,s]=v([]),[r,l]=v(!1),[i,n]=v(!1),u=es||ts||Xs,g=es?"cart":ts?"password":"edit",p=es||ts||Xs,[f,C]=v({name:"",username:"",email:"",phone:"",dni:"",role:"user",newPassword:""});X(()=>{u&&p&&(g==="cart"&&(async()=>{l(!0);try{let Y=await tt(A(k,"artifacts",d,"public","data","carts",p.id));s(Y.exists()?Y.data().items||[]:[])}catch{s([])}l(!1)})(),C({name:p.name||"",username:p.username||"",email:p.email||"",phone:p.phone||"",dni:p.dni||"",role:p.role||"user",newPassword:""}))},[u,p,g]);let w=()=>{Ys(null),Qs(null),Zs(null)},E=async H=>{n(!0);try{if(!R.currentUser||R.currentUser.isAnonymous)throw new Error("Sesión inválida");let Y=await R.currentUser.getIdToken(),ne={};if(H.email!==p.email&&(ne.email=H.email),H.newPassword&&(ne.password=H.newPassword),Object.keys(ne).length>0){let We=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":d||"",Authorization:`Bearer ${Y}`},body:JSON.stringify({action:"update",uid:p.id,...ne})}),Ct=await We.json();if(!We.ok)throw new Error(Ct.error)}let He={name:H.name,username:H.username,email:H.email,emailLower:H.email.toLowerCase(),phone:H.phone,dni:H.dni,role:H.role,lastModifiedBy:h.email,updatedAt:new Date().toISOString()};await oe(A(k,"artifacts",d,"public","data","users",p.id),He),h&&h.id===p.id&&Ne(We=>({...We,...He})),c("Perfil de usuario actualizado correctamente.","success"),w()}catch(Y){console.error(Y),c(Y.message||"Error al actualizar perfil.","error")}n(!1)},L=async()=>{if(p.email===h.email)return c("Autoprotección activa: No puedes eliminar tu propia cuenta.","warning");Se("ELIMINAR USUARIO",`¿Estás seguro de eliminar a ${p.name}? Esta acción es irreversible y borrará su acceso y datos.`,async()=>{n(!0);try{if(!R.currentUser||R.currentUser.isAnonymous)throw new Error("Sesión inválida");let H=await R.currentUser.getIdToken();if(!(await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":d||"",Authorization:`Bearer ${H}`},body:JSON.stringify({action:"delete",uid:p.id})})).ok)throw new Error("Error eliminando acceso de Auth");await Ke(A(k,"artifacts",d,"public","data","users",p.id)),c("Usuario eliminado definitivamente.","success"),w()}catch(H){console.error(H),c("Fallo al eliminar usuario.","error")}n(!1)})};return u?e.createElement("div",{className:"fixed inset-0 z-[1000] flex justify-end animate-fade-in pointer-events-none"},e.createElement("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm pointer-events-auto",onClick:w}),e.createElement("div",{className:`w-full max-w-xl border-l shadow-[-20px_0_50px_rgba(0,0,0,0.5)] flex flex-col h-full pointer-events-auto relative overflow-hidden animate-slide-left transition-colors duration-300 ${o?"bg-[#0a0a0a] border-white/10":"bg-white border-slate-200"}`},e.createElement("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-purple-600 via-orange-500 to-pink-600"}),e.createElement("div",{className:`p-8 border-b flex justify-between items-center transition-colors duration-300 ${o?"border-white/5 bg-white/[0.02]":"border-slate-100 bg-slate-50/50"}`},e.createElement("div",null,e.createElement("h2",{className:`text-xl font-black tracking-widest uppercase transition-colors duration-300 ${o?"text-white":"text-slate-900"}`},g==="cart"?"Auditoría de Carrito":"Configurar Cuenta"),e.createElement("p",{className:`text-[10px] font-bold mt-1 tracking-widest flex items-center gap-2 transition-colors duration-300 ${o?"text-slate-500":"text-slate-400"}`},e.createElement("span",{className:"w-1.5 h-1.5 rounded-full bg-orange-400 animate-pulse"}),"ID: ",p.id.slice(-8).toUpperCase()," • ",p.email)),e.createElement("button",{onClick:w,className:`p-3 rounded-2xl transition-all border group ${o?"bg-white/5 hover:bg-white/10 border-white/5":"bg-slate-100 hover:bg-slate-200 border-slate-200"}`},e.createElement(ue,{className:`w-5 h-5 transition-colors duration-300 ${o?"text-slate-400 group-hover:text-white":"text-slate-500 group-hover:text-slate-900"}`}))),e.createElement("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar space-y-8"},g==="cart"&&e.createElement(bl,{cartItems:t,isLoading:r}),(g==="edit"||g==="password")&&e.createElement(gl,{user:p,currentUser:h,initialData:f,onSubmit:E,onDelete:L,isSaving:i})))):null};if(Ss&&m==="store"){let t=a?.primaryColor||"#f97316";return e.createElement("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#050505] text-white px-4"},e.createElement("div",{className:"relative"},e.createElement("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-full border-4 border-slate-800 animate-spin",style:{borderTopColor:t}}),e.createElement("div",{className:"absolute inset-0 flex items-center justify-center"},e.createElement(Be,{className:"w-6 h-6 sm:w-8 sm:h-8 animate-pulse",style:{color:t}}))),e.createElement("h1",{className:"text-xl sm:text-2xl md:text-3xl font-black tracking-[0.1em] sm:tracking-[0.2em] md:tracking-[0.3em] mt-6 sm:mt-8 animate-pulse text-center max-w-[90vw]",style:{color:t,textShadow:`0 0 20px ${t}40`}},a?.loadingTitle||a?.storeName||""),e.createElement("p",{className:"text-slate-500 text-xs sm:text-sm mt-3 sm:mt-4 font-mono uppercase tracking-wider sm:tracking-widest text-center"},a?.loadingText||"Cargando sistema..."))}if(a?.maintenanceMode&&!ba(h?.email))return e.createElement("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#050505] text-white p-4 sm:p-6 text-center"},e.createElement("div",{className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 bg-red-900/20 text-red-500 rounded-full flex items-center justify-center mb-6 sm:mb-8 border border-red-900/50 animate-pulse"},e.createElement(jt,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12"})),e.createElement("h1",{className:"text-xl sm:text-2xl md:text-4xl font-black mb-3 sm:mb-4 tracking-tight uppercase"},"Sistema en Mantenimiento"),e.createElement("p",{className:"text-slate-400 max-w-sm sm:max-w-md mx-auto leading-relaxed text-sm sm:text-base"},"Estamos realizando mejoras para brindarte una experiencia premium. ¡Te mandamos un saludo y esperamos que vuelvas prontamente!"),e.createElement("div",{className:"mt-8 sm:mt-12 pt-8 sm:pt-12 border-t border-slate-900 w-full max-w-xs"},e.createElement("p",{className:"text-[10px] sm:text-xs text-slate-600 font-mono italic"},a?.storeName||""," - Modo Mantenimiento Activo")));let ns=I.filter(t=>{if(t.isActive===!1)return!1;let s=(t.name||"").toLowerCase().includes(Fa.toLowerCase());if(ve==="Promos")return!1;if(ve==="Ofertas")return s&&t.discount>0;let r=ve===""?!0:Array.isArray(t.categories)?t.categories.includes(ve):t.category?t.category.trim()===ve:!1;return s&&r}).sort((t,s)=>{if(t.isFeatured&&!s.isFeatured)return-1;if(!t.isFeatured&&s.isFeatured)return 1;let r=V?.salesCount?.[t.id]||0;return(V?.salesCount?.[s.id]||0)-r});return e.createElement("div",{className:`min-h-screen flex flex-col relative w-full bg-grid font-sans selection:bg-orange-500/30 selection:text-orange-200 transition-colors duration-300 ${o?"bg-[#050505]":"bg-slate-50"}`},m==="store"&&h?.role==="admin"&&e.createElement("div",{className:"fixed bottom-4 left-4 z-[9999] bg-black/80 text-green-400 font-mono text-xs p-2 rounded border border-green-900 pointer-events-none"},"[DEBUG] Total: ",I.length," | Filtro: ",ns.length," | Cat: ",ve||"ALL"),e.createElement("div",{className:"fixed inset-0 pointer-events-none z-0"},e.createElement("div",{className:"absolute top-[-10%] left-[-10%] w-[60%] h-[60%] bg-purple-900/5 rounded-full blur-[150px] animate-pulse-slow"}),e.createElement("div",{className:"absolute bottom-[-10%] right-[-10%] w-[60%] h-[60%] bg-orange-900/5 rounded-full blur-[150px] animate-pulse-slow"})),e.createElement("div",{className:"fixed top-24 right-4 z-[20001] space-y-3 pointer-events-none"},e.createElement("div",{className:"pointer-events-auto space-y-3"},Yo.map(t=>e.createElement(ti,{key:t.id,message:t.message,type:t.type,onClose:()=>Ar(t.id)})))),be.status!=="resolved"&&e.createElement("div",{className:"fixed inset-0 z-[10000] bg-black/80 backdrop-blur-xl flex items-center justify-center p-4"},e.createElement("div",{className:"w-full max-w-xl rounded-3xl border border-white/10 bg-[#050505] p-8 shadow-2xl"},be.status==="resolving"?e.createElement("div",{className:"flex items-center gap-4"},e.createElement(Et,{className:"w-7 h-7 animate-spin text-orange-500"}),e.createElement("div",null,e.createElement("p",{className:"text-white font-black text-xl tracking-tight"},"Detectando tienda…"),e.createElement("p",{className:"text-slate-500 text-sm font-mono"},be.normalizedHostname||be.hostname))):e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"space-y-2"},e.createElement("p",{className:"text-white font-black text-2xl tracking-tight"},"Tienda no configurada"),e.createElement("p",{className:"text-slate-500 text-sm font-mono"},"Dominio: ",be.normalizedHostname||be.hostname)),!le||le.isAnonymous?e.createElement("div",{className:"space-y-4"},e.createElement("p",{className:"text-slate-400 text-sm"},"Iniciá sesión para configurar este dominio."),e.createElement("button",{onClick:()=>b("login"),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-orange-600 to-purple-600 text-white font-black uppercase tracking-widest text-xs hover:from-orange-500 hover:to-purple-500 transition"},"Iniciar sesión")):Dr?e.createElement("div",{className:"space-y-5"},e.createElement("div",{className:"space-y-3"},e.createElement("p",{className:"text-slate-300 text-sm"},"Elegí cómo querés vincular este dominio:"),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3"},e.createElement("button",{disabled:_a,onClick:async()=>{Dt(!0);try{let t=Mr();await rs(t),c(`Dominio vinculado a ${t}`,"success")}catch(t){c(t?.message||"No se pudo crear la tienda","error")}Dt(!1)},className:"py-4 rounded-2xl bg-white/5 border border-white/10 text-white font-black text-[10px] uppercase tracking-widest hover:bg-white/10 transition disabled:opacity-50"},"Crear tienda nueva"),e.createElement("button",{disabled:_a,onClick:async()=>{Dt(!0);try{await rs(Rt),c(`Dominio vinculado a ${Rt}`,"success")}catch(t){c(t?.message||"No se pudo vincular","error")}Dt(!1)},className:"py-4 rounded-2xl bg-orange-500/10 border border-orange-500/20 text-orange-400 font-black text-[10px] uppercase tracking-widest hover:bg-orange-500/20 transition disabled:opacity-50"},"Usar tienda default"))),e.createElement("div",{className:"space-y-3"},e.createElement("p",{className:"text-slate-500 text-xs font-mono"},"O pegá un storeId existente:"),e.createElement("div",{className:"flex gap-2"},e.createElement("input",{value:Ma,onChange:t=>Jo(t.target.value),className:"input-cyber flex-1 p-4 text-sm font-mono",placeholder:"storeId (ej: cliente-abc123)"}),e.createElement("button",{disabled:_a||!Ma.trim(),onClick:async()=>{Dt(!0);try{await rs(Ma.trim()),c("Dominio vinculado","success")}catch(t){c(t?.message||"No se pudo vincular","error")}Dt(!1)},className:"px-5 rounded-2xl bg-indigo-600 text-white font-black text-[10px] uppercase tracking-widest hover:bg-indigo-500 transition disabled:opacity-50"},"Vincular")))):e.createElement("div",{className:"space-y-3"},e.createElement("p",{className:"text-slate-400 text-sm"},"Este dominio solo puede registrarlo el Super Admin."),e.createElement("p",{className:"text-slate-600 text-xs font-mono"},"Sesión: ",le?.email||le?.uid))))),e.createElement(dl,{order:vr,onClose:()=>Vs(null)}),e.createElement(cl,null),e.createElement(ml,null),m!=="admin"&&e.createElement("nav",{className:`fixed top-0 w-full h-14 sm:h-16 md:h-20 z-50 px-2 sm:px-4 md:px-8 lg:px-12 flex items-center justify-between backdrop-blur-xl transition-all duration-300 ${o?"glass border-b border-slate-800/50":"bg-white/95 border-b border-slate-200 shadow-sm"}`},e.createElement("div",{className:"flex items-center gap-2 sm:gap-6"},e.createElement("button",{onClick:()=>j(!0),className:`p-2 sm:p-3 rounded-lg sm:rounded-xl transition border group ${o?"bg-slate-900/50 text-slate-300 hover:text-white hover:bg-slate-800 border-slate-700/50":"bg-slate-100 text-slate-600 hover:text-slate-900 hover:bg-slate-200 border-slate-200"}`},e.createElement(uo,{className:"w-5 h-5 sm:w-6 sm:h-6 group-hover:scale-110 transition"})),e.createElement("div",{className:"cursor-pointer group flex items-center gap-2 sm:gap-3",onClick:()=>b("store")},a?.logoUrl&&e.createElement("div",{className:`w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 rounded-full overflow-hidden border-2 bg-white p-0.5 flex-shrink-0 shadow-lg group-hover:border-orange-500 transition-colors duration-300 ${o?"border-slate-800":"border-slate-200"}`},e.createElement("img",{src:a.logoUrl,alt:"Logo",className:"w-full h-full object-cover rounded-full"})),e.createElement("div",{className:"flex flex-col"},e.createElement("span",{className:`text-xl sm:text-2xl md:text-4xl font-black tracking-tighter italic group-hover:text-orange-500 transition-all duration-300 leading-none ${o?"text-white":"text-slate-900"}`},ye?a?.storeName||"":e.createElement("span",{className:`inline-block h-6 sm:h-8 w-20 sm:w-32 rounded animate-pulse ${o?"bg-slate-700/50":"bg-slate-200"}`})),e.createElement("div",{className:"h-0.5 sm:h-1 w-1/2 bg-orange-500 rounded-full group-hover:w-full transition-all duration-500 mt-0.5 sm:mt-1 shadow-sm"})))),e.createElement("div",{className:`hidden lg:flex items-center rounded-2xl px-6 py-3 w-1/3 transition shadow-inner group ${o?"bg-slate-900/50 border border-slate-700/50 focus-within:border-orange-500/50 focus-within:bg-slate-900":"bg-slate-100 border border-slate-200 focus-within:border-orange-400 focus-within:bg-white focus-within:shadow-md"}`},e.createElement(ms,{className:`w-5 h-5 mr-3 group-focus-within:text-orange-500 transition ${o?"text-slate-400":"text-slate-500"}`}),e.createElement("input",{className:`bg-transparent outline-none text-sm w-full font-medium ${o?"text-white placeholder-slate-500":"text-slate-900 placeholder-slate-400"}`,placeholder:"¿Qué estás buscando hoy?",value:Fa,onChange:t=>Ms(t.target.value)})),e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"hidden md:flex items-center gap-2"},a?.showWhatsapp!==!1&&a?.whatsappLink&&e.createElement("button",{onClick:()=>window.open(a?.whatsappLink,"_blank"),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-green-900/10 text-green-400 hover:bg-green-500 hover:text-white border border-green-500/20 transition font-bold text-sm hover:shadow-[0_0_15px_rgba(34,197,94,0.3)]"},e.createElement(At,{className:"w-5 h-5"})," WhatsApp"),a?.showInstagram!==!1&&a?.instagramLink&&e.createElement("button",{onClick:()=>window.open(a?.instagramLink,"_blank"),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-pink-900/10 text-pink-400 hover:bg-pink-500 hover:text-white border border-pink-500/20 transition font-bold text-sm hover:shadow-[0_0_15px_rgba(236,72,153,0.3)]"},e.createElement(Ta,{className:"w-5 h-5"})," Instagram")),e.createElement("button",{onClick:()=>ce(!o),className:`relative p-2 sm:p-2.5 rounded-lg sm:rounded-xl transition group overflow-hidden border ${o?"bg-slate-900/50 text-yellow-400 hover:bg-slate-800 border-slate-700/50":"bg-yellow-50 text-yellow-600 hover:bg-yellow-100 border-yellow-200"}`,title:o?"Activar modo claro":"Activar modo oscuro"},e.createElement("div",{className:`transform transition-all duration-500 ${o?"rotate-0 scale-100":"rotate-180 scale-0 absolute"}`},e.createElement(zl,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:scale-110 transition"})),e.createElement("div",{className:`transform transition-all duration-500 ${o?"-rotate-180 scale-0 absolute":"rotate-0 scale-100"}`},e.createElement(_l,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:scale-110 transition"}))),e.createElement("button",{onClick:()=>b("cart"),className:`relative p-2 sm:p-2.5 rounded-lg sm:rounded-xl transition group border ${o?"bg-slate-900/50 text-slate-300 hover:text-white hover:bg-slate-800 border-slate-700/50 hover:border-orange-500/30":"bg-slate-100 text-slate-600 hover:text-slate-900 hover:bg-slate-200 border-slate-200 hover:border-orange-400"}`},e.createElement(gt,{className:"w-5 h-5 sm:w-6 sm:h-6 group-hover:scale-110 transition"}),te.length>0&&e.createElement("span",{className:`absolute -top-1.5 -right-1.5 sm:-top-2 sm:-right-2 bg-orange-500 text-white text-[9px] sm:text-[10px] font-black w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center shadow-lg border-2 animate-bounce-short ${o?"border-[#050505]":"border-white"}`},te.length)),h&&h.id&&h.email&&h.name?e.createElement("button",{onClick:()=>b("profile"),className:`flex items-center gap-2 sm:gap-3 pl-2 pr-3 sm:pr-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl border transition group ${o?"bg-slate-900/50 border-slate-700/50 hover:border-orange-500/50":"bg-slate-100 border-slate-200 hover:border-orange-400"}`},e.createElement("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center text-white font-bold shadow-lg text-xs sm:text-sm group-hover:scale-105 transition"},h.name.charAt(0)),e.createElement("div",{className:"text-left hidden md:block"},e.createElement("p",{className:`text-[9px] sm:text-[10px] uppercase font-bold tracking-wider ${o?"text-slate-400":"text-slate-500"}`},"Hola,"),e.createElement("p",{className:`text-xs sm:text-sm font-bold leading-none group-hover:text-orange-500 transition ${o?"text-white":"text-slate-900"}`},h.name.split(" ")[0]))):e.createElement("button",{onClick:()=>b("login"),className:`px-3 sm:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl text-xs sm:text-sm font-black transition shadow-lg flex items-center gap-1 sm:gap-2 transform hover:-translate-y-0.5 ${o?"bg-white text-black hover:bg-orange-500 hover:text-white":"bg-orange-500 text-white hover:bg-orange-600"}`},e.createElement(xt,{className:"w-4 h-4 sm:w-5 sm:h-5"})," ",e.createElement("span",{className:"hidden sm:inline"},"INGRESAR"),e.createElement("span",{className:"sm:hidden"},"Entrar")))),B&&e.createElement("div",{className:"fixed inset-0 z-[10000] flex justify-start"},e.createElement("div",{className:`fixed inset-0 backdrop-blur-sm transition-opacity ${o?"bg-black/90":"bg-black/50"}`,onClick:()=>j(!1)}),e.createElement("div",{className:`relative w-72 sm:w-80 h-full p-6 sm:p-8 animate-fade-in-right flex flex-col shadow-2xl z-[10001] ${o?"bg-[#0a0a0a] border-r border-slate-800":"bg-white border-r border-slate-200"}`},e.createElement("div",{className:`flex justify-between items-center mb-8 sm:mb-10 border-b pb-4 sm:pb-6 ${o?"border-slate-800":"border-slate-200"}`},e.createElement("h2",{className:`text-2xl sm:text-3xl font-black tracking-tight drop-shadow-md ${o?"text-white":"text-slate-900"}`},"MENÚ"),e.createElement("button",{onClick:()=>j(!1),className:`p-2 sm:p-3 rounded-full transition border ${o?"bg-slate-900 text-slate-400 hover:text-white hover:bg-slate-800 border-slate-800":"bg-slate-100 text-slate-500 hover:text-slate-900 hover:bg-slate-200 border-slate-200"}`},e.createElement(ue,{className:"w-5 h-5 sm:w-6 sm:h-6"}))),e.createElement("div",{className:"space-y-2 sm:space-y-3 flex-1 overflow-y-auto custom-scrollbar pr-2"},e.createElement("button",{onClick:()=>{b("store"),j(!1)},className:`w-full text-left text-base sm:text-lg font-bold transition flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl group border border-transparent ${o?"text-slate-300 hover:text-orange-400 hover:bg-slate-900/50 hover:border-slate-800":"text-slate-700 hover:text-orange-500 hover:bg-slate-100 hover:border-slate-200"}`},e.createElement($l,{className:`w-5 h-5 sm:w-6 sm:h-6 group-hover:text-orange-500 transition ${o?"text-slate-500":"text-slate-400"}`})," Inicio"),e.createElement("button",{onClick:()=>{b("profile"),j(!1)},className:`w-full text-left text-base sm:text-lg font-bold transition flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl group border border-transparent ${o?"text-slate-300 hover:text-orange-400 hover:bg-slate-900/50 hover:border-slate-800":"text-slate-700 hover:text-orange-500 hover:bg-slate-100 hover:border-slate-200"}`},e.createElement(xt,{className:`w-5 h-5 sm:w-6 sm:h-6 group-hover:text-orange-500 transition ${o?"text-slate-500":"text-slate-400"}`})," Mi Perfil"),e.createElement("button",{onClick:()=>{b("cart"),j(!1)},className:`w-full text-left text-base sm:text-lg font-bold transition flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl group border border-transparent ${o?"text-slate-300 hover:text-orange-400 hover:bg-slate-900/50 hover:border-slate-800":"text-slate-700 hover:text-orange-500 hover:bg-slate-100 hover:border-slate-200"}`},e.createElement("div",{className:"relative"},e.createElement(gt,{className:`w-5 h-5 sm:w-6 sm:h-6 group-hover:text-orange-500 transition ${o?"text-slate-500":"text-slate-400"}`}),te.length>0&&e.createElement("span",{className:"absolute -top-2 -right-2 bg-orange-500 text-[10px] text-white rounded-full w-4 h-4 flex items-center justify-center font-bold"},te.length)),"Mi Carrito"),e.createElement("div",{className:`h-px my-3 sm:my-4 mx-4 ${o?"bg-slate-800":"bg-slate-200"}`}),e.createElement("button",{onClick:()=>{b("about"),j(!1)},className:`w-full text-left text-base sm:text-lg font-bold transition flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl group border border-transparent ${o?"text-slate-300 hover:text-orange-400 hover:bg-slate-900/50 hover:border-slate-800":"text-slate-700 hover:text-orange-500 hover:bg-slate-100 hover:border-slate-200"}`},e.createElement(ht,{className:`w-5 h-5 sm:w-6 sm:h-6 group-hover:text-orange-500 transition ${o?"text-slate-500":"text-slate-400"}`})," Sobre Nosotros"),a?.showGuideLink!==!1&&e.createElement("button",{onClick:()=>{b("guide"),j(!1)},className:`w-full text-left text-base sm:text-lg font-bold transition flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl group border border-transparent ${o?"text-slate-300 hover:text-orange-400 hover:bg-slate-900/50 hover:border-slate-800":"text-slate-700 hover:text-orange-500 hover:bg-slate-100 hover:border-slate-200"}`},e.createElement(ps,{className:`w-5 h-5 sm:w-6 sm:h-6 group-hover:text-orange-500 transition ${o?"text-slate-500":"text-slate-400"}`})," ",a?.guideTitle||"Cómo Comprar"),ss(h?.email)&&e.createElement("button",{onClick:()=>{b("admin"),j(!1)},className:`w-full text-left text-base sm:text-lg font-bold text-orange-500 mt-4 sm:mt-6 pt-4 sm:pt-6 flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl transition border ${o?"border-t border-slate-800 bg-orange-900/10 hover:bg-orange-900/20 border-orange-500/20":"border-t border-slate-200 bg-orange-50 hover:bg-orange-100 border-orange-200"}`},e.createElement(Le,{className:"w-5 h-5 sm:w-6 sm:h-6"})," Admin Panel")),e.createElement("div",{className:`mt-6 sm:mt-8 pt-6 sm:pt-8 border-t text-center ${o?"border-slate-800":"border-slate-200"}`},e.createElement("p",{className:`text-[10px] sm:text-xs font-bold uppercase tracking-widest ${o?"text-slate-600":"text-slate-400"}`},a?.menuCopyright||a.storeName)))),m!=="admin"&&e.createElement("div",{className:"h-14 sm:h-16 md:h-20"}),e.createElement("main",{className:`flex-grow relative z-10 ${m==="admin"?"min-h-screen min-full-viewport flex overflow-hidden":"px-3 py-4 sm:px-4 sm:py-6 md:px-8 md:py-8"}`},m==="store"&&e.createElement("div",{className:"max-w-[1400px] mx-auto pb-32 min-h-screen block"},ye&&a?.showAnnouncementBanner!==!1&&a?.announcementMessage&&e.createElement("div",{className:"w-full bg-gradient-to-r from-orange-900/20 to-red-900/20 border border-orange-500/20 rounded-xl p-3 mb-8 text-center animate-pulse relative overflow-hidden group"},e.createElement("div",{className:"absolute inset-0 bg-white/5 skew-x-12 -translate-x-full group-hover:translate-x-full transition duration-1000"}),e.createElement("p",{className:"text-orange-400 font-black text-xs md:text-sm tracking-[0.2em] uppercase flex items-center justify-center gap-3"},e.createElement(wo,{className:"w-4 h-4 text-orange-500"})," ",a.announcementMessage," ",e.createElement(wo,{className:"w-4 h-4 text-orange-500"}))),ye&&a?.showBrandTicker!==!1&&e.createElement("div",{className:`mb-8 w-full overflow-hidden border-y backdrop-blur-sm py-2 ${o?"border-slate-800/50 bg-[#0a0a0a]/50":"border-slate-200 bg-slate-100/50"}`},e.createElement("div",{className:"ticker-wrap"},e.createElement("div",{className:`ticker-content font-mono text-xs md:text-sm tracking-[0.2em] md:tracking-[0.5em] uppercase flex items-center gap-6 md:gap-12 ${o?"text-orange-500/50":"text-orange-600/70"}`},[1,2,3,4].map(t=>e.createElement(e.Fragment,{key:t},e.createElement("span",{className:"whitespace-nowrap"},a?.tickerText||`${a?.storeName||""} Tech • Futuro • Calidad Premium • Innovación`),e.createElement("span",null,"•")))))),e.createElement("div",{className:`relative w-full h-[280px] sm:h-[300px] md:h-[350px] 2xl:h-[450px] rounded-2xl sm:rounded-[2rem] overflow-hidden shadow-2xl mb-6 sm:mb-8 border group container-tv ${o?"border-slate-800 bg-[#080808]":"border-slate-200 bg-white"}`},e.createElement("div",{className:"grid-bg"}),e.createElement("div",{className:`absolute inset-0 bg-[url('/noise.svg')] z-[1] pointer-events-none ${o?"opacity-20":"opacity-10"}`}),e.createElement(ei,{settingsLoaded:ye,banners:a?.showHomeBannerCarousel===!1?[]:Ua,fallbackUrl:a?.heroUrl,autoplayMs:a?.homeBannerAutoplayMs||5e3,darkMode:o,onBannerClick:Tr}),e.createElement("div",{className:`absolute inset-x-0 bottom-0 sm:inset-0 flex flex-col justify-end sm:justify-center px-4 pb-3 sm:px-8 sm:pb-0 md:px-20 z-10 pointer-events-none ${o?"bg-gradient-to-t md:bg-gradient-to-r from-[#050505] via-[#050505]/70 sm:from-[#050505] sm:via-[#050505]/80 to-transparent":"bg-gradient-to-t md:bg-gradient-to-r from-white/40 via-white/20 sm:from-white/25 sm:via-white/10 to-transparent"}`},e.createElement("div",{className:"max-w-2xl animate-fade-up"},ye?e.createElement(e.Fragment,null,e.createElement("span",{className:"bg-orange-500 text-black px-2.5 py-0.5 sm:px-3 sm:py-1 rounded-md text-[9px] sm:text-[10px] font-black uppercase tracking-widest shadow-[0_0_15px_rgba(255,255,255,0.1)] mb-2 sm:mb-4 inline-block"},a?.heroBadge||""),e.createElement("h1",{className:`text-lg sm:text-3xl md:text-5xl lg:text-6xl text-tv-huge font-black leading-[0.95] sm:leading-[0.9] mb-1.5 sm:mb-4 ${o?"text-white drop-shadow-2xl":"text-slate-900"}`},a?.heroTitle1||""," ",e.createElement("br",null),e.createElement("span",{className:`text-transparent bg-clip-text bg-gradient-to-r ${o?"from-orange-400 to-blue-600":"from-orange-600 to-blue-700"}`},a?.heroTitle2||"")),e.createElement("p",{className:`text-xs sm:text-sm md:text-base lg:text-lg mb-3 sm:mb-6 max-w-md font-medium hidden sm:block ${o?"text-slate-400":"text-slate-600"}`},a?.heroSubtitle||""),e.createElement("div",{className:"flex flex-row items-center gap-2 sm:gap-4"},e.createElement("button",{onClick:()=>document.getElementById("catalog").scrollIntoView({behavior:"smooth"}),className:"px-4 py-2 sm:px-8 sm:py-4 bg-white text-black font-black text-xs sm:text-base rounded-xl hover:bg-orange-400 transition shadow-[0_0_30px_rgba(255,255,255,0.1)] flex items-center justify-center gap-2 group/btn pointer-events-auto"},"VER CATÁLOGO ",e.createElement(Oa,{className:"w-3.5 h-3.5 sm:w-5 sm:h-5 group-hover/btn:translate-x-1 transition"})),e.createElement("button",{onClick:()=>b("guide"),className:`px-3 py-2 sm:px-6 sm:py-2.5 rounded-xl flex items-center justify-center gap-1.5 sm:gap-2 transition font-bold text-[11px] sm:text-xs group pointer-events-auto ${o?"bg-white/5 backdrop-blur-md border border-white/10 hover:bg-white/10 text-white":"bg-slate-100 border border-slate-200 hover:bg-slate-200 text-slate-900"}`},e.createElement(ht,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 ${o?"text-orange-400":"text-orange-600"}`})," Ayuda"))):e.createElement(e.Fragment,null,e.createElement("div",{className:"h-6 w-32 bg-slate-700/50 rounded-md mb-4 animate-pulse"}),e.createElement("div",{className:"h-12 md:h-16 w-64 md:w-80 bg-slate-700/50 rounded-lg mb-2 animate-pulse"}),e.createElement("div",{className:"h-12 md:h-16 w-48 md:w-64 bg-slate-700/50 rounded-lg mb-4 animate-pulse"}),e.createElement("div",{className:"h-4 w-72 bg-slate-700/50 rounded mb-2 animate-pulse"}),e.createElement("div",{className:"h-4 w-56 bg-slate-700/50 rounded mb-6 animate-pulse"}),e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"h-12 w-40 bg-slate-700/50 rounded-xl animate-pulse"}),e.createElement("div",{className:"h-10 w-24 bg-slate-700/50 rounded-xl animate-pulse"})))))),ye&&a?.showFeaturesSection!==!1&&e.createElement("div",{className:`grid grid-cols-1 ${[a?.showFeature1!==!1,a?.showFeature2!==!1,a?.showFeature3!==!1].filter(Boolean).length===1?"md:grid-cols-1 max-w-md mx-auto":[a?.showFeature1!==!1,a?.showFeature2!==!1,a?.showFeature3!==!1].filter(Boolean).length===2?"md:grid-cols-2 max-w-2xl mx-auto":"md:grid-cols-3"} gap-4 md:gap-8 mb-12 container-tv`},ye?e.createElement(e.Fragment,null,a?.showFeature1!==!1&&e.createElement("div",{className:`p-4 rounded-[1.5rem] border backdrop-blur-sm flex flex-col items-center text-center tech-glow transition duration-500 group ${o?"bg-slate-900/30 border-slate-800 hover:bg-slate-900/50":"bg-white border-slate-200 hover:bg-slate-50 shadow-sm hover:shadow-md"}`},e.createElement("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition ${o?"bg-orange-900/20":"bg-orange-100"}`},e.createElement(Be,{className:`w-5 h-5 ${o?"text-orange-400":"text-orange-600"}`})),e.createElement("h3",{className:`text-base font-bold mb-1 ${o?"text-white":"text-slate-900"}`},a?.feature1Title||""),e.createElement("p",{className:`text-[11px] ${o?"text-slate-400":"text-slate-500"}`},a?.feature1Desc||"")),a?.showFeature2!==!1&&e.createElement("div",{className:`p-4 rounded-[1.5rem] border backdrop-blur-sm flex flex-col items-center text-center tech-glow transition duration-500 group ${o?"bg-slate-900/30 border-slate-800 hover:bg-slate-900/50":"bg-white border-slate-200 hover:bg-slate-50 shadow-sm hover:shadow-md"}`},e.createElement("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition ${o?"bg-purple-900/20":"bg-purple-100"}`},e.createElement(Le,{className:`w-5 h-5 ${o?"text-purple-400":"text-purple-600"}`})),e.createElement("h3",{className:`text-base font-bold mb-1 ${o?"text-white":"text-slate-900"}`},a?.feature2Title||""),e.createElement("p",{className:`text-[11px] ${o?"text-slate-400":"text-slate-500"}`},a?.feature2Desc||"")),a?.showFeature3!==!1&&e.createElement("div",{className:`p-4 rounded-[1.5rem] border backdrop-blur-sm flex flex-col items-center text-center tech-glow transition duration-500 group ${o?"bg-slate-900/30 border-slate-800 hover:bg-slate-900/50":"bg-white border-slate-200 hover:bg-slate-50 shadow-sm hover:shadow-md"}`},e.createElement("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition ${o?"bg-green-900/20":"bg-green-100"}`},e.createElement(No,{className:`w-5 h-5 ${o?"text-green-400":"text-green-600"}`})),e.createElement("h3",{className:`text-base font-bold mb-1 ${o?"text-white":"text-slate-900"}`},a?.feature3Title||""),e.createElement("p",{className:`text-[11px] ${o?"text-slate-400":"text-slate-500"}`},a?.feature3Desc||""))):e.createElement(e.Fragment,null,[1,2,3].map(t=>e.createElement("div",{key:t,className:"p-4 rounded-[1.5rem] bg-slate-900/30 border border-slate-800 backdrop-blur-sm flex flex-col items-center text-center"},e.createElement("div",{className:"w-10 h-10 rounded-full bg-slate-700/50 mb-3 animate-pulse"}),e.createElement("div",{className:"h-5 w-32 bg-slate-700/50 rounded mb-2 animate-pulse"}),e.createElement("div",{className:"h-3 w-48 bg-slate-700/50 rounded mb-1 animate-pulse"}),e.createElement("div",{className:"h-3 w-40 bg-slate-700/50 rounded animate-pulse"}))))),e.createElement("div",{id:"catalog",className:`sticky top-14 sm:top-16 md:top-20 z-40 backdrop-blur-xl py-2.5 sm:py-3 md:py-4 mb-4 sm:mb-6 md:mb-8 -mx-3 px-3 sm:-mx-4 sm:px-4 border-y transition-colors duration-300 ${o?"bg-[#050505]/80 border-slate-800/50":"bg-white/90 border-slate-200"}`},e.createElement("div",{ref:ra,onMouseDown:or,onMouseLeave:rr,onMouseUp:lr,onMouseMove:ir,className:`flex items-center gap-2 overflow-x-auto pb-1 ${_s?"cursor-grabbing scroll-auto":"cursor-grab scroll-smooth"}`,style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"}},e.createElement(Dl,{className:`w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0 ${o?"text-slate-500":"text-slate-400"}`}),e.createElement("button",{onClick:()=>zt("Promos"),className:`px-3 sm:px-5 py-1.5 sm:py-2 rounded-lg sm:rounded-xl font-black text-[10px] sm:text-xs transition border whitespace-nowrap flex items-center gap-1.5 sm:gap-2 group relative overflow-hidden flex-shrink-0 ${ve==="Promos"?"text-white border-purple-500 shadow-[0_0_20px_rgba(168,85,247,0.5)]":o?"bg-slate-900 border-slate-800 text-purple-400 hover:text-white hover:border-purple-500/50":"bg-purple-50 border-purple-200 text-purple-600 hover:bg-purple-100 hover:border-purple-300"}`},ve==="Promos"&&e.createElement("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-blue-600 animate-gradient-xy"}),e.createElement("span",{className:"relative z-10 flex items-center gap-1.5 sm:gap-2"},e.createElement(Tt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})," PROMOS")),e.createElement("button",{onClick:()=>zt("Ofertas"),className:`px-3 sm:px-5 py-1.5 sm:py-2 rounded-lg sm:rounded-xl font-bold text-[10px] sm:text-xs transition border whitespace-nowrap flex items-center gap-1.5 sm:gap-2 flex-shrink-0 ${ve==="Ofertas"?"bg-red-600/20 text-red-500 border-red-500 shadow-[0_0_15px_rgba(220,38,38,0.3)]":o?"bg-slate-900 border-slate-800 text-red-400 hover:text-white hover:border-red-500/50":"bg-red-50 border-red-200 text-red-600 hover:bg-red-100 hover:border-red-300"}`},e.createElement(Ll,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})," OFERTAS"),e.createElement("button",{onClick:()=>zt(""),className:`px-3 sm:px-5 py-1.5 sm:py-2 rounded-lg sm:rounded-xl font-bold text-[10px] sm:text-xs transition border whitespace-nowrap flex-shrink-0 ${ve===""?o?"bg-white text-black border-white shadow-[0_0_15px_rgba(255,255,255,0.2)]":"bg-slate-900 text-white border-slate-900 shadow-md":o?"bg-slate-900 border-slate-800 text-slate-400 hover:text-white hover:border-slate-600":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50 hover:border-slate-300"}`},"Todos"),a?.categories?.map(t=>e.createElement("button",{key:t,onClick:()=>zt(t),className:`px-3 sm:px-5 py-1.5 sm:py-2 rounded-lg sm:rounded-xl font-bold text-[10px] sm:text-xs transition border whitespace-nowrap flex-shrink-0 ${ve===t?"bg-orange-500 text-white border-orange-500 shadow-[0_0_15px_rgba(249,115,22,0.3)]":o?"bg-slate-900 border-slate-800 text-slate-400 hover:text-white hover:border-slate-600":"bg-white border-slate-200 text-slate-600 hover:bg-orange-50 hover:border-orange-300 hover:text-orange-600"}`},t)))),ve==="Promos"&&e.createElement("div",{className:"mb-16 animate-fade-in"},it.length>0?e.createElement(e.Fragment,null,e.createElement("h2",{className:`text-3xl font-black mb-8 flex items-center gap-3 ${o?"text-white":"text-slate-900"}`},e.createElement(ga,{className:"w-8 h-8 text-purple-500 animate-pulse"})," PROMOCIONES ESPECIALES"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},it.map(t=>{let s=1/0;t.items.forEach(l=>{let i=I.find(g=>g.id===l.productId),n=i&&Number(i.stock)||0,u=Math.floor(n/l.quantity);u<s&&(s=u)});let r=s>0;return e.createElement("div",{key:t.id,className:`rounded-[2.5rem] border overflow-hidden group transition duration-500 relative flex flex-col ${o?"bg-gradient-to-br from-purple-900/10 to-blue-900/10 border-purple-500/30 shadow-[0_0_30px_rgba(168,85,247,0.1)] hover:shadow-[0_0_50px_rgba(168,85,247,0.2)]":"bg-white border-purple-200 shadow-sm hover:shadow-xl"}`},e.createElement("div",{className:`aspect-square flex items-center justify-center relative overflow-hidden cursor-zoom-in ${o?"bg-slate-900/50":"bg-slate-50"}`,onClick:()=>qt({...t,isPromo:!0,stock:s})},e.createElement("img",{src:t.image,alt:t.name||"Promo",className:"w-full h-full object-contain transition duration-700 group-hover:scale-110"}),e.createElement("div",{className:`absolute inset-0 bg-gradient-to-t via-transparent to-transparent ${o?"from-[#0a0a0a]":"from-white/50"}`}),e.createElement("div",{className:"absolute top-4 right-4 bg-purple-600 text-white text-xs font-black px-3 py-1 rounded-full uppercase tracking-wider shadow-lg"},"Oferta Limitada")),e.createElement("div",{className:"p-8 flex-1 flex flex-col"},e.createElement("h3",{className:`text-2xl font-black mb-2 leading-tight ${o?"text-white":"text-slate-900"}`},t.name),e.createElement("p",{className:`text-sm mb-6 flex-1 ${o?"text-purple-300":"text-purple-600"}`},t.description),e.createElement("div",{className:"mb-6 space-y-2"},e.createElement("p",{className:"text-[10px] uppercase font-bold text-slate-500 tracking-widest"},"Incluye:"),t.items.map((l,i)=>{let n=I.find(u=>u.id===l.productId);return e.createElement("div",{key:i,className:`flex items-center gap-2 text-sm ${o?"text-slate-400":"text-slate-600"}`},e.createElement(Q,{className:`w-3.5 h-3.5 ${o?"text-purple-500":"text-purple-600"}`}),e.createElement("span",{className:`font-bold ${o?"text-white":"text-slate-900"}`},l.quantity,"x")," ",n?n.name:"Producto")})),e.createElement("div",{className:`flex items-center justify-between mt-auto pt-6 border-t ${o?"border-white/5":"border-slate-100"}`},e.createElement("div",{className:"flex flex-col"},e.createElement("span",{className:"text-slate-500 text-xs font-bold line-through decoration-red-500 decoration-2"},"$",t.items.reduce((l,i)=>{let n=I.find(u=>u.id===i.productId);return l+(Number(n?.basePrice)||0)*i.quantity},0).toLocaleString()),e.createElement("span",{className:`text-3xl font-black ${o?"text-purple-400 neon-text":"text-purple-600"}`},"$",Number(t.price).toLocaleString())),e.createElement("button",{onClick:()=>{if(!r)return c("Sin stock disponible para esta promo.","warning");let l={id:t.id,name:t.name,basePrice:t.price,image:t.image,isPromo:!0,items:t.items,stock:s};pt(l,1)},disabled:!r,className:`px-6 py-3 rounded-xl font-bold flex items-center gap-2 transition shadow-lg ${r?o?"bg-white text-black hover:bg-purple-400 hover:text-white hover:scale-105":"bg-slate-900 text-white hover:bg-purple-600 hover:scale-105":o?"bg-slate-800 text-slate-500 cursor-not-allowed":"bg-slate-200 text-slate-400 cursor-not-allowed"}`},r?e.createElement(Xt,{className:"w-5 h-5"}):e.createElement(ue,{className:"w-5 h-5"}),r?"AGREGAR":"AGOTADO"))))}))):e.createElement("div",{className:`flex flex-col items-center justify-center p-20 text-center border-2 border-dashed rounded-[3rem] ${o?"border-slate-800 bg-slate-950/30":"border-slate-200 bg-slate-50"}`},e.createElement("div",{className:`p-8 rounded-full mb-6 shadow-2xl border ${o?"bg-slate-900 border-slate-800":"bg-white border-slate-200"}`},e.createElement(ga,{className:`w-16 h-16 ${o?"text-slate-600":"text-slate-400"}`})),e.createElement("h3",{className:`text-2xl font-black mb-2 ${o?"text-white":"text-slate-900"}`},"Sin Promociones Activas"),e.createElement("p",{className:"text-slate-500 max-w-sm"},"No hay promociones disponibles en este momento. ¡Volvé pronto!"),e.createElement("button",{onClick:()=>zt(""),className:`mt-6 px-6 py-3 rounded-xl font-bold transition border ${o?"bg-orange-900/20 hover:bg-orange-900/40 text-orange-400 border-orange-500/20":"bg-orange-50 hover:bg-orange-100 text-orange-600 border-orange-200"}`},"Ver Todo el Catálogo"))),I.filter(t=>t.isActive!==!1).length===0?e.createElement("div",{className:`flex flex-col items-center justify-center p-20 text-center border-2 border-dashed rounded-[3rem] ${o?"border-slate-800 bg-slate-950/30":"border-slate-200 bg-slate-50"}`},e.createElement("div",{className:`p-8 rounded-full mb-6 shadow-2xl border ${o?"bg-slate-900 border-slate-800":"bg-white border-slate-200"}`},e.createElement(Re,{className:`w-16 h-16 ${o?"text-slate-600":"text-slate-400"}`})),e.createElement("h3",{className:`text-2xl font-black mb-2 ${o?"text-white":"text-slate-900"}`},"Catálogo Vacío"),e.createElement("p",{className:"text-slate-500 max-w-sm"},"No hay productos disponibles en este momento. Por favor revisa más tarde o contacta soporte.")):e.createElement(e.Fragment,null,ns.length===0&&ve!=="Promos"&&e.createElement("div",{className:"flex flex-col items-center justify-center p-20 text-center col-span-full animate-fade-in w-full"},e.createElement("div",{className:`p-6 rounded-full mb-4 inline-block border ${o?"bg-slate-900/50 border-slate-800":"bg-white border-slate-200"}`},e.createElement(ms,{className:`w-12 h-12 ${o?"text-slate-500":"text-slate-400"}`})),e.createElement("h3",{className:`text-xl font-bold mb-2 ${o?"text-white":"text-slate-900"}`},"No se encontraron resultados"),e.createElement("p",{className:"text-slate-500 mb-6 max-w-md mx-auto"},"No hay productos que coincidan con ",e.createElement("span",{className:`${o?"text-white":"text-slate-900"} font-bold`},'"',Fa,'"'),ve&&e.createElement("span",null," en la categoría ",e.createElement("span",{className:`${o?"text-white":"text-slate-900"} font-bold`},ve)),"."),e.createElement("button",{onClick:()=>{Ms(""),zt("")},className:`px-6 py-3 rounded-xl font-bold transition border ${o?"bg-orange-900/20 hover:bg-orange-900/40 text-orange-400 border-orange-500/20":"bg-orange-50 hover:bg-orange-100 text-orange-600 border-orange-200"}`},"Limpiar filtros")),e.createElement("div",{className:"grid grid-cols-1 min-[380px]:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 min-[1920px]:grid-cols-5 gap-3 sm:gap-6 md:gap-8 pb-32"},ns.map(t=>e.createElement(oi,{key:t.id,p:t,settings:a,currentUser:h,toggleFavorite:ro,setSelectedProduct:qt,manageCart:pt,calculateItemPrice:Kt,darkMode:o}))))),m==="cart"&&e.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up px-2 sm:px-4 md:px-8 pb-20"},e.createElement("div",{className:"flex flex-col gap-3 sm:gap-4 mb-6 sm:mb-8 pt-4 sm:pt-8 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",{className:"flex items-center gap-3 sm:gap-4"},e.createElement("button",{onClick:()=>b("store"),className:`p-2.5 sm:p-3 rounded-full transition group ${o?"bg-slate-900 text-slate-400 hover:text-white hover:bg-slate-800":"bg-slate-100 text-slate-500 hover:text-slate-900 hover:bg-slate-200"}`},e.createElement(ot,{className:"w-5 h-5 sm:w-6 sm:h-6 group-hover:-translate-x-1 transition"})),e.createElement("h1",{className:`text-2xl sm:text-4xl font-black flex items-center gap-2 sm:gap-3 ${o?"text-white":"text-slate-900"}`},e.createElement(gt,{className:"w-7 h-7 sm:w-10 sm:h-10 text-orange-500"})," Mi Carrito")),te.length>0&&a?.showCartWhatsappCheckout===!0&&e.createElement("button",{onClick:()=>{let t=Fr(a?.whatsappLink,Vr());if(!t){c("Configura el enlace de WhatsApp en Admin → Configuración → Social.","warning");return}window.open(t,"_blank")},className:"w-full sm:w-auto px-5 py-3 bg-green-600 hover:bg-green-500 text-white rounded-2xl font-black transition shadow-lg hover:shadow-green-500/30 flex items-center justify-center gap-2"},e.createElement(At,{className:"w-5 h-5"})," Terminar compra por WhatsApp")),te.length===0?e.createElement("div",{className:`flex flex-col items-center justify-center p-16 text-center border-2 border-dashed rounded-[3rem] ${o?"border-slate-800 bg-slate-950/30":"border-slate-200 bg-slate-50"}`},e.createElement("div",{className:`p-8 rounded-full mb-6 shadow-xl border ${o?"bg-slate-900 border-slate-800":"bg-white border-slate-200"}`},e.createElement(Xt,{className:`w-16 h-16 ${o?"text-slate-600":"text-slate-400"}`})),e.createElement("h3",{className:`text-2xl font-black mb-2 ${o?"text-white":"text-slate-900"}`},"Tu carrito está vacío"),e.createElement("p",{className:"text-slate-500 text-sm max-w-xs mb-8 leading-relaxed"},"¡Es un buen momento para buscar ese producto que tanto quieres!"),e.createElement("button",{onClick:()=>b("store"),className:"px-8 py-4 bg-orange-600 text-white rounded-xl font-bold transition shadow-lg hover:bg-orange-500 hover:shadow-orange-500/30 flex items-center gap-2"},"Ir a la Tienda ",e.createElement(Oa,{className:"w-5 h-5"}))):e.createElement("div",{className:"grid lg:grid-cols-3 gap-4 sm:gap-8"},e.createElement("div",{className:"lg:col-span-2 space-y-4"},te.map(t=>e.createElement("div",{key:t.product.id,className:`p-3 sm:p-4 md:p-6 rounded-2xl sm:rounded-3xl border flex flex-row gap-3 sm:gap-4 md:gap-6 items-center group relative overflow-hidden transition duration-300 ${o?"bg-[#0a0a0a] border-slate-800 hover:border-orange-900/50":"bg-white border-slate-200 hover:border-orange-200 shadow-sm hover:shadow-md"}`},e.createElement("div",{className:"w-20 sm:w-24 md:w-32 h-20 sm:h-24 md:h-32 bg-white rounded-xl sm:rounded-2xl flex items-center justify-center p-1.5 sm:p-2 flex-shrink-0 shadow-lg border border-slate-100"},e.createElement("img",{src:t.product.image,alt:t.product.name,className:"w-full h-full object-contain"})),e.createElement("div",{className:"flex-1 min-w-0 text-left z-10"},e.createElement("div",{className:"flex justify-between items-start w-full"},e.createElement("h3",{className:`font-bold text-sm sm:text-base md:text-lg truncate mb-1 pr-2 sm:pr-4 ${o?"text-white":"text-slate-900"}`},t.product.name),e.createElement("button",{onClick:()=>pt(t.product,-t.quantity),className:`p-2 rounded-lg transition ${o?"text-slate-600 hover:text-red-500 bg-slate-900 hover:bg-red-900/20":"text-slate-400 hover:text-red-600 bg-slate-50 hover:bg-red-50"}`},e.createElement(de,{className:"w-5 h-5"}))),e.createElement("p",{className:"text-orange-500 font-bold text-sm mb-4"},"$",Kt(t.product?.basePrice??0,t.product?.discount??0).toLocaleString()," ",e.createElement("span",{className:"text-slate-500 font-normal"},"unitario")),e.createElement("div",{className:"flex items-center justify-start gap-2 sm:gap-4"},e.createElement("div",{className:`flex items-center gap-3 rounded-xl p-1 border ${o?"bg-slate-900 border-slate-700":"bg-slate-50 border-slate-200"}`},e.createElement("button",{onClick:()=>pt(t.product,-1),className:`w-10 h-10 flex items-center justify-center rounded-lg transition ${o?"hover:bg-slate-800 text-slate-400 hover:text-white":"hover:bg-white text-slate-500 hover:text-slate-900"}`},e.createElement(hs,{className:"w-4 h-4"})),e.createElement("span",{className:`text-base font-bold w-8 text-center ${o?"text-white":"text-slate-900"}`},t.quantity),e.createElement("button",{onClick:()=>pt(t.product,1),className:`w-10 h-10 flex items-center justify-center rounded-lg transition ${o?"hover:bg-slate-800 text-slate-400 hover:text-white":"hover:bg-white text-slate-500 hover:text-slate-900"}`},e.createElement(Ie,{className:"w-4 h-4"}))),e.createElement("div",{className:`hidden md:block h-8 w-px mx-2 ${o?"bg-slate-800":"bg-slate-200"}`}),e.createElement("p",{className:"text-xs text-slate-500 font-bold uppercase hidden md:block"},"Subtotal: ",e.createElement("span",{className:`text-lg ml-1 ${o?"text-white":"text-slate-900"}`},"$",(Kt(t.product?.basePrice??0,t.product?.discount??0)*(t.quantity||0)).toLocaleString()))))))),e.createElement("div",{className:`border p-5 sm:p-8 rounded-2xl sm:rounded-[2.5rem] h-fit sticky top-20 sm:top-28 shadow-2xl transition-colors duration-300 ${o?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`},e.createElement("h3",{className:`text-2xl font-black mb-8 border-b pb-4 transition-colors duration-300 ${o?"text-white border-slate-800":"text-slate-900 border-slate-200"}`},"Resumen de Compra"),e.createElement("div",{className:"mb-8"},e.createElement("label",{className:`text-xs font-bold uppercase tracking-widest mb-3 block flex items-center gap-2 ${o?"text-slate-500":"text-slate-400"}`},e.createElement(ga,{className:"w-4 h-4"})," Cupón de Descuento"),Ee?e.createElement("div",{className:"bg-purple-900/20 border border-purple-500/30 p-4 rounded-2xl flex justify-between items-center relative overflow-hidden group animate-fade-up"},e.createElement("div",{className:"absolute inset-0 bg-purple-500/5 group-hover:bg-purple-500/10 transition"}),e.createElement("div",{className:"relative z-10"},e.createElement("p",{className:"font-black text-purple-300 text-lg tracking-widest"},Ee.code),e.createElement("p",{className:"text-xs text-purple-400 font-bold"},Ee.type==="fixed"?`$${Ee.value} OFF`:`${Ee.value}% OFF`)),e.createElement("button",{onClick:()=>ya(null),className:`p-2 rounded-full transition relative z-10 border border-transparent hover:border-red-500/30 ${o?"bg-slate-900/50 text-purple-300 hover:text-red-400 hover:bg-red-900/30":"bg-white text-purple-600 hover:text-red-600 hover:bg-red-50"}`},e.createElement(de,{className:"w-4 h-4"}))):e.createElement("button",{onClick:()=>ka(!0),className:`w-full py-4 border border-dashed rounded-2xl transition flex items-center justify-center gap-2 text-sm font-bold group ${o?"border-slate-700 hover:border-purple-500 bg-slate-900/30 hover:bg-purple-900/10 text-slate-400 hover:text-purple-300":"border-slate-300 hover:border-purple-500 bg-slate-50 hover:bg-purple-50 text-slate-500 hover:text-purple-600"}`},e.createElement(Pt,{className:"w-5 h-5 group-hover:rotate-12 transition"})," Ver cupones disponibles")),e.createElement("div",{className:`space-y-4 border-b pb-8 mb-8 ${o?"border-slate-800":"border-slate-200"}`},e.createElement("div",{className:`flex justify-between font-medium ${o?"text-slate-400":"text-slate-600"}`},e.createElement("span",null,"Subtotal"),e.createElement("span",{className:`font-mono font-bold ${o?"text-white":"text-slate-900"}`},"$",_e.toLocaleString())),e.createElement("div",{className:`flex justify-between text-sm font-medium ${o?"text-slate-400":"text-slate-600"}`},e.createElement("span",null,"Envío ",P.shippingMethod==="Delivery"?"(A domicilio)":"(Retiro)"),e.createElement("span",{className:"text-orange-500 font-bold flex items-center gap-1"},e.createElement(et,{className:"w-3 h-3"}),Yt>0?`$${Yt.toLocaleString()}`:P.shippingMethod==="Pickup"?"Gratis":"¡Envío Gratis!")),Ee&&e.createElement("div",{className:"flex justify-between text-purple-500 font-bold text-sm animate-pulse bg-purple-900/10 p-2 rounded-lg"},e.createElement("span",null,"Descuento aplicado"),e.createElement("span",null,"-$",Aa.toLocaleString()))),e.createElement("div",{className:"flex justify-between items-end mb-8"},e.createElement("span",{className:`font-bold text-lg ${o?"text-white":"text-slate-900"}`},"Total Final"),e.createElement("span",{className:`text-4xl font-black tracking-tighter ${o?"text-white neon-text":"text-slate-900"}`},"$",kt.toLocaleString())),e.createElement("button",{onClick:()=>b("checkout"),className:"w-full bg-gradient-to-r from-orange-600 to-blue-600 hover:from-orange-500 hover:to-blue-500 py-5 text-white font-bold text-lg rounded-2xl shadow-[0_0_25px_rgba(249,115,22,0.3)] hover:shadow-[0_0_35px_rgba(249,115,22,0.5)] transition-all flex items-center justify-center gap-3 transform hover:-translate-y-1"},"Iniciar Compra ",e.createElement(Oa,{className:"w-6 h-6"}))))),m==="checkout"&&e.createElement("div",{className:"max-w-5xl mx-auto pb-20 animate-fade-up px-2 sm:px-4 md:px-8"},e.createElement("button",{onClick:()=>b("cart"),className:"mb-4 sm:mb-8 mt-4 sm:mt-8 text-slate-400 hover:text-white flex items-center gap-2 font-bold transition text-sm sm:text-base"},e.createElement(ot,{className:"w-4 h-4 sm:w-5 sm:h-5"})," Volver al Carrito"),e.createElement("div",{className:"grid md:grid-cols-5 gap-4 sm:gap-8"},e.createElement("div",{className:"md:col-span-3 space-y-8"},e.createElement("div",{className:`border p-4 sm:p-6 md:p-8 rounded-2xl sm:rounded-[2.5rem] shadow-xl relative overflow-hidden ${o?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`},e.createElement("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/10 rounded-bl-[100px] pointer-events-none"}),e.createElement("h2",{className:`text-xl sm:text-2xl font-black mb-4 sm:mb-6 flex items-center gap-2 sm:gap-3 ${o?"text-white":"text-slate-900"}`},e.createElement(et,{className:"text-orange-500 w-5 h-5 sm:w-6 sm:h-6"})," Método de Entrega"),e.createElement("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 relative z-10 mb-4 sm:mb-6"},a?.shippingPickup?.enabled&&e.createElement("button",{onClick:()=>De({...P,shippingMethod:"Pickup"}),className:`p-4 sm:p-6 rounded-xl sm:rounded-2xl border transition flex flex-col items-center gap-2 sm:gap-3 relative overflow-hidden group ${P.shippingMethod==="Pickup"?"border-orange-500 bg-orange-500/10 text-orange-500":o?"border-slate-700 bg-slate-900/30 text-slate-500 hover:border-slate-500":"border-slate-200 bg-slate-50 text-slate-500 hover:border-slate-400"}`},P.shippingMethod==="Pickup"&&e.createElement(Q,{className:"absolute top-2 right-2 w-4 h-4 sm:w-5 sm:h-5 text-orange-500"}),e.createElement(fo,{className:"w-6 h-6 sm:w-8 sm:h-8 group-hover:scale-110 transition"}),e.createElement("span",{className:"text-[10px] sm:text-xs font-black uppercase"},"Retiro en Local")),a?.shippingDelivery?.enabled&&e.createElement("button",{onClick:()=>De({...P,shippingMethod:"Delivery"}),className:`p-4 sm:p-6 rounded-xl sm:rounded-2xl border transition flex flex-col items-center gap-2 sm:gap-3 relative overflow-hidden group ${P.shippingMethod==="Delivery"?"border-orange-500 bg-orange-500/10 text-orange-500":o?"border-slate-700 bg-slate-900/30 text-slate-500 hover:border-slate-500":"border-slate-200 bg-slate-50 text-slate-500 hover:border-slate-400"}`},P.shippingMethod==="Delivery"&&e.createElement(Q,{className:"absolute top-2 right-2 w-4 h-4 sm:w-5 sm:h-5 text-orange-500"}),e.createElement(et,{className:"w-6 h-6 sm:w-8 sm:h-8 group-hover:scale-110 transition"}),e.createElement("span",{className:"text-[10px] sm:text-xs font-black uppercase"},"Envío a Domicilio"))),P.shippingMethod==="Pickup"&&e.createElement("div",{className:"p-4 bg-orange-900/10 border border-orange-500/20 rounded-xl animate-fade-up flex gap-3"},e.createElement(ht,{className:"w-5 h-5 text-orange-400 shrink-0"}),e.createElement("p",{className:"text-xs text-orange-200"},"Retira tu pedido en: ",e.createElement("span",{className:"font-bold"},a?.shippingPickup?.address||"Dirección a coordinar"))),P.shippingMethod==="Delivery"&&e.createElement("div",{className:"space-y-5 relative z-10 animate-fade-up mt-4"},e.createElement("h3",{className:`text-sm font-bold uppercase tracking-widest pl-2 ${o?"text-slate-400":"text-slate-500"}`},"Datos de Destino"),e.createElement("div",null,e.createElement("label",{className:`text-xs font-bold uppercase ml-2 mb-1 block ${o?"text-slate-500":"text-slate-400"}`},"Dirección y Altura"),e.createElement("input",{className:`w-full border rounded-xl p-4 transition font-medium outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500 ${o?"bg-slate-900 border-slate-700 text-white placeholder-slate-600":"bg-white border-slate-200 text-slate-900 placeholder-slate-400"}`,placeholder:"Ej: Av. Santa Fe 1234",value:P.address||"",onChange:t=>De({...P,address:t.target.value})})),e.createElement("div",{className:"grid grid-cols-2 gap-5"},e.createElement("div",null,e.createElement("label",{className:`text-xs font-bold uppercase ml-2 mb-1 block ${o?"text-slate-500":"text-slate-400"}`},"Ciudad"),e.createElement("input",{className:`w-full border rounded-xl p-4 transition font-medium outline-none focus:border-orange-500 ${o?"bg-slate-900 border-slate-700 text-white placeholder-slate-600":"bg-white border-slate-200 text-slate-900 placeholder-slate-400"}`,placeholder:"Ej: Rosario",value:P.city||"",onChange:t=>De({...P,city:t.target.value})})),e.createElement("div",null,e.createElement("label",{className:`text-xs font-bold uppercase ml-2 mb-1 block ${o?"text-slate-500":"text-slate-400"}`},"Provincia"),e.createElement("input",{className:`w-full border rounded-xl p-4 transition font-medium outline-none focus:border-orange-500 ${o?"bg-slate-900 border-slate-700 text-white placeholder-slate-600":"bg-white border-slate-200 text-slate-900 placeholder-slate-400"}`,placeholder:"Ej: Santa Fe",value:P.province||"",onChange:t=>De({...P,province:t.target.value})}))),e.createElement("div",null,e.createElement("label",{className:`text-xs font-bold uppercase ml-2 mb-1 block ${o?"text-slate-500":"text-slate-400"}`},"Código Postal"),e.createElement("input",{className:`w-full border rounded-xl p-4 transition font-medium outline-none focus:border-orange-500 ${o?"bg-slate-900 border-slate-700 text-white placeholder-slate-600":"bg-white border-slate-200 text-slate-900 placeholder-slate-400"}`,placeholder:"Ej: 2000",value:P.zipCode||"",onChange:t=>De({...P,zipCode:t.target.value})})))),e.createElement("div",{className:`border p-4 sm:p-6 md:p-8 rounded-2xl sm:rounded-[2.5rem] shadow-xl relative overflow-hidden ${o?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`},e.createElement("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-500/10 rounded-bl-[100px] pointer-events-none"}),e.createElement("h2",{className:`text-xl sm:text-2xl font-black mb-4 sm:mb-6 flex items-center gap-2 sm:gap-3 ${o?"text-white":"text-slate-900"}`},e.createElement(ft,{className:"text-orange-500 w-5 h-5 sm:w-6 sm:h-6"})," Método de Pago"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 relative z-10"},a?.paymentMercadoPago?.enabled&&e.createElement("button",{onClick:()=>De({...P,paymentChoice:"Tarjeta"}),className:`p-4 md:p-6 rounded-2xl border transition flex flex-col items-center gap-3 relative overflow-hidden group ${P.paymentChoice==="Tarjeta"?"border-orange-500 bg-orange-900/20 text-orange-400 shadow-[0_0_20px_rgba(249,115,22,0.2)]":"border-slate-700 bg-slate-900/30 text-slate-500 hover:border-slate-500 hover:bg-slate-800"}`},P.paymentChoice==="Tarjeta"&&e.createElement(Q,{className:"absolute top-2 right-2 text-orange-500"}),e.createElement(ft,{className:"w-8 h-8 group-hover:scale-110 transition"}),e.createElement("span",{className:"text-sm font-black tracking-wider uppercase"},"Tarjeta")),a?.paymentTransfer?.enabled&&e.createElement("button",{onClick:()=>De({...P,paymentChoice:"Transferencia"}),className:`p-4 md:p-6 rounded-2xl border transition flex flex-col items-center gap-3 relative overflow-hidden group ${P.paymentChoice==="Transferencia"?"border-orange-500 bg-orange-900/20 text-orange-400 shadow-[0_0_20px_rgba(249,115,22,0.2)]":"border-slate-700 bg-slate-900/30 text-slate-500 hover:border-slate-500 hover:bg-slate-800"}`},P.paymentChoice==="Transferencia"&&e.createElement(Q,{className:"absolute top-2 right-2 text-orange-500"}),e.createElement(mo,{className:"w-8 h-8 group-hover:scale-110 transition"}),e.createElement("span",{className:"text-sm font-black tracking-wider uppercase"},"Transferencia")),a?.paymentCash&&P.shippingMethod!=="Delivery"&&e.createElement("button",{onClick:()=>De({...P,paymentChoice:"Efectivo"}),className:`p-4 md:p-6 rounded-2xl border transition flex flex-col items-center gap-3 relative overflow-hidden group ${P.paymentChoice==="Efectivo"?"border-orange-500 bg-orange-900/20 text-orange-400 shadow-[0_0_20px_rgba(249,115,22,0.2)]":"border-slate-700 bg-slate-900/30 text-slate-500 hover:border-slate-500 hover:bg-slate-800"}`},P.paymentChoice==="Efectivo"&&e.createElement(Q,{className:"absolute top-2 right-2 text-orange-500"}),e.createElement(To,{className:"w-8 h-8 group-hover:scale-110 transition"}),e.createElement("span",{className:"text-sm font-black tracking-wider uppercase"},"Efectivo"))),P.paymentChoice==="Tarjeta"&&e.createElement("div",{className:"mt-8 animate-fade-up"},e.createElement("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-orange-500/30"},e.createElement("h3",{className:"text-white font-bold mb-4 flex items-center gap-2"},e.createElement(ft,{className:"w-5 h-5 text-orange-400"}),"Ingresá los datos de tu tarjeta"),e.createElement("p",{className:"text-slate-400 text-sm mb-4"},"Pagá de forma segura con Visa, MasterCard, AMEX y más."),e.createElement("div",{className:"mb-6 p-4 bg-orange-900/10 border border-orange-500/20 rounded-xl flex items-start gap-3"},e.createElement(Lt,{className:"w-5 h-5 text-orange-500 shrink-0 mt-0.5"}),e.createElement("p",{className:"text-xs text-orange-200 leading-relaxed font-medium"},e.createElement("strong",{className:"text-orange-400 block mb-1"},"ATENCIÓN:"),"Si tenés activado un ",e.createElement("span",{className:"text-white font-bold"},"AdBlocker/Bloqueador de Anuncios"),", por favor desactivalo temporalmente. Es posible que el pago no se concrete si el bloqueador interfiere con la seguridad del banco.")),e.createElement("div",{id:"cardPaymentBrick_container",ref:Pr,className:"min-h-[400px]"}),eo&&e.createElement("div",{className:"mt-4 space-y-3"},e.createElement("div",{className:"p-4 bg-red-900/20 border border-red-500/30 rounded-xl text-red-400 text-sm flex items-center gap-3"},e.createElement(jt,{className:"w-5 h-5 flex-shrink-0"}),eo),e.createElement("button",{onClick:()=>{Ve(null),no()},className:"w-full py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-xl text-sm font-bold transition-all flex items-center justify-center gap-2"},e.createElement(mo,{className:"w-4 h-4"}),"Reintentar Pago")),$r&&e.createElement("div",{className:"mt-4 p-4 bg-orange-900/20 border border-orange-500/30 rounded-xl text-orange-400 text-sm flex items-center gap-3"},e.createElement(Et,{className:"w-5 h-5 animate-spin flex-shrink-0"}),"Procesando tu pago, por favor esperá..."))),P.paymentChoice==="Transferencia"&&e.createElement("div",{className:"mt-8 animate-fade-up"},e.createElement("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-orange-500/20"},e.createElement("h3",{className:"text-white font-bold mb-3 flex items-center gap-2"},e.createElement(Ao,{className:"w-5 h-5 text-orange-400"}),"Datos para transferir"),e.createElement("div",{className:"space-y-2 text-sm"},e.createElement("div",{className:"flex items-start justify-between gap-4"},e.createElement("span",{className:"text-slate-400"},"Titular"),e.createElement("span",{className:"text-white font-medium text-right break-all"},a?.paymentTransfer?.holderName?String(a.paymentTransfer.holderName):"Sin configurar")),e.createElement("div",{className:"flex items-start justify-between gap-4"},e.createElement("span",{className:"text-slate-400"},"Alias"),e.createElement("span",{className:"text-white font-mono text-right break-all"},a?.paymentTransfer?.alias?String(a.paymentTransfer.alias):"Sin configurar")),e.createElement("div",{className:"flex items-start justify-between gap-4"},e.createElement("span",{className:"text-slate-400"},"CBU"),e.createElement("span",{className:"text-white font-mono text-right break-all"},a?.paymentTransfer?.cbu?String(a.paymentTransfer.cbu):"Sin configurar"))),e.createElement("div",{className:"mt-4 p-4 bg-orange-900/10 border border-orange-500/20 rounded-xl flex items-start gap-3"},e.createElement(ht,{className:"w-5 h-5 text-orange-500 shrink-0 mt-0.5"}),e.createElement("p",{className:"text-xs text-orange-200 leading-relaxed font-medium"},"Una vez realizada la transferencia, confirmá el pedido. Si necesitás coordinar el comprobante, te contactamos por WhatsApp si está disponible.")))))),e.createElement("div",{className:"md:col-span-2"},e.createElement("div",{className:`border p-5 sm:p-8 rounded-2xl sm:rounded-[2.5rem] sticky top-20 sm:top-28 shadow-2xl ${o?"bg-gradient-to-br from-slate-900 via-[#0a0a0a] to-[#050505] border-slate-800":"bg-white border-slate-200"}`},e.createElement("h3",{className:`font-black mb-6 sm:mb-8 text-lg sm:text-xl border-b pb-4 ${o?"text-white border-slate-800":"text-slate-900 border-slate-100"}`},"Resumen Final"),e.createElement("div",{className:"space-y-4 mb-8"},e.createElement("div",{className:`flex justify-between ${o?"text-slate-400":"text-slate-500"}`},e.createElement("span",null,"Productos (",te.length,")"),e.createElement("span",{className:`font-bold ${o?"text-white":"text-slate-900"}`},"$",_e.toLocaleString())),Aa>0&&e.createElement("div",{className:"flex justify-between text-purple-500 font-bold"},e.createElement("span",null,"Descuento"),e.createElement("span",null,"-$",Aa.toLocaleString())),e.createElement("div",{className:`h-px my-4 border-t border-dashed ${o?"bg-slate-800 border-slate-700":"bg-slate-100 border-slate-200"}`}),e.createElement("div",{className:"flex justify-between items-end"},e.createElement("span",{className:`font-bold ${o?"text-white":"text-slate-900"}`},"Total a Pagar"),e.createElement("span",{className:`text-3xl font-black tracking-tighter ${o?"text-white neon-text":"text-slate-900"}`},"$",kt.toLocaleString()))),P.paymentChoice&&P.paymentChoice!=="Tarjeta"?e.createElement(e.Fragment,null,e.createElement("button",{onClick:Wr,disabled:vt,className:`w-full py-5 text-white font-bold text-lg rounded-2xl shadow-xl flex items-center justify-center gap-3 transition-all ${vt?"bg-slate-700 cursor-not-allowed":"bg-green-600 hover:bg-green-500 shadow-green-900/20 hover:scale-[1.02]"}`},vt?e.createElement(Et,{className:"w-6 h-6 animate-spin"}):e.createElement(Q,{className:"w-6 h-6"}),vt?"Procesando...":"Confirmar Pedido"),e.createElement("p",{className:"text-center text-slate-600 text-xs mt-6 leading-relaxed px-4"},"Al confirmar, aceptas nuestros términos de servicio y política de privacidad.")):P.paymentChoice==="Tarjeta"?e.createElement("div",{className:"bg-orange-900/10 border border-orange-500/20 p-4 rounded-2xl text-center"},e.createElement("p",{className:"text-orange-400 text-sm font-medium flex items-center justify-center gap-2"},e.createElement(ft,{className:"w-4 h-4"}),"Completá los datos de tu tarjeta arriba para pagar"),e.createElement("p",{className:"text-slate-500 text-xs mt-2"},"Tu compra quedará confirmada automáticamente al procesar el pago.")):null)))),m==="profile"&&h&&h.id&&h.email&&h.name&&e.createElement("div",{className:"max-w-6xl mx-auto pt-4 sm:pt-8 animate-fade-up px-2 sm:px-4 md:px-8 pb-20"},e.createElement("div",{className:`p-4 sm:p-8 md:p-12 rounded-2xl sm:rounded-[3rem] mb-6 sm:mb-12 flex flex-col md:flex-row items-center gap-4 sm:gap-8 relative overflow-hidden shadow-2xl border transition-colors duration-300 ${o?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`},e.createElement("div",{className:`absolute top-0 right-0 w-96 h-96 rounded-full blur-[120px] pointer-events-none ${o?"bg-orange-500/5":"bg-orange-500/10"}`}),e.createElement("div",{className:`absolute bottom-0 left-0 w-64 h-64 rounded-full blur-[100px] pointer-events-none ${o?"bg-blue-600/5":"bg-blue-600/10"}`}),e.createElement("div",{className:`w-20 h-20 sm:w-28 sm:h-28 rounded-2xl sm:rounded-[2rem] bg-gradient-to-br from-orange-500 to-blue-600 flex items-center justify-center text-3xl sm:text-5xl font-black text-white shadow-2xl z-10 transform rotate-3 border-4 ${o?"border-[#0a0a0a]":"border-white"}`},h.name.charAt(0)),e.createElement("div",{className:"text-center md:text-left z-10 flex-1"},e.createElement("h2",{className:`text-2xl sm:text-4xl md:text-5xl font-black mb-2 tracking-tight ${o?"text-white":"text-slate-900"}`},h.name),e.createElement("p",{className:`flex items-center justify-center md:justify-start gap-2 font-medium mb-4 ${o?"text-slate-400":"text-slate-500"}`},e.createElement(Sl,{className:"w-4 h-4 text-orange-500"})," ",h.email),e.createElement("div",{className:"flex flex-wrap gap-4 justify-center md:justify-start"},e.createElement("span",{className:`px-4 py-2 rounded-xl text-xs font-mono flex items-center gap-2 border ${o?"bg-slate-900 border-slate-800 text-slate-500":"bg-slate-50 border-slate-200 text-slate-600"}`},e.createElement(xt,{className:"w-3 h-3"})," ",h.dni||"Sin DNI"),e.createElement("span",{className:`px-4 py-2 rounded-xl text-xs font-mono flex items-center gap-2 border ${o?"bg-slate-900 border-slate-800 text-slate-500":"bg-slate-50 border-slate-200 text-slate-600"}`},e.createElement(xo,{className:"w-3 h-3"})," ",h.phone||"Sin Teléfono"),e.createElement("span",{className:`px-4 py-2 rounded-xl text-xs font-mono flex items-center gap-2 border ${o?"bg-slate-900 border-slate-800 text-slate-500":"bg-slate-50 border-slate-200 text-slate-600"}`},e.createElement(Le,{className:"w-3 h-3"})," ",ua(h.email).toUpperCase()))),e.createElement("div",{className:"flex flex-col gap-3 z-10 w-full md:w-auto"},ss(h.email)&&e.createElement("button",{onClick:()=>b("admin"),className:`px-6 py-4 rounded-2xl font-bold transition flex items-center justify-center gap-2 shadow-lg border ${o?"bg-slate-900 border-orange-500/30 text-orange-400 hover:bg-orange-900/20 hover:shadow-orange-500/10":"bg-orange-50 border-orange-200 text-orange-600 hover:bg-orange-100"}`},e.createElement(Le,{className:"w-5 h-5"})," Panel Admin"),e.createElement("button",{onClick:Br,className:`px-6 py-4 rounded-2xl font-bold transition flex items-center justify-center gap-2 border ${o?"bg-red-900/10 border-red-500/20 text-red-500 hover:bg-red-900/20 hover:border-red-500/40":"bg-red-50 border-red-100 text-red-600 hover:bg-red-100"}`},e.createElement(po,{className:"w-5 h-5"})," Cerrar Sesión"))),e.createElement("div",{className:`p-4 sm:p-8 rounded-2xl sm:rounded-[2.5rem] mb-6 sm:mb-12 shadow-2xl animate-fade-up border transition-colors duration-300 ${o?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`},e.createElement("h3",{className:`text-xl sm:text-2xl font-black mb-4 sm:mb-6 flex items-center gap-2 sm:gap-3 ${o?"text-white":"text-slate-900"}`},e.createElement(Pt,{className:"text-purple-400 w-5 h-5 sm:w-6 sm:h-6"})," Mis Cupones Disponibles"),e.createElement("div",{className:"grid md:grid-cols-2 gap-4 sm:gap-8"},e.createElement("div",{className:"space-y-3 sm:space-y-4"},(()=>{let t=_t.filter(s=>s.targetType==="global"||s.targetType==="specific_email"&&s.targetUser===h.email);return t.length===0?e.createElement("p",{className:`${o?"text-slate-500":"text-slate-400"} italic`},"No tienes cupones disponibles en este momento."):t.map(s=>e.createElement("div",{key:s.id,className:`p-4 rounded-xl flex items-center justify-between group transition border ${o?"bg-slate-900/50 border-slate-800 hover:border-purple-500/30":"bg-slate-50 border-slate-100 hover:border-purple-300 hover:bg-white"}`},e.createElement("div",null,e.createElement("p",{className:`font-black text-lg tracking-widest ${o?"text-white":"text-slate-900"}`},s.code),e.createElement("p",{className:`text-sm font-bold ${o?"text-purple-400":"text-purple-600"}`},s.type==="fixed"?`$${s.value} OFF`:`${s.value}% OFF`),s.expirationDate&&e.createElement("p",{className:`text-[10px] mt-1 ${o?"text-slate-500":"text-slate-400"}`},"Vence: ",s.expirationDate)),e.createElement("button",{onClick:()=>{navigator.clipboard.writeText(s.code),c("Código copiado","success")},className:`px-4 py-2 rounded-lg text-xs font-bold transition border ${o?"bg-purple-900/20 text-purple-400 border-purple-500/20 hover:bg-purple-500 hover:text-white":"bg-purple-50 text-purple-600 border-purple-200 hover:bg-purple-600 hover:text-white"}`},"COPIAR")))})()),e.createElement("div",{className:`p-6 rounded-2xl border ${o?"bg-slate-900/30 border-slate-800":"bg-slate-50 border-slate-200"}`},e.createElement("h4",{className:`font-bold mb-4 text-sm uppercase tracking-wider ${o?"text-white":"text-slate-900"}`},"Canjear Código"),e.createElement("div",{className:"flex gap-2"},e.createElement("input",{className:`flex-1 rounded-xl p-3 outline-none uppercase font-mono border ${o?"bg-slate-950 border-slate-800 text-white focus:border-purple-500":"bg-white border-slate-200 text-slate-900 focus:border-purple-400"}`,placeholder:"CÓDIGO",id:"couponRedeemInput"}),e.createElement("button",{onClick:()=>{let t=document.getElementById("couponRedeemInput"),s=String(t?.value||"").trim().toUpperCase();if(!s)return c("Ingresa un código","warning");_t.find(l=>l.code===s)?c("¡Cupón válido! Úsalo en el checkout.","success"):c("Cupón no encontrado o inválido","error")},className:"bg-purple-600 px-6 rounded-xl text-white font-bold hover:bg-purple-500 transition shadow-lg"},"Validar")),e.createElement("p",{className:`text-xs mt-3 leading-relaxed ${o?"text-slate-500":"text-slate-400"}`},"Ingresa el código aquí para verificar si es válido. Llévalo al checkout para aplicar el descuento.")))),e.createElement("div",{className:"grid lg:grid-cols-2 gap-10"},e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h3",{className:`text-2xl font-black flex items-center gap-3 ${o?"text-white":"text-slate-900"}`},e.createElement(gt,{className:"text-orange-400 w-6 h-6"})," Tus Compras")),(()=>{let s=me.filter(r=>r.userId===h.id&&r.status==="Realizado").flatMap(r=>r.items.map(l=>({...l,date:r.date})));return s.length===0?e.createElement("div",{className:`p-12 border-2 border-dashed rounded-[2rem] text-center bg-slate-900/20 ${o?"border-slate-800 text-slate-500":"border-slate-200 text-slate-400 bg-slate-50"}`},e.createElement(gt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.createElement("p",{className:"font-bold"},"Aún no tienes compras finalizadas."),e.createElement("button",{onClick:()=>b("store"),className:"mt-4 text-orange-400 hover:underline text-sm font-bold"},"Ir a la tienda")):e.createElement("div",{className:"grid grid-cols-1 gap-4 max-h-[600px] overflow-y-auto custom-scrollbar pr-2"},s.sort((r,l)=>new Date(l.date)-new Date(r.date)).map((r,l)=>e.createElement("div",{key:l,className:`p-4 rounded-2xl flex items-center gap-4 group transition duration-300 border ${o?"bg-[#0a0a0a] border-slate-800 hover:border-orange-500/50":"bg-white border-slate-200 hover:border-orange-400 hover:shadow-md"}`},e.createElement("div",{className:`w-16 h-16 rounded-xl p-1 flex-shrink-0 ${o?"bg-white":"bg-slate-50 border border-slate-100"}`},e.createElement("img",{src:r.image,className:"w-full h-full object-contain",alt:r.title})),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("h4",{className:`font-bold text-sm truncate transition group-hover:text-orange-500 ${o?"text-white":"text-slate-900"}`},r.title),e.createElement("p",{className:`text-xs font-mono mt-1 ${o?"text-slate-500":"text-slate-400"}`},new Date(r.date).toLocaleDateString())),e.createElement("div",{className:"text-right flex flex-col items-end gap-1"},e.createElement("p",{className:`font-black ${o?"text-white":"text-slate-900"}`},"$",r.unit_price.toLocaleString()),r.quantity>1&&e.createElement("span",{className:`text-[10px] font-bold ${o?"text-slate-500":"text-slate-400"}`},"x",r.quantity," und.")))))})()),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h3",{className:`text-2xl font-black flex items-center gap-3 ${o?"text-white":"text-slate-900"}`},e.createElement(Da,{className:"text-red-500 w-6 h-6 fill-current"})," Mis Favoritos"),e.createElement("span",{className:`text-xs font-bold px-3 py-1 rounded-full ${o?"text-slate-500 bg-slate-900":"text-slate-600 bg-slate-100"}`},h.favorites?.length||0," Guardados")),!h.favorites||h.favorites.length===0?e.createElement("div",{className:`p-12 border-2 border-dashed rounded-[2rem] text-center bg-slate-900/20 ${o?"border-slate-800 text-slate-500":"border-slate-200 text-slate-400 bg-slate-50"}`},e.createElement(Da,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.createElement("p",{className:"font-bold"},"Tu lista de deseos está vacía."),e.createElement("p",{className:"text-xs mt-2 max-w-xs mx-auto"},"Guarda productos haciendo click en el corazón de las tarjetas.")):e.createElement("div",{className:"space-y-4 max-h-[600px] overflow-y-auto custom-scrollbar pr-2"},h.favorites.map(t=>{let s=I.find(r=>r.id===t);return s?e.createElement("div",{key:t,className:`p-4 rounded-2xl flex items-center gap-4 relative group transition border ${o?"bg-[#0a0a0a] border-slate-800 hover:border-slate-600":"bg-white border-slate-200 hover:border-orange-400 hover:shadow-md"}`},e.createElement("div",{className:`w-16 h-16 rounded-xl p-1 flex-shrink-0 ${o?"bg-white":"bg-slate-50 border border-slate-100"}`},e.createElement("img",{src:s.image,alt:s.name||"Producto",className:"w-full h-full object-contain"})),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:`font-bold line-clamp-1 transition group-hover:text-orange-500 ${o?"text-white":"text-slate-900"}`},s.name),e.createElement("p",{className:"text-orange-500 font-bold text-sm mt-1"},"$",s.basePrice.toLocaleString())),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{onClick:()=>ro(s),className:`p-3 rounded-xl transition border ${o?"bg-slate-900 text-red-400 border-slate-800 hover:bg-red-900/20 hover:border-red-500/30":"bg-red-50 text-red-500 border-red-100 hover:bg-red-100"}`,title:"Eliminar de favoritos"},e.createElement(de,{className:"w-4 h-4"})),e.createElement("button",{onClick:()=>pt(s,1),className:`p-3 rounded-xl transition border ${o?"bg-slate-900 text-orange-400 border-slate-800 hover:bg-orange-900/20 hover:border-orange-500/30":"bg-orange-50 text-orange-600 border-orange-100 hover:bg-orange-100"}`,title:"Agregar al carrito"},e.createElement(Ie,{className:"w-4 h-4"})))):null}))))),m==="profile"&&(!h||!h.id||!h.email||!h.name)&&e.createElement("div",{className:"max-w-md mx-auto pt-20 animate-fade-up px-4 text-center"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem] shadow-2xl"},e.createElement(xt,{className:"w-16 h-16 mx-auto mb-6 text-orange-500 opacity-50"}),e.createElement("h2",{className:"text-2xl font-black text-white mb-4"},"Inicia Sesión"),e.createElement("p",{className:"text-slate-400 mb-8"},"Debes iniciar sesión o registrarte para acceder a tu perfil."),e.createElement("button",{onClick:()=>b("login"),className:"w-full py-4 bg-gradient-to-r from-orange-500 to-blue-600 text-white rounded-2xl font-black hover:from-orange-400 hover:to-blue-500 transition shadow-lg"},"INICIAR SESIÓN"))),(m==="login"||m==="register")&&e.createElement("div",{className:"fixed inset-0 z-[20002] flex items-end sm:items-center justify-center bg-[#050505]/95 p-0 sm:p-4 animate-fade-up backdrop-blur-xl"},e.createElement("div",{className:"bg-[#0a0a0a] p-5 sm:p-8 md:p-12 rounded-t-3xl sm:rounded-[3rem] w-full max-w-md shadow-2xl border border-slate-800 relative overflow-hidden max-h-[95dvh] overflow-y-auto"},e.createElement("button",{onClick:()=>b("store"),className:"absolute top-6 right-6 p-2 bg-slate-900/50 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white transition z-20"},e.createElement(ue,{className:"w-6 h-6"})),e.createElement("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-orange-500 via-orange-600 to-red-600"}),e.createElement("h2",{className:"text-2xl sm:text-4xl font-black text-white mb-2 text-center tracking-tight"},qe?"Bienvenido":"Crear Cuenta"),e.createElement("p",{className:"text-slate-500 text-center mb-5 sm:mb-8 text-sm"},qe?"Ingresa a tu cuenta para continuar.":"Únete a nosotros hoy mismo."),e.createElement("form",{onSubmit:t=>{t.preventDefault(),Ur(!qe)},className:"space-y-4"},!qe&&e.createElement("div",{className:"space-y-4 animate-fade-up"},e.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Nombre Completo *",value:F.name,onChange:t=>Qe({...F,name:t.target.value}),required:!0}),e.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Nombre de Usuario *",value:F.username,onChange:t=>Qe({...F,username:t.target.value}),required:!0}),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("input",{className:"input-cyber p-4",placeholder:"DNI *",value:F.dni,onChange:t=>Qe({...F,dni:t.target.value}),required:!0}),e.createElement("input",{className:"input-cyber p-4",placeholder:"Teléfono *",value:F.phone,onChange:t=>Qe({...F,phone:t.target.value}),required:!0}))),e.createElement("div",{className:"space-y-4"},e.createElement("input",{className:"input-cyber w-full p-4",placeholder:qe?"Email o Usuario":"Email *",value:F.email,onChange:t=>Qe({...F,email:t.target.value}),required:!0}),e.createElement("input",{className:"input-cyber w-full p-4",type:"password",placeholder:qe?"Contraseña":"Contraseña *",value:F.password,onChange:t=>Qe({...F,password:t.target.value}),required:!0})),qe&&e.createElement("button",{type:"button",onClick:qr,className:"text-sm text-slate-500 hover:text-orange-400 transition text-right w-full mt-1"},"¿Olvidaste tu contraseña?"),e.createElement("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-600 to-blue-600 hover:from-orange-500 hover:to-blue-500 py-4 text-white rounded-xl font-bold mt-6 transition transform hover:-translate-y-1 shadow-lg flex items-center justify-center gap-2"},Ss?e.createElement(Et,{className:"animate-spin w-5 h-5"}):qe?"INGRESAR":"REGISTRARSE")),e.createElement("button",{onClick:()=>nr(!qe),className:"w-full text-center text-slate-500 text-sm mt-8 font-bold hover:text-orange-400 transition border-t border-slate-800 pt-6"},qe?"¿No tienes cuenta? Regístrate gratis":"¿Ya tienes cuenta? Inicia sesión"))),m==="about"&&e.createElement("div",{className:"max-w-4xl mx-auto pt-6 sm:pt-10 px-3 sm:px-6 animate-fade-up pb-20"},e.createElement("button",{onClick:()=>b("store"),className:`mb-4 sm:mb-8 p-3 rounded-full transition ${o?"bg-slate-900 text-slate-400 hover:text-white":"bg-slate-100 text-slate-600 hover:text-slate-900"}`},e.createElement(ot,null)),e.createElement("h2",{className:`text-2xl sm:text-4xl md:text-5xl font-black mb-6 sm:mb-12 flex items-center gap-3 sm:gap-4 ${o?"text-white neon-text":"text-slate-900"}`},e.createElement(ht,{className:"text-orange-500 w-8 h-8 sm:w-12 sm:h-12"})," Sobre Nosotros"),e.createElement("div",{className:`border p-4 sm:p-8 md:p-12 rounded-2xl sm:rounded-[3rem] text-base sm:text-xl leading-relaxed whitespace-pre-wrap shadow-2xl relative overflow-hidden ${o?"bg-[#0a0a0a] border-slate-800 text-slate-300":"bg-white border-slate-200 text-slate-600"}`},e.createElement("div",{className:"absolute top-0 right-0 w-64 h-64 bg-purple-500/10 rounded-full blur-[100px] pointer-events-none"}),e.createElement("p",{className:"relative z-10"},a.aboutUsText),e.createElement("div",{className:`mt-12 pt-12 border-t flex flex-col md:flex-row gap-8 ${o?"border-slate-800":"border-slate-200"}`},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border ${o?"bg-slate-900 border-slate-800":"bg-slate-100 border-slate-200"}`},e.createElement(Le,{className:"text-orange-500"})),e.createElement("div",null,e.createElement("h4",{className:`font-bold ${o?"text-white":"text-slate-900"}`},"Garantía Oficial"),e.createElement("p",{className:`text-sm ${o?"text-slate-500":"text-slate-400"}`},"Productos de calidad"))),e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border ${o?"bg-slate-900 border-slate-800":"bg-slate-100 border-slate-200"}`},e.createElement(et,{className:"text-purple-500"})),e.createElement("div",null,e.createElement("h4",{className:`font-bold ${o?"text-white":"text-slate-900"}`},"Envíos Seguros"),e.createElement("p",{className:`text-sm ${o?"text-slate-500":"text-slate-400"}`},"A todo el país")))))),m==="guide"&&e.createElement("div",{className:"max-w-4xl mx-auto pt-6 sm:pt-10 px-3 sm:px-6 animate-fade-up pb-20"},e.createElement("button",{onClick:()=>b("store"),className:`mb-4 sm:mb-8 p-3 rounded-full transition ${o?"bg-slate-900 text-slate-400 hover:text-white":"bg-slate-100 text-slate-600 hover:text-slate-900"}`},e.createElement(ot,null)),e.createElement("h2",{className:`text-2xl sm:text-4xl md:text-5xl font-black mb-6 sm:mb-12 flex items-center gap-3 sm:gap-4 ${o?"text-white neon-text":"text-slate-900"}`},e.createElement(ps,{className:"text-orange-500 w-8 h-8 sm:w-12 sm:h-12"})," ",a?.guideTitle||"Cómo Comprar"),e.createElement("div",{className:`border p-4 sm:p-8 md:p-12 rounded-2xl sm:rounded-[3rem] shadow-2xl space-y-6 sm:space-y-8 ${o?"bg-[#0a0a0a] border-slate-800 text-slate-300":"bg-white border-slate-200 text-slate-600"}`},[{title:a?.guideStep1Title||"Selecciona Productos",text:a?.guideStep1Text||"Navega por nuestro catálogo y añade lo que te guste al carrito con el botón '+'."},{title:a?.guideStep2Title||"Revisa tu Carrito",text:a?.guideStep2Text||"Verifica las cantidades. Si tienes un cupón de descuento, ¡es el momento de usarlo!"},{title:a?.guideStep3Title||"Datos de Envío",text:a?.guideStep3Text||"Completa la información de entrega. Hacemos envíos a todo el país."},{title:a?.guideStep4Title||"Pago y Confirmación",text:a?.guideStep4Text||"Elige tu método de pago preferido. Si es transferencia, recibirás los datos por email."},{title:a?.guideStep5Title||"¡Listo!",text:a?.guideStep5Text||"Recibirás un correo con el seguimiento de tu pedido. ¡Disfruta tu compra!"}].filter((t,s)=>!(s===0&&a?.showGuideStep1===!1||s===1&&a?.showGuideStep2===!1||s===2&&a?.showGuideStep3===!1||s===3&&a?.showGuideStep4===!1||s===4&&a?.showGuideStep5===!1)).map((t,s)=>e.createElement("div",{key:s,className:"flex gap-6 items-start"},e.createElement("div",{className:`w-10 h-10 rounded-full font-black flex items-center justify-center border flex-shrink-0 mt-1 ${o?"bg-orange-900/20 text-orange-400 border-orange-500/20":"bg-orange-100 text-orange-600 border-orange-200"}`},s+1),e.createElement("div",null,e.createElement("h3",{className:`text-xl font-bold mb-2 ${o?"text-white":"text-slate-900"}`},t.title),e.createElement("p",{className:`leading-relaxed ${o?"text-slate-400":"text-slate-500"}`},t.text)))))),m==="privacy"&&e.createElement("div",{className:"max-w-4xl mx-auto pt-6 sm:pt-10 px-3 sm:px-6 animate-fade-up pb-20"},e.createElement("button",{onClick:()=>b("store"),className:`mb-4 sm:mb-8 p-3 rounded-full transition ${o?"bg-slate-900 text-slate-400 hover:text-white":"bg-slate-100 text-slate-600 hover:text-slate-900"}`},e.createElement(ot,null)),e.createElement("h2",{className:`text-2xl sm:text-4xl md:text-5xl font-black mb-6 sm:mb-12 flex items-center gap-3 sm:gap-4 ${o?"text-white neon-text":"text-slate-900"}`},e.createElement(Le,{className:"text-orange-500 w-8 h-8 sm:w-12 sm:h-12"})," Política de Privacidad"),e.createElement("div",{className:`border p-4 sm:p-8 md:p-12 rounded-2xl sm:rounded-[3rem] shadow-2xl space-y-6 sm:space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar ${o?"bg-[#0a0a0a] border-slate-800 text-slate-300":"bg-white border-slate-200 text-slate-600"}`},e.createElement("div",{className:"prose prose-invert max-w-none"},e.createElement("p",{className:`text-sm mb-8 italic ${o?"text-slate-500":"text-slate-400"}`},"Última actualización: 07 de enero de 2026"),e.createElement("p",null,"Este Aviso de Privacidad para ",e.createElement("strong",null,a?.storeName||"Sustore"),' ("nosotros", "nos" o "nuestro"), describe cómo y por qué podríamos acceder, recopilar, almacenar, usar y/o compartir ("proceso") su información personal cuando utiliza nuestros servicios ("Servicios"), incluso cuando:'),e.createElement("ul",{className:"list-disc pl-5 space-y-2"},e.createElement("li",null,"Visita nuestro sitio web en ",e.createElement("a",{href:"https://sustore.vercel.app",className:"text-orange-500 hover:underline"},"https://sustore.vercel.app")," o cualquier sitio web nuestro que enlace a este Aviso de Privacidad."),e.createElement("li",null,"Interactúe con nosotros de otras maneras relacionadas, incluido cualquier marketing o evento.")),e.createElement("div",{className:`p-6 rounded-2xl border my-8 ${o?"bg-slate-900/50 border-slate-800 text-slate-300":"bg-slate-50 border-slate-200 text-slate-700"}`},e.createElement("h3",{className:`text-xl font-bold mb-4 ${o?"text-white":"text-slate-900"}`},"RESUMEN DE PUNTOS CLAVE"),e.createElement("ul",{className:"space-y-4 text-sm"},e.createElement("li",null,e.createElement("strong",null,"¿Qué información personal procesamos?")," Información proporcionada al registrarse o comprar."),e.createElement("li",null,e.createElement("strong",null,"¿Procesamos información confidencial?")," No."),e.createElement("li",null,e.createElement("strong",null,"¿Recopilamos información de terceros?")," No."),e.createElement("li",null,e.createElement("strong",null,"¿Cómo procesamos su información?")," Para gestionar pedidos, seguridad y mejora del servicio."),e.createElement("li",null,e.createElement("strong",null,"¿Compartimos información?")," Solo en situaciones específicas como transferencias comerciales o requisitos legales."))),e.createElement("h3",{className:`text-xl font-bold mt-12 mb-4 border-b pb-2 ${o?"text-white border-slate-800":"text-slate-900 border-slate-200"}`},"1. ¿QUÉ INFORMACIÓN RECOPILAMOS?"),e.createElement("p",null,"Recopilamos información que usted nos proporciona voluntariamente: nombres, teléfonos, emails, direcciones, nombres de usuario y contraseñas."),e.createElement("p",null,"También recopilamos datos técnicos automáticamente (IP, tipo de navegador) para seguridad y análisis del sitio."),e.createElement("h3",{className:`text-xl font-bold mt-12 mb-4 border-b pb-2 ${o?"text-white border-slate-800":"text-slate-900 border-slate-200"}`},"2. ¿CÓMO PROCESAMOS TU INFORMACIÓN?"),e.createElement("ul",{className:"list-disc pl-5 space-y-2"},e.createElement("li",null,"Facilitar creación y administración de cuentas."),e.createElement("li",null,"Gestionar pedidos, pagos y envíos."),e.createElement("li",null,"Proteger nuestros servicios contra fraude."),e.createElement("li",null,"Evaluar y mejorar la experiencia del usuario.")),e.createElement("h3",{className:`text-xl font-bold mt-12 mb-4 border-b pb-2 ${o?"text-white border-slate-800":"text-slate-900 border-slate-200"}`},"3. ¿CUÁNTO TIEMPO CONSERVAMOS TU INFORMACIÓN?"),e.createElement("p",null,"Conservamos su información mientras tenga una cuenta activa con nosotros o según lo exija la ley para fines contables o legales."),e.createElement("h3",{className:`text-xl font-bold mt-12 mb-4 border-b pb-2 ${o?"text-white border-slate-800":"text-slate-900 border-slate-200"}`},"4. ¿CUÁLES SON SUS DERECHOS?"),e.createElement("p",null,"Puede revisar, cambiar o cancelar su cuenta en cualquier momento desde su perfil o contactándonos directamente."),e.createElement("h3",{className:`text-xl font-bold mt-12 mb-4 border-b pb-2 ${o?"text-white border-slate-800":"text-slate-900 border-slate-200"}`},"5. CONTACTO"),e.createElement("p",null,"Para preguntas sobre este aviso, puede escribirnos a:"),e.createElement("div",{className:`p-6 rounded-xl border font-mono text-sm leading-relaxed ${o?"bg-slate-950 border-slate-800":"bg-white border-slate-200 shadow-sm"}`},e.createElement("strong",null,a?.storeName||"Sustore"),e.createElement("br",null),"Saavedra 7568",e.createElement("br",null),"Santa Fe, 3000",e.createElement("br",null),"Argentina",e.createElement("br",null),e.createElement("a",{href:`https://mail.google.com/mail/?view=cm&fs=1&to=${a?.sellerEmail}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:underline"},a?.sellerEmail||"[Email de contacto]"))))),m==="admin"&&(!ye||Lr(h?.email)?e.createElement("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center"},e.createElement("div",{className:"text-center"},e.createElement("div",{className:"relative"},e.createElement("div",{className:"w-16 h-16 rounded-full border-4 border-slate-800 animate-spin",style:{borderTopColor:"#f97316"}}),e.createElement("div",{className:"absolute inset-0 flex items-center justify-center"},e.createElement(Le,{className:"w-6 h-6 text-orange-500 animate-pulse"}))),e.createElement("p",{className:"text-slate-500 text-xs mt-4 font-mono uppercase tracking-widest"},"Verificando permisos..."))):ss(h?.email)&&h?.id&&h?.id.length>=10&&!Ho.detectManipulation()?e.createElement("div",{className:"flex min-h-screen min-full-viewport bg-[#050505] overflow-hidden animate-fade-up relative w-full font-sans"},xe&&e.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden animate-fade-in",onClick:()=>K(!1)}),e.createElement("div",{className:`fixed inset-y-0 left-0 z-40 w-[280px] bg-[#0a0a0a] border-r border-slate-800 flex flex-col transition-transform duration-300 ease-out ${xe?"translate-x-0":"-translate-x-full md:translate-x-0"} md:static md:w-72 shadow-2xl`},e.createElement("div",{className:"p-6 md:p-8 border-b border-slate-900 flex items-center justify-between"},e.createElement("div",null,e.createElement("h2",{className:"text-xl md:text-2xl font-black text-white tracking-tight flex items-center gap-3"},e.createElement("div",{className:"w-9 h-9 md:w-10 md:h-10 bg-orange-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-orange-900/20"},e.createElement(Le,{className:"w-5 h-5 md:w-6 md:h-6"})),"ADMIN"),e.createElement("p",{className:"text-[10px] md:text-xs text-slate-500 mt-1.5 font-mono ml-1"},"v3.0.0 PRO")),e.createElement("button",{onClick:()=>K(!1),className:"md:hidden p-2 bg-slate-900 hover:bg-slate-800 rounded-xl text-slate-400 hover:text-white transition border border-slate-800"},e.createElement(ue,{className:"w-5 h-5"}))),e.createElement("nav",{className:"flex-1 p-3 md:p-4 space-y-1.5 md:space-y-2 overflow-y-auto custom-scrollbar"},e.createElement("p",{className:"text-[10px] font-black text-slate-600 uppercase tracking-widest px-3 md:px-4 py-2 mt-1"},"Principal"),e.createElement("button",{onClick:()=>{S("dashboard"),K(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${y==="dashboard"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},e.createElement(Pl,{className:"w-5 h-5"})," Inicio"),e.createElement("button",{onClick:()=>{S("orders"),K(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${y==="orders"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},e.createElement(gt,{className:"w-5 h-5"})," Pedidos",we&&os&&e.createElement("span",{className:"ml-auto text-[10px] px-2 py-1 rounded-full bg-red-900/30 text-red-300 border border-red-500/30 font-black uppercase tracking-widest"},"Nuevo")),e.createElement("button",{onClick:()=>{S("products"),K(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${y==="products"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},e.createElement(Re,{className:"w-5 h-5"})," Productos"),(ba(h?.email)||jr(h?.email))&&e.createElement("button",{onClick:()=>{S("promos"),K(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${y==="promos"?"bg-purple-900/20 text-purple-400 border border-purple-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},e.createElement(ga,{className:"w-5 h-5"})," Promos"),ba(h?.email)&&e.createElement("button",{onClick:()=>{S("carousel"),K(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${y==="carousel"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},e.createElement(vo,{className:"w-5 h-5"})," Carrusel",!["business","premium"].includes(a?.subscriptionPlan)&&e.createElement(Ye,{className:"w-3 h-3 text-yellow-500 ml-auto"})),ba(h?.email)&&e.createElement(e.Fragment,null,e.createElement("p",{className:"text-[10px] font-black text-slate-600 uppercase tracking-widest px-3 md:px-4 py-2 mt-4 md:mt-6"},"Gestión"),e.createElement("button",{onClick:()=>{S("coupons"),K(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${y==="coupons"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},e.createElement(Pt,{className:"w-5 h-5"})," Cupones",!["business","premium"].includes(a?.subscriptionPlan)&&e.createElement(Ye,{className:"w-3 h-3 text-yellow-500 ml-auto"})),e.createElement("button",{onClick:()=>{S("suppliers"),K(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${y==="suppliers"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},e.createElement(et,{className:"w-5 h-5"})," Proveedores"),e.createElement("button",{onClick:()=>{S("purchases"),K(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${y==="purchases"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},e.createElement(Xt,{className:"w-5 h-5"})," Compras"),e.createElement("button",{onClick:()=>{S("finance"),K(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${y==="finance"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},e.createElement(go,{className:"w-5 h-5"})," Finanzas"),e.createElement("button",{onClick:()=>{S("settings"),K(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${y==="settings"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},e.createElement(bo,{className:"w-5 h-5"})," Configuración"),e.createElement("button",{onClick:()=>{S("users"),K(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${y==="users"?"bg-pink-900/20 text-pink-400 border border-pink-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},e.createElement(xa,{className:"w-5 h-5"})," Usuarios"))),e.createElement("div",{className:"p-4 md:p-6 border-t border-slate-900"},e.createElement("button",{onClick:()=>{b("store"),K(!1)},className:"w-full py-3.5 md:py-4 bg-slate-900 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition font-bold text-sm flex items-center justify-center gap-2 group border border-slate-800"},e.createElement(po,{className:"w-4 h-4 group-hover:-translate-x-1 transition"})," Volver a Tienda"))),e.createElement("div",{className:"flex-1 bg-[#050505] overflow-y-auto relative w-full p-4 md:p-10 custom-scrollbar"},e.createElement("button",{onClick:()=>K(!0),className:"md:hidden mb-4 p-3 bg-slate-900 hover:bg-slate-800 rounded-xl text-white border border-slate-800 flex items-center gap-2 font-bold text-sm transition"},e.createElement(uo,{className:"w-5 h-5"})," Menú"),y==="dashboard"&&e.createElement("div",{className:"max-w-[1600px] mx-auto animate-fade-up space-y-8 pb-20"},e.createElement(pl,null),e.createElement(ul,null),e.createElement("div",{className:"flex flex-col md:flex-row justify-between items-end mb-4 gap-4"},e.createElement("div",null,e.createElement("h1",{className:"text-4xl font-black text-white neon-text"},"Panel de Control"),e.createElement("p",{className:"text-slate-500 mt-2"},"Resumen administrativo y financiero.")),e.createElement("div",{className:"flex items-center gap-3"},e.createElement(Ue,{guideKey:"dashboard"}),e.createElement("div",{className:"hidden md:block bg-slate-900 px-4 py-2 rounded-lg text-xs text-slate-400 font-mono border border-slate-800"},new Date().toLocaleDateString("es-AR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})))),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2.5rem] relative overflow-hidden group hover:border-green-500/30 transition"},e.createElement("div",{className:"flex justify-between items-center mb-6"},e.createElement("div",null,e.createElement("p",{className:"text-slate-500 font-black text-xs tracking-widest uppercase mb-1"},"Ingresos Brutos"),e.createElement("h2",{className:"text-4xl font-black text-white tracking-tighter"},"$",V.revenue.toLocaleString())),e.createElement("div",{className:"p-4 bg-green-900/20 text-green-400 rounded-2xl"},e.createElement(ja,{className:"w-8 h-8"}))),e.createElement("div",{className:"space-y-4 mt-8 border-t border-slate-800 pt-6"},e.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4"},"Rendimiento Mensual"),V.analytics.monthly.slice(-6).reverse().map((t,s)=>{let r=Math.max(...V.analytics.monthly.map(i=>i.revenue)),l=r>0?t.revenue/r*100:0;return e.createElement("div",{key:s,className:"group/item"},e.createElement("div",{className:"flex justify-between text-xs mb-1"},e.createElement("span",{className:"text-slate-400 font-mono"},t.date),e.createElement("span",{className:"text-white font-bold"},"$",t.revenue.toLocaleString())),e.createElement("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden w-full"},e.createElement("div",{className:"h-full bg-gradient-to-r from-green-600 to-emerald-400 rounded-full transition-all duration-1000 group-hover/item:brightness-125",style:{width:`${l}%`}})))}),V.analytics.monthly.length===0&&e.createElement("p",{className:"text-slate-600 text-xs"},"Sin datos suficientes."))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2.5rem] relative overflow-hidden group hover:border-orange-500/30 transition"},e.createElement("div",{className:"flex justify-between items-center mb-6"},e.createElement("div",null,e.createElement("p",{className:"text-slate-500 font-black text-xs tracking-widest uppercase mb-1"},"Beneficio Neto (Estimado)"),e.createElement("h2",{className:`text-4xl font-black tracking-tighter ${V.netIncome>=0?"text-orange-400":"text-red-500"}`},"$",V.netIncome.toLocaleString())),e.createElement("div",{className:`p-4 rounded-2xl ${V.netIncome>=0?"bg-orange-900/20 text-orange-400":"bg-red-900/20 text-red-500"}`},V.netIncome>=0?e.createElement(bs,{className:"w-8 h-8"}):e.createElement(gs,{className:"w-8 h-8"}))),e.createElement("div",{className:"space-y-4 mt-8 border-t border-slate-800 pt-6"},e.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4"},"Ingresos vs Gastos (Últimos Meses)"),V.analytics.monthly.slice(-6).reverse().map((t,s)=>{let r=$.filter(n=>n.date.startsWith(t.date)).reduce((n,u)=>n+u.amount,0)+(_||[]).filter(n=>n.date.startsWith(t.date)).reduce((n,u)=>n+u.cost,0),l=t.revenue+r,i=l>0?t.revenue/l*100:0;return e.createElement("div",{key:s,className:"group/item"},e.createElement("div",{className:"flex justify-between text-xs mb-1"},e.createElement("span",{className:"text-slate-400 font-mono"},t.date),e.createElement("span",{className:"text-orange-400 font-bold"},"+$",(t.revenue-r).toLocaleString())),e.createElement("div",{className:"flex h-2 bg-slate-800 rounded-full overflow-hidden w-full"},e.createElement("div",{title:`Ingresos: $${t.revenue}`,className:"h-full bg-orange-500 transition-all duration-1000",style:{width:`${i}%`}}),e.createElement("div",{title:`Gastos: $${r}`,className:"h-full bg-red-500 transition-all duration-1000",style:{width:`${100-i}%`}})))}),V.analytics.monthly.length===0&&e.createElement("p",{className:"text-slate-600 text-xs"},"Sin datos suficientes.")))),e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},e.createElement("div",{className:"bg-slate-900/30 p-4 rounded-2xl border border-slate-800"},e.createElement("p",{className:"text-slate-500 text-[10px] uppercase font-bold text-center"},"Usuarios Totales"),e.createElement("p",{className:"text-white font-black text-2xl text-center mt-1"},V.totalUsers)),e.createElement("div",{className:"bg-slate-900/30 p-4 rounded-2xl border border-slate-800"},e.createElement("p",{className:"text-slate-500 text-[10px] uppercase font-bold text-center"},"Pedidos Totales"),e.createElement("p",{className:"text-white font-black text-2xl text-center mt-1"},V.totalOrders)),e.createElement("div",{className:"bg-slate-900/30 p-4 rounded-2xl border border-slate-800"},e.createElement("p",{className:"text-slate-500 text-[10px] uppercase font-bold text-center"},"Ticket Promedio"),e.createElement("p",{className:"text-white font-black text-2xl text-center mt-1"},"$",V.totalOrders>0?Math.round(V.revenue/V.totalOrders).toLocaleString():0)),e.createElement("div",{className:"bg-slate-900/30 p-4 rounded-2xl border border-slate-800"},e.createElement("p",{className:"text-slate-500 text-[10px] uppercase font-bold text-center"},"Stock Bajo"),e.createElement("p",{className:`font-black text-2xl text-center mt-1 ${V.lowStockProducts.length>0?"text-red-500":"text-green-500"}`},V.lowStockProducts.length))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2.5rem] relative overflow-hidden group hover:border-yellow-500/30 transition"},e.createElement("div",{className:"absolute top-0 right-0 p-8 opacity-10 pointer-events-none"},e.createElement(ta,{className:"w-32 h-32 text-yellow-500"})),e.createElement("p",{className:"text-slate-500 font-black text-xs tracking-widest uppercase mb-4 flex items-center gap-2"},e.createElement(ta,{className:"w-4 h-4 text-yellow-500"})," Producto Estrella"),V.starProduct?e.createElement("div",{className:"flex items-center gap-6 relative z-10"},e.createElement("div",{className:"w-24 h-24 bg-white rounded-2xl p-2 shadow-lg flex-shrink-0"},e.createElement("img",{src:V.starProduct.image,className:"w-full h-full object-contain"})),e.createElement("div",null,e.createElement("h3",{className:"text-xl font-black text-white leading-tight mb-1"},V.starProduct.name),e.createElement("p",{className:"text-yellow-400 font-bold text-lg"},V.starProduct.sales," Und. vendidas"),e.createElement("p",{className:"text-slate-500 text-xs mt-1"},"Stock actual: ",V.starProduct.stock))):e.createElement("p",{className:"text-slate-600"},"No hay datos de ventas aún.")),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2.5rem] relative overflow-hidden group hover:border-slate-600 transition"},e.createElement("div",{className:"absolute top-0 right-0 p-8 opacity-10 pointer-events-none"},e.createElement(Lt,{className:"w-32 h-32 text-slate-500"})),e.createElement("p",{className:"text-slate-500 font-black text-xs tracking-widest uppercase mb-4 flex items-center gap-2"},e.createElement(gs,{className:"w-4 h-4 text-slate-500"})," Menos Vendido (En Stock)"),V.leastSoldProduct?e.createElement("div",{className:"flex items-center gap-6 relative z-10"},e.createElement("div",{className:"w-24 h-24 bg-white rounded-2xl p-2 shadow-lg grayscale flex-shrink-0"},e.createElement("img",{src:V.leastSoldProduct.image,className:"w-full h-full object-contain"})),e.createElement("div",null,e.createElement("h3",{className:"text-xl font-black text-white leading-tight mb-1"},V.leastSoldProduct.name),e.createElement("p",{className:"text-slate-400 font-bold text-lg"},V.salesCount[V.leastSoldProduct.id]||0," Und. vendidas"),e.createElement("p",{className:"text-slate-500 text-xs mt-1"},"Hay que rotar este stock."))):e.createElement("p",{className:"text-slate-600"},"Todos los productos tienen buena rotación."))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 rounded-[2.5rem] p-8 overflow-hidden shadow-2xl"},e.createElement("h3",{className:"text-xl font-black text-white mb-6 flex items-center gap-2"},e.createElement(us,{className:"w-6 h-6 text-purple-400"})," Registro de Movimientos"),e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"w-full text-left border-collapse"},e.createElement("thead",null,e.createElement("tr",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest border-b border-slate-800"},e.createElement("th",{className:"pb-4 pl-4"},"Fecha"),e.createElement("th",{className:"pb-4"},"Tipo"),e.createElement("th",{className:"pb-4"},"Concepto"),e.createElement("th",{className:"pb-4"},"Estado"),e.createElement("th",{className:"pb-4 text-right pr-4"},"Monto"))),e.createElement("tbody",{className:"text-sm font-medium"},V.transactions.map((t,s)=>e.createElement("tr",{key:`${t.type}-${s}`,className:"border-b border-slate-800/50 hover:bg-slate-900/20 transition group"},e.createElement("td",{className:"py-4 pl-4 text-slate-400 font-mono text-xs"},new Date(t.date).toLocaleDateString()),e.createElement("td",{className:"py-4"},e.createElement("span",{className:`px-2 py-1 rounded text-[10px] font-black uppercase tracking-wider ${t.type==="income"?"bg-green-900/20 text-green-400 border border-green-500/20":"bg-red-900/20 text-red-400 border border-red-500/20"}`},t.category)),e.createElement("td",{className:"py-4 text-white group-hover:text-purple-300 transition"},t.description),e.createElement("td",{className:"py-4 text-xs text-slate-500"},t.status),e.createElement("td",{className:`py-4 text-right pr-4 font-mono font-bold ${t.type==="income"?"text-green-400":"text-red-400"}`},t.type==="income"?"+":"-","$",t.amount.toLocaleString()))),V.transactions.length===0&&e.createElement("tr",null,e.createElement("td",{colSpan:"5",className:"text-center py-8 text-slate-500"},"Sin movimientos registrados."))))))),y==="suppliers"&&e.createElement("div",{className:"max-w-6xl mx-auto space-y-8 animate-fade-up pb-20"},e.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},e.createElement("h1",{className:"text-3xl font-black text-white"},"Proveedores"),e.createElement("div",{className:"flex items-center gap-2"},e.createElement(Ue,{guideKey:"suppliers"}),e.createElement("button",{onClick:()=>{nt({name:"",contact:"",phone:"",ig:"",address:"",cuit:"",associatedProducts:[]}),Ha(null),Na(!0)},className:"bg-orange-600 px-6 py-3 rounded-xl font-bold text-white flex gap-2 shadow-lg hover:bg-orange-500 transition transform hover:-translate-y-1"},e.createElement(Ie,{className:"w-5 h-5"})," Nuevo Proveedor"))),e.createElement("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},qa.map((t,s)=>e.createElement("div",{key:t.id,style:{animationDelay:`${s*.05}s`},className:"bg-[#0a0a0a] border border-slate-800 p-6 rounded-[2rem] hover:border-slate-600 transition duration-300 group animate-fade-up"},e.createElement("div",{className:"flex justify-between items-start mb-6"},e.createElement("div",{className:"p-4 bg-slate-900 rounded-xl text-slate-400 group-hover:text-orange-400 transition group-hover:bg-orange-900/20"},e.createElement(et,{className:"w-8 h-8"})),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{onClick:()=>{nt(t),Ha(t.id),Na(!0)},className:"text-slate-600 hover:text-orange-400 p-2 hover:bg-slate-900 rounded-lg transition",title:"Editar"},e.createElement($t,{className:"w-5 h-5"})),e.createElement("button",{onClick:()=>Se("Eliminar Proveedor","¿Eliminar proveedor?",async()=>await Ke(A(k,"artifacts",d,"public","data","suppliers",t.id))),className:"text-slate-600 hover:text-red-400 p-2 hover:bg-slate-900 rounded-lg transition",title:"Eliminar"},e.createElement(de,{className:"w-5 h-5"})))),e.createElement("h3",{className:"text-2xl font-bold text-white mb-2"},t.name),e.createElement("div",{className:"space-y-3 mb-6 p-4 bg-slate-900/30 rounded-xl border border-slate-800/50"},e.createElement("p",{className:"text-slate-400 text-sm flex items-center gap-3"},e.createElement(xt,{className:"w-4 h-4 text-slate-500"})," ",t.contact),t.phone&&e.createElement("p",{className:"text-slate-400 text-sm flex items-center gap-3"},e.createElement(xo,{className:"w-4 h-4 text-slate-500"})," ",t.phone),t.ig&&e.createElement("p",{className:"text-slate-400 text-sm flex items-center gap-3"},e.createElement(Ta,{className:"w-4 h-4 text-slate-500"})," ",t.ig)),e.createElement("div",{className:"pt-4 border-t border-slate-800"},e.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase mb-3 tracking-wider"},"Productos Suministrados"),e.createElement("div",{className:"flex flex-wrap gap-2"},t.associatedProducts&&t.associatedProducts.length>0?t.associatedProducts.map(r=>{let l=I.find(i=>i.id===r);return l?e.createElement("div",{key:r,className:"w-10 h-10 rounded-lg bg-white p-1 flex items-center justify-center border border-slate-600 tooltip-container",title:l.name},e.createElement("img",{src:l.image,className:"w-full h-full object-contain"})):null}):e.createElement("span",{className:"text-xs text-slate-600 italic"},"No hay productos asignados"))))))),y==="purchases"&&e.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up pb-20"},e.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8"},e.createElement("h1",{className:"text-3xl font-black text-white"},"Gestión de Stock y Compras"),e.createElement(Ue,{guideKey:"purchases"})),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 rounded-[2.5rem] mb-10 shadow-xl overflow-hidden relative"},e.createElement("div",{className:"flex border-b border-slate-800"},e.createElement("div",{className:"flex-1 p-6 text-center font-bold tracking-wider bg-orange-900/20 text-orange-400"},e.createElement(Re,{className:"w-5 h-5 inline-block mr-2"})," REGISTRAR REPOSICIÓN DE STOCK")),e.createElement("div",{className:"p-8"},(()=>{let t=I.find(l=>l.id===pe.productId),r=(t?.purchasePrice||t?.basePrice||0)*pe.quantity;return e.createElement("div",{className:"space-y-6 animate-fade-in"},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},e.createElement("div",{className:"md:col-span-2"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Producto Existente"),e.createElement("div",{className:"flex gap-4 items-center"},t&&e.createElement("div",{className:"w-16 h-16 bg-white rounded-lg p-1 flex-shrink-0 border border-slate-700"},e.createElement("img",{src:t.image,className:"w-full h-full object-contain",alt:"Preview"})),e.createElement("div",{className:"flex-1"},e.createElement("select",{className:"input-cyber w-full p-4",value:pe.productId,onChange:l=>la({...pe,productId:l.target.value})},e.createElement("option",{value:""},"Seleccionar Producto..."),I.map(l=>e.createElement("option",{key:l.id,value:l.id},l.name," (Stock: ",isNaN(Number(l.stock))?0:l.stock,")"))),t&&e.createElement("p",{className:"text-xs text-orange-400 mt-2 font-bold"},"Stock Actual: ",isNaN(Number(t.stock))?0:t.stock," | Costo Total Estimado: $",r.toLocaleString())))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Cantidad"),e.createElement("input",{type:"number",className:"input-cyber w-full p-4",placeholder:"0",value:pe.quantity,onChange:l=>la({...pe,quantity:parseInt(l.target.value)||0})})),e.createElement("div",{className:"md:col-span-3"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Proveedor"),e.createElement("select",{className:"input-cyber w-full p-4",value:pe.supplierId,onChange:l=>la({...pe,supplierId:l.target.value})},e.createElement("option",{value:""},"Seleccionar..."),qa.map(l=>e.createElement("option",{key:l.id,value:l.id},l.name))))))})(),e.createElement("button",{onClick:async()=>{if(!pe.productId)return c("Selecciona un producto existente.","warning");if(pe.quantity<=0)return c("La cantidad debe ser mayor a 0.","warning");if(pe.cost<0)return c("El costo no puede ser negativo.","warning");try{let t=I.find(u=>u.id===pe.productId),s=t?.name||"Desconocido",l=(t?.purchasePrice||t?.basePrice||0)*pe.quantity;await ze(se(k,"artifacts",d,"public","data","purchases"),{productId:pe.productId,supplierId:pe.supplierId||"",quantity:pe.quantity,cost:l,date:new Date().toISOString()});let n=(isNaN(Number(t?.stock))?0:Number(t.stock))+pe.quantity;await oe(A(k,"artifacts",d,"public","data","products",pe.productId),{stock:n}),la({isNewProduct:!1,productId:"",supplierId:"",quantity:1,cost:0,newProdName:"",newProdPrice:0,newProdImage:"",newProdCategory:""}),c(`Compra de "${s}" registrada exitosamente.`,"success")}catch(t){console.error("Error stock update:",t),c("Error: "+(t.message||"Operación fallida"),"error")}},className:"w-full mt-8 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 text-white font-black py-5 rounded-2xl shadow-xl transition transform hover:scale-[1.01] flex items-center justify-center gap-3 text-lg"},e.createElement(It,{className:"w-6 h-6"})," REGISTRAR REPOSICIÓN DE STOCK"))),Ce.length>0&&e.createElement("div",{className:"bg-gradient-to-br from-orange-900/20 to-red-900/20 border border-orange-800 rounded-[2.5rem] p-8 mb-10 animate-fade-up"},e.createElement("div",{className:"flex items-center justify-between mb-6"},e.createElement("h3",{className:"text-2xl font-black text-white flex items-center gap-3"},e.createElement(Xt,{className:"w-6 h-6 text-orange-400"}),"Carrito de Compras (",Ce.length," ",Ce.length===1?"producto":"productos",")"),e.createElement("p",{className:"text-orange-400 font-black text-2xl"},"TOTAL: $",Ce.reduce((t,s)=>t+s.cost,0).toLocaleString())),e.createElement("div",{className:"space-y-4 mb-6"},Ce.map((t,s)=>e.createElement("div",{key:s,className:"flex items-center gap-6 bg-slate-900/50 p-4 rounded-xl border border-slate-700"},e.createElement("div",{className:"w-16 h-16 bg-white rounded-lg p-1 flex-shrink-0"},e.createElement("img",{src:t.productImage,className:"w-full h-full object-contain",alt:t.productName})),e.createElement("div",{className:"flex-1"},e.createElement("p",{className:"font-bold text-white"},t.productName),e.createElement("p",{className:"text-xs text-slate-400"},"Precio Unit.: $",t.unitPrice.toLocaleString())),e.createElement("div",{className:"flex items-center gap-3"},e.createElement("input",{type:"number",value:t.quantity,onChange:r=>il(s,parseInt(r.target.value)||1),className:"w-20 bg-slate-800 border border-slate-700 text-white px-3 py-2 rounded-lg text-center font-bold",min:"1"}),e.createElement("p",{className:"text-orange-400 font-bold w-28 text-right"},"$",t.cost.toLocaleString()),e.createElement("button",{onClick:()=>ll(s),className:"p-2 bg-red-900/20 hover:bg-red-900/40 text-red-400 rounded-lg transition"},e.createElement(de,{className:"w-5 h-5"})))))),e.createElement("button",{onClick:nl,className:"w-full py-5 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white font-black rounded-2xl shadow-xl transition transform hover:scale-[1.01] flex items-center justify-center gap-3 text-lg"},e.createElement(Q,{className:"w-6 h-6"})," FINALIZAR PEDIDO")),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 rounded-[2.5rem] p-8"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6"},"Historial de Compras"),e.createElement("div",{className:"space-y-4"},_.sort((t,s)=>new Date(s.date)-new Date(t.date)).map((t,s)=>{let r=I.find(i=>i.id===t.productId),l=qa.find(i=>i.id===t.supplierId);return e.createElement("div",{key:t.id,style:{animationDelay:`${s*.05}s`},className:"flex justify-between items-center bg-slate-900/40 p-4 rounded-xl border border-slate-800 hover:border-slate-600 transition group animate-fade-up"},e.createElement("div",{className:"flex items-center gap-4 flex-1"},e.createElement("div",{className:"w-12 h-12 bg-white rounded-lg p-1 flex-shrink-0 border border-slate-700"},r?.image?e.createElement("img",{src:r.image,className:"w-full h-full object-contain",alt:r.name}):e.createElement(Re,{className:"w-full h-full text-slate-400 p-2"})),e.createElement("div",null,e.createElement("p",{className:"font-bold text-white flex items-center gap-2"},r?.name||"Producto Eliminado",e.createElement("span",{className:"text-[10px] bg-slate-800 px-2 py-0.5 rounded text-slate-400"},"STOCK ACTUAL: ",r?.stock||0)),e.createElement("p",{className:"text-xs text-slate-500"},new Date(t.date).toLocaleDateString()," ",l?`- Prov: ${l.name}`:""))),e.createElement("div",{className:"flex items-center gap-6"},e.createElement("div",{className:"text-right"},e.createElement("p",{className:"text-orange-400 font-bold"},"+",t.quantity," u."),e.createElement("p",{className:"text-slate-400 text-xs font-mono"},"$",(t.cost||0).toLocaleString())),e.createElement("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity"},e.createElement("button",{onClick:()=>ca(t),className:"p-2 bg-slate-800 hover:bg-blue-900/30 text-slate-400 hover:text-blue-400 rounded-lg transition"},e.createElement($t,{className:"w-4 h-4"})),e.createElement("button",{onClick:()=>sl(t),className:"p-2 bg-slate-800 hover:bg-red-900/30 text-slate-400 hover:text-red-400 rounded-lg transition"},e.createElement(de,{className:"w-4 h-4"})))))}))),dt&&e.createElement("div",{className:"fixed inset-0 z-[160] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-fade-in"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-700 rounded-3xl p-8 w-full max-w-lg shadow-2xl relative"},e.createElement("button",{onClick:()=>ca(null),className:"absolute top-4 right-4 p-2 text-slate-500 hover:text-white"},e.createElement(ue,{className:"w-6 h-6"})),e.createElement("h3",{className:"text-2xl font-bold text-white mb-6"},"Editar Compra"),e.createElement("div",{className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1"},"Cantidad comprada"),e.createElement("div",{className:"text-xs text-yellow-500 mb-2"},"⚠ Modificar esto ajustará el stock del producto automáticamente."),e.createElement("input",{type:"number",className:"input-cyber w-full p-3",value:dt.quantity,onChange:t=>ca({...dt,quantity:parseInt(t.target.value)||0})})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1"},"Costo Total ($)"),e.createElement("input",{type:"number",className:"input-cyber w-full p-3",value:dt.cost,onChange:t=>ca({...dt,cost:parseFloat(t.target.value)||0})}))),e.createElement("button",{onClick:()=>{let t=_.find(s=>s.id===dt.id);t&&ol(dt.id,t,dt)},className:"w-full mt-6 bg-orange-600 hover:bg-orange-500 text-white font-bold py-3 rounded-xl transition shadow-lg"},"Guardar Cambios")))),y==="finance"&&e.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up pb-20"},e.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8"},e.createElement("h1",{className:"text-4xl font-black text-white neon-text"},"Finanzas y Capital"),e.createElement(Ue,{guideKey:"finance"})),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12"},e.createElement("div",{className:"bg-[#0a0a0a] border border-orange-900/30 p-8 rounded-[2.5rem] shadow-xl relative overflow-hidden"},e.createElement("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/5 rounded-bl-[100px] pointer-events-none"}),e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(bs,{className:"w-5 h-5 text-orange-400"})," Registrar Inversión / Aporte"),e.createElement("div",{className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Inversor (Socio)"),e.createElement("div",{className:"relative"},e.createElement(xa,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-500 w-4 h-4"}),e.createElement("select",{className:"input-cyber w-full pl-12 p-4 appearance-none",value:ke.investor,onChange:t=>Ut({...ke,investor:t.target.value})},e.createElement("option",{value:""},"Seleccionar Socio..."),(a?.team||[]).map((t,s)=>e.createElement("option",{key:s,value:t.name||t.email},t.name||t.email)),e.createElement("option",{value:"other"},"Otro / Externo"))),ke.investor==="other"&&e.createElement("input",{className:"input-cyber w-full p-4 mt-2",placeholder:"Nombre del Inversor Externo",onChange:t=>Ut({...ke,investor:t.target.value})})),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Monto ($)"),e.createElement("input",{type:"number",className:"input-cyber w-full p-4 font-mono font-bold text-orange-400",placeholder:"0.00",value:ke.amount,onChange:t=>Ut({...ke,amount:parseFloat(t.target.value)||0})})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Fecha"),e.createElement("input",{type:"date",className:"input-cyber w-full p-4",value:ke.date,onChange:t=>Ut({...ke,date:t.target.value})}))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Notas (Opcional)"),e.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Ej: Inversión Inicial, Refuerzo de capital...",value:ke.notes,onChange:t=>Ut({...ke,notes:t.target.value})})),e.createElement("button",{onClick:async()=>{if(!ke.investor||ke.amount<=0)return c("Completa los datos correctamente.","warning");await ze(se(k,"artifacts",d,"public","data","investments"),{...ke,timestamp:new Date().toISOString()}),Ut({investor:"",amount:"",date:new Date().toISOString().split("T")[0],notes:""}),c("Inversión registrada correctamente.","success")},className:"w-full mt-2 bg-gradient-to-r from-orange-600 to-blue-600 hover:from-orange-500 hover:to-blue-500 text-white font-black py-4 rounded-xl shadow-lg transition flex items-center justify-center gap-2 border border-orange-500/20"},e.createElement(It,{className:"w-5 h-5"})," Registrar Aporte"))),e.createElement("div",{className:"bg-[#0a0a0a] border border-red-900/30 p-8 rounded-[2.5rem] shadow-xl relative overflow-hidden"},e.createElement("div",{className:"absolute top-0 right-0 w-32 h-32 bg-red-500/5 rounded-bl-[100px] pointer-events-none"}),e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(go,{className:"w-5 h-5 text-red-400"})," Registrar Gasto / Egreso"),e.createElement("div",{className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Descripción"),e.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Ej: Pago de Internet, Alquiler...",value:Xe.description,onChange:t=>wa({...Xe,description:t.target.value})})),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Monto ($)"),e.createElement("input",{type:"number",className:"input-cyber w-full p-4 font-mono font-bold text-red-400",placeholder:"0.00",value:Xe.amount,onChange:t=>wa({...Xe,amount:parseFloat(t.target.value)||0})})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Categoría"),e.createElement("select",{className:"input-cyber w-full p-4",value:Xe.category,onChange:t=>wa({...Xe,category:t.target.value})},e.createElement("option",null,"General"),e.createElement("option",null,"Servicios"),e.createElement("option",null,"Impuestos"),e.createElement("option",null,"Mantenimiento"),e.createElement("option",null,"Marketing"),e.createElement("option",null,"Sueldos"),e.createElement("option",null,"Otros")))),e.createElement("button",{onClick:async()=>{if(!Xe.description||Xe.amount<=0)return c("Completa los datos correctamente.","warning");await ze(se(k,"artifacts",d,"public","data","expenses"),{...Xe,date:new Date().toISOString()}),wa({description:"",amount:"",category:"General",date:new Date().toISOString().split("T")[0]}),c("Gasto registrado correctamente.","success")},className:"w-full mt-2 bg-red-900/50 hover:bg-red-900 text-white font-black py-4 rounded-xl shadow-lg transition flex items-center justify-center gap-2 border border-red-500/20"},e.createElement(It,{className:"w-5 h-5"})," Registrar Gasto")))),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 rounded-[2.5rem] p-8 h-[500px] flex flex-col"},e.createElement("h3",{className:"text-lg font-bold text-white mb-4"},"Historial de Inversiones"),e.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-2 space-y-3"},M.length===0?e.createElement("p",{className:"text-slate-500 text-sm italic text-center py-10"},"Sin inversiones registradas."):M.sort((t,s)=>new Date(s.date)-new Date(t.date)).map((t,s)=>e.createElement("div",{key:t.id,className:"bg-slate-900/30 border border-slate-800 p-4 rounded-xl flex justify-between items-center group hover:border-orange-500/30 transition"},e.createElement("div",null,e.createElement("p",{className:"text-white font-bold text-sm"},t.investor),e.createElement("p",{className:"text-slate-500 text-xs"},new Date(t.date).toLocaleDateString()," ",t.notes&&`- ${t.notes}`)),e.createElement("div",{className:"flex items-center gap-4"},e.createElement("p",{className:"text-orange-400 font-mono font-bold"},"+$",t.amount.toLocaleString()),e.createElement("button",{onClick:()=>Se("Eliminar Inversión","¿Deseas eliminar este registro?",async()=>await Ke(A(k,"artifacts",d,"public","data","investments",t.id))),className:"text-slate-600 hover:text-red-400 p-2 hover:bg-slate-800 rounded-lg transition"},e.createElement(de,{className:"w-4 h-4"}))))))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 rounded-[2.5rem] p-8 h-[500px] flex flex-col"},e.createElement("h3",{className:"text-lg font-bold text-white mb-4"},"Historial de Gastos"),e.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-2 space-y-3"},$.length===0?e.createElement("p",{className:"text-slate-500 text-sm italic text-center py-10"},"Sin gastos registrados."):$.sort((t,s)=>new Date(s.date)-new Date(t.date)).map((t,s)=>e.createElement("div",{key:t.id,className:"bg-slate-900/30 border border-slate-800 p-4 rounded-xl flex justify-between items-center group hover:border-red-500/30 transition"},e.createElement("div",null,e.createElement("p",{className:"text-white font-bold text-sm"},t.description),e.createElement("p",{className:"text-slate-500 text-xs flex gap-2"},e.createElement("span",{className:"text-red-300 font-bold bg-red-900/20 px-1.5 rounded"},t.category),e.createElement("span",null,new Date(t.date).toLocaleDateString()))),e.createElement("div",{className:"flex items-center gap-4"},e.createElement("p",{className:"text-red-400 font-mono font-bold"},"-$",t.amount.toLocaleString()),e.createElement("button",{onClick:()=>Se("Eliminar Gasto","¿Deseas eliminar este registro?",async()=>await Ke(A(k,"artifacts",d,"public","data","expenses",t.id))),className:"text-slate-600 hover:text-red-400 p-2 hover:bg-slate-800 rounded-lg transition"},e.createElement(de,{className:"w-4 h-4"})))))))),e.createElement("div",{className:"animate-fade-up pt-12 border-t border-slate-800"},e.createElement("div",{className:"flex justify-between items-center mb-8"},e.createElement("div",null,e.createElement("h2",{className:"text-2xl font-black text-white flex items-center gap-3"},e.createElement(ja,{className:"w-8 h-8 text-green-500"})," Distribución de Ganancias"),e.createElement("p",{className:"text-slate-500 mt-1"},"Cálculo automático basado en las inversiones registradas.")),e.createElement("div",{className:"text-right"},e.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Beneficio Neto"),e.createElement("p",{className:`text-3xl font-black ${V.netIncome>=0?"text-green-400":"text-red-500"}`},"$",V.netIncome.toLocaleString()))),e.createElement("div",{className:"flex flex-col gap-8 bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},(()=>{let s=(a?.team||[]).map(l=>{let i=M.filter(n=>n.investor===l.name||n.investor===l.email).reduce((n,u)=>n+(Number(u.amount)||0),0);return{...l,totalInv:i}}),r=s.reduce((l,i)=>l+i.totalInv,0);return r===0?e.createElement("p",{className:"text-slate-500 text-center py-12"},"Registra inversiones para ver la distribución de ganancias."):e.createElement(e.Fragment,null,e.createElement("div",{className:"w-full h-8 bg-slate-900 rounded-full flex overflow-hidden"},s.map((l,i)=>{let n=r>0?l.totalInv/r*100:0,u=["bg-green-500","bg-orange-500","bg-purple-500","bg-pink-500","bg-yellow-500","bg-red-500"];return n<=0?null:e.createElement("div",{key:i,className:`${u[i%u.length]} h-full transition-all duration-500`,style:{width:`${n}%`},title:`${l.name}: ${n.toFixed(1)}%`})})),e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"w-full text-left border-collapse"},e.createElement("thead",null,e.createElement("tr",{className:"bg-slate-900/50 border-b border-slate-800"},e.createElement("th",{className:"p-6 text-xs font-black text-slate-500 uppercase tracking-widest"},"Socio"),e.createElement("th",{className:"p-6 text-xs font-black text-slate-500 uppercase tracking-widest text-right"},"Capital Aportado"),e.createElement("th",{className:"p-6 text-xs font-black text-slate-500 uppercase tracking-widest text-center"},"% Part."),e.createElement("th",{className:"p-6 text-xs font-black text-slate-500 uppercase tracking-widest text-right text-green-500"},"Ganancia Est."))),e.createElement("tbody",{className:"divide-y divide-slate-800/50"},s.map((l,i)=>{let n=r>0?l.totalInv/r*100:0,u=V.netIncome*n/100,g=["text-green-500","text-orange-500","text-purple-500","text-pink-500","text-yellow-500","text-red-500"];return e.createElement("tr",{key:i,className:"hover:bg-slate-900/20 transition"},e.createElement("td",{className:"p-5"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:`w-3 h-3 rounded-full ${g[i%g.length].replace("text-","bg-")}`}),e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},l.name||"Sin Nombre"),e.createElement("p",{className:"text-xs text-slate-500"},l.email)))),e.createElement("td",{className:"p-6 text-right font-mono font-bold text-white"},"$",l.totalInv.toLocaleString()),e.createElement("td",{className:"p-6 text-center font-mono text-slate-300 font-bold"},n.toFixed(1),"%"),e.createElement("td",{className:"p-6 text-right font-mono font-black text-green-400 text-lg"},"$",u.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})))})),e.createElement("tfoot",{className:"bg-slate-900/30 border-t border-slate-800"},e.createElement("tr",null,e.createElement("td",{className:"p-6 font-black text-white text-right"},"TOTAL CAPITAL"),e.createElement("td",{className:"p-6 text-right font-black text-orange-400 text-lg"},"$",r.toLocaleString()),e.createElement("td",{className:"p-6 text-center font-bold text-slate-500"},"100%"),e.createElement("td",{className:"p-6 text-right font-black text-green-500 text-xl"},"$",V.netIncome.toLocaleString()))))))})()))),y==="coupons"&&e.createElement("div",{className:"max-w-5xl mx-auto animate-fade-up pb-20 relative"},["business","premium"].includes(a?.subscriptionPlan)?e.createElement(e.Fragment,null,e.createElement("div",{className:"relative z-30 flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8"},e.createElement("h1",{className:"text-3xl font-black text-white"},"Gestión de Cupones"),e.createElement(Ue,{guideKey:"coupons"})),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2.5rem] mb-10 shadow-xl"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(Ie,{className:"w-5 h-5 text-purple-400"})," Crear Nuevo Cupón"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},e.createElement("div",{className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Código del Cupón"),e.createElement("input",{className:"input-cyber w-full p-4 font-mono text-lg uppercase tracking-widest",placeholder:"Ej: VERANO2024",value:G.code,onChange:t=>Fe({...G,code:t.target.value.toUpperCase()})})),e.createElement("div",{className:"flex gap-4"},e.createElement("div",{className:"flex-1"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Tipo"),e.createElement("select",{className:"input-cyber w-full p-4",value:G.type,onChange:t=>Fe({...G,type:t.target.value})},e.createElement("option",{value:"percentage"},"Porcentaje (%)"),e.createElement("option",{value:"fixed"},"Fijo ($)"))),e.createElement("div",{className:"flex-1"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Valor"),e.createElement("input",{className:"input-cyber w-full p-4",type:"number",placeholder:"0",value:G.value,onChange:t=>Fe({...G,value:t.target.value})})))),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex gap-4"},e.createElement("div",{className:"flex-1"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Mínimo de Compra"),e.createElement("input",{className:"input-cyber w-full p-4",type:"number",placeholder:"$0",value:G.minPurchase,onChange:t=>Fe({...G,minPurchase:t.target.value})})),G.type==="percentage"&&e.createElement("div",{className:"flex-1"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Tope Reintegro"),e.createElement("input",{className:"input-cyber w-full p-4",type:"number",placeholder:"$0 (Opcional)",value:G.maxDiscount,onChange:t=>Fe({...G,maxDiscount:t.target.value})}))),e.createElement("div",{className:"flex gap-4"},e.createElement("div",{className:"flex-1"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Límite Usos (Total)"),e.createElement("input",{className:"input-cyber w-full p-4",type:"number",placeholder:"Ej: 100",value:G.usageLimit,onChange:t=>Fe({...G,usageLimit:t.target.value})})),e.createElement("div",{className:"flex-1"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Vencimiento"),e.createElement("input",{className:"input-cyber w-full p-4",type:"date",value:G.expirationDate,onChange:t=>Fe({...G,expirationDate:t.target.value})}))),e.createElement("div",{className:"md:col-span-2"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Tipo de Cupón"),e.createElement("select",{className:"input-cyber w-full p-4",value:G.targetType,onChange:t=>Fe({...G,targetType:t.target.value})},e.createElement("option",{value:"global"},"🌍 Público / Canjeable (Redes Sociales)"),e.createElement("option",{value:"specific_email"},"👤 Usuario Específico (Email)"))),G.targetType==="specific_email"&&e.createElement("div",{className:"md:col-span-2"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Email del Usuario"),e.createElement("input",{type:"email",className:"input-cyber w-full p-4",placeholder:"usuario@ejemplo.com",value:G.targetUser||"",onChange:t=>Fe({...G,targetUser:t.target.value})}),e.createElement("p",{className:"text-xs text-slate-400 mt-1"},"Solo este usuario podrá usar el cupón")))),e.createElement("button",{onClick:tl,className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-4 rounded-xl shadow-lg transition flex items-center justify-center gap-2"},e.createElement(It,{className:"w-5 h-5"})," Guardar Cupón")),e.createElement("div",{className:"grid gap-4"},_t.map((t,s)=>e.createElement("div",{key:t.id,style:{animationDelay:`${s*.05}s`},className:"bg-[#0a0a0a] border border-slate-800 p-6 rounded-2xl flex flex-col md:flex-row justify-between items-center group hover:border-slate-700 transition animate-fade-up"},e.createElement("div",{className:"flex items-center gap-6 mb-4 md:mb-0 w-full md:w-auto"},e.createElement("div",{className:"w-16 h-16 bg-slate-900 rounded-xl flex items-center justify-center border border-slate-800 text-purple-400 font-black text-2xl"},"%"),e.createElement("div",null,e.createElement("h4",{className:"text-white font-black text-xl tracking-wider"},t.code),e.createElement("p",{className:"text-purple-400 font-bold text-sm"},t.type==="fixed"?`$${t.value} OFF`:`${t.value}% OFF`,e.createElement("span",{className:"text-slate-500 font-normal ml-2"},"(Min: $",t.minPurchase,")")),e.createElement("p",{className:"text-xs text-slate-600 mt-1 flex gap-3"},e.createElement("span",null,"Usado: ",t.usedBy?t.usedBy.length:0," veces"),t.usageLimit&&e.createElement("span",null,"Límite: ",t.usageLimit),t.expirationDate&&e.createElement("span",null,"Vence: ",t.expirationDate)))),e.createElement("div",{className:"flex gap-2 mt-4 md:mt-0"},t.targetType==="global"&&e.createElement("div",{className:"bg-purple-900/30 text-purple-400 px-3 py-1 rounded-lg border border-purple-500/30 flex items-center gap-2 text-[10px] font-black uppercase tracking-widest"},e.createElement(fs,{className:"w-3 h-3"})," Social"),e.createElement("button",{onClick:()=>{navigator.clipboard.writeText(t.code),c("Código copiado al portapapeles","success")},className:"bg-slate-900 hover:bg-slate-800 text-slate-400 hover:text-white p-3 rounded-xl transition border border-slate-800",title:"Copiar Código"},e.createElement(El,{className:"w-5 h-5"})),e.createElement("button",{onClick:()=>Se("Eliminar Cupón","¿Eliminar este cupón?",async()=>await Ke(A(k,"artifacts",d,"public","data","coupons",t.id))),className:"bg-slate-900 hover:bg-red-900/20 text-slate-500 hover:text-red-400 p-3 rounded-xl transition border border-slate-800"},e.createElement(de,{className:"w-5 h-5"}))))))):e.createElement("div",{className:"flex flex-col items-center justify-center py-20 text-center"},e.createElement("div",{className:"w-20 h-20 bg-yellow-900/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-yellow-500/30"},e.createElement(Ye,{className:"w-10 h-10 text-yellow-500"})),e.createElement("h3",{className:"text-2xl font-black text-white mb-4"},"Cupones Bloqueados"),e.createElement("p",{className:"text-slate-400 mb-6 max-w-md"},"Los cupones de descuento están disponibles a partir del ",e.createElement("span",{className:"text-purple-400 font-bold"},"Plan Negocio"),". Mejorá tu plan para gestionar cupones en tu tienda."),e.createElement("button",{onClick:()=>Ht(!0),className:"px-8 py-4 bg-purple-600 hover:bg-purple-500 text-white font-bold rounded-xl shadow-lg shadow-purple-600/20 transition flex items-center gap-2"},e.createElement(Be,{className:"w-5 h-5"})," Ver Planes Disponibles"))),y==="users"&&(()=>{let t=Nt.filter(s=>{let r=Rs.toLowerCase(),l=(s.name||"").toLowerCase().includes(r)||(s.email||"").toLowerCase().includes(r)||(s.username||"").toLowerCase().includes(r),i=as==="all"||s.role===as;return l&&i});return e.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up pb-20"},e.createElement("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-10"},e.createElement("div",null,e.createElement("h1",{className:"text-4xl font-black text-white tracking-tighter flex items-center gap-4"},e.createElement("div",{className:"w-12 h-12 rounded-2xl bg-pink-500/20 flex items-center justify-center border border-pink-500/30"},e.createElement(xa,{className:"w-6 h-6 text-pink-400"})),"Gestión de Usuarios"),e.createElement("p",{className:"text-slate-500 mt-2 font-medium"},"Control total sobre cuentas, roles y auditoría de carritos.")),e.createElement("div",{className:"flex flex-col sm:flex-row items-center gap-3 w-full md:w-auto"},e.createElement("div",{className:"w-full sm:w-auto flex justify-end"},e.createElement(Ue,{guideKey:"users"})),e.createElement("div",{className:"relative w-full sm:w-64 group"},e.createElement(ms,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 group-focus-within:text-orange-400 transition"}),e.createElement("input",{className:"input-cyber w-full pl-11 pr-4 py-3 text-sm",placeholder:"Buscar por nombre, email...",value:Rs,onChange:s=>yr(s.target.value)})),e.createElement("div",{className:"flex bg-slate-900/50 p-1 rounded-xl border border-white/5"},["all","admin","user"].map(s=>e.createElement("button",{key:s,onClick:()=>kr(s),className:`px-4 py-2 rounded-lg text-xs font-black uppercase transition-all ${as===s?"bg-white/10 text-white shadow-lg":"text-slate-500 hover:text-slate-300"}`},s==="all"?"Todos":s))))),e.createElement("div",{className:"bg-[#050505] border border-white/5 rounded-[2.5rem] overflow-hidden shadow-2xl"},e.createElement("div",{className:"overflow-x-auto overflow-y-visible"},e.createElement("table",{className:"w-full text-left border-collapse"},e.createElement("thead",null,e.createElement("tr",{className:"bg-white/[0.02] border-b border-white/5"},e.createElement("th",{className:"p-5 text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]"},"Identidad"),e.createElement("th",{className:"p-5 text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] text-center"},"Actividad & Stats"),e.createElement("th",{className:"p-5 text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]"},"Rango"),e.createElement("th",{className:"p-5 text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] text-right"},"Acciones"))),e.createElement("tbody",{className:"divide-y divide-white/5"},t.length===0?e.createElement("tr",null,e.createElement("td",{colSpan:"4",className:"p-20 text-center"},e.createElement("div",{className:"flex flex-col items-center gap-4 opacity-20"},e.createElement(jo,{className:"w-16 h-16"}),e.createElement("p",{className:"font-black uppercase tracking-widest"},"No se encontraron usuarios")))):t.map((s,r)=>e.createElement("tr",{key:s.id,style:{animationDelay:`${r*.03}s`},className:"group hover:bg-white/[0.01] transition-all animate-fade-up"},e.createElement("td",{className:"p-5"},e.createElement("div",{className:"flex items-center gap-5"},e.createElement("div",{className:"relative group/avatar"},e.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-500 to-purple-600 rounded-2xl blur-lg opacity-20 group-hover/avatar:opacity-40 transition"}),e.createElement("div",{className:"relative w-14 h-14 rounded-2xl bg-[#0a0a0a] border border-white/10 flex items-center justify-center text-xl font-black text-white overflow-hidden shadow-xl"},s.image?e.createElement("img",{src:s.image,className:"w-full h-full object-cover"}):(s.name||"?").charAt(0).toUpperCase())),e.createElement("div",null,e.createElement("div",{className:"flex items-center gap-2"},e.createElement("p",{className:"font-bold text-white text-lg tracking-tight"},s.name),s.isVerified&&e.createElement(Q,{className:"w-4 h-4 text-orange-400"})),e.createElement("p",{className:"text-xs text-slate-500 font-mono"},s.email),e.createElement("div",{className:"flex items-center gap-3 mt-2"},e.createElement("span",{className:"text-[9px] font-black text-slate-600 uppercase tracking-widest bg-white/5 px-2 py-0.5 rounded-md"},"ID: ",s.id.slice(-6)),e.createElement("span",{className:"text-[9px] font-bold text-slate-500 uppercase"},"INC. ",new Date(s.joinDate).toLocaleDateString()))))),e.createElement("td",{className:"p-8 relative"},(a?.subscriptionPlan==="entrepreneur"||!a?.subscriptionPlan)&&e.createElement("button",{onClick:()=>Ht(!0),className:"absolute inset-0 z-10 flex items-center justify-center bg-black/60 backdrop-blur-sm rounded-xl cursor-pointer hover:bg-black/70 transition group"},e.createElement("div",{className:"text-center"},e.createElement(Ye,{className:"w-6 h-6 text-yellow-500 mx-auto mb-2 group-hover:scale-110 transition"}),e.createElement("p",{className:"text-xs font-black text-yellow-400 uppercase tracking-wider"},"Plan Negocio"),e.createElement("p",{className:"text-[10px] text-slate-400 group-hover:text-white transition"},"Clic para ver planes"))),e.createElement("div",{className:`flex flex-col items-center gap-3 ${a?.subscriptionPlan==="entrepreneur"||!a?.subscriptionPlan?"filter blur-sm pointer-events-none":""}`},e.createElement("div",{className:"flex gap-2"},e.createElement("div",{className:"bg-slate-900/80 px-4 py-2 rounded-xl border border-white/5 flex items-center gap-3",title:"Favoritos"},e.createElement(Da,{className:`w-4 h-4 ${s.favorites?.length>0?"text-pink-500 fill-pink-500":"text-slate-600"}`}),e.createElement("span",{className:"text-sm font-black text-white"},s.favorites?s.favorites.length:0)),e.createElement("div",{className:"bg-slate-900/80 px-4 py-2 rounded-xl border border-white/5 flex items-center gap-3",title:"Pedidos Realizados"},e.createElement(gt,{className:"w-4 h-4 text-orange-500"}),e.createElement("span",{className:"text-sm font-black text-white"},s.ordersCount||0))),e.createElement("button",{onClick:()=>Ys(s),className:"w-full py-2.5 rounded-xl border border-orange-500/20 bg-orange-500/5 text-orange-400 hover:bg-orange-500/20 text-[10px] font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2"},e.createElement(Go,{className:"w-3 h-3"})," Ver Carrito en Vivo"))),e.createElement("td",{className:"p-8"},e.createElement("div",{className:`inline-flex items-center gap-2 px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-[0.1em] border shadow-inner ${s.role==="admin"?"bg-purple-500/10 text-purple-400 border-purple-500/30":"bg-slate-900/50 text-slate-500 border-white/5"}`},s.role==="admin"?e.createElement(Le,{className:"w-3 h-3"}):e.createElement(xt,{className:"w-3 h-3"}),s.role)),e.createElement("td",{className:"p-8"},e.createElement("div",{className:"flex justify-end gap-3 translate-x-2 opacity-60 group-hover:opacity-100 transition-opacity"},e.createElement("button",{onClick:()=>Zs(s),className:"w-11 h-11 flex items-center justify-center bg-[#0a0a0a] border border-white/5 rounded-2xl text-slate-400 hover:text-orange-400 hover:border-orange-500/40 hover:bg-orange-500/5 transition-all shadow-xl group",title:"Gestionar Perfil"},e.createElement($t,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})),e.createElement("button",{onClick:()=>{Nr(""),Qs(s)},className:"w-11 h-11 flex items-center justify-center bg-[#0a0a0a] border border-white/5 rounded-2xl text-slate-400 hover:text-pink-400 hover:border-pink-500/40 hover:bg-pink-500/5 transition-all shadow-xl group",title:"Seguridad & Acceso"},e.createElement(Ye,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})))))))))))})(),y==="promos"&&e.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up pb-20"},e.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8"},e.createElement("h1",{className:"text-3xl font-black text-white flex items-center gap-3"},e.createElement(ga,{className:"w-8 h-8 text-purple-500"})," Gestión de Promos"),e.createElement(Ue,{guideKey:"promos"})),!((a?.subscriptionPlan==="entrepreneur"||!a?.subscriptionPlan)&&it.length>=1)||Ft?e.createElement("div",{className:"bg-[#0a0a0a] border border-purple-500/30 p-8 rounded-[2rem] mb-10 shadow-2xl"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},Ft?e.createElement($t,{className:"w-5 h-5 text-purple-400"}):e.createElement(Ie,{className:"w-5 h-5 text-green-400"}),Ft?"Editar Promo":"Crear Nueva Promo"),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8"},e.createElement("div",{className:"space-y-4"},e.createElement("input",{type:"text",className:"input-cyber w-full p-4",placeholder:"Nombre de la Promo",value:ae.name,onChange:t=>Oe({...ae,name:t.target.value})}),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("div",{className:"relative"},e.createElement("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500"},"$"),e.createElement("input",{type:"number",className:"input-cyber w-full p-4 pl-8",placeholder:"Precio",value:ae.price,onChange:t=>Oe({...ae,price:t.target.value})})),e.createElement("div",{className:"p-4 bg-slate-900 rounded-xl border border-slate-700 text-slate-400 font-mono text-sm flex items-center"},"Costo: $",ae.items.reduce((t,s)=>{let r=I.find(l=>l.id===s.productId);return t+(Number(r?.basePrice)||0)*s.quantity},0).toLocaleString())),e.createElement("div",{className:"mb-4"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Imagen de la Promo"),e.createElement("input",{type:"file",className:"block w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-900/20 file:text-purple-400 hover:file:bg-purple-900/40 transition",accept:"image/*",onChange:t=>ut(t,Oe)}),ae.image&&e.createElement("div",{className:"mt-2 relative group w-32 aspect-video overflow-hidden rounded-xl border border-slate-700"},e.createElement("img",{src:ae.image,className:"w-full h-full object-cover"}),e.createElement("button",{onClick:()=>Oe({...ae,image:""}),className:"absolute top-1 right-1 bg-black/50 p-1 rounded-full text-white hover:bg-red-500 transition opacity-0 group-hover:opacity-100"},e.createElement(ue,{className:"w-3 h-3"})))),e.createElement("textarea",{className:"input-cyber w-full p-4 h-20 resize-none",placeholder:"Descripción breve...",value:ae.description,onChange:t=>Oe({...ae,description:t.target.value})})),e.createElement("div",{className:"bg-slate-900/40 p-6 rounded-2xl border border-slate-800"},e.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4 flex items-center gap-2"},e.createElement(Re,{className:"w-4 h-4"})," Productos Incluidos"),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_5rem_auto] gap-2 mb-4"},e.createElement("select",{className:"input-cyber w-full p-3 text-sm min-w-0",value:da,onChange:t=>Bs(t.target.value)},e.createElement("option",{value:""},"Agregar producto..."),I.map(t=>e.createElement("option",{key:t.id,value:t.id},t.name," ($",Number(t.basePrice),")"))),e.createElement("input",{type:"number",className:"input-cyber w-full sm:w-20 p-3 text-sm text-center",value:Ya,min:"1",onChange:t=>qs(Math.max(1,parseInt(t.target.value)||1))}),e.createElement("button",{onClick:()=>{if(!da)return;let t=ae.items.find(s=>s.productId===da);Oe(t?{...ae,items:ae.items.map(s=>s.productId===da?{...s,quantity:s.quantity+Ya}:s)}:{...ae,items:[...ae.items,{productId:da,quantity:Ya}]}),Bs(""),qs(1)},className:"h-[46px] w-full sm:w-auto px-4 bg-purple-600 hover:bg-purple-500 text-white rounded-xl transition flex items-center justify-center"},e.createElement(Ie,{className:"w-5 h-5"}))),e.createElement("div",{className:"space-y-2 max-h-[150px] overflow-y-auto custom-scrollbar"},ae.items.map((t,s)=>{let r=I.find(l=>l.id===t.productId);return r?e.createElement("div",{key:s,className:"flex justify-between items-center bg-slate-900 p-3 rounded-lg border border-slate-700"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("img",{src:r.image,className:"w-8 h-8 rounded bg-white object-contain p-0.5"}),e.createElement("div",null,e.createElement("p",{className:"text-sm font-bold text-white truncate max-w-[200px] sm:max-w-none"},r.name),e.createElement("p",{className:"text-xs text-slate-500"},t.quantity," un. x $",r.basePrice))),e.createElement("button",{onClick:()=>Oe({...ae,items:ae.items.filter((l,i)=>i!==s)}),className:"text-red-500 hover:text-red-400 p-1"},e.createElement(de,{className:"w-4 h-4"}))):null}),ae.items.length===0&&e.createElement("div",{className:"text-center py-6 text-slate-600 italic text-sm border border-dashed border-slate-800 rounded-lg"},"Agrega productos para armar el combo")))),e.createElement("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 sm:justify-end mt-6"},Ft&&e.createElement("button",{onClick:()=>{Qa(!1),Xa(null),Oe({name:"",price:"",image:"",description:"",items:[]})},className:"w-full sm:w-auto px-6 py-3 rounded-xl border border-slate-800 bg-slate-900/40 text-slate-300 hover:text-white hover:bg-slate-900 transition font-bold"},"Cancelar"),e.createElement("button",{onClick:async()=>{if(!ae.name||!ae.price||ae.items.length===0)return c("Completa nombre, precio y agrega productos.","warning");he(!0);try{Ft&&Fs?(await oe(A(k,"artifacts",d,"public","data","promos",Fs),ae),c("Promo actualizada","success")):(await ze(se(k,"artifacts",d,"public","data","promos"),{...ae,createdAt:new Date().toISOString()}),c("Promo creada exitosamente","success")),Oe({name:"",price:"",image:"",description:"",items:[]}),Qa(!1),Xa(null)}catch(t){console.error(t),c("Error al guardar promo","error")}finally{he(!1)}},className:"w-full sm:w-auto px-8 py-3 bg-purple-600 hover:bg-purple-500 text-white font-bold rounded-xl shadow-lg transition flex items-center justify-center"},Ft?"Guardar Cambios":"Crear Promo"))):e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem] mb-10 shadow-xl flex flex-col items-center justify-center text-center animate-fade-up"},e.createElement("div",{className:"w-20 h-20 bg-purple-500/20 rounded-full flex items-center justify-center mb-6 border border-purple-500/30"},e.createElement(Ye,{className:"w-10 h-10 text-purple-400"})),e.createElement("h3",{className:"text-2xl font-black text-white mb-2"},"Límite de Promos Alcanzado"),e.createElement("p",{className:"text-slate-400 max-w-md mb-8"},"Tu plan actual te permite tener hasta ",e.createElement("strong",{className:"text-white"},"1 promo activa"),". Para crear más promociones ilimitadas, actualiza tu plan."),e.createElement("button",{onClick:()=>Ht(!0),className:"px-8 py-3 bg-purple-600 hover:bg-purple-500 text-white font-bold rounded-xl shadow-lg shadow-purple-600/20 transition flex items-center gap-2"},e.createElement(Be,{className:"w-5 h-5"})," Mejorar mi Plan")),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},it.map(t=>{let s=(t.items||[]).reduce((u,g)=>{let p=I.find(f=>f.id===g.productId);return u+(Number(p?.purchasePrice)||0)*g.quantity},0),r=Number(t.price)||0,l=r-s,i=r>0?(l/r*100).toFixed(1):0,n=l>0;return e.createElement("div",{key:t.id,className:"bg-[#0a0a0a] border border-slate-800 rounded-2xl overflow-hidden hover:border-purple-500/30 transition group flex flex-col"},e.createElement("div",{className:"aspect-video relative overflow-hidden"},e.createElement("img",{src:t.image||"https://via.placeholder.com/400",className:"w-full h-full object-cover transition duration-500 group-hover:scale-105"}),e.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),e.createElement("div",{className:"absolute bottom-4 left-4 right-4 bg-black/55 backdrop-blur-sm rounded-2xl p-4 border border-white/10"},e.createElement("h4",{className:"text-xl font-black text-white mb-1 leading-tight"},t.name),e.createElement("div",{className:"flex items-center gap-3"},e.createElement("p",{className:"text-3xl text-purple-400 font-black"},"$",r.toLocaleString()),s>0&&e.createElement("div",{className:`px-2 py-1 rounded text-xs font-bold border ${n?"bg-green-900/30 border-green-500/30 text-green-400":"bg-red-900/30 border-red-500/30 text-red-400"}`},i,"% MG")))),e.createElement("div",{className:"p-6 flex-1 flex flex-col"},e.createElement("div",{className:"mb-6 flex-1"},e.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3"},"Incluye:"),e.createElement("div",{className:"flex flex-col gap-2"},(t.items||[]).map((u,g)=>{let p=I.find(f=>f.id===u.productId);return e.createElement("div",{key:g,className:"flex items-center gap-3 p-2 rounded-lg bg-slate-900/50 border border-slate-800/50"},e.createElement("div",{className:"w-10 h-10 bg-white rounded-lg p-0.5 flex-shrink-0"},e.createElement("img",{src:p?.image,className:"w-full h-full object-contain"})),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"text-sm font-bold text-white truncate"},p?.name||"Producto Eliminado"),e.createElement("p",{className:"text-xs text-slate-500"},u.quantity," x $",Number(p?.basePrice||0).toLocaleString()," (Costo)")))}))),e.createElement("div",{className:"mb-6 p-4 bg-slate-900/40 rounded-xl border border-dashed border-slate-800"},e.createElement("div",{className:"flex justify-between text-sm mb-1"},e.createElement("span",{className:"text-slate-500"},"Costo Real:"),e.createElement("span",{className:"text-slate-300 font-mono"},"$",s.toLocaleString())),e.createElement("div",{className:"flex justify-between text-sm mb-1"},e.createElement("span",{className:"text-slate-500"},"Precio Venta:"),e.createElement("span",{className:"text-slate-300 font-mono"},"$",r.toLocaleString())),e.createElement("div",{className:"border-t border-slate-800 my-2"}),e.createElement("div",{className:"flex justify-between text-sm font-bold"},e.createElement("span",{className:n?"text-green-500":"text-red-500"},"Ganancia Neta:"),e.createElement("span",{className:`font-mono ${n?"text-green-400":"text-red-400"}`},n?"+":"","$",l.toLocaleString()))),e.createElement("div",{className:"flex gap-3 mt-auto"},e.createElement("button",{onClick:()=>{Oe({name:t.name,price:t.price,image:t.image,description:t.description||"",items:t.items||[]}),Xa(t.id),Qa(!0),window.scrollTo({top:0,behavior:"smooth"})},className:"flex-1 py-3 bg-slate-900 hover:bg-slate-800 text-white rounded-xl font-bold transition border border-slate-700 flex items-center justify-center gap-2 group-hover:border-purple-500/30"},e.createElement($t,{className:"w-4 h-4"})," Editar"),e.createElement("button",{onClick:()=>Se("Eliminar Promo","¿Estás seguro? Esto no se puede deshacer.",async()=>{await Ke(A(k,"artifacts",d,"public","data","promos",t.id)),c("Promo eliminada","info")}),className:"px-4 py-3 bg-red-900/20 hover:bg-red-900/40 text-red-500 rounded-xl transition border border-red-500/20"},e.createElement(de,{className:"w-4 h-4"})))))}))),y==="orders"&&e.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up pb-20"},e.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8"},e.createElement("h1",{className:"text-3xl font-black text-white"},"Gestión de Pedidos"),e.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3"},e.createElement(Ue,{guideKey:"orders"}),e.createElement("button",{onClick:()=>Or(),className:`px-5 py-3 rounded-xl font-black transition border flex items-center gap-3 ${lt?"bg-slate-900 text-slate-400 border-slate-800 hover:bg-slate-800":"bg-green-900/10 text-green-400 border-green-500/20 hover:bg-green-600 hover:text-white"}`},e.createElement(Io,{className:`w-5 h-5 ${lt?"opacity-40":""}`}),"Notificación pedidos",e.createElement("span",{className:`text-[10px] px-2 py-1 rounded-full border font-black uppercase tracking-widest ${lt?"bg-slate-900/60 text-slate-400 border-slate-700":"bg-green-900/20 text-green-400 border-green-500/30"}`},lt?"Muteada":"Activa")))),me.length===0?e.createElement("div",{className:"text-center py-20 border border-dashed border-slate-800 rounded-[3rem] bg-slate-900/20"},e.createElement(gt,{className:"w-20 h-20 mx-auto mb-4 text-slate-700"}),e.createElement("p",{className:"text-xl text-slate-500 font-bold"},"No hay pedidos registrados aún.")):e.createElement("div",{className:"space-y-4"},me.map((t,s)=>e.createElement("div",{key:t.id,style:{animationDelay:`${s*.05}s`},className:"bg-[#0a0a0a] border border-slate-800 p-6 rounded-2xl flex flex-col lg:flex-row justify-between items-center gap-6 hover:border-slate-700 transition group animate-fade-up"},e.createElement("div",{className:"flex-1 w-full lg:w-auto"},e.createElement("div",{className:"flex items-center gap-4 mb-2"},e.createElement("span",{className:"bg-slate-900 text-orange-400 px-3 py-1 rounded-lg text-sm font-black tracking-widest border border-slate-800"},"#",t.orderId),e.createElement("span",{className:`text-[10px] px-2 py-1 rounded-full uppercase font-bold border ${t.status==="Realizado"?"bg-green-900/20 text-green-400 border-green-500/30":"bg-yellow-900/20 text-yellow-400 border-yellow-500/30"}`},t.status)),e.createElement("h4",{className:"text-white font-bold text-lg mb-1"},t.customer.name),e.createElement("p",{className:"text-slate-500 text-xs flex items-center gap-2"},e.createElement(xs,{className:"w-3 h-3"})," ",new Date(t.date).toLocaleString(),e.createElement("span",{className:"w-1 h-1 bg-slate-700 rounded-full"}),e.createElement("span",{className:"text-slate-400 font-mono"},"$",t.total.toLocaleString()))),e.createElement("div",{className:"flex -space-x-2"},t.items.slice(0,4).map((r,l)=>e.createElement("div",{key:l,className:"w-10 h-10 rounded-full border-2 border-[#0a0a0a] bg-slate-800 flex items-center justify-center overflow-hidden",title:r.title},r.image?e.createElement("img",{src:r.image,className:"w-full h-full object-cover"}):e.createElement(Re,{className:"w-4 h-4 text-slate-500"}))),t.items.length>4&&e.createElement("div",{className:"w-10 h-10 rounded-full border-2 border-[#0a0a0a] bg-slate-800 flex items-center justify-center text-xs text-white font-bold"},"+",t.items.length-4)),e.createElement("div",{className:"flex items-center gap-3 w-full lg:w-auto justify-end"},e.createElement("button",{onClick:()=>Vs(t),className:"p-3 bg-slate-900 hover:bg-slate-800 text-slate-300 hover:text-white rounded-xl transition border border-slate-800",title:"Ver Detalles"},e.createElement(vs,{className:"w-5 h-5"})),t.status!=="Realizado"&&e.createElement("button",{onClick:()=>Rr(t.id),className:"p-3 bg-green-900/10 hover:bg-green-600 text-green-500 hover:text-white rounded-xl transition border border-green-500/20",title:"Marcar como Finalizado"},e.createElement(Q,{className:"w-5 h-5"})),e.createElement("button",{onClick:()=>el(t.id),className:"p-3 bg-red-900/10 hover:bg-red-600 text-red-500 hover:text-white rounded-xl transition border border-red-500/20",title:"Eliminar Pedido"},e.createElement(de,{className:"w-5 h-5"}))))),e.createElement("div",{className:"flex items-center justify-center gap-4 mt-10 pb-10"},e.createElement("button",{onClick:zr,disabled:Gt.length===0,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-bold transition ${Gt.length===0?"bg-slate-900 text-slate-700 cursor-not-allowed":"bg-slate-800 text-white hover:bg-slate-700"}`},e.createElement(Ul,{className:"w-5 h-5"})," Anterior"),e.createElement("span",{className:"text-slate-500 font-mono text-sm"},"Página ",Gt.length+1),e.createElement("button",{onClick:_r,disabled:!Ra||me.length<ma,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-bold transition ${!Ra||me.length<ma?"bg-slate-900 text-slate-700 cursor-not-allowed":"bg-orange-600 text-white hover:bg-orange-500"}`},"Siguiente ",e.createElement(Il,{className:"w-5 h-5"}))))),y==="products"&&e.createElement("div",{className:"max-w-7xl mx-auto animate-fade-in pb-20"},e.createElement("div",{className:"flex justify-between items-center mb-8"},e.createElement("div",null,e.createElement("h1",{className:"text-3xl font-black text-white"},"Inventario"),(()=>{let t=a?.subscriptionPlan||"entrepreneur",s=t==="premium"?"∞":t==="business"?50:30,r=I.length,l=t!=="premium"&&r>=s*.8;return e.createElement("p",{className:`text-sm font-bold mt-1 ${l?"text-yellow-400":"text-slate-500"}`},r," / ",s," productos",l&&t!=="premium"&&e.createElement("span",{className:"text-yellow-500 ml-2"},"⚠ Cerca del límite"))})()),e.createElement("div",{className:"flex gap-2"},e.createElement(Ue,{guideKey:"products"}),e.createElement("button",{onClick:()=>Bt(!0),className:"bg-slate-800 px-6 py-3 rounded-xl font-bold text-white flex gap-2 shadow-lg hover:bg-slate-700 transition transform hover:scale-105 active:scale-95 border border-slate-700"},e.createElement(fa,{className:"w-5 h-5"})," Categorías"),e.createElement("button",{onClick:()=>{$e({}),Ka(null),Sa(!0)},className:"bg-orange-600 px-6 py-3 rounded-xl font-bold text-white flex gap-2 shadow-lg hover:bg-orange-500 transition transform hover:scale-105 active:scale-95"},e.createElement(Ie,{className:"w-5 h-5"})," Agregar Producto"))),(()=>{let t=I.filter(l=>l.isActive===!1&&l.deactivatedByPlan),s=I.filter(l=>l.isActive===!1&&!l.deactivatedByPlan),r=I.filter(l=>l.isActive===!1);return r.length>0?e.createElement("div",{className:"bg-yellow-900/20 border border-yellow-500/30 p-4 rounded-2xl mb-6 flex flex-col md:flex-row items-start md:items-center justify-between gap-4"},e.createElement("div",{className:"flex items-start gap-3"},e.createElement(jt,{className:"w-6 h-6 text-yellow-400 flex-shrink-0 mt-0.5"}),e.createElement("div",null,e.createElement("p",{className:"font-bold text-yellow-400"},r.length," producto(s) desactivado(s)"),e.createElement("p",{className:"text-sm text-yellow-200/70"},t.length>0&&`${t.length} por límite de plan. `,s.length>0&&`${s.length} desactivado(s) manualmente. `,"Los productos desactivados no se muestran en la tienda."))),e.createElement("button",{onClick:()=>c("Usa el botón de ojo (👁) en cada producto para activar/desactivar","info"),className:"px-4 py-2 bg-yellow-500/20 text-yellow-400 rounded-xl font-bold text-sm hover:bg-yellow-500/30 transition border border-yellow-500/30 whitespace-nowrap"},"Ver desactivados")):null})(),fr&&e.createElement("div",{className:"bg-[#0a0a0a] border border-orange-500/30 p-8 rounded-[2rem] mb-10 shadow-2xl relative"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6"},Ca?"Editar Producto":"Nuevo Producto"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},e.createElement("div",{className:"space-y-4"},e.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Nombre del Producto",value:q.name||"",onChange:t=>$e({...q,name:t.target.value})}),e.createElement("div",{className:"flex gap-4"},e.createElement("input",{className:"input-cyber w-full p-4",type:"number",placeholder:"Precio Venta ($)",value:q.basePrice||"",onChange:t=>$e({...q,basePrice:t.target.value})}),e.createElement("input",{className:"input-cyber w-full p-4",type:"number",placeholder:"Costo Compra ($)",value:q.purchasePrice||"",onChange:t=>$e({...q,purchasePrice:t.target.value})}),e.createElement("input",{className:"input-cyber w-full p-4",type:"number",placeholder:"Stock",value:q.stock||"",onChange:t=>$e({...q,stock:t.target.value})})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block mb-2"},"Categorías (Selecciona una o más)"),e.createElement("div",{className:"bg-slate-900/50 border border-slate-700 rounded-xl p-4 max-h-64 overflow-y-auto custom-scrollbar"},(a?.categories||[]).length===0?e.createElement("p",{className:"text-center text-slate-600 py-4 text-sm"},"No hay categorías disponibles. Agrégalas abajo."):(a?.categories||[]).map(t=>{let s=Array.isArray(q.categories)?q.categories.includes(t):q.category===t;return e.createElement("label",{key:t,className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-all group hover:bg-slate-800 mb-2 last:mb-0 ${s?"bg-orange-900/20 border border-orange-500/30":"border border-transparent"}`},e.createElement("input",{type:"checkbox",checked:s,onChange:r=>{if(r.target.checked){let l=Array.isArray(q.categories)?q.categories:q.category?[q.category]:[];$e({...q,categories:[...l,t],category:void 0})}else{let l=Array.isArray(q.categories)?q.categories.filter(i=>i!==t):[];$e({...q,categories:l})}},className:"w-4 h-4 text-orange-600 bg-slate-900 border-slate-600 rounded focus:ring-orange-500 focus:ring-2"}),e.createElement("span",{className:`flex-1 text-sm font-medium transition-colors ${s?"text-orange-400":"text-slate-300 group-hover:text-white"}`},t),s&&e.createElement("span",{className:"text-xs font-bold text-orange-500 bg-orange-500/10 px-2 py-0.5 rounded flex items-center gap-1"},e.createElement(Q,{className:"w-3 h-3"})))})),q.categories&&q.categories.length>0&&e.createElement("div",{className:"flex flex-wrap gap-2 mt-3"},q.categories.map(t=>e.createElement("span",{key:t,className:"bg-orange-500/20 text-orange-400 text-xs font-bold px-3 py-1.5 rounded-full border border-orange-500/30 flex items-center gap-2"},t,e.createElement("button",{type:"button",onClick:()=>{$e({...q,categories:q.categories.filter(s=>s!==t)})},className:"hover:text-orange-300 transition"},e.createElement(ue,{className:"w-3 h-3"})))))),e.createElement("button",{type:"button",onClick:()=>Bt(!0),className:"w-full mt-2 py-2 bg-orange-900/20 hover:bg-orange-900/40 text-orange-400 rounded-xl font-bold transition flex items-center justify-center gap-2 text-sm border border-orange-800"},e.createElement(fa,{className:"w-4 h-4"})," Nueva Categoría")),e.createElement("div",{className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Imagen del Producto"),e.createElement("div",{className:"space-y-3"},e.createElement("input",{type:"file",accept:"image/*",onChange:t=>ut(t,$e),className:"block w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-orange-900/20 file:text-orange-400 hover:file:bg-orange-900/40 transition"}),q.image&&e.createElement("div",{className:"bg-white rounded-xl p-3 w-32 h-32"},e.createElement("img",{src:q.image,className:"w-full h-full object-contain",alt:"Preview"})))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Descuento (%)"),e.createElement("p",{className:"text-xs text-slate-400 mb-2"},"Porcentaje de descuento sobre el precio base (0-100)"),e.createElement("input",{type:"number",min:"0",max:"100",className:"input-cyber w-full p-4",placeholder:"0",value:q.discount||0,onChange:t=>$e({...q,discount:parseFloat(t.target.value)||0})})))),e.createElement("textarea",{className:"input-cyber w-full h-32 p-4 mb-6 resize-none",placeholder:"Descripción detallada del producto...",value:q.description||"",onChange:t=>$e({...q,description:t.target.value})}),e.createElement("div",{className:"flex gap-4 justify-end"},e.createElement("button",{onClick:()=>Sa(!1),className:"px-6 py-3 text-slate-400 font-bold hover:text-white transition"},"Cancelar"),e.createElement("button",{onClick:Kr,className:"px-8 py-3 bg-orange-600 rounded-xl text-white font-bold shadow-lg hover:bg-orange-500 transition"},"Guardar Producto"))),e.createElement("div",{className:"grid gap-3"},I.map((t,s)=>e.createElement("div",{key:t.id,style:{animationDelay:`${s*.05}s`},className:`bg-[#0a0a0a] border p-4 rounded-xl flex flex-col sm:flex-row justify-between items-center group hover:border-orange-900/50 transition animate-fade-up ${t.isActive===!1?"border-yellow-500/30 opacity-60":"border-slate-800"}`},e.createElement("div",{className:"flex items-center gap-6 w-full sm:w-auto"},e.createElement("div",{className:`w-16 h-16 bg-white rounded-lg p-2 flex-shrink-0 relative ${t.isActive===!1?"grayscale":""}`},e.createElement("img",{src:t.image,className:"w-full h-full object-contain"}),t.isFeatured&&e.createElement("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-yellow-500 rounded-full flex items-center justify-center shadow-lg"},e.createElement(ta,{className:"w-3 h-3 text-black fill-current"}))),e.createElement("div",null,e.createElement("p",{className:"font-bold text-white text-lg flex items-center gap-2"},t.name,t.isFeatured&&e.createElement("span",{className:"text-[10px] bg-yellow-500/20 text-yellow-400 px-2 py-0.5 rounded-full font-bold"},"DESTACADO"),t.isActive===!1&&e.createElement("span",{className:"text-[10px] bg-red-500/20 text-red-400 px-2 py-0.5 rounded-full font-bold"},"OCULTO",t.deactivatedByPlan?" (LÍMITE)":"")),e.createElement("p",{className:"text-xs text-slate-500 font-mono"},"Stock: ",e.createElement("span",{className:(t.stock||0)<(a?.lowStockThreshold||5)?"text-red-400 font-bold animate-pulse":"text-slate-400"},t.stock||0)," |",e.createElement("span",{className:"text-orange-400 font-bold ml-2",title:"Precio Venta"},"$",Number(t.basePrice).toLocaleString())," |",e.createElement("span",{className:"text-slate-500 ml-2 font-mono",title:"Costo Adquisición"},"Costo: $",Number(t.purchasePrice||0).toLocaleString()),Number(t.basePrice)>0&&e.createElement("span",{className:`ml-2 text-[10px] font-black px-1.5 py-0.5 rounded border ${(Number(t.basePrice)-Number(t.purchasePrice||0))/Number(t.basePrice)<.3?"bg-red-900/20 text-red-400 border-red-500/20":"bg-green-900/20 text-green-400 border-green-500/20"}`},((Number(t.basePrice)-Number(t.purchasePrice||0))/Number(t.basePrice)*100).toFixed(0),"%")," |",e.createElement("span",{className:"text-green-400 ml-2"},"Ventas: ",V?.salesCount?.[t.id]||0)))),e.createElement("div",{className:"flex gap-2 mt-4 sm:mt-0 w-full sm:w-auto justify-end items-center"},e.createElement("button",{onClick:async()=>{try{await oe(A(k,"artifacts",d,"public","data","products",t.id),{isFeatured:!t.isFeatured}),c(t.isFeatured?"Producto quitado de destacados":"Producto marcado como destacado","success")}catch(r){console.error(r),c("Error al actualizar","error")}},className:`p-3 rounded-xl transition border transform hover:scale-105 active:scale-95 ${t.isFeatured?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30 hover:bg-yellow-500/30":"bg-slate-900 text-slate-500 border-slate-800 hover:text-yellow-400 hover:border-yellow-500/30"}`,title:t.isFeatured?"Quitar de Destacados":"Marcar como Destacado"},e.createElement(ta,{className:`w-5 h-5 ${t.isFeatured?"fill-current":""}`})),e.createElement("button",{onClick:()=>t.isActive===!1?br(t.id):gr(t.id),className:`p-3 rounded-xl transition border transform hover:scale-105 active:scale-95 ${t.isActive===!1?"bg-red-500/20 text-red-400 border-red-500/30 hover:bg-green-500/20 hover:text-green-400 hover:border-green-500/30":"bg-slate-900 text-slate-500 border-slate-800 hover:text-red-400 hover:border-red-500/30"}`,title:t.isActive===!1?"Activar Producto (hacerlo visible en tienda)":"Desactivar Producto (ocultarlo de la tienda)"},t.isActive===!1?e.createElement(vs,{className:"w-5 h-5"}):e.createElement(Al,{className:"w-5 h-5"})),e.createElement("button",{onClick:()=>Ir(t),className:"p-3 bg-slate-900 rounded-xl text-green-400 hover:bg-green-900/20 transition border border-slate-800 transform hover:scale-105 active:scale-95",title:"Venta Manual (Descontar 1)"},e.createElement(ja,{className:"w-5 h-5"})),e.createElement("button",{onClick:()=>{$e(t),Ka(t.id),Sa(!0)},className:"p-3 bg-slate-900 rounded-xl text-orange-400 hover:bg-orange-900/20 transition border border-slate-800 transform hover:scale-105 active:scale-95"},e.createElement($t,{className:"w-5 h-5"})),e.createElement("button",{onClick:()=>Zr(t),className:"p-3 bg-slate-900 rounded-xl text-red-400 hover:bg-red-900/20 transition border border-slate-800 transform hover:scale-105 active:scale-95"},e.createElement(de,{className:"w-5 h-5"}))))))),y==="carousel"&&e.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up pb-20 relative"},["business","premium"].includes(a?.subscriptionPlan)?e.createElement(e.Fragment,null,e.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8"},e.createElement("div",null,e.createElement("h1",{className:"text-3xl md:text-4xl font-black text-white neon-text"},"Carrusel"),e.createElement("p",{className:"text-slate-500 mt-2"},"Administrá los banners rotativos del home de tu tienda.")),e.createElement(Ue,{guideKey:"carousel"})),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(vo,{className:"w-5 h-5 text-orange-400"})," Configuración del Carrusel"),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Mostrar carrusel"),e.createElement("p",{className:"text-xs text-slate-500"},"Si está apagado, se usa la imagen Hero tradicional.")),e.createElement("button",{onClick:()=>x({...a,showHomeBannerCarousel:a?.showHomeBannerCarousel===!1}),className:`w-14 h-8 rounded-full transition relative ${a?.showHomeBannerCarousel!==!1?"bg-orange-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${a?.showHomeBannerCarousel!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Cambio automático (segundos)"),e.createElement("input",{type:"number",min:"1",className:"input-cyber w-full p-3",value:Number.isFinite(Number(a?.homeBannerAutoplayMs))?Math.max(1,Math.round(Number(a.homeBannerAutoplayMs)/1e3)):5,onChange:t=>{let s=Number(t.target.value),r=Number.isFinite(s)?Math.max(1,s):5;x({...a,homeBannerAutoplayMs:Math.round(r*1e3)})}}))),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6"},e.createElement("div",{className:"lg:col-span-1"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Imagen del slide"),e.createElement("input",{type:"file",accept:"image/*",onChange:t=>ut(t,yt,"imageUrl",1400),className:"block w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-orange-900/20 file:text-orange-400 hover:file:bg-orange-900/40 transition"}),ie?.imageUrl&&e.createElement("div",{className:"mt-4 rounded-xl overflow-hidden border border-slate-700 h-28"},e.createElement("img",{src:ie.imageUrl,className:"w-full h-full object-cover",alt:"Banner preview"}))),e.createElement("div",{className:"lg:col-span-2 space-y-4"},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Acción al hacer click"),e.createElement("select",{className:"input-cyber w-full p-3",value:ie?.targetType||"none",onChange:t=>yt(s=>({...s,targetType:t.target.value,targetId:""}))},e.createElement("option",{value:"none"},"Solo mostrar (sin link)"),e.createElement("option",{value:"product"},"Abrir producto"),e.createElement("option",{value:"promo"},"Abrir promo"))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Orden (0 = primero)"),e.createElement("input",{type:"number",className:"input-cyber w-full p-3",value:Number.isFinite(Number(ie?.order))?Number(ie.order):0,onChange:t=>yt(s=>({...s,order:t.target.value}))}),e.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Menor número aparece primero (0, 1, 2...)."))),ie?.targetType!=="none"&&e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},ie?.targetType==="promo"?"Promo al hacer click":"Producto al hacer click"),e.createElement("select",{className:"input-cyber w-full p-3",value:ie?.targetId||"",onChange:t=>yt(s=>({...s,targetId:t.target.value}))},e.createElement("option",{value:""},"Seleccionar..."),(ie?.targetType==="promo"?[...it]:[...I]).sort((t,s)=>(t?.name||"").localeCompare(s?.name||"")).map(t=>e.createElement("option",{key:t.id,value:t.id},t.name)))),e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800 flex items-center gap-4"},(()=>{let t=ie?.targetType==="promo",s=t?it.find(l=>l.id===ie?.targetId):I.find(l=>l.id===ie?.targetId),r=s?.image;return e.createElement(e.Fragment,null,e.createElement("div",{className:"w-16 h-16 rounded-xl overflow-hidden border border-slate-700 bg-black/30 flex items-center justify-center flex-shrink-0"},r?e.createElement("img",{src:r,className:"w-full h-full object-cover",alt:"Preview"}):e.createElement(aa,{className:"w-6 h-6 text-slate-600"})),e.createElement("div",{className:"min-w-0"},e.createElement("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-wider"},"Vista previa"),e.createElement("p",{className:"font-black text-white truncate"},s?.name||"Sin selección")))})())),e.createElement("div",{className:"flex flex-col md:flex-row md:items-center gap-4"},e.createElement("div",{className:"flex items-center justify-between flex-1 p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Slide habilitado"),e.createElement("p",{className:"text-xs text-slate-500"},"Si está apagado no se muestra.")),e.createElement("button",{onClick:()=>yt(t=>({...t,enabled:t?.enabled===!1})),className:`w-14 h-8 rounded-full transition relative ${ie?.enabled!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${ie?.enabled!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:"flex gap-3"},ia&&e.createElement("button",{onClick:is,className:"px-6 py-3 rounded-xl font-bold border border-slate-700 text-slate-200 hover:bg-slate-900/60 transition"},"Cancelar"),e.createElement("button",{onClick:Qr,className:"px-8 py-3 bg-orange-600 rounded-xl text-white font-bold shadow-lg hover:bg-orange-500 transition"},ia?"Guardar Slide":"Agregar Slide"))))),e.createElement("div",{className:"space-y-3"},Ua.length===0?e.createElement("p",{className:"text-slate-500 text-sm"},"Todavía no hay slides en el carrusel."):Ua.map(t=>{let s=t.targetType||(t.promoId?"promo":t.productId?"product":"none"),r=t.targetId||t.promoId||t.productId||"",l=s==="promo"?it.find(u=>u.id===r):s==="product"?I.find(u=>u.id===r):null,i=s==="none"?"Solo imagen":l?.name||(s==="promo"?"Promo inexistente":"Producto inexistente"),n=t?.enabled!==!1;return e.createElement("div",{key:t.id,className:"flex flex-col md:flex-row md:items-center gap-4 p-4 bg-slate-900/40 rounded-2xl border border-slate-800"},e.createElement("div",{className:"w-full md:w-40 h-20 rounded-xl overflow-hidden border border-slate-700 bg-black/30 flex-shrink-0"},t?.imageUrl?e.createElement("img",{src:t.imageUrl,className:"w-full h-full object-cover",alt:"Slide"}):null),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("div",{className:"flex items-center gap-3 flex-wrap"},e.createElement("div",{className:"w-10 h-10 rounded-lg overflow-hidden border border-slate-700 bg-black/30 flex items-center justify-center flex-shrink-0"},l?.image?e.createElement("img",{src:l.image,className:"w-full h-full object-cover",alt:"Target"}):e.createElement(aa,{className:"w-4 h-4 text-slate-600"})),e.createElement("p",{className:"font-black text-white truncate"},i),e.createElement("span",{className:`text-[10px] font-black px-2 py-1 rounded-lg border ${n?"text-green-400 border-green-500/30 bg-green-500/10":"text-slate-400 border-slate-700 bg-slate-800/30"}`},n?"ACTIVO":"PAUSADO"),e.createElement("span",{className:"text-[10px] font-black px-2 py-1 rounded-lg border border-slate-700 bg-slate-800/30 text-slate-300"},s==="promo"?"PROMO":s==="product"?"PRODUCTO":"SIN LINK"),e.createElement("span",{className:"text-[10px] font-black px-2 py-1 rounded-lg border border-slate-700 bg-slate-800/30 text-slate-300"},"ORDEN ",Number.isFinite(Number(t.order))?Number(t.order):0)),e.createElement("p",{className:"text-xs text-slate-500 mt-1 truncate"},s==="none"?"Click desactivado":r)),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{onClick:()=>Yr(t),className:"px-4 py-2 rounded-xl font-bold border border-slate-700 text-slate-200 hover:bg-slate-900/60 transition flex items-center gap-2"},e.createElement($t,{className:"w-4 h-4"})," Editar"),e.createElement("button",{onClick:()=>Xr(t),className:"px-4 py-2 rounded-xl font-bold border border-red-500/30 text-red-400 hover:bg-red-500/10 transition flex items-center gap-2"},e.createElement(de,{className:"w-4 h-4"})," Eliminar")))})))),h?.email===re&&e.createElement("div",{className:"fixed bottom-8 right-8 z-50"},e.createElement("button",{onClick:async()=>{try{he(!0);let t=A(k,"artifacts",d,"public","data","settings","config");await at(t,a,{merge:!0}),c("Configuración del carrusel guardada","success")}catch(t){console.error(t),c("Error al guardar","error")}finally{he(!1)}},className:"px-8 py-4 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 text-white font-bold rounded-2xl shadow-2xl shadow-orange-900/30 flex items-center gap-3 transition transform hover:scale-105"},e.createElement(It,{className:"w-5 h-5"})," Guardar Cambios")))):e.createElement("div",{className:"flex flex-col items-center justify-center py-20 text-center"},e.createElement("div",{className:"w-20 h-20 bg-yellow-900/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-yellow-500/30"},e.createElement(Ye,{className:"w-10 h-10 text-yellow-500"})),e.createElement("h3",{className:"text-2xl font-black text-white mb-4"},"Carrusel Bloqueado"),e.createElement("p",{className:"text-slate-400 mb-6 max-w-md"},"El carrusel de banners del home está disponible a partir del ",e.createElement("span",{className:"text-purple-400 font-bold"},"Plan Negocio"),". Mejorá tu plan para personalizar los slides de tu tienda."),e.createElement("button",{onClick:()=>Ht(!0),className:"px-8 py-4 bg-purple-600 hover:bg-purple-500 text-white font-bold rounded-xl shadow-lg shadow-purple-600/20 transition flex items-center gap-2"},e.createElement(Be,{className:"w-5 h-5"})," Ver Planes Disponibles"))),y==="settings"&&e.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up pb-20 relative"},h?.email!==re&&e.createElement("div",{className:"absolute inset-0 z-30 flex items-center justify-center bg-black/90 backdrop-blur-md rounded-[2.5rem]"},e.createElement("div",{className:"text-center p-8 max-w-lg"},e.createElement("div",{className:"w-24 h-24 mx-auto mb-6 bg-red-500/20 rounded-full flex items-center justify-center border border-red-500/30"},e.createElement(Le,{className:"w-12 h-12 text-red-400"})),e.createElement("h3",{className:"text-3xl font-black text-white mb-4"},"Acceso Restringido"),e.createElement("p",{className:"text-slate-400 mb-6"},"Esta sección está reservada únicamente para el ",e.createElement("span",{className:"text-orange-400 font-bold"},"desarrollador")," de la plataforma."),e.createElement("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-800 mb-6"},e.createElement("p",{className:"text-sm text-slate-500 mb-2"},"Para solicitar cambios en la configuración, contacta a:"),e.createElement("p",{className:"text-orange-400 font-bold text-lg"},"lautarocorazza63@gmail.com")),e.createElement("p",{className:"text-xs text-slate-600"},"Si necesitas modificar tu tienda, envía un email detallando los cambios que deseas realizar."))),e.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8"},e.createElement("h1",{className:"text-4xl font-black text-white neon-text flex items-center gap-3"},e.createElement(bo,{className:"w-8 h-8 text-orange-500 animate-spin-slow"})," Configuración General"),e.createElement(Ue,{guideKey:"settings"})),e.createElement("div",{className:"flex flex-wrap gap-2 mb-8 pb-4 border-b border-slate-800"},[{id:"store",label:"Tienda",icon:sa},{id:"appearance",label:"Apariencia",icon:yo},{id:"social",label:"Redes",icon:ko},{id:"payments",label:"Pagos",icon:ft},{id:"ticket",label:"Ticket",icon:Pt},{id:"shipping",label:"Envíos",icon:et},{id:"seo",label:"SEO",icon:fs},{id:"advanced",label:"Avanzado",icon:Co},{id:"team",label:"Equipo",icon:xa},...h?.email===re?[{id:"subscription",label:"Suscripciones",icon:Be}]:[]].map(t=>e.createElement("button",{key:t.id,onClick:()=>hr(t.id),className:`px-5 py-2.5 rounded-xl font-bold text-sm flex items-center gap-2 transition-all duration-300 border ${Ae===t.id?"bg-orange-600 text-white shadow-[0_0_20px_rgba(8,145,178,0.4)] border-orange-400 transform scale-105":"bg-slate-900 text-slate-400 hover:text-white hover:bg-slate-800 border-slate-800"}`},e.createElement(t.icon,{className:`w-4 h-4 ${Ae===t.id?"animate-pulse":""}`})," ",t.label))),Ae==="subscription"&&h?.email===re&&e.createElement("div",{className:"space-y-6 animate-fade-up"},e.createElement("div",{className:"bg-[#0a0a0a] border border-orange-500/30 p-8 rounded-[2rem] shadow-[0_0_50px_rgba(249,115,22,0.1)]"},e.createElement("h3",{className:"text-2xl font-black text-white mb-6 flex items-center gap-3"},e.createElement(Be,{className:"w-6 h-6 text-yellow-500 fill-current"}),"Modelos de Suscripción"),e.createElement("div",{className:"mb-8 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-xl flex items-center gap-4"},e.createElement(jt,{className:"w-8 h-8 text-yellow-500"}),e.createElement("div",null,e.createElement("p",{className:"font-bold text-yellow-500"},"Zona de Peligro: Super Admin"),e.createElement("p",{className:"text-sm text-yellow-200"},"Cambiar el plan afecta inmediatamente los límites y funcionalidades de la tienda."))),e.createElement("div",{className:"mb-8 p-6 bg-slate-900/40 border border-slate-800 rounded-2xl"},e.createElement("div",{className:"flex items-center justify-between gap-4 flex-wrap"},e.createElement("div",null,e.createElement("p",{className:"text-white font-black text-lg"},"Backup de Tienda"),e.createElement("p",{className:"text-slate-500 text-xs font-mono"},"storeId: ",d||"—")),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{disabled:Ns||!d,onClick:mr,className:"px-4 py-3 rounded-xl bg-green-500/10 border border-green-500/20 text-green-400 font-black text-[10px] uppercase tracking-widest hover:bg-green-500/20 transition disabled:opacity-50"},Ns?"Exportando…":"Exportar"),e.createElement("label",{className:`px-4 py-3 rounded-xl bg-indigo-600/20 border border-indigo-500/30 text-indigo-200 font-black text-[10px] uppercase tracking-widest hover:bg-indigo-600/30 transition ${ks||!d?"opacity-50 pointer-events-none":""}`},ks?"Importando…":"Importar",e.createElement("input",{type:"file",accept:"application/json",className:"hidden",onChange:t=>{let s=t.target.files&&t.target.files[0];s&&pr(s),t.target.value=""}})))),e.createElement("p",{className:"text-slate-600 text-xs mt-4"},"Importar escribe con merge (no borra por defecto). Usalo con cuidado.")),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},e.createElement("button",{onClick:()=>Ja("entrepreneur"),className:`relative p-6 rounded-2xl border-2 transition-all duration-300 text-left group ${a.subscriptionPlan==="entrepreneur"||!a.subscriptionPlan?"bg-slate-900 border-orange-500 shadow-[0_0_30px_rgba(249,115,22,0.2)] scale-105 z-10":"bg-[#050505] border-slate-800 hover:border-slate-600 opacity-60 hover:opacity-100"}`},e.createElement("div",{className:"flex justify-between items-start mb-4"},e.createElement("div",{className:"p-3 bg-slate-800 rounded-xl"},e.createElement(sa,{className:"w-6 h-6 text-orange-400"})),(a.subscriptionPlan==="entrepreneur"||!a.subscriptionPlan)&&e.createElement("div",{className:"bg-orange-500 text-black text-xs font-black px-2 py-1 rounded"},"ACTIVO")),e.createElement("h4",{className:"text-xl font-black text-white mb-1"},"Emprendedor"),e.createElement("p",{className:"text-sm text-slate-400 mb-4 h-10"},"El esencial para arrancar sólido pero económico."),e.createElement("div",{className:"text-2xl font-black text-orange-400 mb-6"},"$7.000 ",e.createElement("span",{className:"text-sm text-slate-500 font-normal"},"/mes")),e.createElement("ul",{className:"space-y-2 text-sm text-slate-300"},e.createElement("li",{className:"flex items-center gap-2"},e.createElement(Q,{className:"w-4 h-4 text-orange-500"})," Hasta 30 productos"),e.createElement("li",{className:"flex items-center gap-2"},e.createElement(Q,{className:"w-4 h-4 text-orange-500"})," Dominio Vercel"),e.createElement("li",{className:"flex items-center gap-2"},e.createElement(Q,{className:"w-4 h-4 text-orange-500"})," Mercado Pago Directo"))),e.createElement("button",{onClick:()=>Ja("business"),className:`relative p-6 rounded-2xl border-2 transition-all duration-300 text-left group ${a.subscriptionPlan==="business"?"bg-slate-900 border-purple-500 shadow-[0_0_30px_rgba(168,85,247,0.2)] scale-105 z-10":"bg-[#050505] border-slate-800 hover:border-slate-600 opacity-60 hover:opacity-100"}`},e.createElement("div",{className:"flex justify-between items-start mb-4"},e.createElement("div",{className:"p-3 bg-slate-800 rounded-xl"},e.createElement(Fo,{className:"w-6 h-6 text-purple-400"})),a.subscriptionPlan==="business"&&e.createElement("div",{className:"bg-purple-500 text-white text-xs font-black px-2 py-1 rounded"},"ACTIVO")),e.createElement("h4",{className:"text-xl font-black text-white mb-1"},"Negocio"),e.createElement("p",{className:"text-sm text-slate-400 mb-4 h-10"},"Para marcas con identidad definida."),e.createElement("div",{className:"text-2xl font-black text-purple-400 mb-1"},"$13.000 ",e.createElement("span",{className:"text-sm text-slate-500 font-normal"},"/mes")),e.createElement("p",{className:"text-xs text-green-400 font-bold mb-6"},"🔥 Oferta especial"),e.createElement("ul",{className:"space-y-2 text-sm text-slate-300"},e.createElement("li",{className:"flex items-center gap-2"},e.createElement(Q,{className:"w-4 h-4 text-purple-500"})," Hasta 50 productos"),e.createElement("li",{className:"flex items-center gap-2"},e.createElement(Q,{className:"w-4 h-4 text-purple-500"})," Personalización Visual"),e.createElement("li",{className:"flex items-center gap-2"},e.createElement(Q,{className:"w-4 h-4 text-purple-500"})," Botón WhatsApp"),e.createElement("li",{className:"flex items-center gap-2"},e.createElement(Q,{className:"w-4 h-4 text-purple-500"})," Carrusel de Banners"))),e.createElement("button",{onClick:()=>Ja("premium"),className:`relative p-6 rounded-2xl border-2 transition-all duration-300 text-left group ${a.subscriptionPlan==="premium"?"bg-slate-900 border-yellow-500 shadow-[0_0_30px_rgba(234,179,8,0.2)] scale-105 z-10":"bg-[#050505] border-slate-800 hover:border-slate-600 opacity-60 hover:opacity-100"}`},e.createElement("div",{className:"flex justify-between items-start mb-4"},e.createElement("div",{className:"p-3 bg-slate-800 rounded-xl"},e.createElement(Tt,{className:"w-6 h-6 text-yellow-400"})),a.subscriptionPlan==="premium"&&e.createElement("div",{className:"bg-yellow-500 text-black text-xs font-black px-2 py-1 rounded"},"ACTIVO")),e.createElement("h4",{className:"text-xl font-black text-white mb-1"},"Premium"),e.createElement("p",{className:"text-sm text-slate-400 mb-4 h-10"},"Servicio Full con IA."),e.createElement("div",{className:"text-2xl font-black text-yellow-400 mb-6"},"$22.000 ",e.createElement("span",{className:"text-sm text-slate-500 font-normal"},"/mes")),e.createElement("ul",{className:"space-y-2 text-sm text-slate-300"},e.createElement("li",{className:"flex items-center gap-2"},e.createElement(Q,{className:"w-4 h-4 text-yellow-500"})," Ilimitado / Full IA"),e.createElement("li",{className:"flex items-center gap-2"},e.createElement(Q,{className:"w-4 h-4 text-yellow-500"})," Carga Inicial (10)"),e.createElement("li",{className:"flex items-center gap-2"},e.createElement(Q,{className:"w-4 h-4 text-yellow-500"})," Mantenimiento Mensual")))),e.createElement("div",{className:"mt-8 pt-8 border-t border-slate-800/50"},e.createElement("h4",{className:"text-lg font-bold text-slate-300 mb-4 flex items-center gap-2"},e.createElement(Tl,{className:"w-5 h-5 text-green-400"})," Ciclo de Facturación"),e.createElement("div",{className:"grid grid-cols-3 gap-4"},[{id:"Semanal",label:"Semanal"},{id:"Mensual",label:"Mensual"},{id:"Anual",label:"Anual"}].map(t=>e.createElement("button",{key:t.id,onClick:()=>x({...a,subscriptionBillingCycle:t.id}),className:`p-3 rounded-xl border transition-all font-bold ${a?.subscriptionBillingCycle===t.id?"bg-green-500 text-black border-green-400 shadow-lg shadow-green-500/20":"bg-slate-900 text-slate-400 border-slate-800 hover:bg-slate-800"}`},t.label))),e.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Define la frecuencia de cobro para este plan.")))),Ae==="store"&&e.createElement("div",{className:"space-y-6 animate-fade-up"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(sa,{className:"w-5 h-5 text-orange-400"})," Información de la Tienda"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Nombre de la Tienda"),e.createElement("input",{className:"input-cyber w-full p-4",value:a?.storeName||"",onChange:t=>x({...a,storeName:t.target.value}),placeholder:"Mi Tienda"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Email de Contacto"),e.createElement("input",{type:"email",className:"input-cyber w-full p-4",value:a?.storeEmail||"",onChange:t=>x({...a,storeEmail:t.target.value}),placeholder:"contacto@mitienda.com"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Teléfono"),e.createElement("input",{className:"input-cyber w-full p-4",value:a?.storePhone||"",onChange:t=>x({...a,storePhone:t.target.value}),placeholder:"+54 11 1234-5678"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Dirección"),e.createElement("input",{className:"input-cyber w-full p-4",value:a?.storeAddress||"",onChange:t=>x({...a,storeAddress:t.target.value}),placeholder:"Av. Corrientes 1234, CABA"}))),e.createElement("div",{className:"mt-6"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Descripción de la Tienda"),e.createElement("textarea",{className:"input-cyber w-full p-4 h-24 resize-none",value:a?.storeDescription||"",onChange:t=>x({...a,storeDescription:t.target.value}),placeholder:"Breve descripción de tu tienda..."})),e.createElement("div",{className:"mt-6"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Texto de Nosotros"),e.createElement("textarea",{className:"input-cyber w-full p-4 h-32 resize-none",value:a?.aboutUsText||"",onChange:t=>x({...a,aboutUsText:t.target.value}),placeholder:"Historia de tu marca, valores, misión..."}))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(us,{className:"w-5 h-5 text-orange-400"})," Textos de Copyright"),e.createElement("div",{className:"space-y-6"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Copyright del Menú Lateral"),e.createElement("input",{className:"input-cyber w-full p-3",value:a?.menuCopyright||"",onChange:t=>x({...a,menuCopyright:t.target.value}),placeholder:`${a?.storeName||"Mi Tienda"} © ${new Date().getFullYear()}`}),e.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Aparece al final del menú hamburguesa")),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Copyright del Footer"),e.createElement("input",{className:"input-cyber w-full p-3",value:a?.footerCopyright||"",onChange:t=>x({...a,footerCopyright:t.target.value}),placeholder:`© ${new Date().getFullYear()} ${a?.storeName||"Mi Tienda"}. All rights reserved.`}),e.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Aparece en la barra inferior del sitio")))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(ps,{className:"w-5 h-5 text-orange-400"}),' Guía "Cómo Comprar"'),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Mostrar en Menú"),e.createElement("p",{className:"text-xs text-slate-500"},'Mostrar enlace "Cómo Comprar" en el menú lateral')),e.createElement("button",{onClick:()=>x({...a,showGuideLink:a?.showGuideLink===!1}),className:`w-14 h-7 rounded-full transition-all duration-300 relative ${a?.showGuideLink!==!1?"bg-orange-600":"bg-slate-700"}`},e.createElement("div",{className:`w-5 h-5 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${a?.showGuideLink!==!1?"left-8":"left-1"}`}))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Título de la Página"),e.createElement("input",{className:"input-cyber w-full p-3",value:a?.guideTitle||"",onChange:t=>x({...a,guideTitle:t.target.value}),placeholder:"Cómo Comprar"})),e.createElement("div",{className:"border-t border-slate-800 pt-4"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:"w-6 h-6 rounded-full bg-orange-900/30 text-orange-400 text-xs font-bold flex items-center justify-center"},"1"),e.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"Paso 1")),e.createElement("button",{onClick:()=>x({...a,showGuideStep1:a?.showGuideStep1===!1}),className:`w-10 h-5 rounded-full transition-all duration-300 relative ${a?.showGuideStep1!==!1?"bg-orange-600":"bg-slate-700"}`},e.createElement("div",{className:`w-3 h-3 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${a?.showGuideStep1!==!1?"left-6":"left-1"}`}))),e.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-3 ${a?.showGuideStep1===!1?"opacity-50":""}`},e.createElement("input",{className:"input-cyber w-full p-3",value:a?.guideStep1Title||"",onChange:t=>x({...a,guideStep1Title:t.target.value}),placeholder:"Selecciona Productos",disabled:a?.showGuideStep1===!1}),e.createElement("input",{className:"input-cyber w-full p-3",value:a?.guideStep1Text||"",onChange:t=>x({...a,guideStep1Text:t.target.value}),placeholder:"Descripción del paso...",disabled:a?.showGuideStep1===!1}))),e.createElement("div",{className:"border-t border-slate-800 pt-4"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:"w-6 h-6 rounded-full bg-orange-900/30 text-orange-400 text-xs font-bold flex items-center justify-center"},"2"),e.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"Paso 2")),e.createElement("button",{onClick:()=>x({...a,showGuideStep2:a?.showGuideStep2===!1}),className:`w-10 h-5 rounded-full transition-all duration-300 relative ${a?.showGuideStep2!==!1?"bg-orange-600":"bg-slate-700"}`},e.createElement("div",{className:`w-3 h-3 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${a?.showGuideStep2!==!1?"left-6":"left-1"}`}))),e.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-3 ${a?.showGuideStep2===!1?"opacity-50":""}`},e.createElement("input",{className:"input-cyber w-full p-3",value:a?.guideStep2Title||"",onChange:t=>x({...a,guideStep2Title:t.target.value}),placeholder:"Revisa tu Carrito",disabled:a?.showGuideStep2===!1}),e.createElement("input",{className:"input-cyber w-full p-3",value:a?.guideStep2Text||"",onChange:t=>x({...a,guideStep2Text:t.target.value}),placeholder:"Descripción del paso...",disabled:a?.showGuideStep2===!1}))),e.createElement("div",{className:"border-t border-slate-800 pt-4"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:"w-6 h-6 rounded-full bg-orange-900/30 text-orange-400 text-xs font-bold flex items-center justify-center"},"3"),e.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"Paso 3")),e.createElement("button",{onClick:()=>x({...a,showGuideStep3:a?.showGuideStep3===!1}),className:`w-10 h-5 rounded-full transition-all duration-300 relative ${a?.showGuideStep3!==!1?"bg-orange-600":"bg-slate-700"}`},e.createElement("div",{className:`w-3 h-3 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${a?.showGuideStep3!==!1?"left-6":"left-1"}`}))),e.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-3 ${a?.showGuideStep3===!1?"opacity-50":""}`},e.createElement("input",{className:"input-cyber w-full p-3",value:a?.guideStep3Title||"",onChange:t=>x({...a,guideStep3Title:t.target.value}),placeholder:"Datos de Envío",disabled:a?.showGuideStep3===!1}),e.createElement("input",{className:"input-cyber w-full p-3",value:a?.guideStep3Text||"",onChange:t=>x({...a,guideStep3Text:t.target.value}),placeholder:"Descripción del paso...",disabled:a?.showGuideStep3===!1}))),e.createElement("div",{className:"border-t border-slate-800 pt-4"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:"w-6 h-6 rounded-full bg-orange-900/30 text-orange-400 text-xs font-bold flex items-center justify-center"},"4"),e.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"Paso 4")),e.createElement("button",{onClick:()=>x({...a,showGuideStep4:a?.showGuideStep4===!1}),className:`w-10 h-5 rounded-full transition-all duration-300 relative ${a?.showGuideStep4!==!1?"bg-orange-600":"bg-slate-700"}`},e.createElement("div",{className:`w-3 h-3 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${a?.showGuideStep4!==!1?"left-6":"left-1"}`}))),e.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-3 ${a?.showGuideStep4===!1?"opacity-50":""}`},e.createElement("input",{className:"input-cyber w-full p-3",value:a?.guideStep4Title||"",onChange:t=>x({...a,guideStep4Title:t.target.value}),placeholder:"Pago y Confirmación",disabled:a?.showGuideStep4===!1}),e.createElement("input",{className:"input-cyber w-full p-3",value:a?.guideStep4Text||"",onChange:t=>x({...a,guideStep4Text:t.target.value}),placeholder:"Descripción del paso...",disabled:a?.showGuideStep4===!1}))),e.createElement("div",{className:"border-t border-slate-800 pt-4"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:"w-6 h-6 rounded-full bg-orange-900/30 text-orange-400 text-xs font-bold flex items-center justify-center"},"5"),e.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"Paso 5")),e.createElement("button",{onClick:()=>x({...a,showGuideStep5:a?.showGuideStep5===!1}),className:`w-10 h-5 rounded-full transition-all duration-300 relative ${a?.showGuideStep5!==!1?"bg-orange-600":"bg-slate-700"}`},e.createElement("div",{className:`w-3 h-3 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${a?.showGuideStep5!==!1?"left-6":"left-1"}`}))),e.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-3 ${a?.showGuideStep5===!1?"opacity-50":""}`},e.createElement("input",{className:"input-cyber w-full p-3",value:a?.guideStep5Title||"",onChange:t=>x({...a,guideStep5Title:t.target.value}),placeholder:"¡Listo!",disabled:a?.showGuideStep5===!1}),e.createElement("input",{className:"input-cyber w-full p-3",value:a?.guideStep5Text||"",onChange:t=>x({...a,guideStep5Text:t.target.value}),placeholder:"Descripción del paso...",disabled:a?.showGuideStep5===!1}))))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(Io,{className:"w-5 h-5 text-yellow-400"})," Anuncios"),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Mensaje de Anuncio (Banner superior)"),e.createElement("input",{className:"input-cyber w-full p-4",value:a?.announcementMessage||"",onChange:t=>x({...a,announcementMessage:t.target.value}),placeholder:"🔥 ¡Envío gratis en compras mayores a $50.000!"}),e.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Dejar vacío para ocultar el banner."))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(Be,{className:"w-5 h-5 text-yellow-500"})," Pantalla de Carga"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Título de Carga"),e.createElement("input",{className:"input-cyber w-full p-4",value:a?.loadingTitle||"",onChange:t=>x({...a,loadingTitle:t.target.value}),placeholder:a?.storeName||"SUSTORE"}),e.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Aparece en grande (ej. SUSTORE).")),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Mensaje de Carga"),e.createElement("input",{className:"input-cyber w-full p-4",value:a?.loadingText||"",onChange:t=>x({...a,loadingText:t.target.value}),placeholder:"Cargando sistema..."}),e.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Texto pequeño debajo del título."))))),Ae==="appearance"&&e.createElement("div",{className:"space-y-6 animate-fade-up"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(aa,{className:"w-5 h-5 text-purple-400"})," Imágenes"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Imagen Hero (Banner Principal)"),e.createElement("input",{type:"file",accept:"image/*",onChange:t=>ut(t,x,"heroUrl"),className:"block w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-900/20 file:text-purple-400 hover:file:bg-purple-900/40 transition"}),a?.heroUrl&&e.createElement("div",{className:"mt-4 rounded-xl overflow-hidden border border-slate-700 h-32"},e.createElement("img",{src:a.heroUrl,className:"w-full h-full object-cover",alt:"Hero Preview"}))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Logo de la Tienda"),e.createElement("input",{type:"file",accept:"image/*",onChange:t=>ut(t,x,"logoUrl"),className:"block w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-orange-900/20 file:text-orange-400 hover:file:bg-orange-900/40 transition"}),a?.logoUrl&&e.createElement("div",{className:"mt-4 w-24 h-24 rounded-xl overflow-hidden border border-slate-700 bg-white p-2"},e.createElement("img",{src:a.logoUrl,className:"w-full h-full object-contain",alt:"Logo Preview"}))))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(yo,{className:"w-5 h-5 text-pink-400"})," Colores del Tema"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Color Primario"),e.createElement("div",{className:"flex gap-3 items-center"},e.createElement("input",{type:"color",value:a?.primaryColor||"#f97316",onChange:t=>x({...a,primaryColor:t.target.value}),className:"w-12 h-12 rounded-lg border border-slate-700 cursor-pointer"}),e.createElement("input",{type:"text",value:a?.primaryColor||"#f97316",onChange:t=>x({...a,primaryColor:t.target.value}),className:"input-cyber flex-1 p-3 font-mono"}))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Color Secundario"),e.createElement("div",{className:"flex gap-3 items-center"},e.createElement("input",{type:"color",value:a?.secondaryColor||"#8b5cf6",onChange:t=>x({...a,secondaryColor:t.target.value}),className:"w-12 h-12 rounded-lg border border-slate-700 cursor-pointer"}),e.createElement("input",{type:"text",value:a?.secondaryColor||"#8b5cf6",onChange:t=>x({...a,secondaryColor:t.target.value}),className:"input-cyber flex-1 p-3 font-mono"}))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Color Acento"),e.createElement("div",{className:"flex gap-3 items-center"},e.createElement("input",{type:"color",value:a?.accentColor||"#22c55e",onChange:t=>x({...a,accentColor:t.target.value}),className:"w-12 h-12 rounded-lg border border-slate-700 cursor-pointer"}),e.createElement("input",{type:"text",value:a?.accentColor||"#22c55e",onChange:t=>x({...a,accentColor:t.target.value}),className:"input-cyber flex-1 p-3 font-mono"}))))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(Tt,{className:"w-5 h-5 text-orange-400"})," Ticker de Marca"),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Mostrar Ticker"),e.createElement("p",{className:"text-xs text-slate-500"},"Activar/desactivar la cinta de texto animada.")),e.createElement("button",{onClick:()=>x({...a,showBrandTicker:a?.showBrandTicker===!1}),className:`w-14 h-8 rounded-full transition relative ${a?.showBrandTicker!==!1?"bg-orange-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${a?.showBrandTicker!==!1?"left-7":"left-1"}`}))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Texto del Ticker"),e.createElement("input",{className:"input-cyber w-full p-3",value:a?.tickerText||"",onChange:t=>x({...a,tickerText:t.target.value}),placeholder:"TECNOLOGÍA • INNOVACIÓN • CALIDAD PREMIUM • FUTURO"}),e.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Este texto se repetirá en bucle.")))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(aa,{className:"w-5 h-5 text-purple-400"})," Banner Principal (Hero)"),e.createElement("div",{className:"space-y-6"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Badge/Etiqueta"),e.createElement("input",{className:"input-cyber w-full p-3",value:a?.heroBadge||"",onChange:t=>x({...a,heroBadge:t.target.value}),placeholder:"Nueva Colección 2026"})),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Título Línea 1"),e.createElement("input",{className:"input-cyber w-full p-3",value:a?.heroTitle1||"",onChange:t=>x({...a,heroTitle1:t.target.value}),placeholder:"TECNOLOGÍA"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Título Línea 2"),e.createElement("input",{className:"input-cyber w-full p-3",value:a?.heroTitle2||"",onChange:t=>x({...a,heroTitle2:t.target.value}),placeholder:"DEL FUTURO"}))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Subtítulo"),e.createElement("textarea",{className:"input-cyber w-full p-3 h-20 resize-none",value:a?.heroSubtitle||"",onChange:t=>x({...a,heroSubtitle:t.target.value}),placeholder:"Explora nuestra selección premium. Calidad garantizada y soporte técnico especializado."})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Imagen de Fondo"),e.createElement("input",{type:"file",accept:"image/*",onChange:t=>ut(t,x,"heroUrl",1920),className:"block w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-900/20 file:text-purple-400 hover:file:bg-purple-900/40 transition"}),a?.heroUrl&&e.createElement("div",{className:"mt-4 rounded-xl overflow-hidden border border-slate-700 h-32"},e.createElement("img",{src:a.heroUrl,className:"w-full h-full object-cover",alt:"Hero Preview"})),e.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Recomendado: 1920x800 px mínimo")))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(ta,{className:"w-5 h-5 text-yellow-400"})," Beneficios Destacados"),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Mostrar Sección de Beneficios"),e.createElement("p",{className:"text-xs text-slate-500"},"Activa/desactiva toda la sección de beneficios")),e.createElement("button",{onClick:()=>x({...a,showFeaturesSection:a?.showFeaturesSection===!1}),className:`w-14 h-7 rounded-full transition-all duration-300 relative ${a?.showFeaturesSection!==!1?"bg-orange-600":"bg-slate-700"}`},e.createElement("div",{className:`w-5 h-5 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${a?.showFeaturesSection!==!1?"left-8":"left-1"}`}))),e.createElement("div",{className:`transition-opacity duration-300 ${a?.showFeaturesSection===!1?"opacity-50 pointer-events-none":""}`},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(Be,{className:"w-4 h-4 text-orange-400"}),e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block"},"Beneficio 1 (Rayo)")),e.createElement("button",{onClick:()=>x({...a,showFeature1:a?.showFeature1===!1}),className:`w-12 h-6 rounded-full transition-all duration-300 relative ${a?.showFeature1!==!1?"bg-orange-600":"bg-slate-700"}`},e.createElement("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${a?.showFeature1!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 ${a?.showFeature1===!1?"opacity-50":""}`},e.createElement("input",{className:"input-cyber w-full p-3",value:a?.feature1Title||"",onChange:t=>x({...a,feature1Title:t.target.value}),placeholder:"Envío Ultra Rápido",disabled:a?.showFeature1===!1}),e.createElement("input",{className:"input-cyber w-full p-3",value:a?.feature1Desc||"",onChange:t=>x({...a,feature1Desc:t.target.value}),placeholder:"Subtítulo corto...",disabled:a?.showFeature1===!1}))),e.createElement("div",{className:`transition-opacity duration-300 ${a?.showFeaturesSection===!1?"opacity-50 pointer-events-none":""}`},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(Le,{className:"w-4 h-4 text-purple-400"}),e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block"},"Beneficio 2 (Escudo)")),e.createElement("button",{onClick:()=>x({...a,showFeature2:a?.showFeature2===!1}),className:`w-12 h-6 rounded-full transition-all duration-300 relative ${a?.showFeature2!==!1?"bg-purple-600":"bg-slate-700"}`},e.createElement("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${a?.showFeature2!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 ${a?.showFeature2===!1?"opacity-50":""}`},e.createElement("input",{className:"input-cyber w-full p-3",value:a?.feature2Title||"",onChange:t=>x({...a,feature2Title:t.target.value}),placeholder:"Garantía Extendida",disabled:a?.showFeature2===!1}),e.createElement("input",{className:"input-cyber w-full p-3",value:a?.feature2Desc||"",onChange:t=>x({...a,feature2Desc:t.target.value}),placeholder:"Subtítulo corto...",disabled:a?.showFeature2===!1}))),e.createElement("div",{className:`transition-opacity duration-300 ${a?.showFeaturesSection===!1?"opacity-50 pointer-events-none":""}`},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(No,{className:"w-4 h-4 text-green-400"}),e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block"},"Beneficio 3 (Soporte)")),e.createElement("button",{onClick:()=>x({...a,showFeature3:a?.showFeature3===!1}),className:`w-12 h-6 rounded-full transition-all duration-300 relative ${a?.showFeature3!==!1?"bg-green-600":"bg-slate-700"}`},e.createElement("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${a?.showFeature3!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 ${a?.showFeature3===!1?"opacity-50":""}`},e.createElement("input",{className:"input-cyber w-full p-3",value:a?.feature3Title||"",onChange:t=>x({...a,feature3Title:t.target.value}),placeholder:"Soporte 24/7",disabled:a?.showFeature3===!1}),e.createElement("input",{className:"input-cyber w-full p-3",value:a?.feature3Desc||"",onChange:t=>x({...a,feature3Desc:t.target.value}),placeholder:"Subtítulo corto...",disabled:a?.showFeature3===!1}))))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(At,{className:"w-5 h-5 text-green-400"})," Sección Contacto (Footer)"),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Mostrar Sección"),e.createElement("p",{className:"text-xs text-slate-500"},"Activa/desactiva la sección de contacto en el footer")),e.createElement("button",{onClick:()=>x({...a,showFooterContact:a?.showFooterContact===!1}),className:`w-14 h-8 rounded-full transition relative ${a?.showFooterContact!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${a?.showFooterContact!==!1?"left-7":"left-1"}`}))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Título"),e.createElement("input",{className:"input-cyber w-full p-3",value:a?.footerContactTitle||"",onChange:t=>x({...a,footerContactTitle:t.target.value}),placeholder:"Contacto"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Descripción"),e.createElement("input",{className:"input-cyber w-full p-3",value:a?.footerContactDescription||"",onChange:t=>x({...a,footerContactDescription:t.target.value}),placeholder:"¿Tienes alguna duda? Estamos aquí para ayudarte."})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Texto del Botón"),e.createElement("input",{className:"input-cyber w-full p-3",value:a?.footerContactButtonText||"",onChange:t=>x({...a,footerContactButtonText:t.target.value}),placeholder:"Contactar Soporte"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Tipo de Contacto"),e.createElement("select",{className:"input-cyber w-full p-3",value:a?.footerContactType||"whatsapp",onChange:t=>x({...a,footerContactType:t.target.value})},e.createElement("option",{value:"whatsapp"},"WhatsApp"),e.createElement("option",{value:"instagram"},"Instagram"),e.createElement("option",{value:"email"},"Email")),(!a?.footerContactType||a?.footerContactType==="whatsapp")&&e.createElement("div",{className:"mt-3 animate-fade-in"},e.createElement("label",{className:"text-[10px] font-bold text-green-500 uppercase tracking-wider mb-1 block"},"Enlace de WhatsApp"),e.createElement("input",{className:"input-cyber w-full p-3 text-sm border-green-500/30 focus:border-green-500",value:a?.whatsappLink||"",onChange:t=>x({...a,whatsappLink:t.target.value}),placeholder:"https://wa.me/54911..."})),a?.footerContactType==="instagram"&&e.createElement("div",{className:"mt-3 animate-fade-in"},e.createElement("label",{className:"text-[10px] font-bold text-pink-500 uppercase tracking-wider mb-1 block"},"Perfil de Instagram"),e.createElement("input",{className:"input-cyber w-full p-3 text-sm border-pink-500/30 focus:border-pink-500",value:a?.instagramLink||"",onChange:t=>x({...a,instagramLink:t.target.value}),placeholder:"https://instagram.com/usuario"})),a?.footerContactType==="email"&&e.createElement("div",{className:"mt-3 animate-fade-in"},e.createElement("label",{className:"text-[10px] font-bold text-blue-500 uppercase tracking-wider mb-1 block"},"Email de Soporte"),e.createElement("input",{className:"input-cyber w-full p-3 text-sm border-blue-500/30 focus:border-blue-500",value:a?.storeEmail||"",onChange:t=>x({...a,storeEmail:t.target.value}),placeholder:"soporte@tienda.com"}))))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(sa,{className:"w-5 h-5 text-orange-400"})," Marca en Footer"),e.createElement("div",{className:"space-y-6"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Sufijo del Nombre"),e.createElement("input",{className:"input-cyber w-full p-3",value:a?.footerSuffix||"",onChange:t=>x({...a,footerSuffix:t.target.value}),placeholder:".SF"}),e.createElement("p",{className:"text-xs text-slate-500 mt-1"},"Aparece junto al nombre de la tienda (ej: SUSTORE.SF)")),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Descripción"),e.createElement("textarea",{className:"input-cyber w-full p-3 h-24 resize-none",value:a?.footerDescription||"",onChange:t=>x({...a,footerDescription:t.target.value}),placeholder:"Tu destino premium para tecnología de vanguardia..."})))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(us,{className:"w-5 h-5 text-slate-400"})," Links Legales"),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Política de Privacidad"),e.createElement("p",{className:"text-xs text-slate-500"},"Mostrar link en el footer")),e.createElement("button",{onClick:()=>x({...a,showPrivacyPolicy:a?.showPrivacyPolicy===!1}),className:`w-14 h-8 rounded-full transition relative ${a?.showPrivacyPolicy!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${a?.showPrivacyPolicy!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Terms of Service"),e.createElement("p",{className:"text-xs text-slate-500"},"Mostrar link en el footer")),e.createElement("button",{onClick:()=>x({...a,showTermsOfService:a?.showTermsOfService===!1}),className:`w-14 h-8 rounded-full transition relative ${a?.showTermsOfService!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${a?.showTermsOfService!==!1?"left-7":"left-1"}`})))))),Ae==="ticket"&&e.createElement("div",{className:"space-y-6 animate-fade-up"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(Pt,{className:"w-5 h-5 text-orange-400"})," Ticket / Comprobante"),e.createElement("p",{className:"text-sm text-slate-500 mb-6"},"Estos datos se usan en el comprobante que se envía por email al confirmar la compra."),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Nombre que aparece en el ticket"),e.createElement("input",{className:"input-cyber w-full p-4",value:a?.ticket?.brandName||"",onChange:t=>x({...a,ticket:{...a?.ticket,brandName:t.target.value}}),placeholder:a?.storeName||"Mi Tienda"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Link de WhatsApp (para el ticket)"),e.createElement("input",{className:"input-cyber w-full p-4",value:a?.ticket?.whatsappLink||"",onChange:t=>x({...a,ticket:{...a?.ticket,whatsappLink:t.target.value}}),placeholder:a?.whatsappLink||"https://wa.me/5491112345678"})),e.createElement("div",{className:"md:col-span-2"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Link de la página (para el ticket)"),e.createElement("input",{className:"input-cyber w-full p-4",value:a?.ticket?.siteUrl||"",onChange:t=>x({...a,ticket:{...a?.ticket,siteUrl:t.target.value}}),placeholder:a?.seoUrl||""}))))),Ae==="social"&&e.createElement("div",{className:"space-y-6 animate-fade-up"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(ko,{className:"w-5 h-5 text-blue-400"})," Redes Sociales"),e.createElement("p",{className:"text-sm text-slate-500 mb-6"},"Configura los enlaces y activa/desactiva la visibilidad de cada red social en el footer."),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("label",{className:"text-sm font-bold text-white flex items-center gap-2"},e.createElement(At,{className:"w-4 h-4 text-green-400"})," WhatsApp"),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:"text-[10px] text-slate-500 font-mono uppercase"},"Footer"),e.createElement("button",{onClick:()=>x({...a,showWhatsapp:!a?.showWhatsapp}),className:`w-10 h-5 rounded-full transition relative ${a?.showWhatsapp===!0?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:"absolute top-0.5 w-4 h-4 bg-white rounded-full transition",style:{left:a?.showWhatsapp===!0?"22px":"2px"}})))),e.createElement("input",{className:"input-cyber w-full p-3 text-sm mb-3",value:a?.whatsappLink||"",onChange:t=>x({...a,whatsappLink:t.target.value}),placeholder:"https://wa.me/5491112345678"}),e.createElement("div",{className:"flex items-center justify-between pt-3 border-t border-slate-800/50"},e.createElement("div",null,e.createElement("p",{className:"text-xs text-slate-400 font-bold flex items-center gap-2"},"Botón Flotante",!["business","premium"].includes(a?.subscriptionPlan)&&e.createElement(Ye,{className:"w-3 h-3 text-yellow-500"})),!["business","premium"].includes(a?.subscriptionPlan)&&e.createElement("p",{className:"text-[9px] text-yellow-500/80 mt-0.5"},"Requiere Plan Negocio")),e.createElement("button",{onClick:()=>{["business","premium"].includes(a?.subscriptionPlan)?x({...a,showFloatingWhatsapp:!a?.showFloatingWhatsapp}):Ht(!0)},className:`w-10 h-5 rounded-full transition relative ${a?.showFloatingWhatsapp?"bg-green-500":"bg-slate-700"} ${["business","premium"].includes(a?.subscriptionPlan)?"":"opacity-50 cursor-not-allowed"}`},e.createElement("div",{className:"absolute top-0.5 w-4 h-4 bg-white rounded-full transition",style:{left:a?.showFloatingWhatsapp?"22px":"2px"}}))),e.createElement("div",{className:"flex items-center justify-between pt-3 mt-3 border-t border-slate-800/50"},e.createElement("div",null,e.createElement("p",{className:"text-xs text-slate-400 font-bold"},"Botón en Carrito"),e.createElement("p",{className:"text-[9px] text-slate-500 mt-0.5"},"“Terminar compra por WhatsApp”")),e.createElement("button",{onClick:()=>x({...a,showCartWhatsappCheckout:!a?.showCartWhatsappCheckout}),className:`w-10 h-5 rounded-full transition relative ${a?.showCartWhatsappCheckout?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:"absolute top-0.5 w-4 h-4 bg-white rounded-full transition",style:{left:a?.showCartWhatsappCheckout?"22px":"2px"}})))),e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("label",{className:"text-sm font-bold text-white flex items-center gap-2"},e.createElement(Ta,{className:"w-4 h-4 text-pink-400"})," Instagram"),e.createElement("button",{onClick:()=>x({...a,showInstagram:a?.showInstagram===!1}),className:`w-12 h-6 rounded-full transition relative ${a?.showInstagram!==!1?"bg-pink-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full transition ${a?.showInstagram!==!1?"left-6":"left-0.5"}`}))),e.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:a?.instagramLink||"",onChange:t=>x({...a,instagramLink:t.target.value}),placeholder:"https://instagram.com/mitienda"})),e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("label",{className:"text-sm font-bold text-white flex items-center gap-2"},e.createElement(So,{className:"w-4 h-4 text-blue-500"})," Facebook"),e.createElement("button",{onClick:()=>x({...a,showFacebook:!a?.showFacebook}),className:`w-12 h-6 rounded-full transition relative ${a?.showFacebook?"bg-blue-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full transition ${a?.showFacebook?"left-6":"left-0.5"}`}))),e.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:a?.facebookLink||"",onChange:t=>x({...a,facebookLink:t.target.value}),placeholder:"https://facebook.com/mitienda"})),e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("label",{className:"text-sm font-bold text-white flex items-center gap-2"},e.createElement($o,{className:"w-4 h-4 text-sky-400"})," Twitter/X"),e.createElement("button",{onClick:()=>x({...a,showTwitter:!a?.showTwitter}),className:`w-12 h-6 rounded-full transition relative ${a?.showTwitter?"bg-sky-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full transition ${a?.showTwitter?"left-6":"left-0.5"}`}))),e.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:a?.twitterLink||"",onChange:t=>x({...a,twitterLink:t.target.value}),placeholder:"https://twitter.com/mitienda"})),e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("label",{className:"text-sm font-bold text-white flex items-center gap-2"},e.createElement(Eo,{className:"w-4 h-4 text-rose-400"})," TikTok"),e.createElement("button",{onClick:()=>x({...a,showTiktok:!a?.showTiktok}),className:`w-12 h-6 rounded-full transition relative ${a?.showTiktok?"bg-rose-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full transition ${a?.showTiktok?"left-6":"left-0.5"}`}))),e.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:a?.tiktokLink||"",onChange:t=>x({...a,tiktokLink:t.target.value}),placeholder:"https://tiktok.com/@mitienda"})),e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("label",{className:"text-sm font-bold text-white flex items-center gap-2"},e.createElement(Po,{className:"w-4 h-4 text-red-500"})," YouTube"),e.createElement("button",{onClick:()=>x({...a,showYoutube:!a?.showYoutube}),className:`w-12 h-6 rounded-full transition relative ${a?.showYoutube?"bg-red-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full transition ${a?.showYoutube?"left-6":"left-0.5"}`}))),e.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:a?.youtubeLink||"",onChange:t=>x({...a,youtubeLink:t.target.value}),placeholder:"https://youtube.com/c/mitienda"}))))),Ae==="payments"&&e.createElement("div",{className:"space-y-6 animate-fade-up"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(ft,{className:"w-5 h-5 text-green-400"})," Métodos de Pago"),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement(Ao,{className:"w-6 h-6 text-orange-400"}),e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Transferencia Bancaria"),e.createElement("p",{className:"text-xs text-slate-500"},"Activado / Desactivado"))),e.createElement("button",{onClick:()=>x({...a,paymentTransfer:{...a?.paymentTransfer,enabled:!a?.paymentTransfer?.enabled}}),className:`w-14 h-8 rounded-full transition relative ${a?.paymentTransfer?.enabled?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${a?.paymentTransfer?.enabled?"left-7":"left-1"}`}))),a?.paymentTransfer?.enabled&&e.createElement("div",{className:"mt-5 grid grid-cols-1 md:grid-cols-3 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase ml-2 mb-1 block"},"Titular"),e.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:a?.paymentTransfer?.holderName||"",onChange:t=>x({...a,paymentTransfer:{...a?.paymentTransfer,holderName:t.target.value}}),placeholder:"Nombre y apellido"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase ml-2 mb-1 block"},"Alias"),e.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:a?.paymentTransfer?.alias||"",onChange:t=>x({...a,paymentTransfer:{...a?.paymentTransfer,alias:t.target.value}}),placeholder:"alias.ejemplo"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase ml-2 mb-1 block"},"CBU"),e.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:a?.paymentTransfer?.cbu||"",onChange:t=>x({...a,paymentTransfer:{...a?.paymentTransfer,cbu:t.target.value}}),placeholder:"0000000000000000000000"})))),e.createElement("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement(To,{className:"w-6 h-6 text-green-400"}),e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Efectivo"),e.createElement("p",{className:"text-xs text-slate-500"},"Pago al recibir"))),e.createElement("button",{onClick:()=>{if(!a?.shippingPickup?.enabled){c('Debes activar "Retiro en Local" (Envíos) para habilitar efectivo.',"warning");return}x({...a,paymentCash:!a?.paymentCash})},className:`w-14 h-8 rounded-full transition relative ${a?.paymentCash&&a?.shippingPickup?.enabled?"bg-green-500":"bg-slate-700"} ${a?.shippingPickup?.enabled?"":"opacity-50 cursor-not-allowed"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${a?.paymentCash&&a?.shippingPickup?.enabled?"left-7":"left-1"}`}))),!a?.shippingPickup?.enabled&&e.createElement("p",{className:"text-[10px] text-orange-400/80 mt-2 flex items-center gap-1"},e.createElement(jt,{className:"w-3 h-3"})," Requiere activar Retiro en Local")),e.createElement("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement(ft,{className:"w-6 h-6 text-orange-400"}),e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Tarjeta (Mercado Pago)"),e.createElement("p",{className:"text-xs text-slate-500"},"Activado / Desactivado"))),e.createElement("button",{onClick:()=>x({...a,paymentMercadoPago:{...a?.paymentMercadoPago,enabled:!a?.paymentMercadoPago?.enabled}}),className:`w-14 h-8 rounded-full transition relative ${a?.paymentMercadoPago?.enabled?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${a?.paymentMercadoPago?.enabled?"left-7":"left-1"}`}))))))),Ae==="shipping"&&e.createElement("div",{className:"space-y-6 animate-fade-up"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(et,{className:"w-5 h-5 text-orange-400"})," Opciones de Envío"),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement(fo,{className:"w-6 h-6 text-orange-400"}),e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Retiro en Local"),e.createElement("p",{className:"text-xs text-slate-500"},"El cliente pasa a buscar"))),e.createElement("button",{onClick:()=>x({...a,shippingPickup:{...a?.shippingPickup,enabled:!a?.shippingPickup?.enabled}}),className:`w-14 h-8 rounded-full transition relative ${a?.shippingPickup?.enabled?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${a?.shippingPickup?.enabled?"left-7":"left-1"}`}))),a?.shippingPickup?.enabled&&e.createElement("input",{className:"input-cyber w-full p-4",value:a?.shippingPickup?.address||"",onChange:t=>x({...a,shippingPickup:{...a?.shippingPickup,address:t.target.value}}),placeholder:"Dirección de retiro: Av. Corrientes 1234"})),e.createElement("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement(Re,{className:"w-6 h-6 text-purple-400"}),e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Envío a Domicilio"),e.createElement("p",{className:"text-xs text-slate-500"},"Delivery estándar"))),e.createElement("button",{onClick:()=>x({...a,shippingDelivery:{...a?.shippingDelivery,enabled:!a?.shippingDelivery?.enabled}}),className:`w-14 h-8 rounded-full transition relative ${a?.shippingDelivery?.enabled?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${a?.shippingDelivery?.enabled?"left-7":"left-1"}`}))),a?.shippingDelivery?.enabled&&e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs text-slate-500 mb-1 block"},"Costo de Envío ($)"),e.createElement("input",{type:"number",className:"input-cyber w-full p-4",value:a?.shippingDelivery?.fee||0,onChange:t=>x({...a,shippingDelivery:{...a?.shippingDelivery,fee:parseFloat(t.target.value)||0}})})),e.createElement("div",null,e.createElement("label",{className:"text-xs text-slate-500 mb-1 block"},"Gratis desde ($)"),e.createElement("input",{type:"number",className:"input-cyber w-full p-4",value:a?.shippingDelivery?.freeAbove||0,onChange:t=>x({...a,shippingDelivery:{...a?.shippingDelivery,freeAbove:parseFloat(t.target.value)||0}}),placeholder:"0 = nunca gratis"}))))))),Ae==="seo"&&e.createElement("div",{className:"space-y-6 animate-fade-up"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(fs,{className:"w-5 h-5 text-green-400"})," Optimización SEO"),e.createElement("div",{className:"space-y-6"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Título del Sitio"),e.createElement("input",{className:"input-cyber w-full p-4",value:a?.seoTitle||"",onChange:t=>x({...a,seoTitle:t.target.value}),placeholder:"Mi Tienda Online | Los Mejores Productos"}),e.createElement("p",{className:"text-xs text-slate-500 mt-1"},"Aparece en la pestaña del navegador")),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Meta Descripción"),e.createElement("textarea",{className:"input-cyber w-full p-4 h-20 resize-none",value:a?.seoDescription||"",onChange:t=>x({...a,seoDescription:t.target.value}),placeholder:"Tienda online de productos de alta calidad. Envíos a todo el país. ¡Visitanos!"}),e.createElement("p",{className:"text-xs text-slate-500 mt-1"},"Descripción que aparece en Google (max 160 caracteres)")),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Palabras Clave"),e.createElement("input",{className:"input-cyber w-full p-4",value:a?.seoKeywords||"",onChange:t=>x({...a,seoKeywords:t.target.value}),placeholder:"tienda online, productos, ofertas, descuentos"}),e.createElement("p",{className:"text-xs text-slate-500 mt-1"},"Separadas por comas")),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"URL del Sitio (Canónica)"),e.createElement("input",{className:"input-cyber w-full p-4",value:a?.seoUrl||"",onChange:t=>x({...a,seoUrl:t.target.value}),placeholder:"https://mitienda.vercel.app"}),e.createElement("p",{className:"text-xs text-slate-500 mt-1"},"URL oficial de tu tienda (aparece en Google y redes sociales)")),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Autor / Empresa"),e.createElement("input",{className:"input-cyber w-full p-4",value:a?.seoAuthor||"",onChange:t=>x({...a,seoAuthor:t.target.value}),placeholder:"Mi Empresa S.A."}),e.createElement("p",{className:"text-xs text-slate-500 mt-1"},"Nombre que aparece como autor del sitio")),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Imagen para Redes Sociales (OG:Image)"),e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"relative group w-32 h-32 bg-slate-900 rounded-xl border-2 border-dashed border-slate-700 hover:border-orange-500 transition flex items-center justify-center overflow-hidden cursor-pointer"},a?.seoImage?e.createElement("img",{src:a.seoImage,alt:"SEO Preview",className:"w-full h-full object-cover"}):e.createElement(aa,{className:"w-8 h-8 text-slate-600 group-hover:text-orange-500 transition"}),e.createElement("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer z-50",onChange:t=>ut(t,x,"seoImage",1200)}),e.createElement("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition pointer-events-none"},e.createElement(Lo,{className:"w-6 h-6 text-white"}))),e.createElement("div",{className:"flex-1"},e.createElement("p",{className:"text-sm text-slate-400 mb-2"},"Sube una imagen atractiva (ej: logo con fondo, banner)."),e.createElement("p",{className:"text-xs text-slate-600"},"Recomendado: 1200x630 píxeles para mejor visualización en Facebook/WhatsApp."),a?.seoImage&&e.createElement("button",{onClick:()=>x({...a,seoImage:""}),className:"mt-2 text-xs text-red-400 hover:text-red-300 flex items-center gap-1"},e.createElement(de,{className:"w-3 h-3"})," Eliminar imagen")))),e.createElement("div",{className:"pt-4 border-t border-slate-800 grid grid-cols-2 gap-4"},e.createElement("a",{href:"/sitemap.xml",target:"_blank",className:"p-3 bg-slate-900 rounded-xl hover:bg-slate-800 transition flex items-center justify-between group"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-bold text-white"},"Ver Sitemap.xml"),e.createElement("p",{className:"text-xs text-green-500"},"Activo")),e.createElement(ho,{className:"w-4 h-4 text-slate-500 group-hover:text-white transition"})),e.createElement("a",{href:"/robots.txt",target:"_blank",className:"p-3 bg-slate-900 rounded-xl hover:bg-slate-800 transition flex items-center justify-between group"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-bold text-white"},"Ver Robots.txt"),e.createElement("p",{className:"text-xs text-green-500"},"Activo")),e.createElement(ho,{className:"w-4 h-4 text-slate-500 group-hover:text-white transition"})))))),Ae==="advanced"&&e.createElement("div",{className:"space-y-6 animate-fade-up"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(Co,{className:"w-5 h-5 text-slate-400"})," Configuración Avanzada"),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Modo Mantenimiento"),e.createElement("p",{className:"text-xs text-slate-500"},'Mostrar página de "Volvemos pronto"')),e.createElement("button",{onClick:()=>x({...a,maintenanceMode:!a?.maintenanceMode}),className:`w-14 h-8 rounded-full transition relative ${a?.maintenanceMode?"bg-red-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${a?.maintenanceMode?"left-7":"left-1"}`}))),e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800 space-y-4"},e.createElement("h4",{className:"text-sm font-bold text-orange-400 uppercase tracking-wider mb-2"},"Rendimiento & PWA"),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Carga Diferida (Lazy Load)"),e.createElement("p",{className:"text-xs text-slate-500"},"Mejora velocidad cargando imágenes al hacer scroll")),e.createElement("button",{onClick:()=>x({...a,enableLazyLoad:a?.enableLazyLoad===!1}),className:`w-14 h-8 rounded-full transition relative ${a?.enableLazyLoad!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${a?.enableLazyLoad!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Modo Offline (PWA)"),e.createElement("p",{className:"text-xs text-slate-500"},"Permite instalar la app y uso sin internet")),e.createElement("button",{onClick:()=>x({...a,enablePWA:a?.enablePWA===!1}),className:`w-14 h-8 rounded-full transition relative ${a?.enablePWA!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${a?.enablePWA!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:"pt-2 border-t border-slate-700"},e.createElement("button",{onClick:()=>{"caches"in window?caches.keys().then(t=>{t.forEach(s=>caches.delete(s)),c("Caché limpiada. Recargando...","success"),setTimeout(()=>window.location.reload(),1500)}):c("Tu navegador no soporta gestión de caché","warning")},className:"w-full py-2 px-4 bg-slate-800 hover:bg-slate-700 text-white rounded-lg text-sm font-medium transition flex items-center justify-center gap-2"},e.createElement(de,{className:"w-4 h-4"})," Forzar Limpieza de Caché y Recargar"),e.createElement("p",{className:"text-xs text-slate-500 mt-2 text-center"},"Usar si ves errores gráficos o versiones antiguas."))),e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",{className:"mb-3"},e.createElement("p",{className:"font-bold text-white"},"Texto de Carga"),e.createElement("p",{className:"text-xs text-slate-500"},"Mensaje que aparece mientras carga la página")),e.createElement("input",{className:"input-cyber w-full p-3",value:a?.loadingText||"",onChange:t=>x({...a,loadingText:t.target.value}),placeholder:"Cargando sistema..."})),e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Banner de Anuncio"),e.createElement("p",{className:"text-xs text-slate-500"},"Barra superior con mensaje promocional")),e.createElement("button",{onClick:()=>x({...a,showAnnouncementBanner:a?.showAnnouncementBanner===!1}),className:`w-14 h-8 rounded-full transition relative ${a?.showAnnouncementBanner!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${a?.showAnnouncementBanner!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Ticker de Marca"),e.createElement("p",{className:"text-xs text-slate-500"},"Texto en movimiento debajo del anuncio")),e.createElement("button",{onClick:()=>x({...a,showBrandTicker:a?.showBrandTicker===!1}),className:`w-14 h-8 rounded-full transition relative ${a?.showBrandTicker!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${a?.showBrandTicker!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Mostrar Stock Disponible"),e.createElement("p",{className:"text-xs text-slate-500"},"Los clientes ven cuántas unidades hay")),e.createElement("button",{onClick:()=>x({...a,showStockCount:a?.showStockCount===!1}),className:`w-14 h-8 rounded-full transition relative ${a?.showStockCount!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${a?.showStockCount!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Requerir Teléfono"),e.createElement("p",{className:"text-xs text-slate-500"},"Obligatorio al registrarse")),e.createElement("button",{onClick:()=>x({...a,requirePhone:a?.requirePhone===!1}),className:`w-14 h-8 rounded-full transition relative ${a?.requirePhone!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${a?.requirePhone!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Requerir DNI"),e.createElement("p",{className:"text-xs text-slate-500"},"Obligatorio al registrarse")),e.createElement("button",{onClick:()=>x({...a,requireDNI:a?.requireDNI===!1}),className:`w-14 h-8 rounded-full transition relative ${a?.requireDNI!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${a?.requireDNI!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Umbral de Stock Bajo"),e.createElement("p",{className:"text-xs text-slate-500"},"Alerta cuando el stock es menor a este valor"))),e.createElement("input",{type:"number",className:"input-cyber w-full p-4",value:a?.lowStockThreshold||5,onChange:t=>x({...a,lowStockThreshold:parseInt(t.target.value)||5})})))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(Tt,{className:"w-5 h-5 text-yellow-500"})," Personalización IA"),e.createElement("div",{className:"flex items-center gap-6"},e.createElement("div",{className:"relative group w-24 h-24 bg-slate-900 rounded-full border-2 border-dashed border-slate-700 hover:border-yellow-500 transition flex items-center justify-center overflow-hidden cursor-pointer shrink-0 shadow-xl"},a?.botImage?e.createElement("img",{src:a.botImage,alt:"Bot Preview",className:"w-full h-full object-cover"}):e.createElement(Tt,{className:"w-8 h-8 text-slate-600 group-hover:text-yellow-500 transition"}),e.createElement("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer z-50",onChange:t=>ut(t,x,"botImage",300)}),e.createElement("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition pointer-events-none"},e.createElement(Lo,{className:"w-6 h-6 text-white"}))),e.createElement("div",null,e.createElement("p",{className:"font-bold text-white text-base mb-1"},"Avatar del Asistente"),e.createElement("p",{className:"text-xs text-slate-500 mb-3 max-w-xs leading-relaxed"},"Sube una imagen personalizada para el bot (PNG/JPG). Se recomienda formato cuadrado."),a?.botImage?e.createElement("button",{onClick:()=>x({...a,botImage:""}),className:"text-xs bg-red-900/20 text-red-400 hover:bg-red-900/40 px-3 py-1.5 rounded-lg transition flex items-center gap-2 border border-red-500/20"},e.createElement(de,{className:"w-3 h-3"})," Restaurar Default"):e.createElement("span",{className:"text-xs text-yellow-600 bg-yellow-900/20 px-3 py-1 rounded-lg border border-yellow-700/30"},"Usando imagen por defecto")))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(fa,{className:"w-5 h-5 text-orange-400"})," Categorías de Productos"),e.createElement("div",{className:"flex flex-wrap gap-2 mb-4"},(a?.categories||[]).map((t,s)=>e.createElement("div",{key:s,className:"bg-slate-900 text-white px-4 py-2 rounded-lg flex items-center gap-2 border border-slate-700"},e.createElement("span",null,t),e.createElement("button",{onClick:()=>x({...a,categories:(a?.categories||[]).filter((r,l)=>l!==s)}),className:"text-red-400 hover:text-red-300"},e.createElement(ue,{className:"w-4 h-4"}))))),e.createElement("button",{onClick:()=>Bt(!0),className:"px-4 py-2 bg-orange-900/20 text-orange-400 rounded-lg font-bold text-sm border border-orange-500/30 hover:bg-orange-900/40 transition flex items-center gap-2"},e.createElement(Ie,{className:"w-4 h-4"})," Agregar Categoría"))),Ae==="team"&&e.createElement("div",{className:"space-y-6 animate-fade-up"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(xa,{className:"w-5 h-5 text-purple-400"})," Equipo y Accesos"),e.createElement("p",{className:"text-slate-500 mb-6"},"Gestiona los miembros del equipo, sus roles de acceso y participación en ganancias."),e.createElement("div",{className:"space-y-4 mb-6"},(a?.team||[]).map((t,s)=>e.createElement("div",{key:s,className:"flex flex-col md:flex-row md:items-center gap-4 bg-slate-900/50 p-6 rounded-2xl border border-slate-800"},e.createElement("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-lg flex-shrink-0"},t.name?.charAt(0)?.toUpperCase()||"?"),e.createElement("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-[10px] uppercase font-bold text-slate-500 mb-1 block"},"Nombre"),e.createElement("input",{className:"input-cyber w-full p-2 text-sm",value:t.name||"",onChange:r=>{let l=[...a?.team||[]];l[s]={...l[s],name:r.target.value},x({...a,team:l})},placeholder:"Nombre"})),e.createElement("div",null,e.createElement("label",{className:"text-[10px] uppercase font-bold text-slate-500 mb-1 block"},"Email (Acceso)"),e.createElement("input",{type:"email",className:`input-cyber w-full p-2 text-sm ${t.email===re?"opacity-50 cursor-not-allowed":""}`,value:t.email||"",onChange:r=>{let l=[...a?.team||[]];l[s]={...l[s],email:r.target.value},x({...a,team:l})},placeholder:"usuario@email.com",disabled:t.email===re})),e.createElement("div",null,e.createElement("label",{className:"text-[10px] uppercase font-bold text-slate-500 mb-1 block"},"Rol"),e.createElement("select",{className:`input-cyber w-full p-2 text-sm ${t.email===re?"opacity-50 cursor-not-allowed":""}`,value:t.role||"employee",onChange:r=>{let l=[...a?.team||[]];l[s]={...l[s],role:r.target.value},x({...a,team:l})},disabled:t.email===re},e.createElement("option",{value:"employee"},"Empleado"),e.createElement("option",{value:"admin"},"Admin"))),e.createElement("div",null,e.createElement("label",{className:"text-[10px] uppercase font-bold text-slate-500 mb-1 block"},"Total Invertido"),e.createElement("div",{className:"input-cyber w-full p-2 text-sm bg-slate-900/50 text-slate-400 flex items-center cursor-not-allowed"},"$ ",M.filter(r=>r.investor===t.name||r.investor===t.email).reduce((r,l)=>r+(Number(l.amount)||0),0).toLocaleString()))),t.email!==re&&e.createElement("button",{onClick:()=>x({...a,team:(a?.team||[]).filter((r,l)=>l!==s)}),className:"p-3 bg-red-900/20 text-red-400 hover:bg-red-900/40 rounded-xl transition flex-shrink-0",title:"Eliminar Miembro"},e.createElement(de,{className:"w-5 h-5"}))))),e.createElement("button",{onClick:()=>x({...a,team:[...a?.team||[],{name:"",email:"",role:"employee",investment:0}]}),className:"px-6 py-3 bg-purple-600 hover:bg-purple-500 text-white rounded-xl font-bold shadow-lg shadow-purple-600/30 flex items-center gap-2 transition"},e.createElement(jo,{className:"w-5 h-5"})," Agregar Nuevo Miembro"))),h?.email===re&&e.createElement("div",{className:"fixed bottom-8 right-8 z-50"},e.createElement("button",{onClick:async()=>{try{he(!0);let t=A(k,"artifacts",d,"public","data","settings","config");await at(t,a,{merge:!0}),c("Configuración guardada exitosamente","success")}catch(t){console.error(t),c("Error al guardar","error")}finally{he(!1)}},className:"px-8 py-4 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 text-white font-bold rounded-2xl shadow-2xl shadow-orange-900/30 flex items-center gap-3 transition transform hover:scale-105"},e.createElement(It,{className:"w-5 h-5"})," Guardar Cambios"))),dr&&e.createElement("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in-scale"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-700 p-8 rounded-[2.5rem] w-full max-w-lg shadow-2xl relative overflow-hidden flex flex-col max-h-[90vh]"},e.createElement("div",{className:"overflow-y-auto custom-scrollbar pr-2 pb-20"},e.createElement("h3",{className:"text-2xl font-black text-white mb-6 sticky top-0 bg-[#0a0a0a] py-2 z-10"},Va?"Editar":"Nuevo"," Proveedor"),e.createElement("div",{className:"space-y-4 mb-6"},e.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Nombre de la Empresa",value:ge.name,onChange:t=>nt({...ge,name:t.target.value})}),e.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Nombre del Contacto",value:ge.contact,onChange:t=>nt({...ge,contact:t.target.value})}),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Teléfono",value:ge.phone,onChange:t=>nt({...ge,phone:t.target.value})}),e.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Instagram (sin @)",value:ge.ig,onChange:t=>nt({...ge,ig:t.target.value})})),e.createElement("div",{className:"border-t border-slate-800 pt-6 mt-6"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3 block"},"Asignar Productos Suministrados"),e.createElement("div",{className:"h-48 overflow-y-auto bg-slate-900/50 rounded-xl p-2 border border-slate-800 custom-scrollbar"},I.length===0?e.createElement("p",{className:"text-center text-slate-600 text-xs py-4"},"Carga productos primero."):I.map(t=>e.createElement("div",{key:t.id,onClick:()=>{let s=ge.associatedProducts||[],r=s.includes(t.id);nt({...ge,associatedProducts:r?s.filter(l=>l!==t.id):[...s,t.id]})},className:`flex items-center gap-3 p-2 rounded-lg cursor-pointer mb-1 transition ${ge.associatedProducts?.includes(t.id)?"bg-orange-900/30 border border-orange-500/30":"hover:bg-slate-800 border border-transparent"}`},e.createElement("div",{className:"w-8 h-8 bg-white rounded p-0.5 flex-shrink-0"},e.createElement("img",{src:t.image,className:"w-full h-full object-contain"})),e.createElement("span",{className:"text-xs text-white truncate flex-1 font-medium"},t.name),ge.associatedProducts?.includes(t.id)&&e.createElement(Q,{className:"w-4 h-4 text-orange-400"}))))))),e.createElement("div",{className:"absolute bottom-0 left-0 w-full p-8 bg-gradient-to-t from-[#0a0a0a] via-[#0a0a0a] to-transparent flex gap-4"},e.createElement("button",{onClick:()=>Na(!1),className:"flex-1 py-4 text-slate-400 font-bold hover:text-white transition bg-slate-900 rounded-xl"},"Cancelar"),e.createElement("button",{onClick:al,className:"flex-1 py-4 bg-orange-600 hover:bg-orange-500 text-white rounded-xl font-bold shadow-lg transition"},"Guardar")))))):e.createElement(di,{onBack:()=>b("store")})),m==="privacy"&&e.createElement("div",{className:"max-w-4xl mx-auto py-20 px-6 animate-fade-up"},e.createElement("div",{className:"glass p-12 rounded-[3rem] border border-slate-800"},e.createElement("div",{className:"prose prose-invert max-w-none"},e.createElement("h1",{className:"text-5xl font-black mb-12 tracking-tighter italic"},"Política de ",e.createElement("span",{className:"text-orange-500 text-6xl"},"Privacidad")),e.createElement("p",{className:"text-slate-400 text-lg leading-relaxed"},"En ",e.createElement("strong",null,a?.storeName||"SUSTORE"),", valoramos tu privacidad y nos comprometemos a proteger tus datos personales. Esta política describe cómo recolectamos, usamos y resguardamos tu información."),e.createElement("h2",{className:"text-2xl font-bold text-white mt-12 mb-6"},"1. Información Recolectada"),e.createElement("p",{className:"text-slate-500 leadind-relaxed"},"Recolectamos datos básicos como nombre, correo electrónico y número de teléfono únicamente cuando te registras o realizas un pedido para procesar tu compra correctamente."),e.createElement("h2",{className:"text-2xl font-bold text-white mt-12 mb-6"},"2. Uso de los Datos"),e.createElement("p",{className:"text-slate-500 leadind-relaxed"},"Tu información se utiliza exclusivamente para:"),e.createElement("ul",{className:"list-disc pl-6 text-slate-500 space-y-2"},e.createElement("li",null,"Gestionar tus pedidos y entregas."),e.createElement("li",null,"Enviar actualizaciones sobre el estado de tu compra."),e.createElement("li",null,"Mejorar nuestros servicios y experiencia de usuario.")),e.createElement("h2",{className:"text-2xl font-bold text-white mt-12 mb-6"},"3. Seguridad"),e.createElement("p",{className:"text-slate-500 leadind-relaxed"},"Implementamos medidas de seguridad robustas y encriptación de datos para asegurar que tu información esté protegida contra accesos no autorizados."),e.createElement("h2",{className:"text-2xl font-bold text-white mt-12 mb-6"},"4. Contacto"),e.createElement("p",{className:"text-slate-500 leadind-relaxed mb-12"},"Si tienes dudas sobre nuestra política de privacidad, contáctanos a ",e.createElement("span",{className:"text-orange-400"},a?.storeEmail||"soporte@tuempresa.com"),"."),e.createElement("button",{onClick:()=>b("store"),className:"px-10 py-4 bg-slate-900 hover:bg-slate-800 text-white rounded-2xl font-bold transition flex items-center gap-3 border border-slate-700"},e.createElement(ot,{className:"w-5 h-5"})," Volver a la Tienda")))),m==="terms"&&e.createElement("div",{className:"max-w-4xl mx-auto py-10 sm:py-20 px-3 sm:px-6 animate-fade-up"},e.createElement("div",{className:"glass p-5 sm:p-8 md:p-12 rounded-2xl sm:rounded-[3rem] border border-slate-800"},e.createElement("div",{className:"prose prose-invert max-w-none"},e.createElement("h1",{className:"text-3xl sm:text-5xl font-black mb-8 sm:mb-12 tracking-tighter italic"},"Condiciones de ",e.createElement("span",{className:"text-orange-500 text-4xl sm:text-6xl"},"Uso")),e.createElement("p",{className:"text-slate-400 font-bold mb-8"},"Última actualización: 07 de enero de 2026"),e.createElement("h3",{className:"text-xl font-bold text-white mt-8 mb-4"},"ACUERDO CON NUESTROS TÉRMINOS LEGALES"),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"Nosotros somos ",e.createElement("strong",null,a?.storeName||"Sustore"),' ("',e.createElement("strong",null,"Empresa"),'", "',e.createElement("strong",null,"nosotros"),'", "',e.createElement("strong",null,"nos"),'", "',e.createElement("strong",null,"nuestro"),'").'),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"Operamos el sitio web ",e.createElement("a",{href:"https://sustore.vercel.app",className:"text-orange-400 hover:underline"},"https://sustore.vercel.app"),' (el "',e.createElement("strong",null,"Sitio"),'"), así como cualquier otro producto y servicio relacionado que haga referencia o se vincule con estos términos legales (los "',e.createElement("strong",null,"Términos Legales"),'") (colectivamente, los "',e.createElement("strong",null,"Servicios"),'").'),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"Puede contactarnos por correo electrónico a la dirección proporcionada al final de este documento."),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},'Estos Términos Legales constituyen un acuerdo legalmente vinculante celebrado entre usted, ya sea personalmente o en nombre de una entidad ("',e.createElement("strong",null,"usted"),'"), y Sustore, en relación con su acceso y uso de los Servicios. Usted acepta que al acceder a los Servicios, ha leído, comprendido y aceptado estar sujeto a todos estos Términos Legales. ',e.createElement("strong",{className:"text-red-400"},"SI NO ESTÁ DE ACUERDO CON TODOS ESTOS TÉRMINOS LEGALES, ENTONCES TIENE EXPRESAMENTE PROHIBIDO UTILIZAR LOS SERVICIOS Y DEBE DEJAR DE UTILIZARLOS INMEDIATAMENTE.")),e.createElement("div",{className:"bg-slate-900/50 p-8 rounded-3xl border border-slate-800 my-10"},e.createElement("h3",{className:"text-lg font-black text-white uppercase tracking-widest mb-6"},"ÍNDICE"),e.createElement("ul",{className:"space-y-2 text-sm text-orange-400 font-medium"},e.createElement("li",null,e.createElement("a",{href:"#section1",className:"hover:text-orange-300 transition"},"1. NUESTROS SERVICIOS")),e.createElement("li",null,e.createElement("a",{href:"#section2",className:"hover:text-orange-300 transition"},"2. DERECHOS DE PROPIEDAD INTELECTUAL")),e.createElement("li",null,e.createElement("a",{href:"#section3",className:"hover:text-orange-300 transition"},"3. REPRESENTACIONES DE USUARIOS")),e.createElement("li",null,e.createElement("a",{href:"#section4",className:"hover:text-orange-300 transition"},"4. ACTIVIDADES PROHIBIDAS")),e.createElement("li",null,e.createElement("a",{href:"#section5",className:"hover:text-orange-300 transition"},"5. CONTRIBUCIONES GENERADAS POR EL USUARIO")),e.createElement("li",null,e.createElement("a",{href:"#section6",className:"hover:text-orange-300 transition"},"6. LICENCIA DE CONTRIBUCIÓN")),e.createElement("li",null,e.createElement("a",{href:"#section7",className:"hover:text-orange-300 transition"},"7. GESTIÓN DE SERVICIOS")),e.createElement("li",null,e.createElement("a",{href:"#section8",className:"hover:text-orange-300 transition"},"8. PLAZO Y TERMINACIÓN")),e.createElement("li",null,e.createElement("a",{href:"#section9",className:"hover:text-orange-300 transition"},"9. MODIFICACIONES E INTERRUPCIONES")),e.createElement("li",null,e.createElement("a",{href:"#section10",className:"hover:text-orange-300 transition"},"10. LEY APLICABLE")),e.createElement("li",null,e.createElement("a",{href:"#section11",className:"hover:text-orange-300 transition"},"11. RESOLUCIÓN DE DISPUTAS")),e.createElement("li",null,e.createElement("a",{href:"#section12",className:"hover:text-orange-300 transition"},"12. CORRECCIONES")),e.createElement("li",null,e.createElement("a",{href:"#section13",className:"hover:text-orange-300 transition"},"13. DESCARGO DE RESPONSABILIDAD")),e.createElement("li",null,e.createElement("a",{href:"#section14",className:"hover:text-orange-300 transition"},"14. LIMITACIONES DE RESPONSABILIDAD")),e.createElement("li",null,e.createElement("a",{href:"#section15",className:"hover:text-orange-300 transition"},"15. INDEMNIZACIÓN")),e.createElement("li",null,e.createElement("a",{href:"#section16",className:"hover:text-orange-300 transition"},"16. DATOS DEL USUARIO")),e.createElement("li",null,e.createElement("a",{href:"#section17",className:"hover:text-orange-300 transition"},"17. COMUNICACIONES ELECTRÓNICAS")),e.createElement("li",null,e.createElement("a",{href:"#section18",className:"hover:text-orange-300 transition"},"18. VARIOS")),e.createElement("li",null,e.createElement("a",{href:"#section19",className:"hover:text-orange-300 transition"},"19. CONTÁCTENOS")))),e.createElement("section",{id:"section1",className:"mb-12"},e.createElement("h2",{className:"text-2xl font-bold text-white mb-4"},"1. NUESTROS SERVICIOS"),e.createElement("p",{className:"text-slate-500 leading-relaxed"},"La información proporcionada al utilizar los Servicios no está destinada a ser distribuida o utilizada por ninguna persona o entidad en ninguna jurisdicción o país donde dicha distribución o uso sería contrario a la ley o regulación o que nos sometería a cualquier requisito de registro dentro de dicha jurisdicción o país. En consecuencia, aquellas personas que eligen acceder a los Servicios desde otras ubicaciones lo hacen por iniciativa propia y son las únicas responsables del cumplimiento de las leyes locales, si y en la medida en que sean aplicables.")),e.createElement("section",{id:"section2",className:"mb-12"},e.createElement("h2",{className:"text-2xl font-bold text-white mb-4"},"2. DERECHOS DE PROPIEDAD INTELECTUAL"),e.createElement("h3",{className:"text-lg font-bold text-white mt-6 mb-2"},"Nuestra propiedad intelectual"),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},'Somos propietarios o licenciatarios de todos los derechos de propiedad intelectual de nuestros Servicios, incluido todo el código fuente, bases de datos, funcionalidad, software, diseños de sitios web, audio, video, texto, fotografías y gráficos de los Servicios (colectivamente, el "Contenido"), así como las marcas comerciales, marcas de servicio y logotipos contenidos en ellas (las "Marcas").'),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"Nuestro Contenido y Marcas están protegidos por leyes de derechos de autor y marcas registradas (y varias otras leyes de derechos de propiedad intelectual y competencia desleal) y tratados alrededor del mundo."),e.createElement("p",{className:"text-slate-500 leading-relaxed"},'El Contenido y las Marcas se proporcionan en o a través de los Servicios "TAL CUAL" para su uso personal, no comercial o finalidad empresarial interna.'),e.createElement("h3",{className:"text-lg font-bold text-white mt-6 mb-2"},"Su uso de nuestros Servicios"),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},'Sujeto a su cumplimiento de estos Términos Legales, incluidos los "ACTIVIDADES PROHIBIDAS" en la sección siguiente, le otorgamos un contrato no exclusivo, intransferible y revocable licencia para:'),e.createElement("ul",{className:"list-disc pl-6 text-slate-500 space-y-2 mb-4"},e.createElement("li",null,"acceder a los Servicios; y"),e.createElement("li",null,"descargar o imprimir una copia de cualquier parte del Contenido al que haya obtenido acceso correctamente,")),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"únicamente para tu uso personal, no comercial o finalidad empresarial interna."),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"Salvo lo establecido en esta sección o en otra parte de nuestros Términos Legales, ninguna parte de los Servicios ni ningún Contenido o Marca podrán copiarse ni reproducirse, agregado, republicado, cargado, publicado, mostrado públicamente, codificado, traducido, transmitido, distribuido, vendido, licenciado o explotado de otro modo para cualquier fin comercial, sin nuestro expreso previo escrito permiso."),e.createElement("p",{className:"text-slate-500 leading-relaxed"},"Si desea hacer algún uso de los Servicios, Contenido o Marcas que no sea el establecido en esta sección o en otra parte de nuestros Términos Legales, dirija su solicitud a nuestro correo de contacto.")),e.createElement("section",{id:"section3",className:"mb-12"},e.createElement("h2",{className:"text-2xl font-bold text-white mb-4"},"3. REPRESENTACIONES DE USUARIOS"),e.createElement("p",{className:"text-slate-500 leading-relaxed"},"Al utilizar los Servicios, usted declara y garantiza que: (1) usted tiene la capacidad legal y acepta cumplir con estos Términos Legales; (2) no eres un menor de edad en la jurisdicción en la que usted reside; (3) no accederás a los Servicios a través de medios automatizados o no humanos, ya sea a través de un bot, script o de otro modo; (4) no utilizará los Servicios para ninguna actividad ilegal o no autorizado propósito; y (5) su uso de los Servicios no violará ninguna ley o regulación aplicable.")),e.createElement("section",{id:"section4",className:"mb-12"},e.createElement("h2",{className:"text-2xl font-bold text-white mb-4"},"4. ACTIVIDADES PROHIBIDAS"),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"No puede acceder ni utilizar los Servicios para ningún otro propósito que no sea aquel para el cual los ponemos a disposición. Los Servicios no podrán utilizarse en relación con ningún negocio comercial esfuerzo excepto aquellos que estén específicamente respaldados o aprobados por nosotros."),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"Como usuario de los Servicios, usted acepta no:"),e.createElement("ul",{className:"list-disc pl-6 text-slate-500 space-y-2"},e.createElement("li",null,"Recuperar sistemáticamente datos u otro contenido de los Servicios para crear o compilar, directa o indirectamente, una colección, compilación, base de datos o directorio sin nuestro permiso por escrito."),e.createElement("li",null,"Engañarnos, defraudarnos o engañarnos a nosotros y a otros usuarios, especialmente en cualquier intento de obtener información confidencial de la cuenta, como las contraseñas de los usuarios."),e.createElement("li",null,"Eludir, deshabilitar o interferir de otro modo con las características relacionadas con la seguridad de los Servicios."),e.createElement("li",null,"Menospreciar, empañar o dañar de otro modo, en nuestra opinión, a nosotros y/o a los Servicios."),e.createElement("li",null,"Utilizar cualquier información obtenida de los Servicios para acosar, abusar o dañar a otra persona."),e.createElement("li",null,"Hacer un uso indebido de nuestros servicios de soporte o presentar informes falsos de abuso o mala conducta."),e.createElement("li",null,"Utilice los Servicios de una manera incompatible con las leyes o regulaciones aplicables."))),e.createElement("section",{id:"section13",className:"mb-12"},e.createElement("h2",{className:"text-2xl font-bold text-white mb-4"},"13. DESCARGO DE RESPONSABILIDAD"),e.createElement("p",{className:"text-slate-500 leading-relaxed text-xs uppercase tracking-wide border-l-4 border-red-500/50 pl-4 py-2 bg-red-900/5"},"LOS SERVICIOS SE PRESTAN TAL CUAL Y SEGÚN ESTÉ DISPONIBLE. USTED ACEPTA QUE SU USO DE LOS SERVICIOS SERÁ BAJO SU PROPIO RIESGO. EN LA MÁXIMA MEDIDA PERMITIDA POR LA LEY, RENUNCIAMOS A TODAS LAS GARANTÍAS, EXPRESAS O IMPLÍCITAS, EN RELACIÓN CON LOS SERVICIOS Y SU USO DE LOS MISMOS.")),e.createElement("section",{id:"section19",className:"mb-12"},e.createElement("h2",{className:"text-2xl font-bold text-white mb-4"},"19. CONTÁCTENOS"),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"Para resolver una queja con respecto a los Servicios o para recibir más información sobre el uso de los Servicios, contáctenos en:"),e.createElement("p",{className:"text-2xl font-black text-orange-400"},a?.storeEmail||"soporte@tuempresa.com")),e.createElement("button",{onClick:()=>b("store"),className:"px-10 py-4 bg-slate-900 hover:bg-slate-800 text-white rounded-2xl font-bold transition flex items-center gap-3 border border-slate-700 mt-12"},e.createElement(ot,{className:"w-5 h-5"})," Volver a la Tienda"))))),m!=="admin"&&m!=="login"&&m!=="register"&&e.createElement("footer",{className:`pt-16 pb-8 relative overflow-hidden transition-colors duration-300 border-t ${o?"bg-[#050505] border-slate-900":"bg-slate-100 border-slate-200"}`},e.createElement("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-orange-500/30 to-transparent"}),e.createElement("div",{className:`absolute -top-40 -right-40 w-96 h-96 rounded-full blur-[100px] pointer-events-none ${o?"bg-blue-900/5":"bg-blue-500/5"}`}),e.createElement("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6 md:px-12 grid grid-cols-1 md:grid-cols-4 gap-8 sm:gap-12 mb-10 sm:mb-16 relative z-10"},e.createElement("div",{className:"md:col-span-2 space-y-6"},e.createElement("h2",{className:`text-3xl font-black tracking-tighter italic ${o?"text-white":"text-slate-900"}`},ye&&a?.storeName||"",e.createElement("span",{className:"text-orange-500"},a?.footerSuffix||".SF")),e.createElement("p",{className:`max-w-sm leading-relaxed text-sm ${o?"text-slate-500":"text-slate-600"}`},a?.footerDescription||"Tu destino premium para tecnología de vanguardia. Ofrecemos los mejores productos con garantía y soporte especializado. Elevamos tu experiencia digital."),e.createElement("div",{className:"flex gap-3 pt-2 flex-wrap"},a?.showInstagram!==!1&&a?.instagramLink&&e.createElement("button",{onClick:()=>window.open(a?.instagramLink,"_blank"),className:`p-2 rounded-lg transition border ${o?"bg-slate-900 text-slate-400 border-slate-800 hover:text-pink-400 hover:bg-pink-900/10 hover:border-pink-500/30":"bg-white text-slate-500 border-slate-200 hover:text-pink-600 hover:bg-pink-50 hover:border-pink-300"}`},e.createElement(Ta,{className:"w-5 h-5"})),a?.showWhatsapp===!0&&a?.whatsappLink&&e.createElement("button",{onClick:()=>window.open(a?.whatsappLink,"_blank"),className:`p-2 rounded-lg transition border ${o?"bg-slate-900 text-slate-400 border-slate-800 hover:text-green-400 hover:bg-green-900/10 hover:border-green-500/30":"bg-white text-slate-500 border-slate-200 hover:text-green-600 hover:bg-green-50 hover:border-green-300"}`},e.createElement(At,{className:"w-5 h-5"})),a?.showFacebook&&a?.facebookLink&&e.createElement("button",{onClick:()=>window.open(a?.facebookLink,"_blank"),className:`p-2 rounded-lg transition border ${o?"bg-slate-900 text-slate-400 border-slate-800 hover:text-blue-400 hover:bg-blue-900/10 hover:border-blue-500/30":"bg-white text-slate-500 border-slate-200 hover:text-blue-600 hover:bg-blue-50 hover:border-blue-300"}`},e.createElement(So,{className:"w-5 h-5"})),a?.showTwitter&&a?.twitterLink&&e.createElement("button",{onClick:()=>window.open(a?.twitterLink,"_blank"),className:`p-2 rounded-lg transition border ${o?"bg-slate-900 text-slate-400 border-slate-800 hover:text-sky-400 hover:bg-sky-900/10 hover:border-sky-500/30":"bg-white text-slate-500 border-slate-200 hover:text-sky-600 hover:bg-sky-50 hover:border-sky-300"}`},e.createElement($o,{className:"w-5 h-5"})),a?.showTiktok&&a?.tiktokLink&&e.createElement("button",{onClick:()=>window.open(a?.tiktokLink,"_blank"),className:`p-2 rounded-lg transition border ${o?"bg-slate-900 text-slate-400 border-slate-800 hover:text-rose-400 hover:bg-rose-900/10 hover:border-rose-500/30":"bg-white text-slate-500 border-slate-200 hover:text-rose-600 hover:bg-rose-50 hover:border-rose-300"}`},e.createElement(Eo,{className:"w-5 h-5"})),a?.showYoutube&&a?.youtubeLink&&e.createElement("button",{onClick:()=>window.open(a?.youtubeLink,"_blank"),className:`p-2 rounded-lg transition border ${o?"bg-slate-900 text-slate-400 border-slate-800 hover:text-red-400 hover:bg-red-900/10 hover:border-red-500/30":"bg-white text-slate-500 border-slate-200 hover:text-red-600 hover:bg-red-50 hover:border-red-300"}`},e.createElement(Po,{className:"w-5 h-5"})))),e.createElement("div",{className:"space-y-6"},e.createElement("h3",{className:`font-bold uppercase tracking-widest text-xs ${o?"text-white":"text-slate-900"}`},"Enlaces Rápidos"),e.createElement("ul",{className:`space-y-3 text-sm font-medium ${o?"text-slate-500":"text-slate-600"}`},e.createElement("li",null,e.createElement("button",{onClick:()=>b("store"),className:"hover:text-orange-500 transition flex items-center gap-2 group"},e.createElement("span",{className:"w-0 group-hover:w-2 h-px bg-orange-500 transition-all duration-300"})," Inicio")),e.createElement("li",null,e.createElement("button",{onClick:()=>b("profile"),className:"hover:text-orange-500 transition flex items-center gap-2 group"},e.createElement("span",{className:"w-0 group-hover:w-2 h-px bg-orange-500 transition-all duration-300"})," Mi Cuenta")),e.createElement("li",null,e.createElement("button",{onClick:()=>b("guide"),className:"hover:text-orange-500 transition flex items-center gap-2 group"},e.createElement("span",{className:"w-0 group-hover:w-2 h-px bg-orange-500 transition-all duration-300"})," Ayuda & Soporte")))),a?.showFooterContact!==!1&&e.createElement("div",{className:"space-y-6"},e.createElement("h3",{className:`font-bold uppercase tracking-widest text-xs ${o?"text-white":"text-slate-900"}`},a?.footerContactTitle||"Contacto"),e.createElement("p",{className:`text-sm leading-relaxed mb-4 ${o?"text-slate-500":"text-slate-600"}`},a?.footerContactDescription||"¿Tienes alguna duda? Estamos aquí para ayudarte."),e.createElement("button",{onClick:()=>{let t=a?.footerContactType||"whatsapp";t==="whatsapp"&&a?.whatsappLink?window.open(a.whatsappLink,"_blank"):t==="instagram"&&a?.instagramLink?window.open(a.instagramLink,"_blank"):t==="email"&&a?.storeEmail&&window.open(`https://mail.google.com/mail/?view=cm&fs=1&to=${a.storeEmail}`,"_blank")},className:`px-6 py-3 rounded-xl text-sm font-bold transition w-full md:w-auto border ${o?"bg-orange-900/10 text-orange-400 border-orange-500/20 hover:bg-orange-500 hover:text-white":"bg-orange-50 text-orange-600 border-orange-200 hover:bg-orange-500 hover:text-white hover:border-orange-500"}`},a?.footerContactButtonText||"Contactar Soporte"))),e.createElement("div",{className:`border-t transition-colors duration-300 ${o?"border-slate-900 bg-[#020202]":"border-slate-200 bg-slate-200/50"}`},e.createElement("div",{className:"max-w-[1400px] mx-auto px-6 md:px-12 py-6 flex flex-col md:flex-row justify-between items-center gap-4"},e.createElement("p",{className:`text-xs font-mono ${o?"text-slate-600":"text-slate-500"}`},"© 2026 Sustore. Todos los derechos reservados."),e.createElement("div",{className:"flex gap-6"},a?.showPrivacyPolicy!==!1&&e.createElement("span",{onClick:()=>b("privacy"),className:`text-xs font-bold uppercase tracking-wider cursor-pointer hover:text-orange-500 transition underline underline-offset-4 ${o?"text-slate-700 decoration-slate-900":"text-slate-500 decoration-slate-300"}`},"Privacy Policy"),a?.showTermsOfService!==!1&&e.createElement("span",{onClick:()=>b("terms"),className:`text-xs font-bold uppercase tracking-wider cursor-pointer hover:text-orange-500 transition underline underline-offset-4 ${o?"text-slate-700 decoration-slate-900":"text-slate-500 decoration-slate-300"}`},"Terms of Service"))))),Us&&e.createElement("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/90 backdrop-blur-md animate-fade-in-scale p-4"},e.createElement("div",{className:"glass p-8 rounded-[2rem] max-w-md w-full border border-orange-800 shadow-2xl"},e.createElement("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-6 mx-auto bg-orange-900/20 text-orange-500"},e.createElement(fa,{className:"w-8 h-8"})),e.createElement("h3",{className:"text-2xl font-black text-center mb-6 text-white"},"Nueva Categoría"),e.createElement("input",{type:"text",value:$a,onChange:t=>Za(t.target.value),className:"input-cyber w-full p-4 mb-6",placeholder:"Nombre de la categoría",autoFocus:!0}),e.createElement("div",{className:"flex gap-3"},e.createElement("button",{onClick:()=>{Za(""),Bt(!1)},className:"flex-1 py-3 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-xl font-bold transition"},"Cancelar"),e.createElement("button",{onClick:rl,className:"flex-1 py-3 bg-orange-600 hover:bg-orange-500 text-white rounded-xl font-bold transition shadow-lg shadow-orange-600/30"},"Crear")))),Js&&e.createElement("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/90 backdrop-blur-md animate-fade-in-scale p-4"},e.createElement("div",{className:"glass p-8 rounded-[2rem] max-w-md w-full border border-green-900 shadow-2xl"},e.createElement("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-6 mx-auto bg-green-900/20 text-green-500"},e.createElement(ja,{className:"w-8 h-8"})),e.createElement("h3",{className:"text-2xl font-black text-center mb-2 text-white"},"Venta Manual"),e.createElement("p",{className:"text-center text-slate-400 mb-6"},I.find(t=>t.id===z.productId)?.name),e.createElement("div",{className:"space-y-4 mb-8"},e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-1 block"},"Cantidad"),e.createElement("input",{type:"number",className:"input-cyber w-full p-3",value:z.quantity,onChange:t=>Ze({...z,quantity:parseInt(t.target.value)||1}),min:"1"})),e.createElement("div",null,e.createElement("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-1 block"},"Precio Unit."),e.createElement("input",{type:"number",className:"input-cyber w-full p-3",value:z.price,onChange:t=>Ze({...z,price:parseFloat(t.target.value)||0})}))),e.createElement("div",null,e.createElement("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-1 block"},"Método de Pago"),e.createElement("select",{className:"input-cyber w-full p-3",value:z.paymentMethod,onChange:t=>Ze({...z,paymentMethod:t.target.value})},e.createElement("option",{value:"Efectivo"},"Efectivo"),e.createElement("option",{value:"Transferencia"},"Transferencia"),e.createElement("option",{value:"Tarjeta"},"Tarjeta"))),e.createElement("div",{className:"bg-slate-900 p-4 rounded-xl flex justify-between items-center border border-slate-800"},e.createElement("span",{className:"text-slate-400 font-bold"},"Total:"),e.createElement("span",{className:"text-2xl font-black text-green-400"},"$",(z.quantity*z.price).toLocaleString()))),e.createElement("div",{className:"flex gap-3"},e.createElement("button",{onClick:()=>Vt(!1),className:"flex-1 py-3 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-xl font-bold transition"},"Cancelar"),e.createElement("button",{onClick:Er,disabled:vt,className:"flex-1 py-3 bg-green-600 hover:bg-green-500 text-white rounded-xl font-bold transition shadow-lg shadow-green-600/30 flex items-center justify-center gap-2"},vt?e.createElement(Et,{className:"w-5 h-5 animate-spin"}):e.createElement(Q,{className:"w-5 h-5"}),"Confirmar")))),a?.showFloatingWhatsapp&&a?.whatsappLink&&["business","premium"].includes(a?.subscriptionPlan)&&m!=="admin"&&e.createElement("button",{onClick:()=>window.open(a.whatsappLink,"_blank"),className:"fixed bottom-24 right-6 z-50 p-4 bg-green-500 rounded-full shadow-[0_0_20px_rgba(34,197,94,0.4)] hover:scale-110 hover:shadow-[0_0_30px_rgba(34,197,94,0.6)] transition-all animate-bounce-slow",title:"Chatea con nosotros"},e.createElement(At,{className:"w-8 h-8 text-white fill-white"})),e.createElement(xl,null),Cr&&e.createElement(ni,{settings:a,onClose:()=>Ht(!1)}),!1,e.createElement(ai,{isOpen:Z.isOpen,title:Z.title,message:Z.message,onConfirm:Z.onConfirm,onCancel:Z.onCancel||(()=>T(t=>({...t,isOpen:!1}))),isDangerous:!0,darkMode:o}),e.createElement(ri,{isOpen:Us,onClose:()=>Bt(!1),categories:a?.categories||[],onAdd:t=>x({...a,categories:[...a?.categories||[],t]}),onRemove:t=>x({...a,categories:(a?.categories||[]).filter(s=>s!==t)}),darkMode:o}),e.createElement(yl,{fallback:null},e.createElement(Cl,{settings:a,products:I,addToCart:(t,s=1)=>pt(t,s),controlPanel:{setDarkMode:ce,openCart:()=>b("cart")},coupons:_t,appId:d})))}var ni=({settings:m,onClose:b})=>{let[y,S]=e.useState(null),[$,U]=e.useState(null),M={purple:{iconBg:"bg-purple-600",iconText:"text-purple-400",price:"text-purple-400",check:"text-purple-500",activeBg:"bg-purple-500",activeBorder:"border-purple-400",gradient:"from-purple-900/40 to-slate-900",border:"border-purple-500/50"},orange:{iconBg:"bg-orange-600",iconText:"text-orange-400",price:"text-orange-400",check:"text-orange-500",activeBg:"bg-orange-500",activeBorder:"border-orange-400",gradient:"from-orange-900/40 to-slate-900",border:"border-orange-500/50"},yellow:{iconBg:"bg-yellow-500",iconText:"text-yellow-400",price:"text-yellow-400",check:"text-yellow-500",activeBg:"bg-yellow-500",activeBorder:"border-yellow-400",gradient:"from-yellow-900/40 to-slate-900",border:"border-yellow-500/50"}};return e.createElement("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/95 backdrop-blur-xl animate-fade-in-scale p-2 sm:p-4 overflow-hidden"},e.createElement("div",{className:"bg-gradient-to-b from-[#0d0d0d] to-[#050505] relative w-full h-full sm:h-auto sm:max-h-[95vh] sm:max-w-5xl sm:rounded-3xl border-0 sm:border sm:border-slate-800/50 shadow-2xl flex flex-col overflow-hidden"},e.createElement("div",{className:"flex justify-between items-center p-4 sm:p-6 border-b border-slate-800/50 shrink-0"},e.createElement("div",null,e.createElement("h2",{className:"text-xl sm:text-3xl font-black text-white flex items-center gap-2 sm:gap-3"},e.createElement(Be,{className:"w-6 h-6 sm:w-8 sm:h-8 text-yellow-500 fill-current"})," Planes Disponibles"),e.createElement("p",{className:"text-slate-500 text-xs sm:text-sm mt-1"},"Elegí un plan y seleccioná tu forma de pago")),e.createElement("button",{onClick:b,className:"p-2 sm:p-3 bg-slate-800 hover:bg-slate-700 rounded-full text-white transition-all hover:rotate-90"},e.createElement(ue,{className:"w-5 h-5 sm:w-6 sm:h-6"}))),e.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 sm:p-6"},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-5"},[{id:"entrepreneur",name:"Plan Emprendedor",emoji:"🏪",subtitle:"El impulso que tu negocio necesita para despegar.",price:"$7.000",features:["📦 Carga de hasta 30 productos","💳 Integración con Mercado Pago","🔥 1 Promoción activa","📊 Panel de Control completo","📧 Soporte técnico vía Gmail"],cycles:[{id:"weekly",label:"Semanal",price:"$2.000",sub:"Flexibilidad total"},{id:"monthly",label:"Mensual",price:"$7.000",sub:"Opción equilibrada"},{id:"annual",label:"Anual",price:"$70.000",sub:"🎁 2 MESES GRATIS"}],color:"orange",icon:sa},{id:"business",name:"Plan Negocio",emoji:"🚀",subtitle:"Para marcas con identidad que buscan escalar.",price:"$13.000",popular:!0,features:["📦 Hasta 50 productos","🔥 5 Promociones simultáneas","🎫 Sistema de cupones","📊 Analítica de clientes","📲 Botón WhatsApp flotante","🎠 Carrusel de Banners"],cycles:[{id:"weekly",label:"Semanal",price:"$4.000",sub:"Flexibilidad total"},{id:"monthly",label:"Mensual",price:"$13.000",sub:"Equilibrio perfecto"},{id:"annual",label:"Anual",price:"$117.000",sub:"🎁 3 MESES GRATIS"}],color:"purple",icon:Fo},{id:"premium",name:"Plan Premium",emoji:"💎",subtitle:"Automatización total y cero preocupaciones.",price:"$22.000",features:["🚀 Productos ilimitados","🤖 Asistente IA 24/7","✨ Carga VIP (10 productos)","🛠️ Mantenimiento mensual","📲 Omnicanalidad total"],cycles:[{id:"weekly",label:"Semanal",price:"$6.500",sub:"Flexibilidad total"},{id:"monthly",label:"Mensual",price:"$22.000",sub:"Equilibrio perfecto"},{id:"annual",label:"Anual",price:"$198.000",sub:"🎁 3 MESES GRATIS"}],color:"yellow",icon:Tt}].map(_=>{let W=y===_.id,Z=m?.subscriptionPlan===_.id||!m?.subscriptionPlan&&_.id==="entrepreneur",T=_.icon,B=M[_.color];return e.createElement("div",{key:_.id,onClick:()=>S(W?null:_.id),className:`relative rounded-2xl sm:rounded-3xl border-2 transition-all duration-300 overflow-hidden cursor-pointer flex flex-col
                                        ${W?`bg-gradient-to-b ${B.gradient} ${B.border} shadow-xl scale-[1.01]`:"bg-[#111] border-slate-800 hover:border-slate-600"}`},_.popular&&e.createElement("div",{className:"absolute top-0 right-0 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-[10px] font-black px-3 py-1 rounded-bl-xl"},"POPULAR"),Z&&e.createElement("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 bg-white/10 backdrop-blur text-white text-[10px] font-bold px-3 py-1 rounded-b-lg border border-white/20"},"✓ TU PLAN"),e.createElement("div",{className:"p-4 sm:p-5 flex-1 flex flex-col"},e.createElement("div",{className:"flex items-center gap-3 mb-3"},e.createElement("div",{className:`p-2.5 sm:p-3 rounded-xl ${B.iconBg} shadow-lg`},e.createElement(T,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})),e.createElement("div",null,e.createElement("h3",{className:"text-lg sm:text-xl font-black text-white"},_.name),e.createElement("p",{className:"text-[11px] sm:text-xs text-slate-500"},_.subtitle))),e.createElement("div",{className:`text-2xl sm:text-3xl font-black ${B.price} mb-4`},_.price," ",e.createElement("span",{className:"text-sm text-slate-500 font-normal"},"/mes")),e.createElement("div",{className:"space-y-2 mb-4 flex-1"},_.features.map((j,xe)=>e.createElement("div",{key:xe,className:"flex items-start gap-2 text-xs sm:text-sm text-slate-300"},e.createElement(Q,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 ${B.check} shrink-0 mt-0.5`}),e.createElement("span",null,j)))),e.createElement("button",{className:`w-full py-2 text-xs font-bold uppercase tracking-wider rounded-lg transition-all flex items-center justify-center gap-2
                                                ${W?"bg-white/5 text-white":"bg-slate-800/50 text-slate-400 hover:bg-slate-700/50"}`},W?"Elegí tu forma de pago":"Ver opciones de pago",e.createElement(Ol,{className:`w-4 h-4 transition-transform ${W?"rotate-180":""}`})),e.createElement("div",{className:`transition-all duration-300 overflow-hidden ${W?"max-h-[400px] opacity-100 mt-4":"max-h-0 opacity-0"}`},e.createElement("div",{className:"space-y-2 pt-4 border-t border-white/10"},_.cycles.map(j=>{let xe=$?.price===j.price&&$?.plan===_.name;return e.createElement("button",{key:j.id,onClick:K=>{K.stopPropagation(),U({plan:_.name,cycle:j.label,price:j.price,sub:j.sub,emoji:_.emoji})},className:`w-full text-left p-3 rounded-xl border-2 transition-all flex justify-between items-center
                                                                ${xe?`${B.activeBg} text-black ${B.activeBorder} shadow-lg`:"bg-slate-900/50 border-slate-700 hover:bg-slate-800 text-slate-300 hover:border-slate-500"}`},e.createElement("div",null,e.createElement("div",{className:"font-bold text-sm"},j.label),e.createElement("div",{className:`text-[10px] ${xe?"text-black/70":"text-slate-500"}`},j.sub)),e.createElement("div",{className:"font-black text-base sm:text-lg"},j.price))})))))}))),$&&e.createElement("div",{className:"border-t border-slate-800 bg-gradient-to-r from-green-900/30 to-emerald-900/30 p-3 sm:p-5 shrink-0 animate-slide-up"},e.createElement("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 max-w-4xl mx-auto"},e.createElement("div",{className:"text-center sm:text-left"},e.createElement("p",{className:"text-white text-sm sm:text-base font-bold"},$.emoji," ",$.plan," • ",e.createElement("span",{className:"text-green-400"},$.cycle)),e.createElement("p",{className:"text-slate-400 text-xs"},$.sub," • ",$.price)),e.createElement("a",{href:`https://wa.me/5493425906300?text=${encodeURIComponent(`Hola! Quiero contratar el *${$.plan}* con pago *${$.cycle}* (${$.price}). ¿Cómo sigo?`)}`,target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto px-6 py-3 bg-green-500 hover:bg-green-400 text-black font-black text-sm sm:text-base rounded-xl transition shadow-lg shadow-green-500/30 flex items-center justify-center gap-2"},e.createElement(At,{className:"w-5 h-5 fill-current"})," Confirmar por WhatsApp")))))},di=({onBack:m})=>e.createElement("div",{className:"min-h-screen bg-black flex items-center justify-center p-4 animate-fade-in"},e.createElement("div",{className:"text-center max-w-md"},e.createElement("div",{className:"w-20 h-20 bg-red-900/20 text-red-500 rounded-full flex items-center justify-center mx-auto mb-6 border border-red-900/50"},e.createElement(Le,{className:"w-10 h-10"})),e.createElement("h1",{className:"text-3xl font-black text-white mb-2"},"ACCESO DENEGADO"),e.createElement("p",{className:"text-slate-500 mb-8"},"No tienes los permisos necesarios para acceder al Panel de Administración."),e.createElement("button",{onClick:m,className:"px-8 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-xl font-bold transition flex items-center gap-2 mx-auto border border-slate-700"},e.createElement(ot,{className:"w-4 h-4"})," Volver a la Tienda"))),Wo=document.getElementById("root");if(!Wo)throw new Error("No se encontró el contenedor #root");var ci=kl(Wo);ci.render(e.createElement(ws,null,e.createElement(ii,null)));
//# sourceMappingURL=app.js.map

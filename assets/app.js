import e,{useState as w,useEffect as de,useRef as Ie,useMemo as oa,useCallback as ra}from"react";import{createRoot as Bl}from"react-dom/client";import{ShoppingBag as Ut,X as Se,User as qt,Search as Uo,Zap as Bt,CheckCircle as me,MessageCircle as sa,Instagram as uo,Minus as qo,Heart as po,Tag as Ka,Plus as Xe,Trash2 as ye,Edit as la,AlertTriangle as ia,RefreshCw as Rr,Send as Gl,LogOut as es,Mail as Vl,CreditCard as Gt,Menu as ts,Home as Wl,Info as Vt,FileQuestion as bo,Users as Qa,Package as Ct,LayoutDashboard as Hl,Settings as as,Ticket as na,Truck as St,Wallet as os,FileText as Bo,ArrowRight as xo,ArrowLeft as Pt,DollarSign as fo,TrendingUp as Go,TrendingDown as Vo,Briefcase as rs,Save as Ia,AlertCircle as da,Phone as ss,MapPin as ls,Copy as Jl,ExternalLink as is,Shield as ot,ShoppingCart as Ea,Play as Kl,FolderPlus as Ya,Eye as ns,EyeOff as Ql,Clock as Wo,Calendar as Yl,Gift as Xl,Lock as $a,Loader2 as ca,Star as Aa,Percent as Zl,Sparkles as ma,Flame as ds,Image as Ta,Filter as Rl,ChevronDown as ei,Store as ja,BarChart as ti,Globe as Ho,Headphones as cs,Palette as ms,Share2 as us,Cog as ps,Facebook as bs,Twitter as xs,Youtube as fs,Bell as gs,Music as hs,Building as vs,Banknote as ws,UserPlus as Ns,Maximize2 as ys,Sun as ai,Moon as oi,Upload as ks}from"lucide-react";import{initializeApp as ri}from"firebase/app";import{getAuth as si,signInAnonymously as li,onAuthStateChanged as Cs,signInWithCustomToken as Ss,sendPasswordResetEmail as ii,signInWithEmailAndPassword as Ps,createUserWithEmailAndPassword as ni}from"firebase/auth";import{getFirestore as di,collection as ve,addDoc as bt,onSnapshot as xt,query as Is,updateDoc as he,doc as G,getDocs as Jo,deleteDoc as ft,where as ci,writeBatch as mi,getDoc as Wt,increment as Da,setDoc as Ht,orderBy as ui,limit as Es}from"firebase/firestore";const pi={apiKey:"AIzaSyAfllte-D_I3h3TwBaiSL4KVfWrCSVh9ro",authDomain:"sustore-63266.firebaseapp.com",projectId:"sustore-63266",storageBucket:"sustore-63266.firebasestorage.app",messagingSenderId:"684651914850",appId:"1:684651914850:web:f3df09e5caf6e50e9e533b",measurementId:"G-X3K7XGYPRD"},$s=ri(pi),fe=si($s),E=di($s),ua="sustore-63266-prod",As="3.0.0";let go=null;async function bi(){return go||(go=(async()=>{try{const l=await fetch("/api/checkout?action=public_config",{method:"GET"});if(!l.ok)return null;const u=await l.json().catch(()=>({}));return String((u==null?void 0:u.mpPublicKey)||"").trim()||null}catch{return null}})(),go)}const xi=()=>{if(typeof window=="undefined"||typeof document=="undefined"||window.__smoothWheelScrollEnabled||(window.__smoothWheelScrollEnabled=!0,typeof window.matchMedia=="function"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches))return;const u=()=>document.scrollingElement||document.documentElement,v=new WeakMap,S=(L,H,A)=>Math.min(A,Math.max(H,L)),P=L=>Math.max(0,L.scrollHeight-L.clientHeight),R=L=>{if(!L||!(L instanceof Element))return!1;const A=window.getComputedStyle(L).overflowY;return A==="hidden"||A==="visible"?!1:L.scrollHeight>L.clientHeight+1},M=L=>{let H=L;for(;H&&H instanceof Element&&H!==document.body&&H!==document.documentElement;){if(R(H))return H;H=H.parentElement}return null},W=L=>{const H=v.get(L);if(H)return H;const A={rafId:null,velocity:0,lastTs:0};return v.set(L,A),A},F=(L,H)=>{const A=W(L);A.lastTs||(A.lastTs=H);const ke=Math.min(48,H-A.lastTs);A.lastTs=H;const x=Math.pow(.86,ke/16.67),Ue=L.scrollTop,g=S(Ue+A.velocity*(ke/16.67),0,P(L));if(L.scrollTop=g,(g===0||g===P(L))&&(A.velocity*=.5),A.velocity*=x,Math.abs(A.velocity)<.1){A.rafId=null,A.velocity=0,A.lastTs=0;return}A.rafId=window.requestAnimationFrame(_=>F(L,_))},be=L=>{if(L.defaultPrevented||L.ctrlKey||L.metaKey||L.shiftKey)return;const H=L.target instanceof Element?L.target:null,A=H&&M(H)||u(),ke=L.deltaX;let le=L.deltaY;if(Math.abs(ke)>Math.abs(le)||!Number.isFinite(le)||Math.abs(le)<.01)return;L.preventDefault(),L.deltaMode===1?le*=40:L.deltaMode===2&&(le*=window.innerHeight);const x=W(A),Ue=.9;x.velocity+=le*Ue,x.velocity=S(x.velocity,-4500,4500),x.rafId===null&&(x.rafId=window.requestAnimationFrame(g=>F(A,g)))},ue=()=>{const L=u(),H=W(L);H.velocity=S(H.velocity,-4500,4500)};document.addEventListener("wheel",be,{passive:!1,capture:!0}),window.addEventListener("resize",ue,{passive:!0})};try{xi()}catch{}const fi=["bGF1dGFyb2NvcmF6emE2M0BnbWFpbC5jb20="],Ee=(()=>{try{return atob(fi[0])}catch{return""}})(),Ts={sessionToken:null,loginAttempts:{},maxAttempts:5,lockoutTime:3e5,integrityChecks:{},_generateSalt(){const l="tienda_secure_2024",u=Math.floor(Date.now()/864e5);return l+"_"+u},async hashPassword(l){const u=new TextEncoder,v=this._generateSalt(),S=u.encode(l+v),P=await crypto.subtle.digest("SHA-256",S);return Array.from(new Uint8Array(P)).map(M=>M.toString(16).padStart(2,"0")).join("")},async verifyPassword(l,u){return await this.hashPassword(l)===u},canAttemptLogin(l){const u=this._hashKey(l.toLowerCase()),v=Date.now(),S=this.loginAttempts[u];return S&&S.lockedUntil>v?{allowed:!1,remainingTime:Math.ceil((S.lockedUntil-v)/1e3)}:(S&&S.lockedUntil&&S.lockedUntil<v&&delete this.loginAttempts[u],{allowed:!0})},_hashKey(l){let u=0;for(let v=0;v<l.length;v++){const S=l.charCodeAt(v);u=(u<<5)-u+S,u=u&u}return"k_"+Math.abs(u).toString(36)},recordFailedAttempt(l){const u=this._hashKey(l.toLowerCase());this.loginAttempts[u]||(this.loginAttempts[u]={count:0,firstAttempt:Date.now()}),this.loginAttempts[u].count++,this.loginAttempts[u].count>=this.maxAttempts&&(this.loginAttempts[u].lockedUntil=Date.now()+this.lockoutTime,console.warn("[Security] Account locked - too many failed attempts"))},clearAttempts(l){const u=this._hashKey(l.toLowerCase());delete this.loginAttempts[u]},generateSessionToken(l){const u={uid:l,iat:Date.now(),exp:Date.now()+864e5,nonce:crypto.getRandomValues(new Uint32Array(1))[0].toString(36)},v=btoa(JSON.stringify(u)),S=this._signToken(v),P=v+"."+S;return this.sessionToken=P,sessionStorage.setItem("_st",P),P},_signToken(l){let u=0;const S=l+"tienda_secret_key_2024";for(let P=0;P<S.length;P++)u=(u<<5)-u+S.charCodeAt(P),u=u&u;return Math.abs(u).toString(36)},verifySession(){const l=sessionStorage.getItem("_st");if(!l||l!==this.sessionToken)return!1;try{const[u]=l.split("."),v=JSON.parse(atob(u));return v.exp&&v.exp<Date.now()?(this.invalidateSession(),!1):!0}catch{return!1}},invalidateSession(){this.sessionToken=null,sessionStorage.removeItem("_st"),localStorage.removeItem("sustore_user_data")},detectManipulation(){const l=localStorage.getItem("sustore_user_data");if(l)try{const u=JSON.parse(l);if(!u.id||u.id.length<10||!u.email||!u.email.includes("@"))return console.warn("[Security] Invalid session data detected"),localStorage.removeItem("sustore_user_data"),!0;if(u.role==="admin"&&!this._validateAdminClaim(u))return console.warn("[Security] Admin role manipulation detected"),u.role="user",localStorage.setItem("sustore_user_data",JSON.stringify(u)),!0}catch{return localStorage.removeItem("sustore_user_data"),!0}return!1},_validateAdminClaim(l){return l.email===Ee?!0:l._adminVerified===!0},sanitizeInput(l){return typeof l!="string"?l:l.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;").replace(/javascript:/gi,"").replace(/on\w+=/gi,"")},isValidEmail(l){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)&&l.length<=254},isStrongPassword(l){return l.length>=8&&/[A-Z]/.test(l)&&/[a-z]/.test(l)&&/[0-9]/.test(l)},async secureCompare(l,u){if(typeof l!="string"||typeof u!="string")return!1;const v=new TextEncoder,S=v.encode(l),P=v.encode(u);if(S.length!==P.length)return!1;let R=0;for(let M=0;M<S.length;M++)R|=S[M]^P[M];return R===0},protectConsole(){if(window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1")){const l=()=>{};["log","debug","info","table","dir"].forEach(u=>{console[u]=l})}},detectDevTools(){setInterval(()=>{const v=window.outerWidth-window.innerWidth>160,S=window.outerHeight-window.innerHeight>160},5e3)},init(){this.detectManipulation(),this.protectConsole(),this.detectDevTools(),Object.defineProperty(window,"SUPER_ADMIN_EMAIL",{get:()=>{},configurable:!1})}};Ts.init();const It={storeName:"Tienda Online",primaryColor:"#f97316",currency:"$",ticket:{brandName:"",whatsappLink:"",siteUrl:""},admins:Ee,team:[{email:Ee,role:"admin",name:"Administrador"}],sellerEmail:"",instagramUser:"",instagramLink:"",whatsappLink:"",showWhatsapp:!1,showFloatingWhatsapp:!1,showCartWhatsappCheckout:!1,showInstagram:!1,paymentTransfer:{enabled:!1,holderName:"",alias:"",cbu:""},paymentCash:!1,paymentMercadoPago:{enabled:!1},logoUrl:"",heroUrl:"",showHomeBannerCarousel:!0,homeBannerAutoplayMs:5e3,markupPercentage:0,announcementMessage:"",categories:["General"],aboutUsText:"Bienvenido a nuestra tienda. Ofrecemos productos de calidad con env√≠o a todo el pa√≠s.",seoTitle:"",seoDescription:"Tu tienda online de confianza. Calidad y vanguardia en cada producto. Env√≠os a todo el pa√≠s.",seoKeywords:"tienda online, productos, comprar, env√≠os",seoAuthor:"",seoUrl:"",seoImage:"",loadingTitle:"",loadingText:"Cargando sistema..."},xn=({src:l,alt:u,className:v,placeholder:S="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iIzFhMWExYSIvPjwvc3ZnPg=="})=>{const[P,R]=w(!1),[M,W]=w(!1),F=Ie(null);return de(()=>{const be=new IntersectionObserver(([ue])=>{ue.isIntersecting&&(W(!0),be.disconnect())},{rootMargin:"100px",threshold:.1});return F.current&&be.observe(F.current),()=>be.disconnect()},[]),e.createElement("img",{ref:F,src:M?l:S,alt:u,className:`${v} transition-opacity duration-300 ${P?"opacity-100":"opacity-0"}`,onLoad:()=>R(!0),loading:"lazy"})},gi=({settingsLoaded:l,banners:u,fallbackUrl:v,autoplayMs:S,darkMode:P,onBannerClick:R})=>{const M=oa(()=>Array.isArray(u)?u.filter(_=>_&&_.enabled!==!1&&typeof _.imageUrl=="string"&&_.imageUrl.trim().length>0):[],[u]),[W,F]=w(0),[be,ue]=w(!1);de(()=>{W>=M.length&&F(0)},[W,M.length]);const L=Number(S),H=l&&!be&&M.length>1&&Number.isFinite(L)&&L>=1500;de(()=>{if(!H)return;const _=setInterval(()=>{F(se=>(se+1)%M.length)},L);return()=>clearInterval(_)},[H,M.length,L]),de(()=>{if(M.length<=1)return;const _=M[(W+1)%M.length];if(!(_!=null&&_.imageUrl))return;const se=new Image;se.src=_.imageUrl},[M,W]);const A=M[W]||null,ke=(()=>{const _=(A==null?void 0:A.targetType)||(A!=null&&A.promoId?"promo":A!=null&&A.productId?"product":"none"),se=(A==null?void 0:A.targetId)||(A==null?void 0:A.promoId)||(A==null?void 0:A.productId)||"";return _!=="none"&&!!se})(),le=.15,x=`w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105 ${P?"":"saturate-110 contrast-110"}`,Ue=()=>{F(_=>{const se=_-1;return se<0?M.length-1:se})},g=()=>{F(_=>(_+1)%M.length)};return l?M.length===0?v?e.createElement("img",{src:v,style:{opacity:le},className:`absolute inset-0 w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105 ${P?"":"saturate-110 contrast-110"}`}):e.createElement("div",{className:`absolute inset-0 opacity-60 ${P?"bg-gradient-to-br from-orange-900/40 via-[#0a0a0a] to-slate-900/40":"bg-gradient-to-br from-orange-200/60 via-white to-slate-200/60"}`},e.createElement("div",{className:`absolute inset-0 bg-[url('/noise.svg')] ${P?"opacity-20":"opacity-10"}`})):e.createElement("div",{className:`absolute inset-0 overflow-hidden ${ke?"cursor-pointer":""}`,onClick:()=>ke&&(R==null?void 0:R(A)),onMouseEnter:()=>ue(!0),onMouseLeave:()=>ue(!1)},e.createElement("div",{className:"h-full w-full flex transition-transform duration-700 ease-in-out",style:{transform:`translate3d(-${W*100}%, 0, 0)`,willChange:"transform"}},M.map((_,se)=>e.createElement("div",{key:_.id||`${se}-${_.targetId||_.productId||_.promoId||"slide"}`,className:"w-full h-full flex-shrink-0 relative"},e.createElement("img",{src:_.imageUrl,style:{opacity:le},className:x})))),M.length>1&&e.createElement(e.Fragment,null,e.createElement("button",{type:"button",className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 w-11 h-11 rounded-full bg-black/40 border border-white/20 text-white backdrop-blur-md hover:bg-black/55 transition flex items-center justify-center pointer-events-auto",onClick:_=>{_.stopPropagation(),Ue()},"aria-label":"Banner anterior"},e.createElement(Pt,{className:"w-5 h-5"})),e.createElement("button",{type:"button",className:"absolute right-4 top-1/2 -translate-y-1/2 z-20 w-11 h-11 rounded-full bg-black/40 border border-white/20 text-white backdrop-blur-md hover:bg-black/55 transition flex items-center justify-center pointer-events-auto",onClick:_=>{_.stopPropagation(),g()},"aria-label":"Banner siguiente"},e.createElement(xo,{className:"w-5 h-5"})),e.createElement("div",{className:"absolute bottom-4 inset-x-0 z-20 flex items-center justify-center gap-2 pointer-events-auto",onClick:_=>_.stopPropagation()},M.map((_,se)=>e.createElement("button",{key:`dot-${se}`,type:"button","aria-label":`Ir al banner ${se+1}`,className:`h-2.5 rounded-full transition-all duration-300 ${se===W?"w-8 bg-white":"w-2.5 bg-white/40 hover:bg-white/70"}`,onClick:()=>F(se)}))))):e.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-800 to-slate-900 animate-pulse"})},hi=({message:l,type:u,onClose:v})=>{let S="fixed top-24 right-4 z-[9999] flex items-center gap-4 p-5 rounded-2xl border-l-4 backdrop-blur-xl animate-fade-up shadow-2xl transition-all duration-300",P="p-2 rounded-full",R=Vt;return u==="success"?(S+=" border-green-500 text-green-400 bg-black/90 shadow-[0_0_20px_rgba(34,197,94,0.3)]",P+=" bg-green-500/20",R=me):u==="error"?(S+=" border-red-500 text-red-400 bg-black/90 shadow-[0_0_20px_rgba(239,68,68,0.3)]",P+=" bg-red-500/20",R=da):u==="warning"?(S+=" border-yellow-500 text-yellow-400 bg-black/90 shadow-[0_0_20px_rgba(234,179,8,0.3)]",P+=" bg-yellow-500/20",R=ia):(S+=" border-orange-500 text-orange-400 bg-black/90 shadow-[0_0_20px_rgba(249,115,22,0.3)]",P+=" bg-orange-500/20",R=Vt),de(()=>{const M=setTimeout(v,4e3);return()=>clearTimeout(M)},[v]),e.createElement("div",{className:S},e.createElement("div",{className:P},e.createElement(R,{className:"w-5 h-5"})),e.createElement("div",null,e.createElement("p",{className:"font-bold text-sm tracking-wide"},l)),e.createElement("button",{onClick:v,className:"ml-2 text-white/50 hover:text-white transition"},e.createElement(Se,{className:"w-4 h-4"})))},vi=({isOpen:l,title:u,message:v,onConfirm:S,onCancel:P,confirmText:R="Confirmar",cancelText:M="Cancelar",isDangerous:W=!1})=>l?e.createElement("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/90 backdrop-blur-md animate-fade-up p-4"},e.createElement("div",{className:`glass p-8 rounded-[2rem] max-w-sm w-full border ${W?"border-red-500/50 shadow-[0_0_30px_rgba(220,38,38,0.2)]":"border-slate-700 shadow-2xl"}`},e.createElement("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-6 mx-auto ${W?"bg-red-900/20 text-red-500":"bg-orange-900/20 text-orange-500"}`},W?e.createElement(ia,{className:"w-8 h-8"}):e.createElement(Vt,{className:"w-8 h-8"})),e.createElement("h3",{className:"text-xl font-black text-center mb-2 text-white"},u),e.createElement("p",{className:"text-slate-400 text-center mb-8 text-sm leading-relaxed"},v),e.createElement("div",{className:"flex gap-3"},e.createElement("button",{onClick:P,className:"flex-1 py-3 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-xl font-bold transition"},M),e.createElement("button",{onClick:S,className:`flex-1 py-3 text-white rounded-xl font-bold transition shadow-lg ${W?"bg-red-600 hover:bg-red-500 shadow-red-600/30":"bg-orange-600 hover:bg-orange-500 shadow-orange-600/30"}`},R)))):null;class wi extends e.Component{constructor(u){super(u),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(u){return{hasError:!0}}componentDidCatch(u,v){this.setState({error:u,errorInfo:v}),console.error("Uncaught error:",u,v)}render(){var u,v;return this.state.hasError?e.createElement("div",{className:"min-h-screen bg-black text-red-500 p-10 font-mono"},e.createElement("h1",{className:"text-4xl font-bold mb-4"},"CRITICAL SYSTEM FAILURE"),e.createElement("div",{className:"border border-red-900 bg-red-900/10 p-6 rounded-xl overflow-auto"},e.createElement("h2",{className:"text-xl font-bold mb-2"},(u=this.state.error)==null?void 0:u.toString()),e.createElement("pre",{className:"text-xs text-red-400/70 whitespace-pre-wrap"},(v=this.state.errorInfo)==null?void 0:v.componentStack)),e.createElement("button",{onClick:()=>window.location.reload(),className:"mt-8 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-500 font-bold"},"REINICIAR SISTEMA")):this.props.children}}const Ni=({product:l,onAdd:u,darkMode:v})=>{const[S,P]=w(1),[R,M]=w(!1),W=ue=>{ue.stopPropagation(),u(l,S),M(!0),setTimeout(()=>M(!1),2e3),P(1)},F=S>=l.stock,be=S<=1;return e.createElement("div",{className:"flex flex-col items-end gap-2",onClick:ue=>ue.stopPropagation()},e.createElement("div",{className:`flex items-center rounded-lg ${v?"bg-zinc-800":"bg-slate-100"} p-0.5 border ${v?"border-zinc-700":"border-slate-200"}`},e.createElement("button",{onClick:ue=>{ue.stopPropagation(),P(Math.max(1,S-1))},disabled:be,className:`w-7 h-7 flex items-center justify-center rounded-md transition ${be?"opacity-30 cursor-not-allowed":v?"hover:bg-zinc-700 text-white":"hover:bg-slate-200 text-slate-700"}`},e.createElement(qo,{className:"w-3 h-3"})),e.createElement("span",{className:`w-8 text-center text-xs font-bold font-mono ${v?"text-white":"text-slate-900"}`},S),e.createElement("button",{onClick:ue=>{ue.stopPropagation(),P(Math.min(l.stock,S+1))},disabled:F,className:`w-7 h-7 flex items-center justify-center rounded-md transition ${F?"opacity-30 cursor-not-allowed":v?"hover:bg-zinc-700 text-white":"hover:bg-slate-200 text-slate-700"}`},e.createElement(Xe,{className:"w-3 h-3"}))),e.createElement("button",{onClick:W,className:`w-full py-1.5 px-3 rounded-xl transition-all duration-300 shadow-md flex items-center justify-center gap-1.5 active:scale-95 ${R?"bg-green-500 text-white shadow-green-500/30":v?"bg-white text-black hover:bg-orange-400 hover:text-black shadow-white/10":"bg-orange-500 text-white hover:bg-orange-600 shadow-orange-500/20"}`},R?e.createElement(me,{className:"w-4 h-4"}):e.createElement(e.Fragment,null,e.createElement(Xe,{className:"w-5 h-5 md:w-4 md:h-4"}))))},yi=e.memo(({p:l,settings:u,currentUser:v,toggleFavorite:S,setSelectedProduct:P,manageCart:R,calculateItemPrice:M,darkMode:W})=>{var Ue,g;const F=W?"bg-[#0a0a0a]":"bg-white",be=W?"border-slate-800/50":"border-slate-200",ue=W?"hover:border-orange-500/50":"hover:border-orange-400",L=W?"hover:shadow-[0_0_30px_rgba(249,115,22,0.1)]":"shadow-md hover:shadow-xl hover:shadow-orange-100",H=W?"bg-gradient-to-b from-slate-900 to-[#0a0a0a]":"bg-gradient-to-b from-slate-100 to-white",A=W?"text-white":"text-slate-900",ke=W?"text-slate-400":"text-slate-600",le=W?"bg-[#0a0a0a]":"bg-white",x=W?"border-slate-800/50":"border-slate-200";return e.createElement("div",{className:`${F} rounded-2xl sm:rounded-3xl border ${be} overflow-hidden group ${ue} ${L} transition duration-500 relative flex flex-col h-full animate-fade-in content-visibility-auto contain-content`},e.createElement("div",{className:`h-56 sm:h-80 ${H} m-2 sm:m-3 p-2 sm:p-3 flex items-center justify-center relative overflow-hidden cursor-zoom-in transition-all duration-500`,onClick:()=>P(l)},e.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-orange-500/5 to-transparent opacity-0 group-hover:opacity-100 transition duration-500"}),l.image?e.createElement("div",{className:"w-full h-full flex items-center justify-center overflow-hidden"},e.createElement("img",{src:l.image,loading:"lazy",decoding:"async",onError:_=>{_.target.style.display="none",_.target.parentElement.nextSibling.style.display="flex"},className:`max-w-full max-h-full rounded-xl sm:rounded-2xl border-4 ${W?"border-cyan-500/30":"border-orange-300"} shadow-lg z-10 transition-transform duration-700 group-hover:scale-105 ${l.stock<=0?"grayscale opacity-50":""}`})):null,e.createElement("button",{onClick:_=>{_.stopPropagation(),P(l)},className:`absolute bottom-2 right-2 sm:bottom-4 sm:right-4 z-30 ${W?"bg-black/60 border-white/20":"bg-white/90 border-slate-200"} backdrop-blur-md p-2 sm:p-3 rounded-full ${W?"text-white":"text-slate-700"} border md:hidden`},e.createElement(ys,{className:"w-4 h-4 sm:w-5 sm:h-5"})),e.createElement("div",{className:"hidden w-full h-full flex items-center justify-center z-0 absolute inset-0",style:{display:l.image?"none":"flex"}},e.createElement("div",{className:`flex flex-col items-center justify-center ${W?"text-slate-700":"text-slate-400"}`},e.createElement(Ta,{className:"w-12 h-12 sm:w-16 sm:h-16 mb-2 opacity-50"}),e.createElement("span",{className:"text-[10px] sm:text-xs font-bold uppercase tracking-widest opacity-50"},"Sin Imagen"))),l.stock<=0&&e.createElement("div",{className:`absolute inset-0 z-30 flex items-center justify-center ${W?"bg-black/40":"bg-white/60"} backdrop-blur-[2px]`},e.createElement("div",{className:"border-4 border-red-500 p-2 sm:p-4 -rotate-12 bg-black/80 shadow-[0_0_30px_rgba(239,68,68,0.5)] transform scale-90 sm:scale-110"},e.createElement("span",{className:"text-red-500 font-black text-lg sm:text-2xl md:text-3xl tracking-[0.15em] sm:tracking-[0.2em] uppercase"},"AGOTADO"))),l.isFeatured&&l.stock>0&&e.createElement("div",{className:"absolute top-0 left-0 bg-gradient-to-r from-yellow-500 to-orange-500 text-black text-[9px] sm:text-[10px] font-black px-2 sm:px-4 py-1 sm:py-1.5 rounded-br-xl sm:rounded-br-2xl uppercase tracking-wider z-20 shadow-lg flex items-center gap-1"},e.createElement(Aa,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 fill-current"})," Destacado"),l.discount>0&&l.stock>0&&!l.isFeatured&&e.createElement("span",{className:"absolute top-2 left-2 sm:top-4 sm:left-4 bg-red-600 text-white text-[9px] sm:text-[10px] font-black px-2 sm:px-3 py-1 sm:py-1.5 rounded-lg shadow-lg z-20 shadow-red-600/20"},"-",l.discount,"% OFF"),l.discount>0&&l.stock>0&&l.isFeatured&&e.createElement("span",{className:"absolute top-8 sm:top-10 left-0 bg-red-600 text-white text-[9px] sm:text-[10px] font-black px-2 sm:px-3 py-0.5 sm:py-1 rounded-r-lg shadow-lg z-20"},"-",l.discount,"% OFF"),e.createElement("button",{onClick:_=>{_.stopPropagation(),S(l)},className:`absolute top-2 right-2 sm:top-4 sm:right-4 p-2 sm:p-3 rounded-full z-20 transition shadow-lg backdrop-blur-sm border ${(Ue=v==null?void 0:v.favorites)!=null&&Ue.includes(l.id)?"bg-red-500 text-white border-red-500 shadow-red-500/30":W?"bg-white/10 text-slate-300 border-white/10 hover:bg-white hover:text-red-500":"bg-slate-100 text-slate-500 border-slate-200 hover:bg-red-50 hover:text-red-500 hover:border-red-200"}`},e.createElement(po,{className:`w-4 h-4 sm:w-5 sm:h-5 ${(g=v==null?void 0:v.favorites)!=null&&g.includes(l.id)?"fill-current":""}`}))),e.createElement("div",{className:`p-3 sm:p-4 flex-1 flex flex-col relative z-10 ${le}`},e.createElement("div",{className:"flex justify-between items-start mb-2 sm:mb-3"},e.createElement("p",{className:`text-[9px] sm:text-[10px] text-orange-500 font-black uppercase tracking-widest ${W?"border-orange-900/30 bg-orange-900/10":"border-orange-200 bg-orange-50"} border px-1.5 sm:px-2 py-0.5 sm:py-1 rounded`},Array.isArray(l.categories)&&l.categories.length>0?l.categories[0]:l.category||"Sin categor√≠a"),(u==null?void 0:u.showStockCount)!==!1&&l.stock>0&&l.stock<=((u==null?void 0:u.lowStockThreshold)||5)?e.createElement("span",{className:"text-[9px] sm:text-[10px] text-red-500 font-bold flex items-center gap-1"},e.createElement(da,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})," √öltimos ",l.stock):null),e.createElement("h3",{className:`${A} font-bold text-sm sm:text-base leading-tight mb-2 sm:mb-4 group-hover:text-orange-600 transition line-clamp-2 min-h-[2rem] sm:min-h-[2.5rem]`},l.name),e.createElement("div",{className:`mt-auto pt-2 sm:pt-4 border-t ${x} flex items-end justify-between`},e.createElement("div",{className:"flex flex-col"},l.discount>0&&e.createElement("span",{className:`text-[10px] sm:text-xs ${ke} line-through font-medium mb-0.5 sm:mb-1`},"$",l.basePrice.toLocaleString()),e.createElement("span",{className:`text-lg sm:text-2xl font-black ${A} tracking-tight flex items-center gap-1`},"$",M(l.basePrice,l.discount).toLocaleString())),l.stock>0&&e.createElement("div",{className:"flex items-center gap-2",onClick:_=>_.stopPropagation()},e.createElement(Ni,{product:l,onAdd:(_,se)=>R(_,se),darkMode:W})))))},(l,u)=>{var v,S,P,R;return l.p.id===u.p.id&&l.p.stock===u.p.stock&&l.p.basePrice===u.p.basePrice&&l.p.name===u.p.name&&l.p.image===u.p.image&&((S=(v=l.currentUser)==null?void 0:v.favorites)==null?void 0:S.includes(l.p.id))===((R=(P=u.currentUser)==null?void 0:P.favorites)==null?void 0:R.includes(u.p.id))}),ki=({product:l,onAdd:u})=>{const[v,S]=w(1),P=l.stock>0;return e.createElement("div",{className:"min-w-[140px] w-[140px] bg-[#1a1a1a] border border-white/10 rounded-xl overflow-hidden shadow-lg snap-start flex-shrink-0 group flex flex-col"},e.createElement("div",{className:"h-28 bg-white relative overflow-hidden"},e.createElement("img",{src:l.image||"https://via.placeholder.com/150",alt:l.name,className:`w-full h-full object-contain p-2 transition duration-300 ${P?"group-hover:scale-110":"grayscale opacity-50"}`}),!P&&e.createElement("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center"},e.createElement("span",{className:"text-white text-[10px] font-bold bg-red-600 px-2 py-1 rounded"},"AGOTADO"))),e.createElement("div",{className:"p-2 flex-1 flex flex-col"},e.createElement("h4",{className:"text-white text-xs font-bold truncate mb-1"},l.name),e.createElement("div",{className:"flex justify-between items-center mb-2"},e.createElement("p",{className:"text-yellow-500 text-xs font-black"},"$",parseInt(l.basePrice).toLocaleString()),l.discount>0&&e.createElement("span",{className:"text-[10px] text-red-400 font-bold"},"-",l.discount,"%")),P?e.createElement("div",{className:"mt-auto space-y-2"},e.createElement("div",{className:"flex items-center justify-between bg-zinc-800 rounded-lg p-1 mb-2"},e.createElement("button",{onClick:()=>S(Math.max(1,v-1)),className:"w-6 h-6 flex items-center justify-center text-white hover:bg-zinc-700 rounded transition font-bold"},"-"),e.createElement("span",{className:"text-white text-xs font-mono font-bold"},v),e.createElement("button",{onClick:()=>S(Math.min(l.stock,v+1)),className:"w-6 h-6 flex items-center justify-center text-white hover:bg-zinc-700 rounded transition font-bold"},"+")),e.createElement("button",{onClick:()=>u(l,v),className:"w-full bg-yellow-600 hover:bg-yellow-500 text-white text-[10px] py-1.5 rounded-lg transition font-medium flex items-center justify-center gap-1 active:scale-95"},"Agregar ",e.createElement("span",{className:"text-xs"},"+"))):e.createElement("button",{disabled:!0,className:"w-full mt-auto bg-slate-700 text-slate-400 text-[10px] py-1.5 rounded-lg cursor-not-allowed"},"Sin Stock")))},Ci=e.memo(({settings:l,products:u,addToCart:v,controlPanel:S,coupons:P})=>{var Yt;if(!(()=>{try{return String(window.location.href||"").includes("sustia=1")?!0:new URLSearchParams(window.location.search).get("sustia")==="1"}catch{return!1}})()&&(l==null?void 0:l.subscriptionPlan)!=="premium")return null;const[M,W]=w(!1),F=(l==null?void 0:l.botImage)||"sustia-ai-v2.jpg",be=`sustore_sustia_chat_${ua}`,ue={role:"model",text:"¬°Hola! Soy SustIA ü§ñ, tu asistente personal. ¬øBuscas algo especial hoy? Puedo verificar stock y agregar productos a tu carrito."},[L,H]=w([ue]),[A,ke]=w(""),[le,x]=w(!1),[Ue,g]=w(null),_=Ie(null),se=Ie(L),Ze=Ie(!1),Jt=Ie(null),pa=Ie(!0),Be=Array.isArray(u)?u:[],$t=Array.isArray(P)?P:[],Xa=!!((Yt=l==null?void 0:l.aiAssistant)!=null&&Yt.enabled),Re=$=>$==null?"":String($).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),Za=$=>{const X=Re($);if(!X)return[];const j=X.split(/[\s,.;:!?/()\\[\]{}"‚Äú‚Äù'‚Äô\-+*_]+/).filter(Boolean),re=new Set(["el","la","los","las","un","una","unos","unas","de","del","en","con","sin","para","por","a","al","que","como","cual","cuales","donde","cuando","quien","quienes","hola","buenas","buenos","dia","dias","tardes","noches","busco","buscar","tenes","tienes","precio","vale","cuesta","quiero","necesito","hay","me","te","mi","mis","tu","tus","agrega","agregar","agregame","agregalo","sumar","sumame","poner","pone","comprar","compralo","llevo","carrito","bolsa","cesta","mas","menos","muy","super","re"]);return j.filter(N=>N.length>1&&!re.has(N)&&!/^\d+$/.test(N))},ba=($,X)=>{if(!$)return null;const j=parseFloat(String($).replace(",","."));return Number.isFinite(j)?X.includes(`${$}k`)||X.includes(`${$} k`)||X.includes(`${$}mil`)||X.includes(`${$} mil`)?j*1e3:j:null},d=$=>{const X=Re($),j=X.match(/\b(?:x|por)\s*(\d{1,3})\b/);if(j)return Math.max(1,Math.min(99,parseInt(j[1],10)));const re=X.match(/\b(\d{1,3})\s*(?:u|ud|uds|unidad|unidades|pcs|piezas)\b/);if(re)return Math.max(1,Math.min(99,parseInt(re[1],10)));const N=X.match(/\b(\d{1,2})\b/);return N&&X.match(/\b(agrega|agregar|agregame|sum[a√°]|pone|poner|met[e√©]|quiero|llevo|comprar)\b/)?Math.max(1,Math.min(99,parseInt(N[1],10))):1},Pe=$=>{const X=[];return Array.isArray($==null?void 0:$.categories)&&X.push(...$.categories),typeof($==null?void 0:$.category)=="string"&&$.category.trim()&&X.push($.category),X.filter(Boolean).map(j=>String(j).trim()).filter(Boolean)},K=$=>{const X=Number($==null?void 0:$.basePrice)||0,j=Number($==null?void 0:$.discount)||0;return typeof calculateItemPrice=="function"?calculateItemPrice(X,j):X*(1-j/100)},ho=oa(()=>{var Xt,Ne,Ce,qe,vt,et,Tt;const $=l!=null&&l.storeName?String(l.storeName):"",X=l!=null&&l.aboutUsText?String(l.aboutUsText):"",j=!!((Xt=l==null?void 0:l.shippingDelivery)!=null&&Xt.enabled),re=!!((Ne=l==null?void 0:l.shippingPickup)!=null&&Ne.enabled),N=Number((Ce=l==null?void 0:l.shippingDelivery)==null?void 0:Ce.fee)||0,Me=Number((qe=l==null?void 0:l.shippingDelivery)==null?void 0:qe.freeAbove)||0,oe=((vt=l==null?void 0:l.shippingPickup)==null?void 0:vt.address)||"",we=[];re&&we.push(`Retiro en local: ${oe||"a coordinar"}.`),j&&(Me>0?we.push(`Env√≠o a domicilio: $${N.toLocaleString()} (gratis desde $${Me.toLocaleString()}).`):we.push(`Env√≠o a domicilio: $${N.toLocaleString()}.`));const ze=!!((et=l==null?void 0:l.paymentMercadoPago)!=null&&et.enabled),At=!!((Tt=l==null?void 0:l.paymentTransfer)!=null&&Tt.enabled),te=!!(l!=null&&l.paymentCash)&&re,Te=[];ze&&Te.push("Tarjeta (Mercado Pago)"),At&&Te.push("Transferencia"),te&&Te.push("Efectivo (solo retiro en local)");const Ge=[...new Set([...Array.isArray(l==null?void 0:l.categories)?l.categories:[],...Be.flatMap(ie=>Pe(ie))])].map(ie=>String(ie).trim()).filter(Boolean).slice(0,20),ht=Be.filter(ie=>ie&&(Number(ie.stock)||0)>0&&ie.isActive!==!1).map(ie=>({name:String(ie.name||"").trim(),price:K(ie),discount:Number(ie.discount)||0,featured:!!ie.isFeatured,cats:Pe(ie).slice(0,2).join(", ")})).filter(ie=>ie.name).sort((ie,wt)=>wt.discount-ie.discount||Number(wt.featured)-Number(ie.featured)||ie.price-wt.price).slice(0,25).map(ie=>`${ie.name} ‚Äî $${Math.round(ie.price).toLocaleString()}${ie.cats?` ‚Äî ${ie.cats}`:""}`);return{storeName:$,aboutUsText:X,shipping:we.join(" "),payments:Te.join(", "),categories:Ge,productHints:ht}},[l,Be]),Ra=async({userText:$,history:X,signal:j})=>{const re=await fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userText:$,messages:Array.isArray(X)?X:[],context:ho}),signal:j}),N=await re.json().catch(()=>({}));if(!re.ok)throw new Error((N==null?void 0:N.error)||"ai_error");if(!(N!=null&&N.text)||typeof N.text!="string")throw new Error("ai_invalid");return{text:N.text}};de(()=>{var $;($=_.current)==null||$.scrollIntoView({behavior:"smooth"})},[L,M]),de(()=>{se.current=L},[L]),de(()=>()=>{pa.current=!1},[]);const Le=($,X)=>{if(!X||typeof X!="string"||!$||typeof $!="string")return!1;const j=Re($),re=Re(X);if(j.includes(re))return!0;let N=0,Me=-1;for(let oe of re){const we=j.indexOf(oe,Me+1);we>-1&&(N++,Me=we)}return N/re.length>.75},gt=async($,X)=>{var et,Tt,ie,wt,t,f,je,Ma,xa,Oa,$e;await new Promise(C=>setTimeout(C,800));const j=Re($),re=d(j);if(j.match(/\b(hola|holas|buen dia|buenos dias|buenas tardes|buenas noches|buenas|hello|hi|hey|que tal|como estas|como va|todo bien)\b/))return{text:"¬°Hola! üëã ¬øQu√© quer√©s hacer? Pod√©s pedirme productos, ofertas, cupones, env√≠o, pagos o que agregue algo al carrito."};if(j.match(/\b(quien sos|que sos|que haces|sos real|sos un bot|asistente)\b/))return{text:`Soy SustIA${l!=null&&l.storeName?` de **${l.storeName}**`:""}. Puedo ayudarte a encontrar productos, ver ofertas/cupones y armar el carrito m√°s r√°pido.`};if(j.match(/\b(categorias|categoria|rubros|rubro|secciones)\b/)){const C=[...new Set(Be.flatMap(pe=>Pe(pe)))],z=[...new Set([...Array.isArray(l==null?void 0:l.categories)?l.categories:[],...C])].map(pe=>String(pe).trim()).filter(Boolean);return z.length===0?{text:"Todav√≠a no tengo categor√≠as configuradas. Decime qu√© est√°s buscando y lo resuelvo igual."}:{text:`Tenemos estas categor√≠as:

${z.slice(0,10).map(pe=>`- ${pe}`).join(`
`)}

Decime cu√°l te interesa y te muestro opciones.`}}if(j.match(/\b(sobre|info|informacion|quienes somos|about)\b/)){const C=(l==null?void 0:l.aboutUsText)||"";return C.trim()?{text:C.trim()}:{text:"Esta tienda todav√≠a no carg√≥ su secci√≥n ‚ÄúSobre nosotros‚Äù. ¬øQuer√©s que te ayude a encontrar un producto?"}}if(S){if(j.match(/modo\s*(?:oscuro|noche|dark)/))return S.setDarkMode(!0),{text:"He activado el modo oscuro üåô. ¬øMejor para tus ojos?"};if(j.match(/modo\s*(?:claro|dia|light)/))return S.setDarkMode(!1),{text:"He activado el modo claro ‚òÄÔ∏è."};if(j.match(/(?:ver|abrir|ir al)\s*(?:carrito|bolsa|cesta)/))return S.openCart(),{text:"Abriendo tu carrito de compras... üõí"}}if(j.match(/\b(envio|envios|entrega|delivery|domicilio|retiro|retirar|local|pickup)\b/)){const C=!!((et=l==null?void 0:l.shippingDelivery)!=null&&et.enabled),z=!!((Tt=l==null?void 0:l.shippingPickup)!=null&&Tt.enabled),Z=Number((ie=l==null?void 0:l.shippingDelivery)==null?void 0:ie.fee)||0,pe=Number((wt=l==null?void 0:l.shippingDelivery)==null?void 0:wt.freeAbove)||0,tt=((t=l==null?void 0:l.shippingPickup)==null?void 0:t.address)||"",ge=[];return z&&ge.push(`üìç Retiro en local: ${tt?`**${tt}**`:"a coordinar"}.`),C&&(pe>0?ge.push(`üöö Env√≠o a domicilio: $${Z.toLocaleString()} (gratis desde $${pe.toLocaleString()}).`):ge.push(`üöö Env√≠o a domicilio: $${Z.toLocaleString()}.`)),!z&&!C&&ge.push("Todav√≠a no tengo configurado el m√©todo de entrega para esta tienda."),ge.push("Si me dec√≠s tu ciudad/zona, te digo lo mejor para vos."),{text:ge.join(`
`)}}if(j.match(/\b(pago|pagos|tarjeta|mercado\s*pago|transferencia|cbu|alias|efectivo)\b/)){const C=!!((f=l==null?void 0:l.paymentMercadoPago)!=null&&f.enabled),z=!!((je=l==null?void 0:l.paymentTransfer)!=null&&je.enabled),Z=!!(l!=null&&l.paymentCash)&&!!((Ma=l==null?void 0:l.shippingPickup)!=null&&Ma.enabled),pe=z&&j.match(/\b(alias|cbu|transferencia)\b/),tt=[];if(C&&tt.push("üí≥ Tarjeta (Mercado Pago)"),z&&tt.push("üè¶ Transferencia"),Z&&tt.push("üíµ Efectivo (solo retiro en local)"),tt.length===0)return{text:"Todav√≠a no tengo m√©todos de pago configurados para esta tienda. Si quer√©s, te paso WhatsApp para coordinar."};if(pe){const ge=(xa=l==null?void 0:l.paymentTransfer)!=null&&xa.holderName?String(l.paymentTransfer.holderName).trim():"",Zt=(Oa=l==null?void 0:l.paymentTransfer)!=null&&Oa.alias?String(l.paymentTransfer.alias).trim():"",_a=($e=l==null?void 0:l.paymentTransfer)!=null&&$e.cbu?String(l.paymentTransfer.cbu).trim():"",Rt=["Para transferir, us√° estos datos:"];return ge&&Rt.push(`- Titular: ${ge}`),Zt&&Rt.push(`- Alias: ${Zt}`),_a&&Rt.push(`- CBU: ${_a}`),!ge&&!Zt&&!_a&&Rt.push("- A√∫n no est√°n cargados los datos de transferencia para esta tienda."),{text:Rt.join(`
`)}}return{text:`Pod√©s pagar con:

${tt.map(ge=>`- ${ge}`).join(`
`)}

¬øCon cu√°l prefer√≠s?`}}if(j.match(/\b(ayuda|soporte|contacto|human|persona|asesor)\b/))return l!=null&&l.whatsappLink?{text:`Claro. Si necesitas asistencia personalizada con un humano üßë‚Äçüíª, escr√≠benos a nuestro WhatsApp: ${l.whatsappLink} üì≤`}:{text:"Estoy dise√±ado para ayudarte a encontrar productos las 24hs. ü§ñ ¬øBuscas algo en espec√≠fico?"};if(j.match(/\b(descuento|promo|cupon|oferta|codigo|rebaja)\b/)){const C=$t.filter(Z=>Z==null?void 0:Z.active),z=Be.filter(Z=>(Number(Z==null?void 0:Z.discount)||0)>0&&(Number(Z==null?void 0:Z.stock)||0)>0);return C.length>0?{text:`¬°S√≠! Tenemos estos cupones disponibles para ti:

${C.filter(pe=>pe==null?void 0:pe.code).map(pe=>`üé´ **${pe.code}** (${pe.discountType==="percentage"?pe.value+"%":"$"+pe.value} OFF)`).join(`
`)}

¬°√ösalos al finalizar tu compra! üõí`}:z.length>0?(g({type:"show_deals",data:z.sort(()=>.5-Math.random()).slice(0,5)}),{text:`No tengo c√≥digos de cup√≥n activos ahora, pero s√≠ tenemos **${z.length}** productos con descuento. ¬øQuer√©s que te muestre los mejores? üè∑Ô∏è`}):{text:"Por el momento no tengo c√≥digos promocionales activos, pero nuestros precios son los mejores del mercado. üòâ"}}if(Ue){if(j.match(/\b(si|claro|dale|bueno|yes|por favor|obvio)\b/)){const C=Ue;if(g(null),C.type==="suggest_cross_sell")return{text:"¬°Excelente! Mira estas oportunidades que seleccion√© para ti: üî•",products:C.data};if(C.type==="show_deals")return{text:"Listo. Estas son algunas ofertas que valen la pena ahora mismo:",products:C.data}}else if(j.match(/\b(no|gracias|paso|cancelar|asi esta bien)\b/))return g(null),{text:"Entendido. ¬øNecesitas ayuda con algo m√°s? üòä"}}const N=j.match(/(?:mas|muy|super)\s*(?:barato|economico|bajo)|oferta|menos|mas\s*economico/),Me=j.match(/(?:mas|muy|super)\s*(?:caro|mejor|calidad|top|premium)|costoso|lujo/),oe=j.match(/(?:agrega|agregar|agregame|sum[a√°]|pone|poner|met[e√©]|comprar|quiero|dame|carrito|llevo|lo quiero)/);let we=0,ze=1/0;const At=j.match(/(?:menos|menor|bajo)\s*(?:de|a|que)?\s*\$?\s*(\d+(?:[.,]\d+)?)(?:\s*(?:k|mil))?/);if(At){const C=ba(At[1],j);C!==null&&(ze=C)}const te=j.match(/entre\s*\$?\s*(\d+(?:[.,]\d+)?)(?:\s*(?:k|mil))?\s*y\s*\$?\s*(\d+(?:[.,]\d+)?)(?:\s*(?:k|mil))?/);if(te){const C=ba(te[1],j),z=ba(te[2],j);C!==null&&(we=C),z!==null&&(ze=z)}const Te=[...new Set(Be.flatMap(C=>Pe(C)))],Ge=Te.find(C=>Le(C,j)||Le(j,C)),ht=Ge?Ge.toLowerCase():null,Xt=new Map([["celu","celular"],["cel","celular"],["tele","televisor"],["tv","televisor"],["compu","computadora"],["notebook","laptop"],["auris","auriculares"],["zapas","zapatillas"],["remera","camiseta"],["remeras","camisetas"]]),Ne=Za(j).flatMap(C=>{const z=Xt.get(C);return z?[C,z]:[C]});let Ce=Be.filter(C=>(Number(C==null?void 0:C.stock)||0)>0&&(C==null?void 0:C.isActive)!==!1);if(Ce=Ce.filter(C=>{const z=K(C);return z>=we&&z<=ze}),ht&&(Ce=Ce.filter(C=>Pe(C).some(z=>Re(z)===ht))),Ne.length>0&&(Ce=Ce.map(C=>{let z=0;const Z=Re((C==null?void 0:C.name)||""),pe=Re((C==null?void 0:C.description)||""),tt=Pe(C).map(ge=>Re(ge));return Ne.forEach(ge=>{ge&&(Z.includes(ge)?z+=12:Le(Z,ge)&&(z+=6),pe.includes(ge)?z+=4:Le(pe,ge)&&(z+=2),tt.some(Zt=>Zt.includes(ge))&&(z+=6))}),(Number(C==null?void 0:C.discount)||0)>0&&(z+=2),C!=null&&C.isFeatured&&(z+=2),{...C,score:z}}).filter(C=>C.score>0),Ce.sort((C,z)=>z.score-C.score)),Ce.length===0&&oe){const z=[...X].reverse().find(Z=>Z.role==="model"&&Z.products&&Z.products.length>0);z&&(Ce=[z.products[0]])}if(N&&Ce.sort((C,z)=>K(C)-K(z)),Me&&Ce.sort((C,z)=>K(z)-K(C)),Ce.length===0){const C=Be.filter(Z=>(Number(Z==null?void 0:Z.discount)||0)>0&&(Number(Z==null?void 0:Z.stock)||0)>0).slice(0,3);if(C.length>0)return g({type:"suggest_cross_sell",data:C}),{text:"Mmm, no encontr√© exactamente eso ü§î. ¬øPero te gustar√≠a ver nuestras ofertas del d√≠a? üè∑Ô∏è"};let z="No encontr√© nada parecido. üòÖ";return Te.length>0?z=`No tengo eso por ahora. Pero mira, en esta tienda tenemos cosas de: **${Te.sort(()=>.5-Math.random()).slice(0,3).join(", ")}**. ¬øTe sirve algo de eso?`:z="No encontr√© nada con ese nombre. ¬øQuiz√°s probando con otra palabra m√°s simple?",{text:z}}const qe=Ce.slice(0,5);if(oe&&qe.length>0){const C=qe[0];v(C,re);const z=Be.filter(Z=>(Z.isFeatured||Z.discount>0)&&Z.id!==C.id&&Z.stock>0).sort(()=>.5-Math.random()).slice(0,3);return z.length>0?(g({type:"suggest_cross_sell",data:z}),{text:`¬°Listo! Agregu√© **${re}x ${C.name}** a tu carrito. üõí

¬øTe gustar√≠a ver algunos productos destacados para complementar tu compra? üëÄ`,products:[C]}):{text:`¬°Listo! Agregu√© **${re}x ${C.name}** a tu carrito. üõí ¬øAlgo m√°s?`,products:[C]}}let vt="Aqu√≠ tienes algunas opciones:";return ht&&(vt=`Encontr√© esto en la categor√≠a ${ht}:`),N&&(vt="Las opciones m√°s econ√≥micas:"),{text:vt,products:qe}},Kt=async($,X)=>{let j=null;const re=new Promise((N,Me)=>{j=setTimeout(()=>Me(new Error("timeout")),X)});try{return await Promise.race([$,re])}finally{j&&clearTimeout(j)}},La=async($,X={})=>{const j=!!X.alreadyAddedUser,re=String($||"").trim().slice(0,300);if(!re)return;if(Ze.current){if(!j){const oe={role:"client",text:re};H(we=>[...we,oe])}Jt.current={text:re,alreadyAddedUser:!0};return}Ze.current=!0,ke("");const N=j?null:{role:"client",text:re},Me=[...se.current||[],...N?[N]:[]];N&&H(oe=>[...oe,N]),x(!0);try{const oe=await Kt(gt(re,Me),12e3);if(!pa.current)return;let we=oe!=null&&oe.text&&typeof oe.text=="string"?oe.text:"Perd√≥n, tuve un problema procesando eso. ¬øPod√©s reformularlo?";const ze=Array.isArray(oe==null?void 0:oe.products)?oe.products:void 0;if(Xa&&(!ze||ze.length===0)&&/no encontr[e√©]|no tengo eso|no lo tengo|probando con otra palabra/i.test(we)){const te=new AbortController,Te=setTimeout(()=>te.abort(),8500);try{const Ge=await Ra({userText:re,history:Me,signal:te.signal});Ge!=null&&Ge.text&&(we=Ge.text)}catch{}clearTimeout(Te)}H(te=>[...te,{role:"model",text:we,products:ze}])}catch{if(!pa.current)return;const we=l!=null&&l.whatsappLink?`Uy, se me trab√≥ por un momento. Si quer√©s, habl√° por WhatsApp: ${l.whatsappLink}`:"Uy, se me trab√≥ por un momento. ¬øProbamos de nuevo?";H(ze=>[...ze,{role:"model",text:we}])}finally{pa.current&&x(!1),Ze.current=!1;const oe=Jt.current;oe&&oe.text&&(Jt.current=null,setTimeout(()=>La(oe.text,{alreadyAddedUser:oe.alreadyAddedUser===!0}),0))}},eo=async()=>La(A),rt=$=>{const X=String($||"").trim();X&&La(X)};return e.createElement("div",{className:"fixed bottom-6 right-6 left-3 sm:left-auto z-[9999] flex flex-col items-end pointer-events-none"},M&&e.createElement("div",{className:"bg-[#0a0a0a] border border-yellow-500/30 rounded-2xl w-full max-w-sm sm:max-w-none sm:w-80 md:w-96 h-[min(550px,75dvh)] shadow-2xl flex flex-col mb-4 animate-fade-up overflow-hidden font-sans pointer-events-auto"},e.createElement("div",{className:"bg-gradient-to-r from-yellow-600 to-amber-600 p-4 flex justify-between items-center shadow-md relative z-10"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-1 bg-white/10 rounded-full backdrop-blur-sm overflow-hidden border border-white/20"},e.createElement("img",{src:F,className:"w-8 h-8 object-cover rounded-full opacity-90",alt:"SustIA"})),e.createElement("div",null,e.createElement("h3",{className:"font-bold text-white text-sm"},"SustIA"),e.createElement("p",{className:"text-[10px] text-white/80 flex items-center gap-1"},e.createElement("span",{className:"w-1.5 h-1.5 bg-green-400 rounded-full animate-pulse"}),"Asistente Virtual"))),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{onClick:()=>{try{localStorage.removeItem(be)}catch{}g(null),H([ue])},className:"text-white/80 hover:text-white p-1 hover:bg-white/10 rounded-lg transition",title:"Limpiar chat"},e.createElement(ye,{className:"w-5 h-5"})),e.createElement("button",{onClick:()=>W(!1),className:"text-white/80 hover:text-white p-1 hover:bg-white/10 rounded-lg transition",title:"Cerrar"},e.createElement(Se,{className:"w-5 h-5"})))),e.createElement("div",{className:"bg-[#111] px-4 py-2 border-b border-white/5"},e.createElement("div",{className:"flex gap-2 overflow-x-auto pb-1 custom-scrollbar"},[{label:"Ofertas",value:"Mostrame ofertas"},{label:"Cupones",value:"Ten√©s cupones?"},{label:"Env√≠o",value:"C√≥mo es el env√≠o?"},{label:"Pagos",value:"Qu√© medios de pago hay?"},{label:"Categor√≠as",value:"Qu√© categor√≠as ten√©s?"},{label:"WhatsApp",value:"Necesito hablar con una persona"}].map($=>e.createElement("button",{key:$.label,type:"button","data-testid":`quick-action-${$.label.toLowerCase()}`,onClick:()=>{console.log("CLICKED ACTION",$.value),rt($.value)},className:"shrink-0 px-3 py-1.5 rounded-full text-[11px] font-bold border border-white/10 bg-[#1a1a1a] text-white/90 hover:bg-[#222] transition"},$.label)))),e.createElement("div",{className:"flex-1 overflow-y-auto p-4 space-y-5 bg-[#111] custom-scrollbar relative"},L.map(($,X)=>e.createElement("div",{key:X,className:`flex flex-col ${$.role==="client"?"items-end":"items-start"}`},e.createElement("div",{className:`max-w-[85%] p-3.5 rounded-2xl text-sm shadow-sm ${$.role==="client"?"bg-yellow-600 text-white rounded-br-sm":"bg-[#1a1a1a] text-slate-200 rounded-bl-sm border border-white/5"}`},e.createElement("p",{className:"whitespace-pre-wrap leading-relaxed"},$.text)),$.products&&$.products.length>0&&e.createElement("div",{className:"mt-3 flex gap-3 overflow-x-auto pb-2 w-full custom-scrollbar pl-1 snap-x"},$.products.map(j=>e.createElement(ki,{key:j.id,product:j,onAdd:(re,N)=>{v(re,N),H(Me=>[...Me,{role:"model",text:`Agregado ${N}x ${re.name} al carrito! üõí`}])}}))))),le&&e.createElement("div",{className:"flex justify-start"},e.createElement("div",{className:"bg-[#1a1a1a] p-3 rounded-2xl rounded-bl-none border border-white/5 flex gap-1"},e.createElement("span",{className:"w-1.5 h-1.5 bg-slate-500 rounded-full animate-bounce"}),e.createElement("span",{className:"w-1.5 h-1.5 bg-slate-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.createElement("span",{className:"w-1.5 h-1.5 bg-slate-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}))),e.createElement("div",{ref:_})),e.createElement("div",{className:"p-3 bg-[#0a0a0a] border-t border-white/10 relative z-0"},e.createElement("form",{onSubmit:$=>{$.preventDefault(),eo()},className:"flex gap-2 items-center"},e.createElement("input",{className:"flex-1 bg-[#1a1a1a] border border-white/10 rounded-full px-4 py-2.5 text-sm text-white focus:border-yellow-500/50 outline-none transition placeholder:text-slate-600",placeholder:"Escribe aqu√≠...",value:A,onChange:$=>ke($.target.value)}),e.createElement("button",{type:"submit",className:"p-2.5 bg-yellow-600 hover:bg-yellow-500 text-white rounded-full transition shadow-lg shadow-yellow-600/20 disabled:opacity-50 disabled:cursor-not-allowed",disabled:le||!A.trim()},e.createElement(Gl,{className:"w-4 h-4"}))))),e.createElement("button",{onClick:()=>W(!M),className:"pointer-events-auto w-14 h-14 bg-gradient-to-br from-yellow-500 to-amber-600 rounded-full flex items-center justify-center shadow-[0_0_20px_rgba(234,179,8,0.4)] hover:scale-110 transition-transform group relative z-50"},M?e.createElement(Se,{className:"w-6 h-6 text-white"}):e.createElement("img",{src:"sustia-ai-v2.jpg",className:"w-full h-full object-cover rounded-full opacity-95 hover:scale-110 transition-transform duration-300",alt:"SustIA"}),!M&&e.createElement("span",{className:"absolute -top-1 -right-1 flex h-4 w-4"},e.createElement("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-yellow-400 opacity-75"}),e.createElement("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-yellow-500 border border-black"}))))},(l,u)=>{var v,S;return!(((v=l.settings)==null?void 0:v.subscriptionPlan)!==((S=u.settings)==null?void 0:S.subscriptionPlan)||l.products!==u.products)}),Si=({isOpen:l,onClose:u,categories:v,onAdd:S,onRemove:P})=>{const[R,M]=e.useState("");return l?e.createElement("div",{className:"fixed inset-0 z-[10010] flex items-center justify-center bg-black/90 backdrop-blur-md animate-fade-in p-4"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem] max-w-md w-full relative"},e.createElement("button",{onClick:u,className:"absolute top-4 right-4 text-slate-500 hover:text-white transition"},e.createElement(Se,{className:"w-6 h-6"})),e.createElement("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(Ya,{className:"w-6 h-6 text-orange-400"})," Gestionar Categor√≠as"),e.createElement("form",{onSubmit:F=>{F.preventDefault(),R.trim()&&(S(R.trim()),M(""))},className:"flex gap-2 mb-6"},e.createElement("input",{className:"input-cyber flex-1 p-3",placeholder:"Nueva categor√≠a...",value:R,onChange:F=>M(F.target.value),autoFocus:!0}),e.createElement("button",{type:"submit",className:"bg-orange-600 hover:bg-orange-500 text-white p-3 rounded-xl font-bold transition"},e.createElement(Xe,{className:"w-5 h-5"}))),e.createElement("div",{className:"space-y-2 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar"},v.map((F,be)=>e.createElement("div",{key:be,className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-xl border border-slate-800 group hover:border-slate-700 transition"},e.createElement("span",{className:"text-slate-300 font-medium"},F),e.createElement("button",{onClick:()=>P(F),className:"text-slate-600 hover:text-red-500 transition opacity-0 group-hover:opacity-100"},e.createElement(ye,{className:"w-4 h-4"})))),v.length===0&&e.createElement("p",{className:"text-center text-slate-600 italic py-4"},"No hay categor√≠as definidas")))):null},Pi={dashboard:{title:"Inicio (Panel de Control)",description:"Ac√° ten√©s el resumen general de tu tienda: ventas, ingresos y m√©tricas para tomar decisiones r√°pidas.",sections:[{title:"Qu√© mirar primero",bullets:["Ingresos brutos y beneficio neto estimado para ver c√≥mo viene el mes.","Rendimiento mensual para comparar meses recientes.","Movimientos recientes para detectar ingresos/gastos r√°pido."]},{title:"Acciones t√≠picas",bullets:["Us√° los botones/atajos del panel para ver detalles de m√©tricas y reportes.","Registr√° ventas manuales si vendiste fuera del checkout (mostrador / en casa)."]}]},orders:{title:"Pedidos",description:"Gestion√° los pedidos que entran: ver detalle, finalizar y eliminar.",sections:[{title:"C√≥mo operar",bullets:["Abr√≠ un pedido con el √≠cono de ojo para ver productos, datos del cliente y totales.","Marc√° como finalizado con el √≠cono de tilde cuando ya est√© entregado/pagado.","Elimin√° con el √≠cono de papelera solo si fue un pedido inv√°lido o duplicado."]},{title:"Notificaci√≥n",bullets:["El bot√≥n ‚ÄúNotificaci√≥n pedidos‚Äù activa o mutea el sonido/alerta de nuevos pedidos (solo admins)."]}]},products:{title:"Productos",description:"Administr√° tu cat√°logo: altas, edici√≥n, categor√≠as, stock y visibilidad.",sections:[{title:"Crear y organizar",bullets:["Us√° ‚ÄúAgregar Producto‚Äù para cargar nombre, imagen, precio y stock.","Us√° ‚ÄúCategor√≠as‚Äù para crear/editar categor√≠as y ordenar el cat√°logo."]},{title:"Stock y visibilidad",bullets:["Revis√° el stock para evitar vender sin disponibilidad.","Si un producto est√° desactivado, no aparece en la tienda hasta reactivarlo."]},{title:"L√≠mites de plan",bullets:["El contador muestra cu√°ntos productos ten√©s seg√∫n el plan; si est√°s cerca del l√≠mite, te avisa."]}]},promos:{title:"Promos",description:"Cre√° combos/promociones armando un paquete de productos con un precio final.",sections:[{title:"Crear una promo",bullets:["Pon√© nombre, precio e imagen (opcional) para mostrarla atractiva.","Agreg√° productos al combo y ajust√° cantidades.","Guard√° y revis√° que el precio final tenga sentido vs. el costo."]},{title:"Edici√≥n y limpieza",bullets:["Edit√° una promo existente cuando cambien productos o precios.","Elimin√° promos viejas para mantener el panel ordenado."]}]},coupons:{title:"Cupones",description:"Cre√° cupones de descuento por porcentaje o monto fijo, con l√≠mites y vencimiento.",sections:[{title:"Configurar un cup√≥n",bullets:["Defin√≠ el c√≥digo (en may√∫sculas), el tipo (porcentaje/fijo) y el valor.","Opcional: m√≠nimo de compra, l√≠mite de usos y fecha de vencimiento.","Eleg√≠ si es p√∫blico (para redes) o para un email espec√≠fico."]},{title:"Usarlo y compartirlo",bullets:["Copi√° el c√≥digo con el bot√≥n de copiar y pasalo por WhatsApp/Instagram.","Elimin√° cupones vencidos o que ya no quieras ofrecer."]},{title:"Planes",bullets:["Si tu plan no habilita cupones, vas a ver el panel bloqueado y un acceso a planes."]}]},suppliers:{title:"Proveedores",description:"Guard√° proveedores y vinculalos a los productos que te abastecen.",sections:[{title:"Alta y datos",bullets:["Cre√° un proveedor con nombre, contacto, tel√©fono, IG y direcci√≥n (si aplica).","Asoci√° productos para tener referencia r√°pida de qu√© compra va con qui√©n."]},{title:"Mantenimiento",bullets:["Edit√° cuando cambie un contacto o dato fiscal.","Elimin√° si ya no trabaj√°s con ese proveedor."]}]},purchases:{title:"Compras / Stock",description:"Registr√° reposiciones de stock y llev√° historial de compras a proveedores.",sections:[{title:"Registrar reposici√≥n",bullets:["Eleg√≠ el producto existente, pon√© cantidad y seleccion√° el proveedor.","El sistema calcula un costo estimado y ajusta el stock al guardar."]},{title:"Historial y correcciones",bullets:["Us√° el historial para revisar compras pasadas.","Editar una compra puede ajustar el stock autom√°ticamente: revisalo antes de guardar."]}]},finance:{title:"Finanzas",description:"Registr√° inversiones/aportes y gastos para entender el capital y la rentabilidad.",sections:[{title:"Registrar movimientos",bullets:["Carg√° inversiones/aportes con socio, monto y fecha.","Carg√° gastos/egresos con descripci√≥n, categor√≠a y fecha."]},{title:"Lectura",bullets:["Us√° los totales para ver capital, egresos e impacto en el resultado.","Manten√© al d√≠a los gastos para que el beneficio estimado sea realista."]}]},users:{title:"Usuarios",description:"Administr√° cuentas: b√∫squeda, roles y auditor√≠a para soporte.",sections:[{title:"Buscar y filtrar",bullets:["Busc√° por nombre, email o usuario desde la barra.","Filtr√° por rol para encontrar r√°pido admins/usuarios."]},{title:"Gesti√≥n",bullets:["Edit√° el perfil o permisos seg√∫n necesidad.","Us√° la auditor√≠a para entender carritos/actividad si hay reclamos."]}]}};function Et({guideKey:l}){const[u,v]=w(!1),S=Pi[l];return S?e.createElement(e.Fragment,null,e.createElement("button",{onClick:()=>v(!0),className:"px-4 py-2 rounded-xl bg-slate-900/60 hover:bg-slate-900 text-slate-300 hover:text-white border border-slate-800 transition flex items-center gap-2 font-black text-[10px] uppercase tracking-widest",type:"button"},e.createElement(bo,{className:"w-4 h-4"}),"C√≥mo usar"),u&&e.createElement("div",{className:"fixed inset-0 z-[20050] bg-black/90 backdrop-blur-md flex items-center justify-center p-4 animate-fade-in",onClick:()=>v(!1),role:"dialog","aria-modal":"true"},e.createElement("div",{className:"w-full max-w-2xl bg-[#0a0a0a] border border-slate-700 rounded-[2rem] shadow-2xl overflow-hidden",onClick:P=>P.stopPropagation()},e.createElement("div",{className:"flex items-start justify-between gap-4 p-6 border-b border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500"},"Gu√≠a r√°pida"),e.createElement("h2",{className:"text-2xl font-black text-white mt-1"},"C√≥mo usar: ",S.title),e.createElement("p",{className:"text-slate-400 text-sm mt-2"},S.description)),e.createElement("button",{onClick:()=>v(!1),className:"p-2 rounded-xl bg-slate-900 hover:bg-slate-800 text-slate-400 hover:text-white border border-slate-800 transition",type:"button","aria-label":"Cerrar"},e.createElement(Se,{className:"w-5 h-5"}))),e.createElement("div",{className:"p-6 max-h-[70vh] overflow-y-auto custom-scrollbar space-y-6"},(S.sections||[]).map((P,R)=>e.createElement("div",{key:R,className:"bg-slate-900/20 border border-slate-800 rounded-2xl p-5"},e.createElement("h3",{className:"text-white font-black"},P.title),e.createElement("ul",{className:"list-disc pl-5 mt-3 space-y-2 text-sm text-slate-300"},(P.bullets||[]).map((M,W)=>e.createElement("li",{key:W},M)))))),e.createElement("div",{className:"p-6 border-t border-slate-800 flex justify-end"},e.createElement("button",{onClick:()=>v(!1),className:"px-5 py-3 rounded-xl bg-orange-600 hover:bg-orange-500 text-white font-black transition",type:"button"},"Entendido"))))):null}function Ii(){var fr,gr,hr,vr,wr,Nr,yr,kr,Cr,Sr,Pr,Ir,Er,$r,Ar,Tr,jr,Dr,Lr,Mr,Or,_r,zr,Fr,Ur,qr,Br,Gr,Vr,Wr,Hr,Jr,Kr,Qr,Yr;const[l,u]=w("store"),[v,S]=w("dashboard"),[P,R]=w([]),[M,W]=w([]),[F,be]=w([]),[ue,L]=w({isOpen:!1,title:"",message:"",onConfirm:null}),[H,A]=w(!1),[ke,le]=w(!1),[x,Ue]=w(()=>{try{const a=localStorage.getItem("sustore_dark_mode");return a!==null?JSON.parse(a):!1}catch{return!1}}),[g,_]=w(null),[se,Ze]=w({status:"resolving",hostname:"",normalizedHostname:"",storeId:null,error:null}),[Jt,pa]=w(""),[Be,$t]=w(!1),[Xa,Re]=w(!1),[Za,ba]=w(!1),[d,Pe]=w(()=>{try{const a=localStorage.getItem("sustore_user_data");if(!a)return null;const o=JSON.parse(a);return!o||!o.id||!o.email||!o.name?(localStorage.removeItem("sustore_user_data"),null):o}catch{return localStorage.removeItem("sustore_user_data"),null}}),[K,ho]=w(null),[Ra,Le]=w(!0),[gt,Kt]=w(!1),[La,eo]=w([]),[rt,Ko]=w(()=>{try{return localStorage.getItem("sustore_admin_order_alarm_muted")==="1"}catch{return!1}}),Qt=Ie(null),Yt=Ie(null),$=Ie(!1),X=Ie(!1),j=Ie(!1),re=Ie(null),[N,Me]=w([]),[oe,we]=w([]),[ze,At]=w([]),[te,Te]=w(()=>{try{const a=JSON.parse(localStorage.getItem("sustore_cart"));return Array.isArray(a)?a:[]}catch{return[]}}),Ge=Ie(!1),[ht,Xt]=w([]),[Ne,Ce]=w([]),[qe,vt]=w([]),[et,Tt]=w([]),[ie,wt]=w([]),[t,f]=w(It),[je,Ma]=w(!1),[xa,Oa]=w(""),[$e,C]=w(""),z=Ie(null),[Z,pe]=w(!1),[tt,ge]=w(0),[Zt,_a]=w(0),Rt=a=>{pe(!0),ge(a.pageX-z.current.offsetLeft),_a(z.current.scrollLeft)},Ds=()=>{pe(!1)},Ls=()=>{pe(!1)},Ms=a=>{if(!Z)return;a.preventDefault();const s=(a.pageX-z.current.offsetLeft-tt)*2;z.current.scrollLeft=Zt-s},[ee,jt]=w({email:"",password:"",name:"",username:"",dni:"",phone:""}),[Nt,Os]=w(!0),[yt,to]=w({description:"",amount:"",category:"General",date:new Date().toISOString().split("T")[0]}),[Ve,fa]=w({investor:"",amount:"",date:new Date().toISOString().split("T")[0],notes:""}),[Ae,za]=w({productId:"",supplierId:"",quantity:1,cost:0,isNewProduct:!1}),[U,ea]=w({imageUrl:"",targetType:"none",targetId:"",enabled:!0,order:0}),[Fa,Qo]=w(null),[De,Dt]=w({name:"",contact:"",phone:"",ig:"",address:"",cuit:"",associatedProducts:[]}),[vo,wo]=w(null),[_s,ao]=w(!1),[We,Ua]=w([]),[Yo,ga]=w(!1),[ce,ha]=w(null),He=(a,o,s)=>{L({isOpen:!0,title:a,message:o,onConfirm:async()=>{await s(),L(r=>({...r,isOpen:!1}))},onCancel:()=>L(r=>({...r,isOpen:!1}))})},zs=(a,o)=>{const s=new Blob([JSON.stringify(o,null,2)],{type:"application/json;charset=utf-8"}),r=URL.createObjectURL(s),i=document.createElement("a");i.href=r,i.download=a,document.body.appendChild(i),i.click(),i.remove(),setTimeout(()=>URL.revokeObjectURL(r),1e3)},Fs=async()=>{if(!g)throw new Error("Tienda no configurada");if(!fe.currentUser||fe.currentUser.isAnonymous)throw new Error("Sesi√≥n inv√°lida");Re(!0);try{const a=await fe.currentUser.getIdToken(),o=await fetch("/api/admin/export-store",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":g,Authorization:`Bearer ${a}`},body:JSON.stringify({})}),s=await o.json().catch(()=>({}));if(!o.ok)throw new Error(s.error||"No se pudo exportar");const r=new Date().toISOString().replace(/[:.]/g,"-");zs(`backup-${g}-${r}.json`,s),p("Backup exportado.","success")}catch(a){p((a==null?void 0:a.message)||"No se pudo exportar","error")}finally{Re(!1)}},Us=async a=>{if(!g)throw new Error("Tienda no configurada");if(!fe.currentUser||fe.currentUser.isAnonymous)throw new Error("Sesi√≥n inv√°lida");ba(!0);try{const o=await a.text(),s=JSON.parse(o),r=await fe.currentUser.getIdToken(),i=await fetch("/api/admin/import-store",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":g,Authorization:`Bearer ${r}`},body:JSON.stringify({backup:s})}),n=await i.json().catch(()=>({}));if(!i.ok)throw new Error(n.error||"No se pudo importar");p(`Backup importado (${n.written||0} docs).`,"success")}catch(o){p((o==null?void 0:o.message)||"No se pudo importar","error")}finally{ba(!1)}},No=a=>{switch(a){case"premium":return 1/0;case"business":return 50;default:return 30}},qs=a=>a==="business"||a==="premium",yo=async a=>{const o=(t==null?void 0:t.subscriptionPlan)||"entrepreneur",s=No(o),r=No(a);if(r>=s){f({...t,subscriptionPlan:a}),p(`¬°Plan actualizado a ${a==="premium"?"Premium":a==="business"?"Negocio":"Emprendedor"}!`,"success");return}const i=N.filter(b=>b.isActive!==!1),n=[],c=[];if(i.length>r){const b=[...i].sort((m,h)=>{const I=Ne.filter(V=>{var T;return(T=V.items)==null?void 0:T.some(O=>O.productId===m.id)}).length;return Ne.filter(V=>{var T;return(T=V.items)==null?void 0:T.some(O=>O.productId===h.id)}).length-I});for(let m=r;m<b.length;m++)n.push(b[m])}if(!qs(a)){const b=et.filter(m=>m.isActive!==!1);c.push(...b)}if(n.length>0||c.length>0){const b=`
                ${n.length>0?`‚Ä¢ ${n.length} producto(s) ser√°n desactivados (se conservan los ${r} m√°s vendidos)
`:""}
                ${c.length>0?`‚Ä¢ ${c.length} cup√≥n(es) ser√°n desactivados (el plan ${a==="entrepreneur"?"Emprendedor":""} no incluye cupones)
`:""}
                
                Los productos y cupones NO se eliminar√°n, solo se desactivar√°n. Podr√°s reactivarlos manualmente si mejoras tu plan.
            `;He("‚ö†Ô∏è Cambio de Plan - Atenci√≥n",b,async()=>{try{for(const m of n)await he(G(E,"artifacts",g,"public","data","products",m.id),{isActive:!1,deactivatedByPlan:!0,deactivatedAt:new Date().toISOString()});for(const m of c)await he(G(E,"artifacts",g,"public","data","coupons",m.id),{isActive:!1,deactivatedByPlan:!0,deactivatedAt:new Date().toISOString()});f({...t,subscriptionPlan:a}),Rs({showWarning:!0,deactivatedProducts:n.map(m=>m.id),deactivatedCoupons:c.map(m=>m.id),previousPlan:o,newPlan:a}),p(`Plan cambiado. ${n.length} producto(s) y ${c.length} cup√≥n(es) fueron desactivados.`,"warning")}catch(m){console.error("Error al cambiar de plan:",m),p("Error al cambiar de plan","error")}})}else f({...t,subscriptionPlan:a}),p(`Plan actualizado a ${a==="premium"?"Premium":a==="business"?"Negocio":"Emprendedor"}`,"success")},Bs=async a=>{const o=(t==null?void 0:t.subscriptionPlan)||"entrepreneur",s=No(o);if(N.filter(i=>i.isActive!==!1).length>=s){p(`Has alcanzado el l√≠mite de ${s} productos de tu plan. Mejora tu plan o desactiva otro producto primero.`,"warning");return}try{await he(G(E,"artifacts",g,"public","data","products",a),{isActive:!0,deactivatedByPlan:!1,reactivatedAt:new Date().toISOString()}),p("Producto reactivado correctamente","success")}catch(i){console.error("Error al reactivar producto:",i),p("Error al reactivar producto","error")}},Gs=async a=>{try{await he(G(E,"artifacts",g,"public","data","products",a),{isActive:!1,deactivatedManually:!0,deactivatedAt:new Date().toISOString()}),p("Producto desactivado correctamente","success")}catch(o){console.error("Error al desactivar producto:",o),p("Error al desactivar producto","error")}},[D,st]=w({address:"",city:"",province:"",zipCode:"",paymentChoice:"",shippingMethod:"Pickup"}),[Oe,oo]=w(null),[Vs,ko]=w(!1);de(()=>{var a,o;if(D.shippingMethod==="Delivery"&&D.paymentChoice==="Efectivo"){p("Pago en efectivo solo disponible con Retiro en Local.","info");const s=(a=t==null?void 0:t.paymentTransfer)==null?void 0:a.enabled,r=(o=t==null?void 0:t.paymentMercadoPago)==null?void 0:o.enabled;st(i=>({...i,paymentChoice:s?"Transferencia":r?"Tarjeta":""}))}},[D.shippingMethod,t]);const[Q,Je]=w({name:"",basePrice:"",stock:"",categories:[],image:"",description:"",discount:0,purchasePrice:""}),[ro,Co]=w(null),[Ws,so]=w(!1),[at,Hs]=w("store"),[xe,lt]=w({name:"",price:"",image:"",description:"",items:[]}),[Ti,ji]=w(""),[qa,Xo]=w(""),[So,Zo]=w(1),[va,Po]=w(!1),[Ro,Io]=w(null),[ae,dt]=w({code:"",type:"percentage",value:0,minPurchase:0,maxDiscount:0,expirationDate:"",targetType:"global",targetUser:"",usageLimit:"",perUserLimit:1,isActive:!0}),[Lt,Ba]=w(null),[Di,er]=w(""),[lo,Eo]=w(""),[Li,Mi]=w({email:"",role:"employee",name:""}),[Js,tr]=w(null),[ar,Ga]=w(!1),[wa,Ks]=w(null),[Oi,_i]=w(!1),[J,kt]=w({productId:"",quantity:1,price:0,customerName:"Cliente Offline",paymentMethod:"Efectivo",notes:"Venta presencial"}),[$o,or]=w(null),[Ao,rr]=w(null),[sr,lr]=w(null),[zi,Qs]=w(""),[ir,Ys]=w(""),[To,Xs]=w("all"),[Zs,Va]=w(!1),[Fi,Ui]=w(null),[qi,Rs]=w({showWarning:!1,deactivatedProducts:[],deactivatedCoupons:[],previousPlan:null,newPlan:null}),[ct,Na]=w(null),[el,ya]=w(!1),[nr,mt]=w(null),it=Ie(!1),tl=Ie(null),al=a=>{kt({productId:a.id,quantity:1,price:Number(a.basePrice)||0,customerName:"Cliente Offline",paymentMethod:"Efectivo",notes:"Venta presencial"}),Ga(!0)},ol=async()=>{var a,o;if(J.productId){if(J.quantity<=0){p("La cantidad debe ser mayor a 0","error");return}Kt(!0);try{const s=G(E,"artifacts",g,"public","data","products",J.productId),r=await Wt(s);if(!r.exists())throw new Error("Producto no encontrado");const i=Number(r.data().stock)||0;if(i<J.quantity){p(`Stock insuficiente. Solo quedan ${i} unidades.`,"error"),Kt(!1);return}const n=J.quantity*J.price,c={orderId:Date.now().toString().slice(-6),date:new Date().toISOString(),status:"Realizado",source:"manual_sale",userId:"manual_admin",customer:{name:J.customerName||"Cliente Mostrador",email:"-",phone:"-",dni:"-"},items:[{id:J.productId,title:((a=N.find(b=>b.id===J.productId))==null?void 0:a.name)||"Producto",quantity:J.quantity,unit_price:J.price,image:((o=N.find(b=>b.id===J.productId))==null?void 0:o.image)||""}],total:n,paymentMethod:J.paymentMethod,notes:J.notes};await bt(ve(E,"artifacts",g,"public","data","orders"),c),await he(s,{stock:Da(-J.quantity)}),p("Venta registrada exitosamente","success"),Ga(!1)}catch(s){console.error("Error en venta manual:",s),p("Error al registrar venta: "+s.message,"error")}finally{Kt(!1)}}},Bi=Ie(null),p=(a,o="info")=>{const s=Date.now();eo(r=>[...r.filter(n=>Date.now()-n.id<3e3),{id:s,message:a,type:o}])},rl=a=>eo(o=>o.filter(s=>s.id!==a)),sl=a=>{var r,i;const o=(a==null?void 0:a.targetType)||(a!=null&&a.promoId?"promo":a!=null&&a.productId?"product":"none"),s=(a==null?void 0:a.targetId)||(a==null?void 0:a.promoId)||(a==null?void 0:a.productId)||"";if(!(!s||o==="none")){if(o==="product"){const n=N.find(c=>String(c.id).trim()===String(s).trim());if(n){ha(n);return}p("Este banner apunta a un producto que ya no existe.","warning"),(r=document.getElementById("catalog"))==null||r.scrollIntoView({behavior:"smooth"});return}if(o==="promo"){const n=oe.find(b=>String(b.id).trim()===String(s).trim());if(!n){p("Este banner apunta a una promo que ya no existe.","warning"),(i=document.getElementById("catalog"))==null||i.scrollIntoView({behavior:"smooth"});return}let c=1/0;(n.items||[]).forEach(b=>{const m=N.find(k=>k.id===b.productId),h=m&&Number(m.stock)||0,I=Math.floor(h/(Number(b.quantity)||1));I<c&&(c=I)}),Number.isFinite(c)||(c=0),ha({...n,isPromo:!0,stock:c})}}},Wa=a=>{if(!a)return"user";const o=a.trim().toLowerCase();if(o===Ee.toLowerCase())return"admin";if(d&&d.email&&d.email.trim().toLowerCase()===o&&d.role&&d.role!=="user")return d.role;if(!t||!je)return"loading";const r=((t==null?void 0:t.team)||[]).find(i=>i.email&&i.email.trim().toLowerCase()===o);if(r)return r.role;if(qe&&qe.length>0){const i=qe.find(n=>n.email&&n.email.trim().toLowerCase()===o);if(i&&i.role)return i.role}return"user"},io=a=>Wa(a)==="admin",ll=a=>Wa(a)==="editor",il=a=>Wa(a)==="loading",jo=a=>{const o=Wa(a);return o==="loading"?!1:o==="admin"||o==="editor"||o==="employee"},Ke=io((K==null?void 0:K.email)||(d==null?void 0:d.email)),nl=!!(K!=null&&K.email&&Ee&&K.email.trim().toLowerCase()===Ee.trim().toLowerCase()),Mt=oa(()=>{var o;if(!Ke)return null;const a=(o=Ne==null?void 0:Ne[0])==null?void 0:o.date;return typeof a=="string"?a:null},[Ke,Ne]),dr=typeof(t==null?void 0:t.ordersLastSeenIso)=="string"?t.ordersLastSeenIso:null,Ha=!!(Mt&&(!dr||Mt>dr)),dl=ra(()=>{Ko(a=>{const o=!a;try{localStorage.setItem("sustore_admin_order_alarm_muted",o?"1":"0")}catch{}return o})},[]),Ot=ra(async()=>{$.current=!1,Yt.current&&(clearInterval(Yt.current),Yt.current=null);const a=Qt.current;if(Qt.current=null,a)try{await a.close()}catch{}},[]),no=ra(async a=>{if(!Ke||!g)return;const o=typeof a=="string"&&a?a:new Date().toISOString();if(re.current!==o){re.current=o;try{await he(G(E,"artifacts",g,"public","data","settings","config"),{ordersLastSeenIso:o})}catch{}}},[Ke,g]),Do=ra(async()=>{if(!Ke||rt||$.current)return;const a=window.AudioContext||window.webkitAudioContext;if(!a)return;const o=Qt.current||new a;Qt.current=o;const s=i=>{const n=o.createOscillator(),c=o.createGain();n.type="triangle",n.frequency.value=880,c.gain.setValueAtTime(1e-4,i),c.gain.exponentialRampToValueAtTime(.12,i+.01),c.gain.exponentialRampToValueAtTime(1e-4,i+.09),n.connect(c),c.connect(o.destination),n.start(i),n.stop(i+.1)},r=()=>{const i=o.currentTime;s(i),s(i+.18)};try{o.state==="suspended"&&await o.resume()}catch{}if(o.state!=="running"){X.current||(p("Pedido nuevo: toc√°/clic para habilitar sonido","warning"),X.current=!0),j.current||(j.current=!0,window.addEventListener("pointerdown",async()=>{var i;j.current=!1;try{((i=Qt.current)==null?void 0:i.state)==="suspended"&&await Qt.current.resume()}catch{}Ha&&!(l==="admin"&&v==="orders")&&!rt&&Do()},{once:!0,capture:!0}));return}$.current=!0,r(),Yt.current=setInterval(r,2e3)},[Ke,rt,Ha,l,v]);de(()=>{const a=typeof window!="undefined"&&window.location&&window.location.hostname?String(window.location.hostname).trim().toLowerCase():"",o=a.startsWith("www.")?a.slice(4):a;if(!o){Ze({status:"unconfigured",hostname:a,normalizedHostname:o,storeId:null,error:"hostname-empty"}),_(null);return}if(o==="localhost"||o==="127.0.0.1"){Ze({status:"resolved",hostname:a,normalizedHostname:o,storeId:ua,error:null}),_(ua);return}if(o.endsWith(".vercel.app")){Ze({status:"resolved",hostname:a,normalizedHostname:o,storeId:ua,error:null}),_(ua);return}Ze({status:"resolving",hostname:a,normalizedHostname:o,storeId:null,error:null});let s=!1;return(async()=>{try{const i=await Wt(G(E,"storesIndex",o));if(s)return;if(i.exists()){const n=i.data()||{},c=typeof n.storeId=="string"?n.storeId.trim():"";if(c){Ze({status:"resolved",hostname:a,normalizedHostname:o,storeId:c,error:null}),_(c);return}}Ze({status:"unconfigured",hostname:a,normalizedHostname:o,storeId:null,error:null}),_(null)}catch(i){if(s)return;Ze({status:"unconfigured",hostname:a,normalizedHostname:o,storeId:null,error:(i==null?void 0:i.message)||"resolve-error"}),_(null)}})(),()=>{s=!0}},[]);const cl=ra(()=>{const o=(r=>String(r||"").trim().toLowerCase().replace(/[^a-z0-9-]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""))(se.normalizedHostname||se.hostname||"store"),s=typeof crypto!="undefined"&&typeof crypto.randomUUID=="function"?crypto.randomUUID().split("-")[0]:Math.random().toString(36).slice(2,8);return`${o}-${s}`.slice(0,80)},[se.hostname,se.normalizedHostname]),cr=ra(async a=>{const o=new Date().toISOString();await Ht(G(E,"artifacts",a,"public","data","settings","config"),{...It,createdAt:o,updatedAt:o},{merge:!0}),await Ht(G(E,"artifacts",a,"public","config"),{version:As,updatedAt:o},{merge:!0})},[]),Lo=ra(async a=>{const o=se.normalizedHostname;if(!o)throw new Error("Dominio inv√°lido");const s=String(a||"").trim();if(!s)throw new Error("StoreId inv√°lido");const r=new Date().toISOString();await Ht(G(E,"storesIndex",o),{storeId:s,hostname:o,updatedAt:r,updatedBy:(K==null?void 0:K.email)||null,createdAt:r},{merge:!0}),await cr(s),_(s),Ze(i=>({...i,status:"resolved",storeId:s,error:null}))},[cr,se.normalizedHostname,K==null?void 0:K.email]);de(()=>{x?(document.documentElement.classList.add("dark-mode"),document.body.classList.add("dark-mode")):(document.documentElement.classList.remove("dark-mode"),document.body.classList.remove("dark-mode")),localStorage.setItem("sustore_dark_mode",JSON.stringify(x))},[x]),de(()=>{if(localStorage.setItem("sustore_cart",JSON.stringify(te)),g&&d&&d.id){const o=setTimeout(async()=>{try{await Ht(G(E,"artifacts",g,"public","data","carts",d.id),{userId:d.id,userName:d.name||"Usuario",items:te.map(s=>({productId:s.product.id,quantity:s.quantity,name:s.product.name,price:s.product.basePrice})),lastUpdated:new Date().toISOString()},{merge:!0})}catch(s){console.error("Error syncing cart",s)}},800);return()=>clearTimeout(o)}},[te,d,g]),de(()=>{if(!(d!=null&&d.id)||!g||Ge.current)return;let a=!1;return(async()=>{try{const s=await Wt(G(E,"artifacts",g,"public","data","carts",d.id));if(!s.exists())return;const r=s.data()||{},i=Array.isArray(r.items)?r.items:[];if(i.length===0)return;const n=i.filter(m=>m&&m.productId&&Number(m.quantity)>0).map(m=>({product:{id:m.productId,name:typeof m.name=="string"?m.name:"",basePrice:Number(m.price)||0,image:"",category:""},quantity:Number(m.quantity)||1}));if(n.length===0)return;const c=(te||[]).map(m=>{var h;return`${((h=m==null?void 0:m.product)==null?void 0:h.id)||""}:${Number(m==null?void 0:m.quantity)||0}`}).sort().join("|"),b=n.map(m=>`${m.product.id}:${m.quantity}`).sort().join("|");if(c&&c===b){Ge.current=!0;return}a||(Te(n),Ge.current=!0)}catch{}})(),()=>{a=!0}},[g,d==null?void 0:d.id,te]),de(()=>{if(!Ke){Ot();return}typeof(t==null?void 0:t.ordersLastSeenIso)!="string"&&je&&Ne.length>0&&Mt&&no(Mt)},[Ke,je,t==null?void 0:t.ordersLastSeenIso,Ne.length,Mt,no,Ot]),de(()=>{if(!Ke){Ot();return}if(rt){Ot();return}Ha&&!(l==="admin"&&v==="orders")?Do():Ot()},[Ke,rt,Ha,l,v,Do,Ot]),de(()=>{Ke&&(l!=="admin"||v!=="orders"||Mt&&(no(Mt),Ot()))},[Ke,l,v,Mt,no,Ot]),de(()=>{N.length>0&&te.length>0&&Te(a=>{let o=!1;const s=a.map(r=>{var n,c,b,m,h,I;const i=N.find(k=>k.id===r.product.id);return i&&(i.basePrice!==((c=(n=r.product)==null?void 0:n.basePrice)!=null?c:0)||i.name!==((m=(b=r.product)==null?void 0:b.name)!=null?m:"")||i.image!==((I=(h=r.product)==null?void 0:h.image)!=null?I:""))?(o=!0,{...r,product:{...i,basePrice:Number(i.basePrice)||0}}):r});return o?s:a})},[N]),de(()=>{if(!g)return;const a=G(E,"artifacts",g,"public","config"),o=xt(a,s=>{if(s.exists()){const r=s.data();r.version&&r.version!==As&&(console.log(`Nueva versi√≥n detectada: ${r.version}. Actualizando...`),window.location.reload())}});return()=>o()},[g]),de(()=>{d&&d.id&&d.email&&d.name?(localStorage.setItem("sustore_user_data",JSON.stringify(d)),st(a=>({...a,address:d.address||a.address,city:d.city||a.city,province:d.province||a.province,zipCode:d.zipCode||a.zipCode}))):d||localStorage.removeItem("sustore_user_data")},[d]),de(()=>{let a=!1,o=!1;const s=async()=>{if(!o){o=!0;try{typeof __initial_auth_token!="undefined"&&__initial_auth_token?await Ss(fe,__initial_auth_token):await li(fe)}catch(r){console.error("Error en bootstrap Auth:",r)}finally{o=!1}}};return Cs(fe,async r=>{if(ho(r),!a&&(a=!0,!r)){Pe(null),await s(),setTimeout(()=>Le(!1),300);return}(!r||r.isAnonymous)&&Pe(null),setTimeout(()=>Le(!1),300)})},[]),de(()=>{if(!g||!K||K.isAnonymous)return;let a=!1;return(async()=>{try{const s=G(E,"artifacts",g,"public","data","users",K.uid),r=await Wt(s);if(a)return;if(r.exists()){const i={id:r.id,...r.data()};i.role==="admin"&&(i._adminVerified=!0),Pe(i)}else Pe(null)}catch{a||Pe(null)}})(),()=>{a=!0}},[g,K==null?void 0:K.uid,K==null?void 0:K.isAnonymous]),de(()=>{if(t){const a=t.primaryColor||"#f97316",o=t.secondaryColor||"#8b5cf6",s=t.accentColor||"#22c55e";let r=document.getElementById("dynamic-theme-styles");r||(r=document.createElement("style"),r.id="dynamic-theme-styles",document.head.appendChild(r)),r.textContent=`
                :root {
                    --color-primary: ${a};
                    --color-secondary: ${o};
                    --color-accent: ${s};
                }
                
                /* Primary color overrides */
                .text-orange-400, .text-orange-500 { color: ${a} !important; }
                .bg-orange-400, .bg-orange-500 { background-color: ${a} !important; }
                .bg-orange-900\\/10, .bg-orange-900\\/20 { background-color: ${a}1a !important; }
                .border-orange-500, .border-orange-500\\/20, .border-orange-500\\/30, .border-orange-500\\/50 { border-color: ${a} !important; }
                .hover\\:text-orange-400:hover { color: ${a} !important; }
                .hover\\:bg-orange-400:hover, .hover\\:bg-orange-500:hover { background-color: ${a} !important; }
                .hover\\:border-orange-500:hover, .hover\\:border-orange-500\\/30:hover, .hover\\:border-orange-500\\/50:hover { border-color: ${a} !important; }
                .focus-within\\:border-orange-500\\/50:focus-within { border-color: ${a}80 !important; }
                .from-orange-400 { --tw-gradient-from: ${a} !important; }
                .to-orange-500 { --tw-gradient-to: ${a} !important; }
                .shadow-orange-500\\/30, .shadow-orange-600\\/30 { --tw-shadow-color: ${a}4d !important; }
                .ring-orange-500 { --tw-ring-color: ${a} !important; }
                .selection\\:bg-orange-500\\/30 ::selection { background-color: ${a}4d !important; }
                .selection\\:text-orange-200 ::selection { color: ${a} !important; }
                
                /* Secondary color overrides */
                .text-purple-400, .text-purple-500 { color: ${o} !important; }
                .bg-purple-400, .bg-purple-500 { background-color: ${o} !important; }
                .bg-purple-900\\/10, .bg-purple-900\\/20 { background-color: ${o}1a !important; }
                .border-purple-500, .border-purple-500\\/20 { border-color: ${o} !important; }
                .hover\\:text-purple-400:hover { color: ${o} !important; }
                .from-purple-500, .from-purple-600 { --tw-gradient-from: ${o} !important; }
                
                /* Accent color overrides */
                .text-green-400, .text-green-500 { color: ${s} !important; }
                .bg-green-400, .bg-green-500, .bg-green-600 { background-color: ${s} !important; }
                .bg-green-900\\/10 { background-color: ${s}1a !important; }
                .border-green-500, .border-green-500\\/20, .border-green-500\\/30 { border-color: ${s} !important; }
                .hover\\:text-green-400:hover { color: ${s} !important; }
                .hover\\:bg-green-400:hover, .hover\\:bg-green-500:hover { background-color: ${s} !important; }
                .shadow-green-500\\/30, .shadow-green-600\\/30 { --tw-shadow-color: ${s}4d !important; }
                
                /* Neon text effect with primary color */
                .neon-text {
                    text-shadow: 0 0 10px ${a}40, 0 0 20px ${a}20, 0 0 30px ${a}10 !important;
                }
            `}},[t==null?void 0:t.primaryColor,t==null?void 0:t.secondaryColor,t==null?void 0:t.accentColor]),de(()=>{localStorage.setItem("sustore_dark_mode",JSON.stringify(x));let a=document.getElementById("light-mode-styles");if(a||(a=document.createElement("style"),a.id="light-mode-styles",document.head.appendChild(a)),l==="admin"){a.textContent="";return}x?a.textContent="":a.textContent=`
                /* Light Mode Overrides */
                body, .bg-\\[\\#050505\\], .bg-\\[\\#0a0a0a\\], .bg-\\[\\#080808\\], .bg-\\[\\#111\\], .bg-black {
                    background-color: #f8fafc !important;
                }
                .bg-\\[\\#1a1a1a\\], .bg-zinc-800 { background-color: #ffffff !important; }
                .hover\\:bg-zinc-700:hover { background-color: #e2e8f0 !important; }
                .bg-grid {
                    background-image: linear-gradient(rgba(0,0,0,0.03) 1px, transparent 1px),
                                      linear-gradient(90deg, rgba(0,0,0,0.03) 1px, transparent 1px) !important;
                }
                .text-white { color: #0f172a !important; }
                .text-white\\/50, .text-white\\/60, .text-white\\/70, .text-white\\/80 { color: #475569 !important; }
                .hover\\:text-white:hover { color: #0f172a !important; }
                .text-slate-200 { color: #334155 !important; }
                .text-slate-300, .text-slate-400, .text-slate-500, .text-slate-600 { color: #64748b !important; }
                .bg-slate-900, .bg-slate-900\\/50, .bg-slate-800 { background-color: #ffffff !important; }
                .bg-slate-900\\/30 { background-color: rgba(255,255,255,0.8) !important; }
                .border-slate-700, .border-slate-700\\/50, .border-slate-800, .border-slate-800\\/50, .border-slate-900 { 
                    border-color: #e2e8f0 !important; 
                }
                .border-white\\/5, .border-white\\/10, .border-white\\/20 { border-color: #e2e8f0 !important; }
                .fill-white { fill: #0f172a !important; }
                .stroke-white { stroke: #0f172a !important; }
                .glass {
                    background: rgba(255, 255, 255, 0.95) !important;
                    border-color: #e2e8f0 !important;
                }
                .input-cyber {
                    background-color: #f1f5f9 !important;
                    border-color: #e2e8f0 !important;
                    color: #0f172a !important;
                }
                .input-cyber::placeholder { color: #94a3b8 !important; }
                .input-cyber:focus { border-color: var(--color-primary, #f97316) !important; }
                
                /* Cards and containers */
                .rounded-\\[2rem\\], .rounded-\\[2\\.5rem\\], .rounded-\\[1\\.5rem\\] {
                    box-shadow: 0 4px 20px rgba(0,0,0,0.05) !important;
                }
                
                /* Footer */
                footer.bg-\\[\\#050505\\] { background-color: #0f172a !important; }
                footer.bg-\\[\\#050505\\] .bg-slate-900, 
                footer.bg-\\[\\#050505\\] .bg-slate-900\\/50,
                footer.bg-\\[\\#050505\\] .bg-slate-800 { background-color: rgba(255,255,255,0.06) !important; }
                footer.bg-\\[\\#050505\\] .border-slate-800 { border-color: rgba(255,255,255,0.10) !important; }
                footer .text-white { color: #ffffff !important; }
                footer .text-slate-500, footer .text-slate-400, footer .text-slate-600 { color: #94a3b8 !important; }
                
                /* Admin panel stays dark */
                [class*="admin"] .bg-\\[\\#050505\\] { background-color: #050505 !important; }
            `},[x,l]),de(()=>{if(!K||!g)return;const a=[];let o=!1;return a.push(xt(ve(E,"artifacts",g,"public","data","products"),s=>{const r=s.docs.map(i=>{const n=i.data();return{id:i.id,...n,stock:Number(n.stock)||0}});Me(r),te.length===0&&Le(!1)},s=>{console.error("Error fetching products:",s),(s==null?void 0:s.code)==="permission-denied"||String((s==null?void 0:s.message)||"").includes("permission")?(p("Error de permisos. Reiniciando sesi√≥n...","warning"),setTimeout(()=>{fe.signOut().then(()=>window.location.reload())},2e3)):p("Error al cargar productos: "+((s==null?void 0:s.message)||"error"),"error")})),a.push(xt(G(E,"artifacts",g,"public","data","settings","config"),s=>{if(s.exists()){const r=s.data(),i=r.team||It.team,n=r.teamRoles&&typeof r.teamRoles=="object"?r.teamRoles:Object.fromEntries((i||[]).filter(b=>(b==null?void 0:b.email)&&(b==null?void 0:b.role)).map(b=>[b.email.trim().toLowerCase(),b.role])),c={...It,...r,team:i,teamRoles:n,categories:r.categories||It.categories};f(c),Ma(!0),er(r.aboutUsText||It.aboutUsText)}else f(It),Ma(!0),er(It.aboutUsText)})),(async()=>{try{const s=await Jo(ve(E,"artifacts",g,"public","data","promos"));o||we(s.docs.map(r=>({id:r.id,...r.data()})))}catch{o||we([])}try{const s=await Jo(ve(E,"artifacts",g,"public","data","homeBanners"));if(!o){const r=s.docs.map(i=>({id:i.id,...i.data()}));r.sort((i,n)=>{const c=Number.isFinite(Number(i.order))?Number(i.order):0,b=Number.isFinite(Number(n.order))?Number(n.order):0;if(c!==b)return c-b;const m=typeof i.createdAt=="string"?i.createdAt:"",h=typeof n.createdAt=="string"?n.createdAt:"";return m.localeCompare(h)}),At(r)}}catch{o||At([])}try{const s=await Jo(ve(E,"artifacts",g,"public","data","coupons"));o||Tt(s.docs.map(r=>({id:r.id,...r.data()})))}catch{o||Tt([])}})(),()=>{o=!0,a.forEach(s=>s())}},[K,g]),de(()=>{if(!K||!g)return;const a=K&&!K.isAnonymous,o=(d==null?void 0:d.role)==="admin",s=l==="admin";if(!a){Ce([]);return}if(o&&!s){Ce([]);return}const r=ve(E,"artifacts",g,"public","data","orders"),i=o?Is(r,ui("date","desc"),Es(100)):Is(r,ci("customerId","==",K.uid),Es(50));return xt(i,n=>{const c=n.docs.map(b=>({id:b.id,...b.data()}));if(!o){const b=m=>{if(!m)return 0;if(typeof(m==null?void 0:m.toMillis)=="function")return m.toMillis();const h=Date.parse(String(m));return Number.isFinite(h)?h:0};c.sort((m,h)=>b(h.date)-b(m.date))}Ce(c)})},[K,d==null?void 0:d.role,g,l]),de(()=>{if(!g)return;if(!((d==null?void 0:d.role)==="admin"&&l==="admin")){vt([]),wt([]),R([]),be([]),W([]),Xt([]);return}const s=[];return s.push(xt(ve(E,"artifacts",g,"public","data","users"),r=>{vt(r.docs.map(i=>({id:i.id,...i.data()})))})),s.push(xt(ve(E,"artifacts",g,"public","data","suppliers"),r=>{wt(r.docs.map(i=>({id:i.id,...i.data()})))})),s.push(xt(ve(E,"artifacts",g,"public","data","expenses"),r=>{R(r.docs.map(i=>({id:i.id,...i.data()})))})),s.push(xt(ve(E,"artifacts",g,"public","data","purchases"),r=>{be(r.docs.map(i=>({id:i.id,...i.data()})))})),s.push(xt(ve(E,"artifacts",g,"public","data","investments"),r=>{W(r.docs.map(i=>({id:i.id,...i.data()})))})),s.push(xt(ve(E,"artifacts",g,"public","data","carts"),r=>{const i=r.docs.map(n=>({id:n.id,...n.data()})).filter(n=>n.items&&n.items.length>0);Xt(i)})),()=>s.forEach(r=>r())},[d==null?void 0:d.role,g,l]);const co=oa(()=>{const a=new Map;for(const o of N)a.set(String(o.id).trim(),o);return a},[N]),mr=Ie(null);de(()=>{if(!g||N.length===0||!d||te.length===0)return;let a=!1;const o=[],s=te.filter(i=>{var b,m,h,I,k;const n=String(((b=i.product)==null?void 0:b.id)||"").trim(),c=co.get(n);return c?c.isActive===!1?(a=!0,o.push(`${((h=i.product)==null?void 0:h.name)||"Producto"} (No disponible actualmente)`),!1):c.isPromo&&Array.isArray(c.items)&&!c.items.every(T=>{const O=String((T==null?void 0:T.productId)||"").trim(),q=co.get(O);return!!q&&q.isActive!==!1})?(a=!0,o.push(`${((I=i.product)==null?void 0:I.name)||"Promo"} (Componente inv√°lido)`),!1):Number(c.stock)>0?!0:(a=!0,o.push(`${((k=i.product)==null?void 0:k.name)||"Producto"} (Sin Stock)`),!1):(a=!0,o.push(`${((m=i.product)==null?void 0:m.name)||"Producto"} (Producto eliminado)`),!1)}).map(i=>{var c,b,m,h,I;const n=co.get(String(((c=i.product)==null?void 0:c.id)||"").trim());return n&&(((m=(b=i.product)==null?void 0:b.basePrice)!=null?m:0)!==n.basePrice||((I=(h=i.product)==null?void 0:h.discount)!=null?I:0)!==n.discount)&&(a=!0),{...i,product:n||i.product}});if(!a)return;Te(s);const r=JSON.stringify(s.map(i=>{var n,c,b;return{id:String(((n=i.product)==null?void 0:n.id)||""),q:i.quantity,p:(c=i.product)==null?void 0:c.basePrice,d:(b=i.product)==null?void 0:b.discount}}));mr.current!==r&&(mr.current=r,Ht(G(E,"artifacts",g,"public","data","carts",d.id),{userId:d.id,items:s},{merge:!0}),o.length>0&&p(`Tu carrito se actualiz√≥: ${o.join(", ")}`,"info"))},[co,d==null?void 0:d.id,te,g]);const Mo=Ie(null);de(()=>{if(!g||!je||!t)return;const a=JSON.stringify(t);if(Mo.current===a)return;const o=setTimeout(async()=>{try{if((d==null?void 0:d.role)!=="admin"){Mo.current=a;return}const k=G(E,"artifacts",g,"public","data","settings","config"),V=(t==null?void 0:t.team)||It.team,T=t!=null&&t.teamRoles&&typeof t.teamRoles=="object"?t.teamRoles:Object.fromEntries((V||[]).filter(q=>(q==null?void 0:q.email)&&(q==null?void 0:q.role)).map(q=>[q.email.trim().toLowerCase(),q.role])),O={...t,teamRoles:T};await Ht(k,O,{merge:!0}),Mo.current=JSON.stringify(O),console.log("[AutoSave] Settings saved successfully.")}catch(k){console.error("[AutoSave] Error saving settings:",k)}},2e3),s=(k,V)=>{const T=document.querySelector(k);T&&V&&T.setAttribute("content",V)},r=(k,V)=>{const T=document.getElementById(k);T&&V&&T.setAttribute("content",V)},i=(k,V)=>{const T=document.getElementById(k);T&&V&&T.setAttribute("href",V)},n=t.seoTitle||(t.storeName?`${t.storeName} - Tienda Online`:"Tienda Online");document.title=n;const c=t.seoDescription||`${t.storeName||"Tienda"} - Tu tienda online de confianza.`;r("meta-description",c);const b=t.seoKeywords||`${t.storeName||"tienda"}, productos, comprar, env√≠os`;r("meta-keywords",b);const m=t.seoAuthor||t.storeName||"Tienda Online";r("meta-author",m),r("meta-apple-title",t.storeName||"Tienda"),t.primaryColor&&r("meta-theme-color",t.primaryColor),t.seoUrl&&i("link-canonical",t.seoUrl);const h=t.seoImage||t.logoUrl||t.heroUrl||"";r("og-title",n),r("og-description",c),r("og-site-name",t.storeName||"Tienda Online"),t.seoUrl&&r("og-url",t.seoUrl),h&&r("og-image",h),r("twitter-title",n),r("twitter-description",c),h&&r("twitter-image",h);const I=document.getElementById("dynamic-favicon")||document.querySelector("link[rel*='icon']");if(I)if(t.logoUrl){const k=new Image;k.crossOrigin="Anonymous",k.onload=()=>{try{const V=document.createElement("canvas");V.width=64,V.height=64;const T=V.getContext("2d");T.beginPath(),T.arc(32,32,32,0,Math.PI*2),T.closePath(),T.clip(),T.drawImage(k,0,0,64,64),I.href=V.toDataURL("image/png")}catch{I.href=t.logoUrl}},k.onerror=()=>{I.href=t.logoUrl},k.src=t.logoUrl}else I.href="/icon-192.png";return console.log("[SEO & AutoSave] Updated and Autosaved."),()=>clearTimeout(o)},[t,je,d==null?void 0:d.role]);const ml=async a=>{Le(!0);try{const o=String(ee.email||"").trim().toLowerCase()===String(Ee||"").trim().toLowerCase(),s=String(window.location.hostname||"").trim().toLowerCase(),r=s==="localhost"||s==="127.0.0.1"||s==="::1";if(!g&&!o)throw new Error("Tienda no configurada para este dominio.");const i=g?["artifacts",g,"public","data","users"]:null,n=async m=>{if(!i)return null;const h=await Wt(G(E,...i,m));return h.exists()?{id:h.id,...h.data()}:null},c=async m=>{if(!g)return;const h=await m.getIdToken(),I=await fetch("/api/auth/setup-profile",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":g||"",Authorization:`Bearer ${h}`},body:JSON.stringify({name:ee.name,username:ee.username,dni:ee.dni,phone:ee.phone})}),k=await I.json().catch(()=>({}));if(!I.ok)throw new Error(k.error||"Error al crear el perfil")},b=async m=>{if(!g)return;const h=await m.getIdToken();await fetch("/api/auth/claim-legacy-profile",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":g||"",Authorization:`Bearer ${h}`},body:JSON.stringify({})})};if(a){const m=ee.email.trim().toLowerCase();if(!ee.name||ee.name.trim().length<3)throw new Error("El nombre es muy corto.");if(!ee.username||ee.username.trim().length<3)throw new Error("Debes elegir un nombre de usuario.");if(!m||!m.includes("@"))throw new Error("Email inv√°lido.");if(!ee.password||ee.password.length<6)throw new Error("La contrase√±a debe tener al menos 6 caracteres.");if(!ee.dni||ee.dni.trim().length<6)throw new Error("Debes ingresar tu DNI (m√≠nimo 6 d√≠gitos).");if(!ee.phone||ee.phone.trim().length<8)throw new Error("Debes ingresar tu tel√©fono (m√≠nimo 8 d√≠gitos).");const h=await ni(fe,m,ee.password);try{await c(h.user)}catch(O){try{await h.user.delete()}catch{}throw O}const I=await n(h.user.uid);if(!I)throw new Error("No se pudo cargar el perfil");const k=String((I==null?void 0:I.emailLower)||(I==null?void 0:I.email)||"").trim().toLowerCase(),V=String(Ee||"").trim().toLowerCase(),T=V&&k===V?{...I,role:"admin"}:I;Pe(T),p("¬°Cuenta creada exitosamente! Bienvenido.","success")}else{const m=ee.email.trim();if(!m)throw new Error("Ingresa tu email o usuario.");if(!ee.password)throw new Error("Ingresa tu contrase√±a.");let h=m.toLowerCase(),I=null;if(!m.includes("@")){const q=await fetch("/api/auth/username-lookup",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":g||""},body:JSON.stringify({username:m})}),ne=await q.json().catch(()=>({}));if(!q.ok)throw new Error("Usuario no encontrado.");h=String(ne.email||"").toLowerCase()}try{I=(await Ps(fe,h,ee.password)).user}catch(q){const ne=(q==null?void 0:q.code)||"";if(ne==="auth/user-not-found"||new Set(["auth/invalid-credential","auth/invalid-login-credentials"]).has(ne)){const Qe=await fetch("/api/auth/legacy-login",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":g||""},body:JSON.stringify({identifier:m,password:ee.password})}),ut=await Qe.text().catch(()=>"");let Ye={};try{Ye=ut?JSON.parse(ut):{}}catch{Ye={}}if(!Qe.ok||!(Ye!=null&&Ye.token)){if(Qe.status===401)throw/<html/i.test(ut)||/login\s*‚Äì\s*vercel/i.test(ut)||/vercel/i.test(ut)?new Error("Tu despliegue est√° respondiendo 401 (Vercel protegido). Desactiv√° Deployment Protection / Vercel Authentication o hac√© el sitio p√∫blico."):new Error("Credenciales incorrectas.");if((Ye==null?void 0:Ye.code)==="firebase_admin_not_configured")throw new Error(Ye.error||"Backend no configurado (Firebase Admin)");if(o){if(!r)throw new Error("El Super Admin no se inicializa desde Vercel. Crealo en Firebase Auth (Authentication > Users) o inicializalo en localhost.");const Ja=await fetch("/api/auth/bootstrap-super-admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h,password:ee.password})});if(Ja.ok)I=(await Ps(fe,h,ee.password)).user;else{const Sa=await Ja.json().catch(()=>({}));throw new Error((Sa==null?void 0:Sa.error)||"No se pudo inicializar el Super Admin")}}if(!I)throw new Error(Ye.error||"No se pudo recuperar tu cuenta legacy")}I=(await Ss(fe,Ye.token)).user}else throw ne==="auth/wrong-password"?new Error("La contrase√±a es incorrecta."):ne==="auth/too-many-requests"?new Error("Demasiados intentos fallidos. Intenta m√°s tarde o restablece tu contrase√±a."):q}if(!I)throw new Error("Error al iniciar sesi√≥n");if(!i){const q=String(I.email||h).toLowerCase(),ne=String(Ee||"").trim().toLowerCase();Pe({id:I.uid,name:I.displayName||"Usuario",email:I.email||h,emailLower:(I.email||h).toLowerCase(),role:ne&&q===ne?"admin":"user"}),p("Sesi√≥n iniciada. Vincul√° el dominio para cargar la tienda.","success"),u("store"),jt({email:"",password:"",name:"",username:"",dni:"",phone:""});return}let k=await n(I.uid);if(k||(await b(I),k=await n(I.uid)),!k){const q={name:I.displayName||"Usuario",email:I.email||h,emailLower:(I.email||h).toLowerCase(),role:String(I.email||h).trim().toLowerCase()===String(Ee||"").trim().toLowerCase()?"admin":"user",createdAt:new Date().toISOString()};await Ht(G(E,...i,I.uid),q,{merge:!0}),k=await n(I.uid)}await he(G(E,...i,I.uid),{lastLogin:new Date().toISOString()}).catch(()=>{});const V=String((k==null?void 0:k.emailLower)||(k==null?void 0:k.email)||"").trim().toLowerCase(),T=String(Ee||"").trim().toLowerCase(),O=T&&V===T?{...k,role:"admin"}:k;Pe(O),p(`¬°Hola de nuevo, ${(k==null?void 0:k.name)||"Usuario"}!`,"success")}u("store"),jt({email:"",password:"",name:"",username:"",dni:"",phone:""})}catch(o){console.error("Error de autenticaci√≥n:",o),p(o.message||"Error de autenticaci√≥n","error")}finally{Le(!1)}},Gi=async()=>{if(!ee.email||!ee.email.includes("@")){p("Ingresa tu email en el campo de arriba para recuperar la contrase√±a.","warning");return}Le(!0);try{await ii(fe,ee.email),p("¬°Listo! Revisa tu email (y spam) para restablecer tu contrase√±a.","success")}catch(a){console.error("Error reset pass:",a),a.code==="auth/user-not-found"?p("No existe una cuenta registrada con este email.","error"):p("Error al enviar email: "+a.message,"error")}finally{Le(!1)}},ur=async a=>{if(!d){p("Debes iniciar sesi√≥n para guardar favoritos.","info");return}const o=d.favorites||[],s=o.includes(a.id);let r=[];s?(r=o.filter(i=>i!==a.id),p("Eliminado de tus favoritos.","info")):(r=[...o,a.id],p("¬°Guardado en favoritos!","success")),Pe(i=>({...i,favorites:r}));try{const i=G(E,"artifacts",g,"public","data","users",d.id);await he(i,{favorites:r})}catch(i){console.error("Error guardando favorito:",i)}},_t=(a,o)=>{Te(s=>{const r=s.findIndex(b=>b.product.id===a.id),n=(r>=0?s[r].quantity:0)+o;let c=0;if(a.isPromo){let b=1/0;a.items.forEach(m=>{const h=N.find(V=>V.id===m.productId),I=h&&Number(h.stock)||0,k=Math.floor(I/m.quantity);k<b&&(b=k)}),c=b}else c=Number(a.stock);if(n>c)return p(`Lo sentimos, el stock m√°ximo disponible es ${c}.`,"warning"),s;if(n<=0)return r>=0?(p("Producto eliminado del carrito.","info"),s.filter(b=>b.product.id!==a.id)):s;if(r>=0){const b=[...s];return b[r]={...b[r],quantity:n},b}else return p("¬°Producto agregado al carrito!","success"),[...s,{product:a,quantity:n}]})},ka=(a,o)=>{if(!o||o<=0)return Number(a);const s=Number(a)*(1-o/100);return Math.ceil(s)},nt=oa(()=>te.reduce((a,o)=>{var r,i,n,c;const s=ka((i=(r=o.product)==null?void 0:r.basePrice)!=null?i:0,(c=(n=o.product)==null?void 0:n.discount)!=null?c:0);return a+s*(o.quantity||0)},0),[te]),pr=(a,o)=>{if(!o||o.expirationDate&&new Date(o.expirationDate)<new Date)return 0;let s=0;return o.type==="fixed"?(s=o.value,s>a&&(s=a)):o.type==="percentage"&&(s=a*(o.value/100),o.maxDiscount&&o.maxDiscount>0&&s>o.maxDiscount&&(s=o.maxDiscount)),Math.ceil(s)},ul=(a,o)=>{const s=(a||"").trim();if(!s)return null;try{const r=new URL(s);return r.searchParams.set("text",o),r.toString()}catch{const r=s.replace(/[^\d]/g,"");return r?`https://wa.me/${r}?text=${encodeURIComponent(o)}`:null}},pl=a=>!(!a||a.targetType==="specific_email"&&(d!=null&&d.email)&&a.targetUser&&a.targetUser.toLowerCase()!==d.email.toLowerCase()||a.expirationDate&&new Date(a.expirationDate)<new Date||a.usageLimit&&a.usedBy&&a.usedBy.length>=a.usageLimit||nt<(a.minPurchase||0)||!(d!=null&&d.dni)),bl=()=>{const a=(t==null?void 0:t.currency)||"$",o=(t==null?void 0:t.storeName)||"la tienda",s=[];if(s.push(`Hola, quiero terminar mi compra por WhatsApp en ${o}.`),d!=null&&d.name){const h=[d.name];d.email&&h.push(d.email),d.phone&&h.push(d.phone),s.push(`Cliente: ${h.join(" - ")}`)}else d!=null&&d.email&&s.push(`Cliente: ${d.email}`);s.push(""),s.push("Mi carrito:"),te.forEach(h=>{var O,q,ne,Fe,Qe;const I=((O=h.product)==null?void 0:O.name)||"Producto",k=Number(h.quantity)||0,V=ka((ne=(q=h.product)==null?void 0:q.basePrice)!=null?ne:0,(Qe=(Fe=h.product)==null?void 0:Fe.discount)!=null?Qe:0),T=Math.ceil(V*k);s.push(`- ${k} x ${I} ‚Äî ${a}${V.toLocaleString()} c/u ‚Äî ${a}${T.toLocaleString()}`)});const r=pl(Oe)?Oe:null,i=r?pr(nt,r):0,n=Math.max(0,Number(nt)||0),c=Math.max(0,Number(Ca)||0),b=Math.max(0,n-i+c);s.push(""),s.push(`Subtotal: ${a}${n.toLocaleString()}`),r&&i>0&&(s.push(`Cup√≥n: ${r.code}`),s.push(`Descuento: -${a}${i.toLocaleString()}`));const m=D.shippingMethod==="Delivery"?"Env√≠o a domicilio":"Retiro en local";return s.push(`${m}: ${c>0?`${a}${c.toLocaleString()}`:"Gratis"}`),s.push(`Total estimado: ${a}${b.toLocaleString()}`),s.join(`
`)},mo=Oe?pr(nt,Oe):0,Ca=oa(()=>{if(D.shippingMethod!=="Delivery")return 0;const a=t==null?void 0:t.shippingDelivery;return!(a!=null&&a.enabled)||a.freeAbove>0&&nt>=a.freeAbove?0:Number(a.fee)||0},[D.shippingMethod,nt,t==null?void 0:t.shippingDelivery]),ta=Math.max(0,nt-mo+Ca),xl=async a=>{if(a.targetType==="specific_email"&&d&&a.targetUser&&a.targetUser.toLowerCase()!==d.email.toLowerCase())return p("Este cup√≥n no est√° disponible para tu cuenta.","error");if(new Date(a.expirationDate)<new Date)return p("Este cup√≥n ha vencido.","error");if(a.usageLimit&&a.usedBy&&a.usedBy.length>=a.usageLimit)return p("Este cup√≥n ha agotado sus usos totales.","error");if(nt<(a.minPurchase||0))return p(`El monto m√≠nimo para este cup√≥n es $${a.minPurchase}.`,"warning");if(!(d!=null&&d.dni))return p("Debes actualizar tu DNI en el perfil para usar cupones.","warning");oo(a),ko(!1);let o="¬°Cup√≥n aplicado correctamente!";a.type==="percentage"&&a.maxDiscount>0&&(o+=` (Tope de reintegro: $${a.maxDiscount})`),p(o,"success")},Vi=async(a,o)=>{try{await fetch("/api/payment",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":g||""},body:JSON.stringify({orderId:a.orderId,customer:a.customer,items:a.items,total:a.total,subtotal:a.subtotal,discountDetails:o,shipping:a.shippingAddress,shippingFee:a.shippingFee,shippingMethod:a.shippingMethod,paymentMethod:a.paymentMethod,date:a.date})}),console.log("Correo de confirmaci√≥n enviado enviada API.")}catch(s){console.error("Error al enviar email autom√°tico:",s)}},br=async()=>{const a=fe.currentUser;if(a&&!a.isAnonymous)return a;const o=await new Promise(s=>{let r=null;const i=setTimeout(()=>{r&&r(),s(fe.currentUser)},1200);r=Cs(fe,n=>{clearTimeout(i),r(),s(n)})});return o&&!o.isAnonymous?o:null},fl=async()=>{if(!gt)try{const a=await br();if(!a)return u("login"),p("Por favor inicia sesi√≥n para finalizar la compra.","info");let o=d;if(!o&&g)try{const n=await Wt(G(E,"artifacts",g,"public","data","users",a.uid));if(n.exists()){const c={id:n.id,...n.data()};c.role==="admin"&&(c._adminVerified=!0),Pe(c),o=c}}catch{}if(!o)return u("login"),p("Por favor inicia sesi√≥n para finalizar la compra.","info");if(!o.name||!o.phone||!o.dni)return u("profile"),p("Por favor completa tus datos personales (Nombre, Tel√©fono y DNI) en tu perfil antes de comprar.","warning");if(D.shippingMethod==="Delivery"&&(!D.address||!D.city||!D.province||!D.zipCode))return p("Por favor completa TODOS los datos de env√≠o.","warning");if(!D.paymentChoice)return p("Selecciona un m√©todo de pago.","warning");if(D.paymentChoice==="Tarjeta")throw new Error("Para pagar con tarjeta us√° el formulario de Mercado Pago.");Kt(!0),p("Procesando tu pedido, por favor espera...","info");const s=await a.getIdToken(!0),r=await fetch("/api/orders/confirm",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":g||"",Authorization:`Bearer ${s}`},body:JSON.stringify({paymentMethod:D.paymentChoice,shippingMethod:D.shippingMethod,shipping:{address:D.address,city:D.city,province:D.province,zipCode:D.zipCode,fee:Ca},couponCode:(Oe==null?void 0:Oe.code)||null,cart:te.map(n=>{var c;return{productId:(c=n.product)==null?void 0:c.id,quantity:n.quantity}})})}),i=await r.json().catch(()=>({}));if(r.status===401)throw u("login"),new Error("Tu sesi√≥n venci√≥. Inici√° sesi√≥n nuevamente para finalizar la compra.");if(!r.ok)throw new Error(i.error||"Error al procesar el pedido");Te([]),oo(null),u("profile"),p("¬°Pedido realizado con √©xito! Te enviamos un email con el detalle.","success")}catch(a){console.error("Error al procesar pedido:",a),p(a.message||"Ocurri√≥ un error al procesar el pedido.","error")}finally{Kt(!1)}},xr=async()=>{if(it.current)return;if(ya(!1),mt(null),console.log("üíé Mercado Pago: Iniciando Brick. Total a cobrar:",ta),!window.MercadoPago)try{await(async()=>{window.MercadoPago||await new Promise((b,m)=>{const h=document.createElement("script");h.src="https://sdk.mercadopago.com/js/v2",h.async=!0,h.onload=b,h.onerror=m,document.head.appendChild(h)})})()}catch{mt("No se pudo cargar el sistema de pagos. Intent√° nuevamente.");return}const a=Number(parseFloat(ta).toFixed(2));if(isNaN(a)||a<=0){console.error("‚ùå Error: Monto inv√°lido para pago:",ta);return}if(!document.getElementById("cardPaymentBrick_container"))return;it.current=!0;const s=setTimeout(()=>{it.current&&(console.warn("‚ö†Ô∏è Mercado Pago: La inicializaci√≥n est√° tardando demasiado. Liberando bloqueo..."),it.current=!1)},1e4);if(ct){try{await ct.unmount()}catch(b){console.warn("Error unmounting:",b)}Na(null)}const r=document.getElementById("cardPaymentBrick_container");r&&(r.innerHTML="",r.style.display="none",r.offsetHeight,r.style.display="block"),mt(null);const i=await bi();if(!i){it.current=!1,clearTimeout(s),mt("Mercado Pago no est√° configurado. Verific√° la clave p√∫blica en el servidor.");return}const c=new window.MercadoPago(i,{locale:"es-AR"}).bricks();try{const b=await c.create("cardPayment","cardPaymentBrick_container",{initialization:{amount:a},customization:{visual:{style:{theme:"default",customVariables:{formBackgroundColor:"#0f172a",baseColor:"#f97316",borderRadiusMedium:"12px",borderRadiusLarge:"16px",textPrimaryColor:"#000000",textSecondaryColor:"#334155"}}},paymentMethods:{maxInstallments:12}},callbacks:{onReady:()=>{console.log("‚úÖ Mercado Pago: Card Payment Brick cargado."),it.current=!1,clearTimeout(s)},onSubmit:async m=>{var h,I,k,V;if(console.log("üöÄ Mercado Pago: Procesando pago..."),ya(!0),mt(null),!m.token){ya(!1),mt("Error en los datos de la tarjeta. Por favor intent√° nuevamente."),p("Error al procesar los datos de la tarjeta.","error");return}try{const T=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"process_payment",paymentData:{token:m.token,transaction_amount:a,description:`Compra en ${(t==null?void 0:t.storeName)||"Tienda Online"}`,installments:m.installments||1,payment_method_id:m.payment_method_id||"",issuer_id:m.issuer_id||""},payer:{email:(d==null?void 0:d.email)||"sin-email@tienda.com",identificationType:((I=(h=m.payer)==null?void 0:h.identification)==null?void 0:I.type)||"DNI",identificationNumber:((V=(k=m.payer)==null?void 0:k.identification)==null?void 0:V.number)||"00000000"}})}),O=await T.json().catch(()=>({}));if(console.log("üì¶ Respuesta:",O),!T.ok){const q=(O==null?void 0:O.error)||(O==null?void 0:O.message)||`Error procesando pago (${T.status})`;throw new Error(q)}if(O.status==="approved"||O.status==="in_process"||O.status==="pending"){if(await gl(O.id),p("¬°Compra realizada!","success"),ya(!1),it.current=!1,ct){try{await ct.unmount()}catch(q){console.log(q)}Na(null)}}else{const ne={cc_rejected_high_risk:"El pago fue rechazado por controles de seguridad de Mercado Pago. Te recomendamos probar con otra tarjeta o medio de pago.",cc_rejected_insufficient_amount:"Tu tarjeta no tiene fondos suficientes.",cc_rejected_bad_filled_other:"Revis√° los datos de tu tarjeta.",cc_rejected_bad_filled_date:"La fecha de vencimiento es incorrecta.",cc_rejected_bad_filled_security_code:"El c√≥digo de seguridad es incorrecto.",cc_rejected_call_for_authorize:"Deb√©s autorizar el pago llamando a tu banco.",cc_rejected_card_disabled:"Tu tarjeta est√° inactiva. Llam√° a tu banco para activarla.",cc_rejected_max_attempts:"Llegaste al l√≠mite de intentos permitidos. Us√° otra tarjeta.",cc_rejected_duplicated_payment:"Ya hiciste un pago similar recientemente. Esper√° unos minutos."}[O.status_detail]||O.status_detail||O.error||"Pago rechazado";if(console.error("‚ùå Motivo del rechazo:",ne),ct){try{await ct.unmount()}catch(Fe){console.log("Error al desmontar brick tras falla:",Fe)}Na(null)}it.current=!1,ya(!1),mt(`${ne}`),p("El pago no se pudo completar. Revis√° los detalles.","error")}}catch(T){console.error("‚ùå Error de conexi√≥n:",T),ya(!1),mt("Error de conexi√≥n con el servidor. Revis√° tu internet e intent√° de nuevo."),p("Error de conexi√≥n.","error")}},onError:m=>{console.error("‚ùå Mercado Pago Error:",m),it.current=!1,clearTimeout(s),!(m&&m.message&&m.message.includes("melidata"))&&mt("Error en el formulario. Verific√° tus claves de producci√≥n.")}}});Na(b)}catch(b){console.error("Error creating brick:",b),it.current=!1,clearTimeout(s),p("Error al cargar el formulario de pago.","error")}},gl=async a=>{try{const o=await br();if(!o)throw new Error("Sesi√≥n inv√°lida. Reinici√° e intent√° de nuevo.");const s=await o.getIdToken(!0),r=await fetch("/api/orders/confirm",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":g||"",Authorization:`Bearer ${s}`},body:JSON.stringify({paymentMethod:"Tarjeta",mpPaymentId:a,shippingMethod:D.shippingMethod,shipping:{address:D.address,city:D.city,province:D.province,zipCode:D.zipCode,fee:Ca},couponCode:(Oe==null?void 0:Oe.code)||null,cart:te.map(n=>{var c;return{productId:(c=n.product)==null?void 0:c.id,quantity:n.quantity}})})}),i=await r.json().catch(()=>({}));if(r.status===401)throw new Error("Tu sesi√≥n venci√≥. Inici√° sesi√≥n nuevamente e intent√° otra vez.");if(!r.ok)throw new Error(i.error||"Error guardando el pedido");if(Te([]),oo(null),ct)try{ct.unmount()}catch{}Na(null),u("profile")}catch(o){console.error("Error creating order after payment:",o),p("El pago fue exitoso pero hubo un error guardando el pedido. Contacta soporte.","warning")}};de(()=>{const a=l==="checkout",o=D.paymentChoice==="Tarjeta";if(a&&o&&ta>0&&d&&te.length>0){if(!d.name||!d.phone||!d.dni){p("Por favor complet√° tus datos personales antes de pagar con tarjeta.","warning"),u("profile");return}const s=setTimeout(()=>{document.getElementById("cardPaymentBrick_container")&&xr()},300);return()=>clearTimeout(s)}else if(ct&&(!a||!o)){console.log("Sweep: Limpiando Brick por cambio de vista o m√©todo.");try{ct.unmount()}catch{}Na(null),it.current=!1}},[D.paymentChoice,ta,d,te.length,l]);const hl=async()=>{if(!Q.name)return p("El nombre del producto es obligatorio.","warning");const a=30,o=50;if(!ro){const i=(t==null?void 0:t.subscriptionPlan)||"entrepreneur",n=i==="entrepreneur",c=i==="business";if(n&&N.length>=a)return p(`Has alcanzado el l√≠mite de ${a} productos del Plan Emprendedor. ¬°Mejora tu plan para seguir creciendo!`,"error");if(c&&N.length>=o)return p(`Has alcanzado el l√≠mite de ${o} productos del Plan Negocio. ¬°P√°sate a Premium para productos ilimitados!`,"error")}if(!Q.basePrice||Number(Q.basePrice)<=0)return p("El precio debe ser mayor a 0.","warning");const s=Array.isArray(Q.categories)?Q.categories:Q.category?[Q.category]:[];if(s.length===0)return p("Selecciona al menos una categor√≠a.","warning");const r={...Q,categories:s,basePrice:Number(Q.basePrice)||0,purchasePrice:Number(Q.purchasePrice||0),stock:Number(Q.stock)||0,discount:Number(Q.discount||0),image:Q.image||"https://via.placeholder.com/150",lastUpdated:new Date().toISOString()};"category"in r&&delete r.category;try{ro?(await he(G(E,"artifacts",g,"public","data","products",ro),r),p("Producto actualizado correctamente.","success")):(await bt(ve(E,"artifacts",g,"public","data","products"),{...r,createdAt:new Date().toISOString()}),p("Producto creado correctamente.","success")),Je({name:"",basePrice:"",purchasePrice:"",stock:"",categories:[],image:"",description:"",discount:0}),Co(null),so(!1)}catch(i){console.error(i),p("Error al guardar el producto.","error")}},zt=(a,o,s="image",r=800)=>{var c;const i=(c=a.target.files)==null?void 0:c[0];if(!i)return;if(!i.type.startsWith("image/"))return p("Por favor selecciona una imagen v√°lida.","warning");const n=new FileReader;n.onload=b=>{const m=new Image;m.onload=()=>{const h=document.createElement("canvas"),I=r,k=r;let V=m.width,T=m.height;V>T?V>I&&(T*=I/V,V=I):T>k&&(V*=k/T,T=k),h.width=V,h.height=T,h.getContext("2d").drawImage(m,0,0,V,T);const q=h.toDataURL("image/jpeg",.7);o(ne=>({...ne,[s]:q})),p("Imagen optimizada y cargada.","success")},m.src=b.target.result},n.readAsDataURL(i)},Oo=()=>{Qo(null),ea({imageUrl:"",targetType:"none",targetId:"",enabled:!0,order:0})},vl=a=>{if(!a)return;Qo(a.id);const o=a.targetType||(a.promoId?"promo":a.productId?"product":"none"),s=a.targetId||a.promoId||a.productId||"";ea({imageUrl:a.imageUrl||"",targetType:o,targetId:s,enabled:a.enabled!==!1,order:Number.isFinite(Number(a.order))?Number(a.order):0})},wl=async()=>{if(!(U!=null&&U.imageUrl))return p("Sub√≠ una imagen para el banner.","warning");const a=(U==null?void 0:U.targetType)||"none",o=(U==null?void 0:U.targetId)||"";if(a!=="none"&&!o)return p("Seleccion√° el destino del banner.","warning");const s=Number.isFinite(Number(U.order))?Number(U.order):0,r={imageUrl:U.imageUrl,enabled:U.enabled!==!1,order:s,targetType:a,targetId:a==="none"?"":String(o),productId:a==="product"?String(o):"",promoId:a==="promo"?String(o):""};try{Fa?(await he(G(E,"artifacts",g,"public","data","homeBanners",Fa),r),p("Banner actualizado.","success")):(await bt(ve(E,"artifacts",g,"public","data","homeBanners"),{...r,createdAt:new Date().toISOString()}),p("Banner creado.","success")),Oo()}catch(i){console.error(i),p("Error guardando banner: "+((i==null?void 0:i.message)||"error"),"error")}},Nl=a=>{a!=null&&a.id&&He("Eliminar Banner","¬øEliminar este banner del carrusel?",async()=>{try{await ft(G(E,"artifacts",g,"public","data","homeBanners",a.id)),p("Banner eliminado.","success"),Fa===a.id&&Oo()}catch(o){console.error(o),p("Error eliminando banner: "+((o==null?void 0:o.message)||"error"),"error")}})},yl=a=>{He("Eliminar Producto",`¬øEst√°s seguro de eliminar el producto "${a.name}"?`,async()=>{try{await ft(G(E,"artifacts",g,"public","data","products",a.id)),p("Producto eliminado correctamente.","success")}catch(o){console.error(o),p("Error al eliminar el producto.","error")}})},Wi=a=>{if(a.stock<=0)return p("No hay stock para vender.","warning");He("Venta Manual",`¬øRegistrar venta manual de 1 unidad de "${a.name}"?`,async()=>{try{await he(G(E,"artifacts",g,"public","data","products",a.id),{stock:Da(-1)}),p("Venta registrada. Stock actualizado.","success")}catch(o){console.error(o),p("Error al registrar venta manual.","error")}})},kl=a=>{He("Finalizar Pedido","¬øMarcar este pedido como REALIZADO/ENTREGADO?",async()=>{try{await he(G(E,"artifacts",g,"public","data","orders",a),{status:"Realizado",lastUpdate:new Date().toISOString()}),p("Pedido finalizado correctamente.","success")}catch(o){console.error(o),p("Error al finalizar pedido.","error")}})},Cl=a=>{He("Eliminar Pedido","¬øEliminar este pedido permanentemente? El stock de los productos ser√° devuelto al inventario.",async()=>{try{const o=G(E,"artifacts",g,"public","data","orders",a),s=await Wt(o);if(!s.exists())throw new Error("El pedido no existe o ya fue eliminado.");const r=s.data();if(r.items&&Array.isArray(r.items)){for(const i of r.items)if(i.productId&&i.quantity>0){const n=G(E,"artifacts",g,"public","data","products",i.productId);try{await he(n,{stock:Da(i.quantity)})}catch{console.warn(`Producto ${i.productId} no encontrado, no se restaur√≥ stock.`)}}}await ft(o),p("Pedido eliminado y stock restaurado exitosamente.","success")}catch(o){console.error(o),p("Error al eliminar pedido: "+o.message,"error")}})},Sl=async()=>{if(!ae.code||ae.code.length<3)return p("El c√≥digo del cup√≥n debe tener al menos 3 caracteres.","warning");if(!ae.value||Number(ae.value)<=0)return p("El valor del descuento debe ser mayor a 0.","warning");if(ae.type==="percentage"&&Number(ae.value)>100)return p("El porcentaje no puede ser mayor a 100%.","warning");if(ae.targetType==="specific_user"&&!ae.targetUser.includes("@"))return p("Si el cup√≥n es para un usuario espec√≠fico, ingresa un email v√°lido.","warning");try{const a={...ae,code:ae.code.toUpperCase().trim(),value:Number(ae.value),minPurchase:Number(ae.minPurchase||0),maxDiscount:Number(ae.maxDiscount||0),usageLimit:Number(ae.usageLimit||0),perUserLimit:Number(ae.perUserLimit||1),targetUser:ae.targetType==="global"?"":ae.targetUser,createdAt:new Date().toISOString(),usedBy:[]};await bt(ve(E,"artifacts",g,"public","data","coupons"),a),dt({code:"",type:"percentage",value:0,minPurchase:0,maxDiscount:0,expirationDate:"",targetType:"global",targetUser:"",usageLimit:"",perUserLimit:1}),p("Cup√≥n de descuento creado exitosamente.","success")}catch(a){console.error(a),p("Error al crear el cup√≥n.","error")}},Pl=async()=>{if(!De.name)return p("El nombre de la empresa es obligatorio.","warning");if(!De.phone&&!De.ig)return p("Debes ingresar al menos un m√©todo de contacto (Tel√©fono o Instagram).","warning");const a={...De,associatedProducts:De.associatedProducts||[],lastUpdated:new Date().toISOString()};try{vo?(await he(G(E,"artifacts",g,"public","data","suppliers",vo),a),p("Proveedor actualizado correctamente.","success")):(await bt(ve(E,"artifacts",g,"public","data","suppliers"),{...a,createdAt:new Date().toISOString()}),p("Proveedor registrado correctamente.","success")),Dt({name:"",contact:"",phone:"",ig:"",address:"",cuit:"",associatedProducts:[]}),wo(null),ao(!1)}catch(o){console.error(o),p("Error al guardar proveedor.","error")}},Il=a=>{He("Eliminar Compra",`¬øEliminar registro de compra? Se descontar√°n ${a.quantity} unidades del stock del producto.`,async()=>{try{await he(G(E,"artifacts",g,"public","data","products",a.productId),{stock:Da(-a.quantity)}),await ft(G(E,"artifacts",g,"public","data","purchases",a.id)),p("Compra eliminada y stock revertido.","success")}catch(o){console.error(o),p("Error al eliminar compra.","error")}})},El=async(a,o,s)=>{const r=(s.quantity||0)-(o.quantity||0);try{r!==0&&await he(G(E,"artifacts",g,"public","data","products",o.productId),{stock:Da(r)}),await he(G(E,"artifacts",g,"public","data","purchases",a),{quantity:s.quantity,cost:s.cost,supplierId:s.supplierId}),Ba(null),p("Compra actualizada y stock ajustado.","success")}catch(i){console.error(i),p("Error al actualizar la compra.","error")}},$l=async()=>{if(!lo.trim())return p("Ingresa un nombre para la categor√≠a.","warning");try{const a=[...t.categories||[],lo.trim()];await he(G(E,"artifacts",g,"public","data","settings","config"),{categories:a}),Eo(""),ga(!1),p(`Categor√≠a "${lo}" creada.`,"success")}catch(a){console.error(a),p("Error al crear categor√≠a.","error")}},Hi=(a,o,s)=>{if(!a||!s||o<=0)return p("Completa todos los campos.","warning");const r=N.find(b=>b.id===a);if(!r)return p("Producto no encontrado.","error");const i=r.purchasePrice||r.basePrice||0,n=i*o,c=We.findIndex(b=>b.productId===a);if(c>=0){const b=[...We];b[c].quantity+=o,b[c].cost=(r.purchasePrice||r.basePrice||0)*b[c].quantity,Ua(b),p(`Cantidad actualizada: ${r.name}`,"success")}else Ua([...We,{productId:a,productName:r.name,productImage:r.image,quantity:o,unitPrice:i,cost:n,supplierId:s}]),p(`Agregado al pedido: ${r.name}`,"success");za({productId:"",supplierId:s,quantity:1,cost:0,isNewProduct:!1})},Al=a=>{const o=We.filter((s,r)=>r!==a);Ua(o),p("Producto eliminado del pedido.","info")},Tl=(a,o)=>{const s=[...We];s[a].quantity=o,s[a].cost=s[a].unitPrice*o,Ua(s)},jl=async()=>{if(We.length===0)return p("El carrito de compras est√° vac√≠o.","warning");try{const a=mi(E),o=`BATCH - ${Date.now()}`,s=new Date().toISOString();for(const r of We){const i=G(ve(E,"artifacts",g,"public","data","purchases"));a.set(i,{productId:r.productId,supplierId:r.supplierId,quantity:r.quantity,cost:r.cost,batchId:o,date:s});const n=N.find(h=>h.id===r.productId),b=(isNaN(Number(n==null?void 0:n.stock))?0:Number(n.stock))+r.quantity,m=G(E,"artifacts",g,"public","data","products",r.productId);a.update(m,{stock:b})}await a.commit(),Ua([]),p(`Pedido finalizado: ${We.length} productos registrados.`,"success")}catch(a){console.error("Error in batch purchase:",a),p("Error al finalizar el pedido: "+a.message,"error")}},Y=oa(()=>{const a={},o=y=>{a[y]||(a[y]={cart:0,fav:0,sales:0,total:0})};ht.forEach(y=>{y.items&&y.items.forEach(B=>{o(B.productId),a[B.productId].cart+=1,a[B.productId].total+=1})}),qe.forEach(y=>{y.favorites&&y.favorites.forEach(B=>{o(B),a[B].fav+=1,a[B].total+=1})});const s=Ne.filter(y=>y.status==="Realizado"),r=s.reduce((y,B)=>y+(B.total||0),0),i=(P==null?void 0:P.reduce((y,B)=>y+(B.amount||0),0))||0,n=(F==null?void 0:F.reduce((y,B)=>y+(B.cost||0),0))||0,c=r-i-n,b={},m={};s.forEach(y=>{y.items&&Array.isArray(y.items)&&y.items.forEach(B=>{const _e=B.productId,Pa=Number(B.quantity)||0;b[_e]=(b[_e]||0)+Pa,m[_e]||(m[_e]={name:B.title||B.name||"Producto Desconocido",image:B.image}),o(_e),a[_e].sales+=Pa,a[_e].total+=Pa*5})});const h=Object.entries(a).map(([y,B])=>{const _e=N.find(zo=>zo.id===y),Pa=m[y]||{};return _e?{id:y,name:_e.name,image:_e.image,stock:_e.stock,stats:B}:null}).filter(Boolean).sort((y,B)=>B.stats.total-y.stats.total).slice(0,5);let I=null,k=-1;Object.entries(b).forEach(([y,B])=>{B>k&&(k=B,I=y)});let V=null;if(I){const y=N.find(_e=>_e.id===I),B=m[I];(y||B)&&(V={id:I,name:y?y.name:B.name,image:y?y.image:B.image,sales:k,stock:y?y.stock:0})}let T=null,O=1/0;N.forEach(y=>{const B=b[y.id]||0;B<O&&(O=B,T=y.id)});const q=T?N.find(y=>y.id===T):null,ne={daily:{},monthly:{},yearly:{}},Fe={};s.forEach(y=>{const B=new Date(y.date),_e=B.toISOString().split("T")[0],Pa=B.toISOString().slice(0,7),zo=B.getFullYear().toString(),Fo=(pt,Ft,aa)=>{pt[Ft]||(pt[Ft]={date:Ft,revenue:0,orders:0}),pt[Ft].revenue+=aa,pt[Ft].orders+=1};Fo(ne.daily,_e,y.total),Fo(ne.monthly,Pa,y.total),Fo(ne.yearly,zo,y.total),y.items&&y.items.forEach(pt=>{const Ft=N.find(Zr=>Zr.id===pt.productId||Zr.id===pt.id),aa=Ft?Ft.category:"Otros";Fe[aa]||(Fe[aa]={name:aa,revenue:0,items:0,percentage:0}),Fe[aa].revenue+=pt.unit_price*pt.quantity,Fe[aa].items+=pt.quantity})});const Qe={daily:Object.values(ne.daily).sort((y,B)=>y.date.localeCompare(B.date)),monthly:Object.values(ne.monthly).sort((y,B)=>y.date.localeCompare(B.date)),yearly:Object.values(ne.yearly).sort((y,B)=>y.date.localeCompare(B.date))},ut=Object.values(Fe).reduce((y,B)=>y+B.items,0),Ye=Object.values(Fe).map(y=>({...y,percentage:ut>0?Math.round(y.items/ut*100):0})).sort((y,B)=>B.items-y.items),Xr=(t==null?void 0:t.lowStockThreshold)||5,Ja=N.filter(y=>!y.promoItems&&Number(y.stock)<=Xr),Sa=[...Ne].sort((y,B)=>new Date(B.date)-new Date(y.date)).slice(0,10),ql=[...s.map(y=>({id:y.id||y.orderId,type:"income",category:"Venta",date:y.date,amount:y.total,description:`Orden #${y.orderId}`,status:y.status})),...P.map(y=>({id:y.id,type:"expense",category:y.category||"Gasto",date:y.date,amount:y.amount,description:y.description,status:"Pagado"})),...(F||[]).map(y=>({id:y.id,type:"expense",category:"Compra Stock",date:y.date,amount:y.cost,description:`Prov: ${y.supplier||"General"}`,status:"Completado"})),...(M||[]).map(y=>({id:y.id,type:"income",category:"Inversi√≥n",date:y.date,amount:y.amount,description:`Inv: ${y.investor}`,status:"Recibido"}))].sort((y,B)=>new Date(B.date)-new Date(y.date)).slice(0,100);return{revenue:r,expensesTotal:i,purchasesTotal:n,netIncome:c,trendingProducts:h,starProduct:V,leastSoldProduct:q,salesCount:b,analytics:Qe,salesByCategory:Ye,lowStockProducts:Ja,recentActivity:Sa,transactions:ql,totalOrders:Ne.length,totalUsers:qe.length}},[Ne,P,F,N,ht,qe,t]),Dl=({order:a,onClose:o})=>a?e.createElement("div",{className:"fixed inset-0 z-[160] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-fade-up"},e.createElement("div",{className:"glass rounded-[2rem] w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh] shadow-2xl border border-slate-800 relative"},e.createElement("div",{className:"p-8 border-b border-slate-800 flex justify-between items-center bg-slate-900/50"},e.createElement("div",null,e.createElement("h3",{className:"text-2xl font-black text-white flex items-center gap-2 neon-text"},"DETALLE DE PEDIDO ",e.createElement("span",{className:"text-orange-400"},"#",a.orderId)),e.createElement("div",{className:"flex items-center gap-4 mt-2"},e.createElement("span",{className:"text-slate-400 text-xs flex items-center gap-1 font-bold tracking-wider"},e.createElement(Wo,{className:"w-3 h-3"})," ",new Date(a.date).toLocaleString()),e.createElement("span",{className:`text-[10px] px-2 py-0.5 rounded border uppercase font-black tracking-widest ${a.status==="Realizado"?"bg-green-900/30 text-green-400 border-green-500/30":"bg-yellow-900/30 text-yellow-400 border-yellow-500/30"}`},a.status))),e.createElement("button",{onClick:o,className:"p-3 bg-slate-800 rounded-full hover:bg-slate-700 hover:text-white transition shadow-lg border border-slate-700"},e.createElement(Se,{className:"w-5 h-5 text-slate-400"}))),e.createElement("div",{className:"p-8 overflow-y-auto space-y-8 custom-scrollbar bg-[#050505]"},e.createElement("div",{className:"flex justify-between items-center bg-slate-900 p-6 rounded-2xl border border-slate-800 shadow-inner"},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:`p-4 rounded-full shadow-lg ${a.status==="Realizado"?"bg-green-500/20 text-green-400 shadow-[0_0_15px_rgba(34,197,94,0.2)]":"bg-yellow-500/20 text-yellow-400 shadow-[0_0_15px_rgba(234,179,8,0.2)]"}`},a.status==="Realizado"?e.createElement(me,{className:"w-8 h-8"}):e.createElement(Wo,{className:"w-8 h-8"})),e.createElement("div",null,e.createElement("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-widest mb-1"},"Estado Actual"),e.createElement("p",{className:`text-xl font-black ${a.status==="Realizado"?"text-green-400":"text-yellow-400"}`},a.status==="Realizado"?"Entregado / Finalizado":"Pendiente de Pago/Env√≠o")))),e.createElement("div",{className:"grid md:grid-cols-2 gap-6"},e.createElement("div",{className:"bg-slate-900/30 p-6 rounded-2xl border border-slate-800 hover:border-slate-700 transition"},e.createElement("h4",{className:"text-slate-500 text-xs font-black uppercase tracking-widest mb-4 flex items-center gap-2 border-b border-slate-800 pb-2"},e.createElement(qt,{className:"w-4 h-4"})," Datos del Cliente"),e.createElement("div",{className:"space-y-3"},e.createElement("p",{className:"text-white font-bold text-lg"},a.customer.name),e.createElement("div",{className:"space-y-1"},e.createElement("p",{className:"text-slate-400 text-sm flex justify-between border-b border-dashed border-slate-800/50 pb-1"},e.createElement("span",null,"Email:")," ",e.createElement("span",{className:"text-white font-medium"},a.customer.email)),e.createElement("p",{className:"text-slate-400 text-sm flex justify-between border-b border-dashed border-slate-800/50 pb-1"},e.createElement("span",null,"Tel√©fono:")," ",e.createElement("span",{className:"text-white font-medium"},a.customer.phone||"-")),e.createElement("p",{className:"text-slate-400 text-sm flex justify-between"},e.createElement("span",null,"DNI:")," ",e.createElement("span",{className:"text-white font-medium"},a.customer.dni||"-"))))),e.createElement("div",{className:"bg-slate-900/30 p-6 rounded-2xl border border-slate-800 hover:border-slate-700 transition"},e.createElement("h4",{className:"text-slate-500 text-xs font-black uppercase tracking-widest mb-4 flex items-center gap-2 border-b border-slate-800 pb-2"},e.createElement(St,{className:"w-4 h-4"})," Datos de Entrega"),e.createElement("div",{className:"space-y-3"},e.createElement("p",{className:"text-white font-medium text-sm leading-relaxed min-h-[3rem]"},a.shippingAddress||"Retiro en sucursal"),e.createElement("div",{className:"pt-2 mt-2 border-t border-slate-800/50"},e.createElement("p",{className:"text-slate-400 text-xs uppercase font-bold mb-1"},"M√©todo de Pago"),e.createElement("div",{className:"flex items-center gap-2"},e.createElement(Gt,{className:"w-4 h-4 text-orange-400"}),e.createElement("p",{className:"text-orange-400 font-black text-sm uppercase"},a.paymentMethod)))))),e.createElement("div",null,e.createElement("h4",{className:"text-slate-500 text-xs font-black uppercase tracking-widest mb-4 flex items-center gap-2 border-b border-slate-800 pb-2"},e.createElement(Ct,{className:"w-4 h-4"})," Productos (",a.items.length,")"),e.createElement("div",{className:"space-y-3"},a.items.map((s,r)=>e.createElement("div",{key:r,className:"flex justify-between items-center bg-slate-900/40 p-4 rounded-xl border border-slate-800 hover:border-orange-900/30 transition group"},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"bg-white w-12 h-12 flex items-center justify-center rounded-lg p-1 shadow-md group-hover:scale-105 transition"},s.image?e.createElement("img",{src:s.image,className:"w-full h-full object-contain"}):e.createElement(Ct,{className:"text-black"})),e.createElement("div",null,e.createElement("p",{className:"text-white font-bold text-sm"},s.title),e.createElement("p",{className:"text-slate-500 text-xs flex items-center gap-2"},e.createElement("span",{className:"bg-slate-800 text-slate-300 px-1.5 rounded text-[10px] font-bold"},"x",s.quantity),e.createElement("span",null,"$",s.unit_price.toLocaleString()," c/u")))),e.createElement("span",{className:"text-white font-mono font-bold text-lg tracking-tight"},"$",(s.unit_price*s.quantity).toLocaleString()))))),e.createElement("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-800 space-y-3 shadow-lg"},e.createElement("div",{className:"flex justify-between text-slate-400 text-sm font-medium"},e.createElement("span",null,"Subtotal Productos"),e.createElement("span",null,"$",(a.subtotal||a.total).toLocaleString())),a.discount>0&&e.createElement("div",{className:"flex justify-between text-green-400 text-sm font-bold bg-green-900/10 p-2 rounded-lg border border-green-900/30 dashed-border"},e.createElement("span",{className:"flex items-center gap-2"},e.createElement(na,{className:"w-3 h-3"})," Descuento (",a.discountCode||"Cup√≥n",")"),e.createElement("span",null,"-$",a.discount.toLocaleString())),e.createElement("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-slate-800 border-dashed"},e.createElement("span",{className:"text-white font-bold text-lg"},"Total Abonado"),e.createElement("span",{className:"text-3xl font-black text-orange-400 neon-text tracking-tighter"},"$",a.total.toLocaleString())))))):null,Ll=()=>{if(!Vs)return null;const a=et.filter(o=>{const s=!o.expirationDate||new Date(o.expirationDate)>new Date,r=!o.targetUser||d&&o.targetUser===d.email,i=o.targetType==="global",n=o.usedBy?o.usedBy.length:0,c=!o.usageLimit||n<o.usageLimit,b=d&&o.usedBy&&!o.usedBy.includes(d.id);return s&&(r||i)&&c&&b});return e.createElement("div",{className:"fixed inset-0 z-[150] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-fade-up"},e.createElement("div",{className:"glass rounded-[2rem] w-full max-w-lg overflow-hidden relative shadow-2xl border border-purple-500/20 bg-[#050505]"},e.createElement("button",{onClick:()=>ko(!1),className:"absolute top-6 right-6 p-2 bg-slate-900 rounded-full text-slate-400 hover:text-white transition z-10 hover:bg-slate-800"},e.createElement(Se,{className:"w-5 h-5"})),e.createElement("div",{className:"p-8 bg-gradient-to-br from-slate-900 via-[#0a0a0a] to-[#050505] border-b border-slate-800"},e.createElement("h3",{className:"text-2xl font-black text-white mb-2 flex items-center gap-3"},e.createElement("div",{className:"bg-purple-900/20 p-2 rounded-lg border border-purple-500/30"},e.createElement(Xl,{className:"w-6 h-6 text-purple-400"})),"Mis Beneficios"),e.createElement("p",{className:"text-slate-400 text-sm"},"Selecciona un cup√≥n para aplicar el descuento a tu compra.")),e.createElement("div",{className:"p-8 space-y-4 max-h-[50vh] overflow-y-auto custom-scrollbar bg-[#050505]"},a.length===0?e.createElement("div",{className:"text-center py-12 border-2 border-dashed border-slate-800 rounded-2xl"},e.createElement(na,{className:"w-16 h-16 text-slate-700 mx-auto mb-4"}),e.createElement("p",{className:"text-slate-400 font-bold text-lg"},"No tienes cupones disponibles."),e.createElement("p",{className:"text-slate-600 text-sm mt-2"},"Mantente atento a nuestras redes sociales.")):a.map(o=>{const s=nt>=(o.minPurchase||0);return e.createElement("div",{key:o.id,onClick:()=>s&&xl(o),className:`relative overflow-hidden rounded-2xl border transition-all duration-300 group ${s?"bg-slate-900 border-slate-700 hover:border-purple-500 cursor-pointer hover:shadow-[0_0_20px_rgba(168,85,247,0.15)] hover:scale-[1.02]":"bg-slate-900/50 border-slate-800 opacity-50 cursor-not-allowed grayscale"}`},e.createElement("div",{className:`absolute top-0 left-0 w-2 h-full ${s?"bg-purple-500":"bg-slate-700"}`}),e.createElement("div",{className:"p-5 pl-8 flex justify-between items-center"},e.createElement("div",{className:"flex-1"},e.createElement("div",{className:"flex items-center gap-3 mb-2"},e.createElement("span",{className:"font-black text-xl text-white tracking-widest font-mono"},o.code),e.createElement("span",{className:"text-[10px] bg-purple-900/30 text-purple-300 px-2 py-0.5 rounded border border-purple-500/30 uppercase font-bold"},o.type==="fixed"?"DESCUENTO FIJO":"PORCENTAJE")),e.createElement("p",{className:"text-purple-400 font-bold text-sm"},o.type==="fixed"?`Ahorra $${o.value}`:`${o.value}% de Descuento`,o.maxDiscount>0&&e.createElement("span",{className:"text-slate-500 text-xs ml-1 font-normal"},"(Tope $",o.maxDiscount,")")),o.minPurchase>0&&e.createElement("p",{className:`text-xs mt-3 font-bold flex items-center gap-1 ${s?"text-slate-500":"text-red-400"}`},s?e.createElement(me,{className:"w-3 h-3"}):e.createElement(da,{className:"w-3 h-3"}),"Compra m√≠nima: $",o.minPurchase)),s&&e.createElement("div",{className:"w-10 h-10 rounded-full bg-purple-600 flex items-center justify-center text-white shadow-lg transform group-hover:scale-110 transition ml-4"},e.createElement(Xe,{className:"w-6 h-6"}))))}))))},Ml=()=>{if(!ce)return null;const[a,o]=w(1),[s,r]=w(!1),i=ce.isPromo||!!ce.items,n=Number(ce.stock),c=te.find(T=>T.product.id===ce.id),b=c?c.quantity:0,m=Math.max(0,n-b),h=n>0,I=m===0&&h,k=i?Number(ce.price||ce.basePrice):ka(ce.basePrice,ce.discount),V=T=>{if(T.stopPropagation(),!h)return;const O=i?{id:ce.id,name:ce.name,basePrice:ce.price||ce.basePrice,image:ce.image,isPromo:!0,items:ce.items,stock:ce.stock}:ce;_t(O,a),r(!0),setTimeout(()=>r(!1),2e3)};return e.createElement("div",{className:"fixed inset-0 z-[20000] flex items-center justify-center bg-black/90 backdrop-blur-xl animate-fade-in p-4",onClick:()=>ha(null)},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 rounded-[2.5rem] max-w-4xl w-full overflow-hidden flex flex-col md:flex-row shadow-2xl animate-scale-up relative h-full md:h-auto overflow-y-auto md:overflow-hidden",onClick:T=>T.stopPropagation()},e.createElement("div",{className:"md:w-1/2 h-72 md:h-[550px] bg-gradient-to-b from-slate-900 to-[#0a0a0a] p-8 md:p-12 flex items-center justify-center relative overflow-hidden group"},e.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white/5 to-transparent opacity-50 group-hover:opacity-100 transition duration-500"}),e.createElement("img",{src:ce.image,className:"w-full h-full object-contain drop-shadow-[0_0_50px_rgba(255,255,255,0.15)] z-10 transition-transform duration-700 hover:scale-110"}),!h&&e.createElement("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-black/40 backdrop-blur-[2px]"},e.createElement("div",{className:"border-4 border-red-500 p-4 -rotate-12 bg-black shadow-2xl"},e.createElement("span",{className:"text-red-500 font-black text-2xl tracking-widest uppercase"},"AGOTADO")))),e.createElement("div",{className:"md:w-1/2 p-8 md:p-12 flex flex-col bg-[#080808]"},e.createElement("div",{className:"mb-8"},e.createElement("span",{className:"inline-block px-3 py-1 bg-orange-500/10 text-orange-400 text-[10px] font-black uppercase tracking-[0.2em] rounded mb-4 border border-orange-500/20"},i?"COMBOS & PROMOCIONES":ce.category),e.createElement("h2",{className:"text-3xl md:text-4xl font-black text-white leading-[1.1] mb-6 neon-text-small"},ce.name),e.createElement("p",{className:"text-slate-400 text-sm md:text-base leading-relaxed line-clamp-4"},ce.description||"")),i&&ce.items&&e.createElement("div",{className:"mb-8 space-y-3 bg-purple-500/5 p-6 rounded-2xl border border-purple-500/20 shadow-inner"},e.createElement("p",{className:"text-[10px] uppercase font-black text-purple-400 tracking-[0.2em] flex items-center gap-2"},e.createElement(ma,{className:"w-3 h-3"})," Este pack incluye:"),e.createElement("div",{className:"space-y-2"},ce.items.map((T,O)=>{const q=N.find(ne=>ne.id===T.productId);return e.createElement("div",{key:O,className:"flex items-center gap-3 text-sm text-slate-300 group/item"},e.createElement("div",{className:"w-6 h-6 rounded-lg bg-purple-500/20 flex items-center justify-center text-[10px] font-black text-purple-400 group-hover/item:bg-purple-500 group-hover/item:text-white transition"},T.quantity,"x"),e.createElement("span",{className:"font-bold group-hover/item:text-white transition"},(q==null?void 0:q.name)||"Producto del Packs"))}))),e.createElement("div",{className:"mt-auto pt-8 border-t border-white/5 flex flex-col gap-6"},e.createElement("div",{className:"flex items-end justify-between"},e.createElement("div",{className:"flex flex-col"},e.createElement("span",{className:"text-slate-500 text-xs font-bold uppercase tracking-wider mb-1"},"Inversi√≥n Total"),e.createElement("div",{className:"flex items-center gap-3"},ce.discount>0&&!i&&e.createElement("span",{className:"text-sm text-slate-600 line-through font-bold"},"$",(ce.basePrice*a).toLocaleString()),e.createElement("span",{className:"text-4xl font-black text-white tracking-tighter"},"$",(k*a).toLocaleString()))),ce.discount>0&&!i&&e.createElement("div",{className:"px-3 py-1 bg-red-500 text-white rounded-lg text-[10px] font-black animate-pulse"},"-",ce.discount,"% OFF")),e.createElement("div",{className:"flex gap-3"},e.createElement("div",{className:"flex items-center gap-3 bg-slate-900 rounded-2xl p-2 border border-slate-800"},e.createElement("button",{onClick:T=>{T.stopPropagation(),o(Math.max(1,a-1))},disabled:a<=1,className:"w-12 h-12 flex items-center justify-center hover:bg-slate-800 rounded-xl text-slate-400 hover:text-white transition disabled:opacity-30 disabled:cursor-not-allowed"},e.createElement(qo,{className:"w-5 h-5"})),e.createElement("span",{className:"text-xl font-bold w-8 text-center text-white font-mono"},a),e.createElement("button",{onClick:T=>{T.stopPropagation(),o(Math.min(m,a+1))},disabled:a>=m,className:"w-12 h-12 flex items-center justify-center hover:bg-slate-800 rounded-xl text-slate-400 hover:text-white transition disabled:opacity-30 disabled:cursor-not-allowed"},e.createElement(Xe,{className:"w-5 h-5"}))),e.createElement("button",{onClick:V,disabled:!h||I,className:`flex-1 py-5 rounded-2xl font-black transition flex items-center justify-center gap-3 shadow-2xl ${s?"bg-green-500 text-white":h&&!I?"bg-white text-black hover:bg-orange-400 hover:text-white hover:scale-[1.02] active:scale-[0.98]":"bg-slate-900 text-slate-600 border border-slate-800 cursor-not-allowed"}`},s?e.createElement(e.Fragment,null,e.createElement(me,{className:"w-6 h-6"})," LISTO"):I?e.createElement(e.Fragment,null,e.createElement(da,{className:"w-6 h-6"})," MAX EN CARRITO"):h?e.createElement(e.Fragment,null,e.createElement(Ea,{className:"w-6 h-6"})," AGREGAR"):e.createElement(e.Fragment,null,e.createElement(da,{className:"w-6 h-6"})," AGOTADO")))),e.createElement("button",{onClick:()=>ha(null),className:"absolute top-4 right-4 md:top-6 md:right-6 p-4 bg-black/60 md:bg-white/5 hover:bg-white/10 text-white md:text-slate-400 hover:text-white rounded-full transition-all border border-white/20 md:border-white/5 z-[30] shadow-2xl backdrop-blur-md",title:"Cerrar detalle"},e.createElement(Se,{className:"w-6 h-6 md:w-5 md:h-5"})))))},Ol=()=>{if(!ar)return null;const a=N.find(r=>r.id===J.productId),o=r=>{const i=r.target.value,n=N.find(c=>c.id===i);kt({...J,productId:i,price:n?Number(n.basePrice):0})};return e.createElement("div",{className:"fixed inset-0 z-[160] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-fade-up"},e.createElement("div",{className:"bg-[#0a0a0a] rounded-[2rem] w-full max-w-lg border border-slate-800 shadow-2xl relative overflow-hidden"},e.createElement("button",{onClick:()=>Ga(!1),className:"absolute top-6 right-6 p-2 bg-slate-900 rounded-full text-slate-400 hover:text-white transition z-10"},e.createElement(Se,{className:"w-5 h-5"})),e.createElement("div",{className:"p-8 border-b border-slate-800"},e.createElement("h3",{className:"text-2xl font-black text-white flex items-center gap-3"},e.createElement(ja,{className:"w-6 h-6 text-green-400"})," Registrar Venta Manual"),e.createElement("p",{className:"text-slate-500 text-sm mt-1"},"Para ventas fuera de la plataforma web.")),e.createElement("form",{onSubmit:async r=>{if(r.preventDefault(),!a)return p("Selecciona un producto.","warning");if(J.quantity<=0)return p("Cantidad inv√°lida.","warning");try{const i=Number(a.stock)||0;if(J.quantity>i)return p(`Stock insuficiente (Disponible: ${i}).`,"error");const n=`man-${Date.now().toString().slice(-6)}`,c=J.quantity*J.price,b={orderId:n,userId:"manual_admin",customer:{name:J.customerName||"Cliente Mostrador",email:"offline@store.com",phone:"-",dni:"-"},items:[{productId:a.id,title:a.name,quantity:Number(J.quantity),unit_price:Number(J.price),image:a.image}],subtotal:c,discount:0,total:c,status:"Realizado",date:new Date().toISOString(),shippingAddress:"Entrega Presencial (Offline)",paymentMethod:J.paymentMethod,source:"manual_sale",notes:J.notes};await bt(ve(E,"artifacts",g,"public","data","orders"),b),await he(G(E,"artifacts",g,"public","data","products",a.id),{stock:Da(-Number(J.quantity))}),p("Venta registrada correctamente.","success"),Ga(!1)}catch(i){console.error(i),p("Error al registrar venta manual.","error")}},className:"p-8 space-y-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block mb-1"},"Producto"),e.createElement("select",{className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-3 text-white focus:border-green-500 outline-none",value:J.productId,onChange:o},e.createElement("option",{value:""},"-- Seleccionar Producto --"),N.map(r=>e.createElement("option",{key:r.id,value:r.id},r.name," (Stock: ",r.stock,")")))),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block mb-1"},"Cantidad"),e.createElement("input",{type:"number",min:"1",className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-3 text-white focus:border-green-500 outline-none",value:J.quantity,onChange:r=>kt({...J,quantity:Number(r.target.value)})})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block mb-1"},"Precio Unit. ($)"),e.createElement("input",{type:"number",min:"0",className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-3 text-white focus:border-green-500 outline-none",value:J.price,onChange:r=>kt({...J,price:Number(r.target.value)})}))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block mb-1"},"Cliente / Notas"),e.createElement("input",{className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-3 text-white focus:border-green-500 outline-none",value:J.customerName,onChange:r=>kt({...J,customerName:r.target.value})})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block mb-1"},"M√©todo de Pago"),e.createElement("select",{className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-3 text-white focus:border-green-500 outline-none",value:J.paymentMethod,onChange:r=>kt({...J,paymentMethod:r.target.value})},e.createElement("option",{value:"Efectivo"},"Efectivo"),e.createElement("option",{value:"Transferencia"},"Transferencia"),e.createElement("option",{value:"Tarjeta"},"Tarjeta (POS)"))),e.createElement("button",{type:"submit",className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-4 rounded-xl shadow-lg shadow-green-900/20 transition transform hover:-translate-y-1 mt-4"},"REGISTRAR VENTA"))))},_l=()=>{const[a,o]=w("monthly");if(!wa)return null;const s=Y.analytics[a]||[],r=wa.type==="revenue"?"Ingresos Brutos":"Beneficio Neto",i=wa.type==="revenue"?"text-green-400":"text-orange-400",n=[...s].sort((m,h)=>h.revenue-m.revenue),c=n[0],b=n[n.length-1];return e.createElement("div",{className:"fixed inset-0 z-[160] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-fade-up"},e.createElement("div",{className:"bg-[#050505] rounded-[2.5rem] w-full max-w-4xl max-h-[90vh] flex flex-col border border-slate-800 shadow-2xl relative overflow-hidden"},e.createElement("div",{className:"p-8 border-b border-slate-800 bg-slate-900/20 flex justify-between items-center"},e.createElement("div",null,e.createElement("h3",{className:`text-3xl font-black ${i} flex items-center gap-3`},e.createElement(ti,{className:"w-8 h-8"})," ",r," - Anal√≠tica"),e.createElement("p",{className:"text-slate-500 text-sm mt-1"},"Desglose detallado de tu rendimiento.")),e.createElement("button",{onClick:()=>Ks(null),className:"p-3 bg-slate-900 rounded-full text-slate-400 hover:text-white transition border border-slate-700"},e.createElement(Se,{className:"w-5 h-5"}))),e.createElement("div",{className:"p-6 flex gap-4 bg-slate-900/10 border-b border-slate-800/50 justify-center"},["daily","monthly","yearly"].map(m=>e.createElement("button",{key:m,onClick:()=>o(m),className:`px-6 py-2 rounded-full text-xs font-black uppercase tracking-widest transition ${a===m?"bg-slate-100 text-black":"bg-slate-900 text-slate-500 hover:text-white border border-slate-800"}`},m==="daily"?"Diario":m==="monthly"?"Mensual":"Anual"))),e.createElement("div",{className:"grid grid-cols-2 gap-4 p-6 bg-slate-900/5"},e.createElement("div",{className:"bg-green-900/10 border border-green-500/20 p-4 rounded-2xl flex items-center gap-4"},e.createElement("div",{className:"p-3 bg-green-500/20 rounded-xl text-green-400"},e.createElement(Go,{className:"w-6 h-6"})),e.createElement("div",null,e.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Mejor Periodo"),e.createElement("p",{className:"text-green-400 font-black text-lg"},c?`$${c.revenue.toLocaleString()}`:"-"),e.createElement("p",{className:"text-[10px] text-slate-500 font-mono"},(c==null?void 0:c.date)||"-"))),e.createElement("div",{className:"bg-red-900/10 border border-red-500/20 p-4 rounded-2xl flex items-center gap-4"},e.createElement("div",{className:"p-3 bg-red-500/20 rounded-xl text-red-400"},e.createElement(Vo,{className:"w-6 h-6"})),e.createElement("div",null,e.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Peor Periodo"),e.createElement("p",{className:"text-red-400 font-black text-lg"},b?`$${b.revenue.toLocaleString()}`:"-"),e.createElement("p",{className:"text-[10px] text-slate-500 font-mono"},(b==null?void 0:b.date)||"-")))),e.createElement("div",{className:"flex-1 p-6 relative flex items-end justify-between gap-2 overflow-x-auto custom-scrollbar"},s.length===0?e.createElement("div",{className:"w-full text-center text-slate-500 my-auto"},"No hay datos para mostrar el gr√°fico."):(()=>{const m=Math.max(...s.map(h=>h.revenue),1);return s.slice().map((h,I)=>{const k=h.revenue/m*100,V=wa.type!=="net_income"||h.revenue>=0;return e.createElement("div",{key:I,className:"flex flex-col items-center justify-end h-full gap-2 group min-w-[60px] cursor-pointer hover:bg-slate-900/30 rounded-xl p-1 transition-all"},e.createElement("div",{className:"opacity-0 group-hover:opacity-100 absolute bottom-full mb-2 bg-slate-900 border border-slate-700 px-3 py-2 rounded-xl pointer-events-none transition z-50 shadow-xl max-w-[min(240px,70vw)] whitespace-normal break-words"},e.createElement("p",{className:"text-white font-bold"},h.date),e.createElement("p",{className:`font-black ${i}`},"$",h.revenue.toLocaleString()),e.createElement("p",{className:"text-[10px] text-slate-500"},h.orders," Pedidos")),e.createElement("div",{className:`w-4 bg-gradient-to-t ${wa.type==="revenue"?"from-green-900/50 to-green-500":"from-orange-900/50 to-orange-500"} rounded-t-full relative transition-all duration-500 group-hover:w-6 group-hover:brightness-125`,style:{height:`${Math.max(k,5)}%`}},e.createElement("div",{className:`absolute top-0 left-0 right-0 h-4 rounded-full ${wa.type==="revenue"?"bg-green-400":"bg-orange-400"} blur-md opacity-20`})),e.createElement("p",{className:"text-[10px] text-slate-600 font-bold -rotate-45 group-hover:rotate-0 group-hover:text-white transition origin-center mt-2 truncate w-full text-center"},a==="monthly"||a==="daily"?h.date.slice(5):h.date))})})())))},zl=({cartItems:a,isLoading:o})=>o?e.createElement("div",{className:"py-20 flex flex-col items-center gap-4 opacity-50"},e.createElement(ca,{className:"w-8 h-8 animate-spin text-orange-400"}),e.createElement("p",{className:"text-xs font-black tracking-widest text-slate-500"},"SINCRONIZANDO DATOS...")):a.length===0?e.createElement("div",{className:"py-20 text-center flex flex-col items-center gap-6"},e.createElement("div",{className:"p-6 rounded-full bg-white/5 border border-white/5"},e.createElement(Ea,{className:"w-12 h-12 text-slate-700"})),e.createElement("p",{className:"text-sm font-black uppercase tracking-widest text-slate-500 italic"},"No hay productos activos")):e.createElement(e.Fragment,null,e.createElement("div",{className:"flex justify-between items-center px-2"},e.createElement("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest"},"Contenido del Carrito"),e.createElement("p",{className:"text-xs font-bold text-orange-400 bg-orange-400/10 px-3 py-1 rounded-full"},a.length," ITEMS")),e.createElement("div",{className:"space-y-3"},a.map((s,r)=>e.createElement("div",{key:r,className:"bg-white/[0.03] border border-white/10 p-4 rounded-2xl flex gap-4 transition hover:bg-white/[0.05] hover:border-orange-500/20 group animate-fade-up",style:{animationDelay:`${r*.05}s`}},e.createElement("div",{className:"w-16 h-16 bg-[#0a0a0a] rounded-xl overflow-hidden shadow-inner border border-white/5 flex-shrink-0"},e.createElement("img",{src:s.image||"https://images.unsplash.com/photo-1581404917879-53e19259fdda?w=100",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})),e.createElement("div",{className:"flex-1 flex flex-col justify-center"},e.createElement("p",{className:"font-bold text-white text-sm leading-tight mb-1"},s.name),e.createElement("div",{className:"flex justify-between items-center"},e.createElement("p",{className:"text-xs text-slate-500"},"Cant: ",e.createElement("span",{className:"text-white font-mono font-bold"},s.quantity)),e.createElement("p",{className:"text-orange-400 font-black font-mono text-xs"},"$",Number(s.price).toLocaleString())))))),e.createElement("div",{className:"pt-6 border-t border-white/5"},e.createElement("div",{className:"flex justify-between items-center bg-orange-500/5 p-6 rounded-2xl border border-orange-500/20"},e.createElement("p",{className:"text-slate-400 font-bold"},"Valor Total"),e.createElement("p",{className:"text-2xl font-black text-white font-mono"},"$",a.reduce((s,r)=>s+Number(r.price)*r.quantity,0).toLocaleString())))),Fl=({user:a,currentUser:o,initialData:s,onSubmit:r,onDelete:i,isSaving:n})=>{const[c,b]=w(s),h=a.email==="lautarocorazza63@gmail.com";return de(()=>{b(s)},[s]),e.createElement("form",{onSubmit:k=>{k.preventDefault(),r(c)},className:"space-y-8 animate-fade-in"},e.createElement("div",{className:"space-y-6"},e.createElement("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest flex items-center gap-2"},e.createElement(qt,{className:"w-3 h-3"})," Datos Identidad"),e.createElement("div",{className:"grid grid-cols-1 gap-6"},e.createElement("div",null,e.createElement("input",{className:"input-cyber w-full p-4 text-sm",placeholder:"Nombre Completo",value:c.name,onChange:k=>b({...c,name:k.target.value}),required:!0})),e.createElement("div",null,e.createElement("input",{className:"input-cyber w-full p-4 text-sm font-mono",placeholder:"Username / Alias",value:c.username,onChange:k=>b({...c,username:k.target.value})})),e.createElement("div",null,e.createElement("input",{className:`input-cyber w-full p-4 text-sm font-mono ${h?"opacity-50 cursor-not-allowed":""}`,placeholder:"Email de la cuenta (Principal)",value:c.email,onChange:k=>b({...c,email:k.target.value}),required:!0,disabled:h,title:h?"No se puede modificar el email del Super Admin":""})),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("input",{className:"input-cyber w-full p-4 text-sm font-mono",placeholder:"DNI",value:c.dni,onChange:k=>b({...c,dni:k.target.value})}),e.createElement("input",{className:"input-cyber w-full p-4 text-sm font-mono",placeholder:"Tel√©fono",value:c.phone,onChange:k=>b({...c,phone:k.target.value})})))),e.createElement("div",{className:"space-y-6 pt-4"},e.createElement("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest flex items-center gap-2"},e.createElement($a,{className:"w-3 h-3"})," Seguridad & Rol"),e.createElement("div",{className:"space-y-4"},e.createElement("div",null,e.createElement("div",{className:"relative group"},e.createElement("input",{type:"password",className:"input-cyber w-full p-4 text-sm font-mono",placeholder:"Nueva Contrase√±a (Dejar vac√≠o para no cambiar)",value:c.newPassword,onChange:k=>b({...c,newPassword:k.target.value})})),e.createElement("p",{className:"text-[9px] text-slate-600 mt-2 ml-1 italic"},"M√≠nimo 6 caracteres para actualizar.")),e.createElement("div",{className:`flex bg-slate-900/50 p-1.5 rounded-2xl border border-white/5 ${h?"opacity-50 pointer-events-none":""}`},["user","editor","admin"].map(k=>e.createElement("button",{key:k,type:"button",onClick:()=>b({...c,role:k}),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${c.role===k?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20":"text-slate-500 hover:text-slate-300"}`},k))),h&&e.createElement("p",{className:"text-[9px] text-orange-400 mt-1 ml-1"},"Rol de Super Admin inmutable."))),e.createElement("div",{className:"space-y-4 pt-6"},e.createElement("button",{type:"submit",disabled:n,className:"w-full py-5 bg-gradient-to-r from-indigo-600 to-orange-600 hover:from-indigo-500 hover:to-orange-500 text-white font-black rounded-2xl shadow-xl transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50"},n?e.createElement(ca,{className:"w-6 h-6 animate-spin"}):e.createElement(Ia,{className:"w-6 h-6"}),"SINCRONIZAR CAMBIOS"),!h&&e.createElement("button",{type:"button",onClick:i,className:"w-full py-4 border border-red-500/30 bg-red-500/5 text-red-500 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-red-500/10 transition flex items-center justify-center gap-2"},e.createElement(ye,{className:"w-4 h-4"})," Eliminar Cuenta Permanente")))},Ul=()=>{const[a,o]=w([]),[s,r]=w(!1),[i,n]=w(!1),c=$o||Ao||sr,b=$o?"cart":Ao?"password":"edit",m=$o||Ao||sr,[h,I]=w({name:"",username:"",email:"",phone:"",dni:"",role:"user",newPassword:""});de(()=>{c&&m&&(b==="cart"&&(async()=>{r(!0);try{const q=await Wt(G(E,"artifacts",g,"public","data","carts",m.id));o(q.exists()?q.data().items||[]:[])}catch{o([])}r(!1)})(),I({name:m.name||"",username:m.username||"",email:m.email||"",phone:m.phone||"",dni:m.dni||"",role:m.role||"user",newPassword:""}))},[c,m,b]);const k=()=>{or(null),rr(null),lr(null)},V=async O=>{n(!0);try{if(!fe.currentUser||fe.currentUser.isAnonymous)throw new Error("Sesi√≥n inv√°lida");const q=await fe.currentUser.getIdToken(),ne={};if(O.email!==m.email&&(ne.email=O.email),O.newPassword&&(ne.password=O.newPassword),Object.keys(ne).length>0){const Qe=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":g||"",Authorization:`Bearer ${q}`},body:JSON.stringify({action:"update",uid:m.id,...ne})}),ut=await Qe.json();if(!Qe.ok)throw new Error(ut.error)}const Fe={name:O.name,username:O.username,email:O.email,emailLower:O.email.toLowerCase(),phone:O.phone,dni:O.dni,role:O.role,lastModifiedBy:d.email,updatedAt:new Date().toISOString()};await he(G(E,"artifacts",g,"public","data","users",m.id),Fe),d&&d.id===m.id&&Pe(Qe=>({...Qe,...Fe})),p("Perfil de usuario actualizado correctamente.","success"),k()}catch(q){console.error(q),p(q.message||"Error al actualizar perfil.","error")}n(!1)},T=async()=>{if(m.email===d.email)return p("Autoprotecci√≥n activa: No puedes eliminar tu propia cuenta.","warning");He("ELIMINAR USUARIO",`¬øEst√°s seguro de eliminar a ${m.name}? Esta acci√≥n es irreversible y borrar√° su acceso y datos.`,async()=>{n(!0);try{if(!fe.currentUser||fe.currentUser.isAnonymous)throw new Error("Sesi√≥n inv√°lida");const O=await fe.currentUser.getIdToken();if(!(await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json","x-store-id":g||"",Authorization:`Bearer ${O}`},body:JSON.stringify({action:"delete",uid:m.id})})).ok)throw new Error("Error eliminando acceso de Auth");await ft(G(E,"artifacts",g,"public","data","users",m.id)),p("Usuario eliminado definitivamente.","success"),k()}catch(O){console.error(O),p("Fallo al eliminar usuario.","error")}n(!1)})};return c?e.createElement("div",{className:"fixed inset-0 z-[1000] flex justify-end animate-fade-in pointer-events-none"},e.createElement("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm pointer-events-auto",onClick:k}),e.createElement("div",{className:"w-full max-w-xl bg-[#0a0a0a] border-l border-white/10 shadow-[-20px_0_50px_rgba(0,0,0,0.5)] flex flex-col h-full pointer-events-auto relative overflow-hidden animate-slide-left"},e.createElement("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-purple-600 via-orange-500 to-pink-600"}),e.createElement("div",{className:"p-8 border-b border-white/5 flex justify-between items-center bg-white/[0.02]"},e.createElement("div",null,e.createElement("h2",{className:"text-xl font-black text-white tracking-widest uppercase"},b==="cart"?"Auditor√≠a de Carrito":"Configurar Cuenta"),e.createElement("p",{className:"text-[10px] font-bold text-slate-500 mt-1 tracking-widest flex items-center gap-2"},e.createElement("span",{className:"w-1.5 h-1.5 rounded-full bg-orange-400 animate-pulse"}),"ID: ",m.id.slice(-8).toUpperCase()," ‚Ä¢ ",m.email)),e.createElement("button",{onClick:k,className:"p-3 bg-white/5 hover:bg-white/10 rounded-2xl transition-all border border-white/5 group"},e.createElement(Se,{className:"w-5 h-5 text-slate-400 group-hover:text-white"}))),e.createElement("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar space-y-8"},b==="cart"&&e.createElement(zl,{cartItems:a,isLoading:s}),(b==="edit"||b==="password")&&e.createElement(Fl,{user:m,currentUser:d,initialData:h,onSubmit:V,onDelete:T,isSaving:i})))):null};if(Ra&&l==="store"){const a=(t==null?void 0:t.primaryColor)||"#f97316";return e.createElement("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#050505] text-white px-4"},e.createElement("div",{className:"relative"},e.createElement("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-full border-4 border-slate-800 animate-spin",style:{borderTopColor:a}}),e.createElement("div",{className:"absolute inset-0 flex items-center justify-center"},e.createElement(Bt,{className:"w-6 h-6 sm:w-8 sm:h-8 animate-pulse",style:{color:a}}))),e.createElement("h1",{className:"text-xl sm:text-2xl md:text-3xl font-black tracking-[0.1em] sm:tracking-[0.2em] md:tracking-[0.3em] mt-6 sm:mt-8 animate-pulse text-center max-w-[90vw]",style:{color:a,textShadow:`0 0 20px ${a}40`}},(t==null?void 0:t.loadingTitle)||(t==null?void 0:t.storeName)||""),e.createElement("p",{className:"text-slate-500 text-xs sm:text-sm mt-3 sm:mt-4 font-mono uppercase tracking-wider sm:tracking-widest text-center"},(t==null?void 0:t.loadingText)||"Cargando sistema..."))}if(t!=null&&t.maintenanceMode&&!io(d==null?void 0:d.email))return e.createElement("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#050505] text-white p-4 sm:p-6 text-center"},e.createElement("div",{className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 bg-red-900/20 text-red-500 rounded-full flex items-center justify-center mb-6 sm:mb-8 border border-red-900/50 animate-pulse"},e.createElement(ia,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12"})),e.createElement("h1",{className:"text-xl sm:text-2xl md:text-4xl font-black mb-3 sm:mb-4 tracking-tight uppercase"},"Sistema en Mantenimiento"),e.createElement("p",{className:"text-slate-400 max-w-sm sm:max-w-md mx-auto leading-relaxed text-sm sm:text-base"},"Estamos realizando mejoras para brindarte una experiencia premium. ¬°Te mandamos un saludo y esperamos que vuelvas prontamente!"),e.createElement("div",{className:"mt-8 sm:mt-12 pt-8 sm:pt-12 border-t border-slate-900 w-full max-w-xs"},e.createElement("p",{className:"text-[10px] sm:text-xs text-slate-600 font-mono italic"},(t==null?void 0:t.storeName)||""," - Modo Mantenimiento Activo")));const _o=N.filter(a=>{if(a.isActive===!1)return!1;const o=(a.name||"").toLowerCase().includes(xa.toLowerCase());if($e==="Promos")return!1;if($e==="Ofertas")return o&&a.discount>0;const s=$e===""?!0:Array.isArray(a.categories)?a.categories.includes($e):a.category?a.category.trim()===$e:!1;return o&&s}).sort((a,o)=>{var i,n;if(a.isFeatured&&!o.isFeatured)return-1;if(!a.isFeatured&&o.isFeatured)return 1;const s=((i=Y==null?void 0:Y.salesCount)==null?void 0:i[a.id])||0;return(((n=Y==null?void 0:Y.salesCount)==null?void 0:n[o.id])||0)-s});return e.createElement("div",{className:`min-h-screen flex flex-col relative w-full bg-grid font-sans selection:bg-orange-500/30 selection:text-orange-200 transition-colors duration-300 ${x?"bg-[#050505]":"bg-slate-50"}`},l==="store"&&(d==null?void 0:d.role)==="admin"&&e.createElement("div",{className:"fixed bottom-4 left-4 z-[9999] bg-black/80 text-green-400 font-mono text-xs p-2 rounded border border-green-900 pointer-events-none"},"[DEBUG] Total: ",N.length," | Filtro: ",_o.length," | Cat: ",$e||"ALL"),e.createElement("div",{className:"fixed inset-0 pointer-events-none z-0"},e.createElement("div",{className:"absolute top-[-10%] left-[-10%] w-[60%] h-[60%] bg-purple-900/5 rounded-full blur-[150px] animate-pulse-slow"}),e.createElement("div",{className:"absolute bottom-[-10%] right-[-10%] w-[60%] h-[60%] bg-orange-900/5 rounded-full blur-[150px] animate-pulse-slow"})),e.createElement("div",{className:"fixed top-24 right-4 z-[20001] space-y-3 pointer-events-none"},e.createElement("div",{className:"pointer-events-auto space-y-3"},La.map(a=>e.createElement(hi,{key:a.id,message:a.message,type:a.type,onClose:()=>rl(a.id)})))),se.status!=="resolved"&&e.createElement("div",{className:"fixed inset-0 z-[10000] bg-black/80 backdrop-blur-xl flex items-center justify-center p-4"},e.createElement("div",{className:"w-full max-w-xl rounded-3xl border border-white/10 bg-[#050505] p-8 shadow-2xl"},se.status==="resolving"?e.createElement("div",{className:"flex items-center gap-4"},e.createElement(ca,{className:"w-7 h-7 animate-spin text-orange-500"}),e.createElement("div",null,e.createElement("p",{className:"text-white font-black text-xl tracking-tight"},"Detectando tienda‚Ä¶"),e.createElement("p",{className:"text-slate-500 text-sm font-mono"},se.normalizedHostname||se.hostname))):e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"space-y-2"},e.createElement("p",{className:"text-white font-black text-2xl tracking-tight"},"Tienda no configurada"),e.createElement("p",{className:"text-slate-500 text-sm font-mono"},"Dominio: ",se.normalizedHostname||se.hostname)),!K||K.isAnonymous?e.createElement("div",{className:"space-y-4"},e.createElement("p",{className:"text-slate-400 text-sm"},"Inici√° sesi√≥n para configurar este dominio."),e.createElement("button",{onClick:()=>u("login"),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-orange-600 to-purple-600 text-white font-black uppercase tracking-widest text-xs hover:from-orange-500 hover:to-purple-500 transition"},"Iniciar sesi√≥n")):nl?e.createElement("div",{className:"space-y-5"},e.createElement("div",{className:"space-y-3"},e.createElement("p",{className:"text-slate-300 text-sm"},"Eleg√≠ c√≥mo quer√©s vincular este dominio:"),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3"},e.createElement("button",{disabled:Be,onClick:async()=>{$t(!0);try{const a=cl();await Lo(a),p(`Dominio vinculado a ${a}`,"success")}catch(a){p((a==null?void 0:a.message)||"No se pudo crear la tienda","error")}$t(!1)},className:"py-4 rounded-2xl bg-white/5 border border-white/10 text-white font-black text-[10px] uppercase tracking-widest hover:bg-white/10 transition disabled:opacity-50"},"Crear tienda nueva"),e.createElement("button",{disabled:Be,onClick:async()=>{$t(!0);try{await Lo(ua),p(`Dominio vinculado a ${ua}`,"success")}catch(a){p((a==null?void 0:a.message)||"No se pudo vincular","error")}$t(!1)},className:"py-4 rounded-2xl bg-orange-500/10 border border-orange-500/20 text-orange-400 font-black text-[10px] uppercase tracking-widest hover:bg-orange-500/20 transition disabled:opacity-50"},"Usar tienda default"))),e.createElement("div",{className:"space-y-3"},e.createElement("p",{className:"text-slate-500 text-xs font-mono"},"O peg√° un storeId existente:"),e.createElement("div",{className:"flex gap-2"},e.createElement("input",{value:Jt,onChange:a=>pa(a.target.value),className:"input-cyber flex-1 p-4 text-sm font-mono",placeholder:"storeId (ej: cliente-abc123)"}),e.createElement("button",{disabled:Be||!Jt.trim(),onClick:async()=>{$t(!0);try{await Lo(Jt.trim()),p("Dominio vinculado","success")}catch(a){p((a==null?void 0:a.message)||"No se pudo vincular","error")}$t(!1)},className:"px-5 rounded-2xl bg-indigo-600 text-white font-black text-[10px] uppercase tracking-widest hover:bg-indigo-500 transition disabled:opacity-50"},"Vincular")))):e.createElement("div",{className:"space-y-3"},e.createElement("p",{className:"text-slate-400 text-sm"},"Este dominio solo puede registrarlo el Super Admin."),e.createElement("p",{className:"text-slate-600 text-xs font-mono"},"Sesi√≥n: ",(K==null?void 0:K.email)||(K==null?void 0:K.uid)))))),e.createElement(Dl,{order:Js,onClose:()=>tr(null)}),e.createElement(Ll,null),e.createElement(Ml,null),l!=="admin"&&e.createElement("nav",{className:`fixed top-0 w-full h-16 sm:h-20 z-50 px-3 sm:px-6 md:px-12 flex items-center justify-between backdrop-blur-xl transition-all duration-300 ${x?"glass border-b border-slate-800/50":"bg-white/95 border-b border-slate-200 shadow-sm"}`},e.createElement("div",{className:"flex items-center gap-2 sm:gap-6"},e.createElement("button",{onClick:()=>A(!0),className:`p-2 sm:p-3 rounded-lg sm:rounded-xl transition border group ${x?"bg-slate-900/50 text-slate-300 hover:text-white hover:bg-slate-800 border-slate-700/50":"bg-slate-100 text-slate-600 hover:text-slate-900 hover:bg-slate-200 border-slate-200"}`},e.createElement(ts,{className:"w-5 h-5 sm:w-6 sm:h-6 group-hover:scale-110 transition"})),e.createElement("div",{className:"cursor-pointer group flex items-center gap-2 sm:gap-3",onClick:()=>u("store")},(t==null?void 0:t.logoUrl)&&e.createElement("div",{className:`w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 rounded-full overflow-hidden border-2 bg-white p-0.5 flex-shrink-0 shadow-lg group-hover:border-orange-500 transition-colors duration-300 ${x?"border-slate-800":"border-slate-200"}`},e.createElement("img",{src:t.logoUrl,alt:"Logo",className:"w-full h-full object-cover rounded-full"})),e.createElement("div",{className:"flex flex-col"},e.createElement("span",{className:`text-xl sm:text-2xl md:text-4xl font-black tracking-tighter italic group-hover:text-orange-500 transition-all duration-300 leading-none ${x?"text-white":"text-white drop-shadow-[0_2px_2px_rgba(0,0,0,0.8)] filter"}`},je?(t==null?void 0:t.storeName)||"":e.createElement("span",{className:`inline-block h-6 sm:h-8 w-20 sm:w-32 rounded animate-pulse ${x?"bg-slate-700/50":"bg-slate-200"}`})),e.createElement("div",{className:"h-0.5 sm:h-1 w-1/2 bg-orange-500 rounded-full group-hover:w-full transition-all duration-500 mt-0.5 sm:mt-1 shadow-sm"})))),e.createElement("div",{className:`hidden lg:flex items-center rounded-2xl px-6 py-3 w-1/3 transition shadow-inner group ${x?"bg-slate-900/50 border border-slate-700/50 focus-within:border-orange-500/50 focus-within:bg-slate-900":"bg-slate-100 border border-slate-200 focus-within:border-orange-400 focus-within:bg-white focus-within:shadow-md"}`},e.createElement(Uo,{className:`w-5 h-5 mr-3 group-focus-within:text-orange-500 transition ${x?"text-slate-400":"text-slate-500"}`}),e.createElement("input",{className:`bg-transparent outline-none text-sm w-full font-medium ${x?"text-white placeholder-slate-500":"text-slate-900 placeholder-slate-400"}`,placeholder:"¬øQu√© est√°s buscando hoy?",value:xa,onChange:a=>Oa(a.target.value)})),e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"hidden md:flex items-center gap-2"},(t==null?void 0:t.showWhatsapp)!==!1&&(t==null?void 0:t.whatsappLink)&&e.createElement("button",{onClick:()=>window.open(t==null?void 0:t.whatsappLink,"_blank"),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-green-900/10 text-green-400 hover:bg-green-500 hover:text-white border border-green-500/20 transition font-bold text-sm hover:shadow-[0_0_15px_rgba(34,197,94,0.3)]"},e.createElement(sa,{className:"w-5 h-5"})," WhatsApp"),(t==null?void 0:t.showInstagram)!==!1&&(t==null?void 0:t.instagramLink)&&e.createElement("button",{onClick:()=>window.open(t==null?void 0:t.instagramLink,"_blank"),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-pink-900/10 text-pink-400 hover:bg-pink-500 hover:text-white border border-pink-500/20 transition font-bold text-sm hover:shadow-[0_0_15px_rgba(236,72,153,0.3)]"},e.createElement(uo,{className:"w-5 h-5"})," Instagram")),e.createElement("button",{onClick:()=>Ue(!x),className:`relative p-2 sm:p-2.5 rounded-lg sm:rounded-xl transition group overflow-hidden border ${x?"bg-slate-900/50 text-yellow-400 hover:bg-slate-800 border-slate-700/50":"bg-yellow-50 text-yellow-600 hover:bg-yellow-100 border-yellow-200"}`,title:x?"Activar modo claro":"Activar modo oscuro"},e.createElement("div",{className:`transform transition-all duration-500 ${x?"rotate-0 scale-100":"rotate-180 scale-0 absolute"}`},e.createElement(oi,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:scale-110 transition"})),e.createElement("div",{className:`transform transition-all duration-500 ${x?"-rotate-180 scale-0 absolute":"rotate-0 scale-100"}`},e.createElement(ai,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:scale-110 transition"}))),e.createElement("button",{onClick:()=>u("cart"),className:`relative p-2 sm:p-2.5 rounded-lg sm:rounded-xl transition group border ${x?"bg-slate-900/50 text-slate-300 hover:text-white hover:bg-slate-800 border-slate-700/50 hover:border-orange-500/30":"bg-slate-100 text-slate-600 hover:text-slate-900 hover:bg-slate-200 border-slate-200 hover:border-orange-400"}`},e.createElement(Ut,{className:"w-5 h-5 sm:w-6 sm:h-6 group-hover:scale-110 transition"}),te.length>0&&e.createElement("span",{className:`absolute -top-1.5 -right-1.5 sm:-top-2 sm:-right-2 bg-orange-500 text-white text-[9px] sm:text-[10px] font-black w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center shadow-lg border-2 animate-bounce-short ${x?"border-[#050505]":"border-white"}`},te.length)),d&&d.id&&d.email&&d.name?e.createElement("button",{onClick:()=>u("profile"),className:`flex items-center gap-2 sm:gap-3 pl-2 pr-3 sm:pr-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl border transition group ${x?"bg-slate-900/50 border-slate-700/50 hover:border-orange-500/50":"bg-slate-100 border-slate-200 hover:border-orange-400"}`},e.createElement("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center text-white font-bold shadow-lg text-xs sm:text-sm group-hover:scale-105 transition"},d.name.charAt(0)),e.createElement("div",{className:"text-left hidden md:block"},e.createElement("p",{className:`text-[9px] sm:text-[10px] uppercase font-bold tracking-wider ${x?"text-slate-400":"text-slate-500"}`},"Hola,"),e.createElement("p",{className:`text-xs sm:text-sm font-bold leading-none group-hover:text-orange-500 transition ${x?"text-white":"text-slate-900"}`},d.name.split(" ")[0]))):e.createElement("button",{onClick:()=>u("login"),className:`px-3 sm:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl text-xs sm:text-sm font-black transition shadow-lg flex items-center gap-1 sm:gap-2 transform hover:-translate-y-0.5 ${x?"bg-white text-black hover:bg-orange-500 hover:text-white":"bg-orange-500 text-white hover:bg-orange-600"}`},e.createElement(qt,{className:"w-4 h-4 sm:w-5 sm:h-5"})," ",e.createElement("span",{className:"hidden sm:inline"},"INGRESAR"),e.createElement("span",{className:"sm:hidden"},"Entrar")))),H&&e.createElement("div",{className:"fixed inset-0 z-[10000] flex justify-start"},e.createElement("div",{className:`fixed inset-0 backdrop-blur-sm transition-opacity ${x?"bg-black/90":"bg-black/50"}`,onClick:()=>A(!1)}),e.createElement("div",{className:`relative w-72 sm:w-80 h-full p-6 sm:p-8 animate-fade-in-right flex flex-col shadow-2xl z-[10001] ${x?"bg-[#0a0a0a] border-r border-slate-800":"bg-white border-r border-slate-200"}`},e.createElement("div",{className:`flex justify-between items-center mb-8 sm:mb-10 border-b pb-4 sm:pb-6 ${x?"border-slate-800":"border-slate-200"}`},e.createElement("h2",{className:`text-2xl sm:text-3xl font-black tracking-tight drop-shadow-md ${x?"text-white":"text-slate-900"}`},"MEN√ö"),e.createElement("button",{onClick:()=>A(!1),className:`p-2 sm:p-3 rounded-full transition border ${x?"bg-slate-900 text-slate-400 hover:text-white hover:bg-slate-800 border-slate-800":"bg-slate-100 text-slate-500 hover:text-slate-900 hover:bg-slate-200 border-slate-200"}`},e.createElement(Se,{className:"w-5 h-5 sm:w-6 sm:h-6"}))),e.createElement("div",{className:"space-y-2 sm:space-y-3 flex-1 overflow-y-auto custom-scrollbar pr-2"},e.createElement("button",{onClick:()=>{u("store"),A(!1)},className:`w-full text-left text-base sm:text-lg font-bold transition flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl group border border-transparent ${x?"text-slate-300 hover:text-orange-400 hover:bg-slate-900/50 hover:border-slate-800":"text-slate-700 hover:text-orange-500 hover:bg-slate-100 hover:border-slate-200"}`},e.createElement(Wl,{className:`w-5 h-5 sm:w-6 sm:h-6 group-hover:text-orange-500 transition ${x?"text-slate-500":"text-slate-400"}`})," Inicio"),e.createElement("button",{onClick:()=>{u("profile"),A(!1)},className:`w-full text-left text-base sm:text-lg font-bold transition flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl group border border-transparent ${x?"text-slate-300 hover:text-orange-400 hover:bg-slate-900/50 hover:border-slate-800":"text-slate-700 hover:text-orange-500 hover:bg-slate-100 hover:border-slate-200"}`},e.createElement(qt,{className:`w-5 h-5 sm:w-6 sm:h-6 group-hover:text-orange-500 transition ${x?"text-slate-500":"text-slate-400"}`})," Mi Perfil"),e.createElement("button",{onClick:()=>{u("cart"),A(!1)},className:`w-full text-left text-base sm:text-lg font-bold transition flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl group border border-transparent ${x?"text-slate-300 hover:text-orange-400 hover:bg-slate-900/50 hover:border-slate-800":"text-slate-700 hover:text-orange-500 hover:bg-slate-100 hover:border-slate-200"}`},e.createElement("div",{className:"relative"},e.createElement(Ut,{className:`w-5 h-5 sm:w-6 sm:h-6 group-hover:text-orange-500 transition ${x?"text-slate-500":"text-slate-400"}`}),te.length>0&&e.createElement("span",{className:"absolute -top-2 -right-2 bg-orange-500 text-[10px] text-white rounded-full w-4 h-4 flex items-center justify-center font-bold"},te.length)),"Mi Carrito"),e.createElement("div",{className:`h-px my-3 sm:my-4 mx-4 ${x?"bg-slate-800":"bg-slate-200"}`}),e.createElement("button",{onClick:()=>{u("about"),A(!1)},className:`w-full text-left text-base sm:text-lg font-bold transition flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl group border border-transparent ${x?"text-slate-300 hover:text-orange-400 hover:bg-slate-900/50 hover:border-slate-800":"text-slate-700 hover:text-orange-500 hover:bg-slate-100 hover:border-slate-200"}`},e.createElement(Vt,{className:`w-5 h-5 sm:w-6 sm:h-6 group-hover:text-orange-500 transition ${x?"text-slate-500":"text-slate-400"}`})," Sobre Nosotros"),(t==null?void 0:t.showGuideLink)!==!1&&e.createElement("button",{onClick:()=>{u("guide"),A(!1)},className:`w-full text-left text-base sm:text-lg font-bold transition flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl group border border-transparent ${x?"text-slate-300 hover:text-orange-400 hover:bg-slate-900/50 hover:border-slate-800":"text-slate-700 hover:text-orange-500 hover:bg-slate-100 hover:border-slate-200"}`},e.createElement(bo,{className:`w-5 h-5 sm:w-6 sm:h-6 group-hover:text-orange-500 transition ${x?"text-slate-500":"text-slate-400"}`})," ",(t==null?void 0:t.guideTitle)||"C√≥mo Comprar"),jo(d==null?void 0:d.email)&&e.createElement("button",{onClick:()=>{u("admin"),A(!1)},className:`w-full text-left text-base sm:text-lg font-bold text-orange-500 mt-4 sm:mt-6 pt-4 sm:pt-6 flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl transition border ${x?"border-t border-slate-800 bg-orange-900/10 hover:bg-orange-900/20 border-orange-500/20":"border-t border-slate-200 bg-orange-50 hover:bg-orange-100 border-orange-200"}`},e.createElement(ot,{className:"w-5 h-5 sm:w-6 sm:h-6"})," Admin Panel")),e.createElement("div",{className:`mt-6 sm:mt-8 pt-6 sm:pt-8 border-t text-center ${x?"border-slate-800":"border-slate-200"}`},e.createElement("p",{className:`text-[10px] sm:text-xs font-bold uppercase tracking-widest ${x?"text-slate-600":"text-slate-400"}`},(t==null?void 0:t.menuCopyright)||t.storeName)))),l!=="admin"&&e.createElement("div",{className:"h-16 sm:h-20 md:h-24"}),e.createElement("main",{className:`flex-grow relative z-10 ${l==="admin"?"min-h-screen min-full-viewport flex overflow-hidden":"p-4 md:p-8"}`},l==="store"&&e.createElement("div",{className:"max-w-[1400px] mx-auto pb-32 min-h-screen block"},je&&(t==null?void 0:t.showAnnouncementBanner)!==!1&&(t==null?void 0:t.announcementMessage)&&e.createElement("div",{className:"w-full bg-gradient-to-r from-orange-900/20 to-red-900/20 border border-orange-500/20 rounded-xl p-3 mb-8 text-center animate-pulse relative overflow-hidden group"},e.createElement("div",{className:"absolute inset-0 bg-white/5 skew-x-12 -translate-x-full group-hover:translate-x-full transition duration-1000"}),e.createElement("p",{className:"text-orange-400 font-black text-xs md:text-sm tracking-[0.2em] uppercase flex items-center justify-center gap-3"},e.createElement(ds,{className:"w-4 h-4 text-orange-500"})," ",t.announcementMessage," ",e.createElement(ds,{className:"w-4 h-4 text-orange-500"}))),je&&(t==null?void 0:t.showBrandTicker)!==!1&&e.createElement("div",{className:`mb-8 w-full overflow-hidden border-y backdrop-blur-sm py-2 ${x?"border-slate-800/50 bg-[#0a0a0a]/50":"border-slate-200 bg-slate-100/50"}`},e.createElement("div",{className:"ticker-wrap"},e.createElement("div",{className:`ticker-content font-mono text-xs md:text-sm tracking-[0.2em] md:tracking-[0.5em] uppercase flex items-center gap-6 md:gap-12 ${x?"text-orange-500/50":"text-orange-600/70"}`},[1,2,3,4].map(a=>e.createElement(e.Fragment,{key:a},e.createElement("span",{className:"whitespace-nowrap"},(t==null?void 0:t.tickerText)||`${(t==null?void 0:t.storeName)||""} Tech ‚Ä¢ Futuro ‚Ä¢ Calidad Premium ‚Ä¢ Innovaci√≥n`),e.createElement("span",null,"‚Ä¢")))))),e.createElement("div",{className:`relative w-full h-[30vh] md:h-[350px] 2xl:h-[450px] rounded-[2rem] overflow-hidden shadow-2xl mb-8 border group relative container-tv ${x?"border-slate-800 bg-[#080808]":"border-slate-200 bg-white"}`},e.createElement("div",{className:`absolute inset-0 bg-[url('/noise.svg')] z-0 ${x?"opacity-20":"opacity-10"}`}),e.createElement(gi,{settingsLoaded:je,banners:(t==null?void 0:t.showHomeBannerCarousel)===!1?[]:ze,fallbackUrl:t==null?void 0:t.heroUrl,autoplayMs:(t==null?void 0:t.homeBannerAutoplayMs)||5e3,darkMode:x,onBannerClick:sl}),e.createElement("div",{className:`absolute inset-0 flex flex-col justify-center px-8 md:px-20 z-10 p-12 pointer-events-none ${x?"bg-gradient-to-t md:bg-gradient-to-r from-[#050505] via-[#050505]/80 to-transparent":"bg-gradient-to-t md:bg-gradient-to-r from-white/25 via-white/10 to-transparent"}`},e.createElement("div",{className:"max-w-2xl animate-fade-up"},je?e.createElement(e.Fragment,null,e.createElement("span",{className:"bg-orange-500 text-black px-3 py-1 rounded-md text-[10px] font-black uppercase tracking-widest shadow-[0_0_15px_rgba(255,255,255,0.1)] mb-4 inline-block"},(t==null?void 0:t.heroBadge)||""),e.createElement("h1",{className:`text-3xl md:text-5xl lg:text-6xl text-tv-huge font-black leading-[0.9] mb-4 ${x?"text-white drop-shadow-2xl neon-text":"text-slate-900"}`},(t==null?void 0:t.heroTitle1)||""," ",e.createElement("br",null),e.createElement("span",{className:`text-transparent bg-clip-text bg-gradient-to-r ${x?"from-orange-400 to-blue-600":"from-orange-600 to-blue-700"}`},(t==null?void 0:t.heroTitle2)||"")),e.createElement("p",{className:`text-sm md:text-base lg:text-lg mb-6 max-w-md font-medium ${x?"text-slate-400":"text-slate-600"}`},(t==null?void 0:t.heroSubtitle)||""),e.createElement("div",{className:"flex items-center gap-4"},e.createElement("button",{onClick:()=>document.getElementById("catalog").scrollIntoView({behavior:"smooth"}),className:"px-8 py-4 bg-white text-black font-black rounded-xl hover:bg-orange-400 transition shadow-[0_0_30px_rgba(255,255,255,0.1)] flex items-center justify-center gap-2 group/btn pointer-events-auto"},"VER CAT√ÅLOGO ",e.createElement(xo,{className:"w-5 h-5 group-hover/btn:translate-x-1 transition"})),e.createElement("button",{onClick:()=>u("guide"),className:`px-6 py-2.5 rounded-xl flex items-center gap-2 transition font-bold text-xs group pointer-events-auto ${x?"bg-white/5 backdrop-blur-md border border-white/10 hover:bg-white/10 text-white":"bg-slate-100 border border-slate-200 hover:bg-slate-200 text-slate-900"}`},e.createElement(Vt,{className:`w-4 h-4 ${x?"text-orange-400":"text-orange-600"}`})," Ayuda"))):e.createElement(e.Fragment,null,e.createElement("div",{className:"h-6 w-32 bg-slate-700/50 rounded-md mb-4 animate-pulse"}),e.createElement("div",{className:"h-12 md:h-16 w-64 md:w-80 bg-slate-700/50 rounded-lg mb-2 animate-pulse"}),e.createElement("div",{className:"h-12 md:h-16 w-48 md:w-64 bg-slate-700/50 rounded-lg mb-4 animate-pulse"}),e.createElement("div",{className:"h-4 w-72 bg-slate-700/50 rounded mb-2 animate-pulse"}),e.createElement("div",{className:"h-4 w-56 bg-slate-700/50 rounded mb-6 animate-pulse"}),e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"h-12 w-40 bg-slate-700/50 rounded-xl animate-pulse"}),e.createElement("div",{className:"h-10 w-24 bg-slate-700/50 rounded-xl animate-pulse"})))))),je&&(t==null?void 0:t.showFeaturesSection)!==!1&&e.createElement("div",{className:`grid grid-cols-1 ${[(t==null?void 0:t.showFeature1)!==!1,(t==null?void 0:t.showFeature2)!==!1,(t==null?void 0:t.showFeature3)!==!1].filter(Boolean).length===1?"md:grid-cols-1 max-w-md mx-auto":[(t==null?void 0:t.showFeature1)!==!1,(t==null?void 0:t.showFeature2)!==!1,(t==null?void 0:t.showFeature3)!==!1].filter(Boolean).length===2?"md:grid-cols-2 max-w-2xl mx-auto":"md:grid-cols-3"} gap-4 md:gap-8 mb-12 container-tv`},je?e.createElement(e.Fragment,null,(t==null?void 0:t.showFeature1)!==!1&&e.createElement("div",{className:"p-4 rounded-[1.5rem] bg-slate-900/30 border border-slate-800 backdrop-blur-sm flex flex-col items-center text-center tech-glow hover:bg-slate-900/50 transition duration-500 group"},e.createElement("div",{className:"w-10 h-10 rounded-full bg-orange-900/20 flex items-center justify-center mb-3 group-hover:scale-110 transition"},e.createElement(Bt,{className:"w-5 h-5 text-orange-400"})),e.createElement("h3",{className:"text-base font-bold text-white mb-1"},(t==null?void 0:t.feature1Title)||""),e.createElement("p",{className:"text-slate-400 text-[11px]"},(t==null?void 0:t.feature1Desc)||"")),(t==null?void 0:t.showFeature2)!==!1&&e.createElement("div",{className:"p-4 rounded-[1.5rem] bg-slate-900/30 border border-slate-800 backdrop-blur-sm flex flex-col items-center text-center tech-glow hover:bg-slate-900/50 transition duration-500 group"},e.createElement("div",{className:"w-10 h-10 rounded-full bg-purple-900/20 flex items-center justify-center mb-3 group-hover:scale-110 transition"},e.createElement(ot,{className:"w-5 h-5 text-purple-400"})),e.createElement("h3",{className:"text-base font-bold text-white mb-1"},(t==null?void 0:t.feature2Title)||""),e.createElement("p",{className:"text-slate-400 text-[11px]"},(t==null?void 0:t.feature2Desc)||"")),(t==null?void 0:t.showFeature3)!==!1&&e.createElement("div",{className:"p-4 rounded-[1.5rem] bg-slate-900/30 border border-slate-800 backdrop-blur-sm flex flex-col items-center text-center tech-glow hover:bg-slate-900/50 transition duration-500 group"},e.createElement("div",{className:"w-10 h-10 rounded-full bg-green-900/20 flex items-center justify-center mb-3 group-hover:scale-110 transition"},e.createElement(cs,{className:"w-5 h-5 text-green-400"})),e.createElement("h3",{className:"text-base font-bold text-white mb-1"},(t==null?void 0:t.feature3Title)||""),e.createElement("p",{className:"text-slate-400 text-[11px]"},(t==null?void 0:t.feature3Desc)||""))):e.createElement(e.Fragment,null,[1,2,3].map(a=>e.createElement("div",{key:a,className:"p-4 rounded-[1.5rem] bg-slate-900/30 border border-slate-800 backdrop-blur-sm flex flex-col items-center text-center"},e.createElement("div",{className:"w-10 h-10 rounded-full bg-slate-700/50 mb-3 animate-pulse"}),e.createElement("div",{className:"h-5 w-32 bg-slate-700/50 rounded mb-2 animate-pulse"}),e.createElement("div",{className:"h-3 w-48 bg-slate-700/50 rounded mb-1 animate-pulse"}),e.createElement("div",{className:"h-3 w-40 bg-slate-700/50 rounded animate-pulse"}))))),e.createElement("div",{id:"catalog",className:`sticky top-16 sm:top-20 z-40 backdrop-blur-xl py-3 sm:py-4 mb-6 sm:mb-8 -mx-4 px-4 border-y ${x?"bg-[#050505]/80 border-slate-800/50":"bg-white/80 border-slate-200"}`},e.createElement("div",{ref:z,onMouseDown:Rt,onMouseLeave:Ds,onMouseUp:Ls,onMouseMove:Ms,className:`flex items-center gap-2 overflow-x-auto pb-1 ${Z?"cursor-grabbing scroll-auto":"cursor-grab scroll-smooth"}`,style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"}},e.createElement(Rl,{className:`w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0 ${x?"text-slate-500":"text-slate-400"}`}),e.createElement("button",{onClick:()=>C("Promos"),className:`px-3 sm:px-5 py-1.5 sm:py-2 rounded-lg sm:rounded-xl font-black text-[10px] sm:text-xs transition border whitespace-nowrap flex items-center gap-1.5 sm:gap-2 group relative overflow-hidden flex-shrink-0 ${$e==="Promos"?"text-white border-purple-500 shadow-[0_0_20px_rgba(168,85,247,0.5)]":x?"bg-slate-900 border-slate-800 text-purple-400 hover:text-white hover:border-purple-500/50":"bg-purple-50 border-purple-200 text-purple-600 hover:bg-purple-100 hover:border-purple-300"}`},$e==="Promos"&&e.createElement("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-blue-600 animate-gradient-xy"}),e.createElement("span",{className:"relative z-10 flex items-center gap-1.5 sm:gap-2"},e.createElement(ma,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})," PROMOS")),e.createElement("button",{onClick:()=>C("Ofertas"),className:`px-3 sm:px-5 py-1.5 sm:py-2 rounded-lg sm:rounded-xl font-bold text-[10px] sm:text-xs transition border whitespace-nowrap flex items-center gap-1.5 sm:gap-2 flex-shrink-0 ${$e==="Ofertas"?"bg-red-600/20 text-red-500 border-red-500 shadow-[0_0_15px_rgba(220,38,38,0.3)]":x?"bg-slate-900 border-slate-800 text-red-400 hover:text-white hover:border-red-500/50":"bg-red-50 border-red-200 text-red-600 hover:bg-red-100 hover:border-red-300"}`},e.createElement(Zl,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})," OFERTAS"),e.createElement("button",{onClick:()=>C(""),className:`px-3 sm:px-5 py-1.5 sm:py-2 rounded-lg sm:rounded-xl font-bold text-[10px] sm:text-xs transition border whitespace-nowrap flex-shrink-0 ${$e===""?x?"bg-white text-black border-white shadow-[0_0_15px_rgba(255,255,255,0.2)]":"bg-slate-900 text-white border-slate-900 shadow-md":x?"bg-slate-900 border-slate-800 text-slate-400 hover:text-white hover:border-slate-600":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50 hover:border-slate-300"}`},"Todos"),(fr=t==null?void 0:t.categories)==null?void 0:fr.map(a=>e.createElement("button",{key:a,onClick:()=>C(a),className:`px-3 sm:px-5 py-1.5 sm:py-2 rounded-lg sm:rounded-xl font-bold text-[10px] sm:text-xs transition border whitespace-nowrap flex-shrink-0 ${$e===a?"bg-orange-500 text-white border-orange-500 shadow-[0_0_15px_rgba(249,115,22,0.3)]":x?"bg-slate-900 border-slate-800 text-slate-400 hover:text-white hover:border-slate-600":"bg-white border-slate-200 text-slate-600 hover:bg-orange-50 hover:border-orange-300 hover:text-orange-600"}`},a)))),$e==="Promos"&&e.createElement("div",{className:"mb-16 animate-fade-in"},oe.length>0?e.createElement(e.Fragment,null,e.createElement("h2",{className:`text-3xl font-black mb-8 flex items-center gap-3 ${x?"text-white":"text-slate-900"}`},e.createElement(Ka,{className:"w-8 h-8 text-purple-500 animate-pulse"})," PROMOCIONES ESPECIALES"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},oe.map(a=>{let o=1/0;a.items.forEach(r=>{const i=N.find(b=>b.id===r.productId),n=i&&Number(i.stock)||0,c=Math.floor(n/r.quantity);c<o&&(o=c)});const s=o>0;return e.createElement("div",{key:a.id,className:"bg-gradient-to-br from-purple-900/10 to-blue-900/10 rounded-[2.5rem] border border-purple-500/30 overflow-hidden group shadow-[0_0_30px_rgba(168,85,247,0.1)] hover:shadow-[0_0_50px_rgba(168,85,247,0.2)] transition duration-500 relative flex flex-col"},e.createElement("div",{className:"aspect-square bg-slate-900/50 flex items-center justify-center relative overflow-hidden cursor-zoom-in",onClick:()=>ha({...a,isPromo:!0,stock:o})},e.createElement("img",{src:a.image,className:"w-full h-full object-contain transition duration-700 group-hover:scale-110"}),e.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0a0a0a] via-transparent to-transparent"}),e.createElement("div",{className:"absolute top-4 right-4 bg-purple-600 text-white text-xs font-black px-3 py-1 rounded-full uppercase tracking-wider shadow-lg"},"Oferta Limitada")),e.createElement("div",{className:"p-8 flex-1 flex flex-col"},e.createElement("h3",{className:"text-2xl font-black text-white mb-2 leading-tight"},a.name),e.createElement("p",{className:"text-purple-300 text-sm mb-6 flex-1"},a.description),e.createElement("div",{className:"mb-6 space-y-2"},e.createElement("p",{className:"text-[10px] uppercase font-bold text-slate-500 tracking-widest"},"Incluye:"),a.items.map((r,i)=>{const n=N.find(c=>c.id===r.productId);return e.createElement("div",{key:i,className:"flex items-center gap-2 text-sm text-slate-400"},e.createElement(me,{className:"w-3 h-3 text-purple-500"}),e.createElement("span",{className:"text-white font-bold"},r.quantity,"x")," ",n?n.name:"Producto")})),e.createElement("div",{className:"flex items-center justify-between mt-auto pt-6 border-t border-white/5"},e.createElement("div",{className:"flex flex-col"},e.createElement("span",{className:"text-slate-500 text-xs font-bold line-through decoration-red-500 decoration-2"},"$",a.items.reduce((r,i)=>{const n=N.find(c=>c.id===i.productId);return r+(Number(n==null?void 0:n.basePrice)||0)*i.quantity},0).toLocaleString()),e.createElement("span",{className:"text-3xl font-black text-white neon-text text-purple-400"},"$",Number(a.price).toLocaleString())),e.createElement("button",{onClick:()=>{if(!s)return p("Sin stock disponible para esta promo.","warning");const r={id:a.id,name:a.name,basePrice:a.price,image:a.image,isPromo:!0,items:a.items,stock:o};_t(r,1)},disabled:!s,className:`px-6 py-3 rounded-xl font-bold flex items-center gap-2 transition shadow-lg ${s?"bg-white text-black hover:bg-purple-400 hover:text-white hover:scale-105":"bg-slate-800 text-slate-500 cursor-not-allowed"}`},s?e.createElement(Ea,{className:"w-5 h-5"}):e.createElement(Se,{className:"w-5 h-5"}),s?"AGREGAR":"AGOTADO"))))}))):e.createElement("div",{className:"flex flex-col items-center justify-center p-20 text-center border border-dashed border-slate-800 rounded-[3rem] bg-slate-950/30"},e.createElement("div",{className:"p-8 bg-slate-900 rounded-full mb-6 shadow-2xl border border-slate-800"},e.createElement(Ka,{className:"w-16 h-16 text-slate-600"})),e.createElement("h3",{className:"text-2xl font-black text-white mb-2"},"Sin Promociones Activas"),e.createElement("p",{className:"text-slate-500 max-w-sm"},"No hay promociones disponibles en este momento. ¬°Volv√© pronto!"),e.createElement("button",{onClick:()=>C(""),className:"mt-6 px-6 py-3 bg-orange-900/20 hover:bg-orange-900/40 text-orange-400 rounded-xl font-bold transition border border-orange-500/20"},"Ver Todo el Cat√°logo"))),N.filter(a=>a.isActive!==!1).length===0?e.createElement("div",{className:"flex flex-col items-center justify-center p-20 text-center border-2 border-dashed border-slate-800 rounded-[3rem] bg-slate-950/30"},e.createElement("div",{className:"p-8 bg-slate-900 rounded-full mb-6 shadow-2xl border border-slate-800"},e.createElement(Ct,{className:"w-16 h-16 text-slate-600"})),e.createElement("h3",{className:"text-2xl font-black text-white mb-2"},"Cat√°logo Vac√≠o"),e.createElement("p",{className:"text-slate-500 max-w-sm"},"No hay productos disponibles en este momento. Por favor revisa m√°s tarde o contacta soporte.")):e.createElement(e.Fragment,null,_o.length===0&&$e!=="Promos"&&e.createElement("div",{className:"flex flex-col items-center justify-center p-20 text-center col-span-full animate-fade-in w-full"},e.createElement("div",{className:"p-6 bg-slate-900/50 rounded-full mb-4 inline-block border border-slate-800"},e.createElement(Uo,{className:"w-12 h-12 text-slate-500"})),e.createElement("h3",{className:"text-xl font-bold text-white mb-2"},"No se encontraron resultados"),e.createElement("p",{className:"text-slate-500 mb-6 max-w-md mx-auto"},"No hay productos que coincidan con ",e.createElement("span",{className:"text-white font-bold"},'"',xa,'"'),$e&&e.createElement("span",null," en la categor√≠a ",e.createElement("span",{className:"text-white font-bold"},$e)),"."),e.createElement("button",{onClick:()=>{Oa(""),C("")},className:"px-6 py-3 bg-orange-900/20 hover:bg-orange-900/40 text-orange-400 rounded-xl font-bold transition border border-orange-500/20"},"Limpiar filtros")),e.createElement("div",{className:"grid grid-cols-1 min-[380px]:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 min-[1920px]:grid-cols-5 gap-3 sm:gap-6 md:gap-8 pb-32"},_o.map(a=>e.createElement(yi,{key:a.id,p:a,settings:t,currentUser:d,toggleFavorite:ur,setSelectedProduct:ha,manageCart:_t,calculateItemPrice:ka,darkMode:x}))))),l==="cart"&&e.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up px-4 md:px-8 pb-20"},e.createElement("div",{className:"flex flex-col gap-4 mb-8 pt-8 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("button",{onClick:()=>u("store"),className:"p-3 bg-slate-900 rounded-full text-slate-400 hover:text-white transition hover:bg-slate-800 group"},e.createElement(Pt,{className:"w-6 h-6 group-hover:-translate-x-1 transition"})),e.createElement("h1",{className:`text-4xl font-black flex items-center gap-3 ${x?"text-white neon-text":"text-slate-900"}`},e.createElement(Ut,{className:"w-10 h-10 text-orange-500"})," Mi Carrito")),te.length>0&&(t==null?void 0:t.showCartWhatsappCheckout)===!0&&e.createElement("button",{onClick:()=>{const a=ul(t==null?void 0:t.whatsappLink,bl());if(!a){p("Configura el enlace de WhatsApp en Admin ‚Üí Configuraci√≥n ‚Üí Social.","warning");return}window.open(a,"_blank")},className:"w-full sm:w-auto px-5 py-3 bg-green-600 hover:bg-green-500 text-white rounded-2xl font-black transition shadow-lg hover:shadow-green-500/30 flex items-center justify-center gap-2"},e.createElement(sa,{className:"w-5 h-5"})," Terminar compra por WhatsApp")),te.length===0?e.createElement("div",{className:`flex flex-col items-center justify-center p-16 text-center border-2 border-dashed rounded-[3rem] ${x?"border-slate-800 bg-slate-950/30":"border-slate-200 bg-slate-50"}`},e.createElement("div",{className:`p-8 rounded-full mb-6 shadow-xl border ${x?"bg-slate-900 border-slate-800":"bg-white border-slate-200"}`},e.createElement(Ea,{className:`w-16 h-16 ${x?"text-slate-600":"text-slate-400"}`})),e.createElement("h3",{className:`text-2xl font-black mb-2 ${x?"text-white":"text-slate-900"}`},"Tu carrito est√° vac√≠o"),e.createElement("p",{className:"text-slate-500 text-sm max-w-xs mb-8 leading-relaxed"},"¬°Es un buen momento para buscar ese producto que tanto quieres!"),e.createElement("button",{onClick:()=>u("store"),className:"px-8 py-4 bg-orange-600 text-white rounded-xl font-bold transition shadow-lg hover:bg-orange-500 hover:shadow-orange-500/30 flex items-center gap-2"},"Ir a la Tienda ",e.createElement(xo,{className:"w-5 h-5"}))):e.createElement("div",{className:"grid lg:grid-cols-3 gap-8"},e.createElement("div",{className:"lg:col-span-2 space-y-4"},te.map(a=>{var o,s,r,i,n,c,b,m;return e.createElement("div",{key:a.product.id,className:"bg-[#0a0a0a] border border-slate-800 p-4 md:p-6 rounded-3xl flex flex-col md:flex-row gap-6 items-center group relative overflow-hidden hover:border-orange-900/50 transition duration-300"},e.createElement("div",{className:"w-full md:w-32 h-32 bg-white rounded-2xl flex items-center justify-center p-2 flex-shrink-0 shadow-lg"},e.createElement("img",{src:a.product.image,alt:a.product.name,className:"w-full h-full object-contain"})),e.createElement("div",{className:"flex-1 w-full text-center md:text-left z-10"},e.createElement("div",{className:"flex justify-between items-start w-full"},e.createElement("h3",{className:"font-bold text-white text-lg truncate mb-1 pr-4"},a.product.name),e.createElement("button",{onClick:()=>_t(a.product,-a.quantity),className:"text-slate-600 hover:text-red-500 transition p-2 bg-slate-900 rounded-lg hover:bg-red-900/20"},e.createElement(ye,{className:"w-5 h-5"}))),e.createElement("p",{className:"text-orange-400 font-bold text-sm mb-4"},"$",ka((s=(o=a.product)==null?void 0:o.basePrice)!=null?s:0,(i=(r=a.product)==null?void 0:r.discount)!=null?i:0).toLocaleString()," ",e.createElement("span",{className:"text-slate-600 font-normal"},"unitario")),e.createElement("div",{className:"flex items-center justify-center md:justify-start gap-4"},e.createElement("div",{className:"flex items-center gap-3 bg-slate-900 rounded-xl p-1 border border-slate-700"},e.createElement("button",{onClick:()=>_t(a.product,-1),className:"w-10 h-10 flex items-center justify-center hover:bg-slate-800 rounded-lg text-slate-400 hover:text-white transition"},e.createElement(qo,{className:"w-4 h-4"})),e.createElement("span",{className:"text-base font-bold w-8 text-center text-white"},a.quantity),e.createElement("button",{onClick:()=>_t(a.product,1),className:"w-10 h-10 flex items-center justify-center hover:bg-slate-800 rounded-lg text-slate-400 hover:text-white transition"},e.createElement(Xe,{className:"w-4 h-4"}))),e.createElement("div",{className:"hidden md:block h-8 w-px bg-slate-800 mx-2"}),e.createElement("p",{className:"text-xs text-slate-500 font-bold uppercase hidden md:block"},"Subtotal: ",e.createElement("span",{className:"text-white text-lg ml-1"},"$",(ka((c=(n=a.product)==null?void 0:n.basePrice)!=null?c:0,(m=(b=a.product)==null?void 0:b.discount)!=null?m:0)*(a.quantity||0)).toLocaleString())))))})),e.createElement("div",{className:`border p-8 rounded-[2.5rem] h-fit sticky top-28 shadow-2xl ${x?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`},e.createElement("h3",{className:`text-2xl font-black mb-8 border-b pb-4 ${x?"text-white border-slate-800":"text-slate-900 border-slate-200"}`},"Resumen de Compra"),e.createElement("div",{className:"mb-8"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-3 block flex items-center gap-2"},e.createElement(Ka,{className:"w-4 h-4"})," Cup√≥n de Descuento"),Oe?e.createElement("div",{className:"bg-purple-900/20 border border-purple-500/30 p-4 rounded-2xl flex justify-between items-center relative overflow-hidden group animate-fade-up"},e.createElement("div",{className:"absolute inset-0 bg-purple-500/5 group-hover:bg-purple-500/10 transition"}),e.createElement("div",{className:"relative z-10"},e.createElement("p",{className:"font-black text-purple-300 text-lg tracking-widest"},Oe.code),e.createElement("p",{className:"text-xs text-purple-400 font-bold"},Oe.type==="fixed"?`$${Oe.value} OFF`:`${Oe.value}% OFF`)),e.createElement("button",{onClick:()=>oo(null),className:"p-2 bg-slate-900/50 rounded-full text-purple-300 hover:text-red-400 hover:bg-red-900/30 transition relative z-10 border border-transparent hover:border-red-500/30"},e.createElement(ye,{className:"w-4 h-4"}))):e.createElement("button",{onClick:()=>ko(!0),className:"w-full py-4 border border-dashed border-slate-700 hover:border-purple-500 bg-slate-900/30 hover:bg-purple-900/10 text-slate-400 hover:text-purple-300 rounded-2xl transition flex items-center justify-center gap-2 text-sm font-bold group"},e.createElement(na,{className:"w-5 h-5 group-hover:rotate-12 transition"})," Ver cupones disponibles")),e.createElement("div",{className:`space-y-4 border-b pb-8 mb-8 ${x?"border-slate-800":"border-slate-200"}`},e.createElement("div",{className:`flex justify-between font-medium ${x?"text-slate-400":"text-slate-600"}`},e.createElement("span",null,"Subtotal"),e.createElement("span",{className:`font-mono font-bold ${x?"text-white":"text-slate-900"}`},"$",nt.toLocaleString())),e.createElement("div",{className:`flex justify-between text-sm font-medium ${x?"text-slate-400":"text-slate-600"}`},e.createElement("span",null,"Env√≠o ",D.shippingMethod==="Delivery"?"(A domicilio)":"(Retiro)"),e.createElement("span",{className:"text-orange-500 font-bold flex items-center gap-1"},e.createElement(St,{className:"w-3 h-3"}),Ca>0?`$${Ca.toLocaleString()}`:D.shippingMethod==="Pickup"?"Gratis":"¬°Env√≠o Gratis!")),Oe&&e.createElement("div",{className:"flex justify-between text-purple-500 font-bold text-sm animate-pulse bg-purple-900/10 p-2 rounded-lg"},e.createElement("span",null,"Descuento aplicado"),e.createElement("span",null,"-$",mo.toLocaleString()))),e.createElement("div",{className:"flex justify-between items-end mb-8"},e.createElement("span",{className:`font-bold text-lg ${x?"text-white":"text-slate-900"}`},"Total Final"),e.createElement("span",{className:`text-4xl font-black tracking-tighter ${x?"text-white neon-text":"text-slate-900"}`},"$",ta.toLocaleString())),e.createElement("button",{onClick:()=>u("checkout"),className:"w-full bg-gradient-to-r from-orange-600 to-blue-600 hover:from-orange-500 hover:to-blue-500 py-5 text-white font-bold text-lg rounded-2xl shadow-[0_0_25px_rgba(249,115,22,0.3)] hover:shadow-[0_0_35px_rgba(249,115,22,0.5)] transition-all flex items-center justify-center gap-3 transform hover:-translate-y-1"},"Iniciar Compra ",e.createElement(xo,{className:"w-6 h-6"}))))),l==="checkout"&&e.createElement("div",{className:"max-w-5xl mx-auto pb-20 animate-fade-up px-4 md:px-8"},e.createElement("button",{onClick:()=>u("cart"),className:"mb-8 mt-8 text-slate-400 hover:text-white flex items-center gap-2 font-bold transition"},e.createElement(Pt,{className:"w-5 h-5"})," Volver al Carrito"),e.createElement("div",{className:"grid md:grid-cols-5 gap-8"},e.createElement("div",{className:"md:col-span-3 space-y-8"},e.createElement("div",{className:`border p-8 rounded-[2.5rem] shadow-xl relative overflow-hidden ${x?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`},e.createElement("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/10 rounded-bl-[100px] pointer-events-none"}),e.createElement("h2",{className:`text-2xl font-black mb-6 flex items-center gap-3 ${x?"text-white":"text-slate-900"}`},e.createElement(St,{className:"text-orange-500 w-6 h-6"})," M√©todo de Entrega"),e.createElement("div",{className:"grid grid-cols-2 gap-4 relative z-10 mb-6"},((gr=t==null?void 0:t.shippingPickup)==null?void 0:gr.enabled)&&e.createElement("button",{onClick:()=>st({...D,shippingMethod:"Pickup"}),className:`p-6 rounded-2xl border transition flex flex-col items-center gap-3 relative overflow-hidden group ${D.shippingMethod==="Pickup"?"border-orange-500 bg-orange-500/10 text-orange-500":x?"border-slate-700 bg-slate-900/30 text-slate-500 hover:border-slate-500":"border-slate-200 bg-slate-50 text-slate-500 hover:border-slate-400"}`},D.shippingMethod==="Pickup"&&e.createElement(me,{className:"absolute top-2 right-2 w-5 h-5 text-orange-500"}),e.createElement(ls,{className:"w-8 h-8 group-hover:scale-110 transition"}),e.createElement("span",{className:"text-xs font-black uppercase"},"Retiro en Local")),((hr=t==null?void 0:t.shippingDelivery)==null?void 0:hr.enabled)&&e.createElement("button",{onClick:()=>st({...D,shippingMethod:"Delivery"}),className:`p-6 rounded-2xl border transition flex flex-col items-center gap-3 relative overflow-hidden group ${D.shippingMethod==="Delivery"?"border-orange-500 bg-orange-500/10 text-orange-500":x?"border-slate-700 bg-slate-900/30 text-slate-500 hover:border-slate-500":"border-slate-200 bg-slate-50 text-slate-500 hover:border-slate-400"}`},D.shippingMethod==="Delivery"&&e.createElement(me,{className:"absolute top-2 right-2 w-5 h-5 text-orange-500"}),e.createElement(St,{className:"w-8 h-8 group-hover:scale-110 transition"}),e.createElement("span",{className:"text-xs font-black uppercase"},"Env√≠o a Domicilio"))),D.shippingMethod==="Pickup"&&e.createElement("div",{className:"p-4 bg-orange-900/10 border border-orange-500/20 rounded-xl animate-fade-up flex gap-3"},e.createElement(Vt,{className:"w-5 h-5 text-orange-400 shrink-0"}),e.createElement("p",{className:"text-xs text-orange-200"},"Retira tu pedido en: ",e.createElement("span",{className:"font-bold"},((vr=t==null?void 0:t.shippingPickup)==null?void 0:vr.address)||"Direcci√≥n a coordinar"))),D.shippingMethod==="Delivery"&&e.createElement("div",{className:"space-y-5 relative z-10 animate-fade-up mt-4"},e.createElement("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest pl-2"},"Datos de Destino"),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase ml-2 mb-1 block"},"Direcci√≥n y Altura"),e.createElement("input",{className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-4 text-white placeholder-slate-600 focus:border-orange-500 focus:ring-1 focus:ring-orange-500 outline-none transition font-medium",placeholder:"Ej: Av. Santa Fe 1234",value:D.address||"",onChange:a=>st({...D,address:a.target.value})})),e.createElement("div",{className:"grid grid-cols-2 gap-5"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase ml-2 mb-1 block"},"Ciudad"),e.createElement("input",{className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-4 text-white placeholder-slate-600 focus:border-orange-500 outline-none transition font-medium",placeholder:"Ej: Rosario",value:D.city||"",onChange:a=>st({...D,city:a.target.value})})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase ml-2 mb-1 block"},"Provincia"),e.createElement("input",{className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-4 text-white placeholder-slate-600 focus:border-orange-500 outline-none transition font-medium",placeholder:"Ej: Santa Fe",value:D.province||"",onChange:a=>st({...D,province:a.target.value})}))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase ml-2 mb-1 block"},"C√≥digo Postal"),e.createElement("input",{className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-4 text-white placeholder-slate-600 focus:border-orange-500 outline-none transition font-medium",placeholder:"Ej: 2000",value:D.zipCode||"",onChange:a=>st({...D,zipCode:a.target.value})})))),e.createElement("div",{className:`border p-8 rounded-[2.5rem] shadow-xl relative overflow-hidden ${x?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`},e.createElement("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-500/10 rounded-bl-[100px] pointer-events-none"}),e.createElement("h2",{className:`text-2xl font-black mb-6 flex items-center gap-3 ${x?"text-white":"text-slate-900"}`},e.createElement(Gt,{className:"text-orange-500 w-6 h-6"})," M√©todo de Pago"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 relative z-10"},((wr=t==null?void 0:t.paymentMercadoPago)==null?void 0:wr.enabled)&&e.createElement("button",{onClick:()=>st({...D,paymentChoice:"Tarjeta"}),className:`p-4 md:p-6 rounded-2xl border transition flex flex-col items-center gap-3 relative overflow-hidden group ${D.paymentChoice==="Tarjeta"?"border-orange-500 bg-orange-900/20 text-orange-400 shadow-[0_0_20px_rgba(249,115,22,0.2)]":"border-slate-700 bg-slate-900/30 text-slate-500 hover:border-slate-500 hover:bg-slate-800"}`},D.paymentChoice==="Tarjeta"&&e.createElement(me,{className:"absolute top-2 right-2 text-orange-500"}),e.createElement(Gt,{className:"w-8 h-8 group-hover:scale-110 transition"}),e.createElement("span",{className:"text-sm font-black tracking-wider uppercase"},"Tarjeta")),((Nr=t==null?void 0:t.paymentTransfer)==null?void 0:Nr.enabled)&&e.createElement("button",{onClick:()=>st({...D,paymentChoice:"Transferencia"}),className:`p-4 md:p-6 rounded-2xl border transition flex flex-col items-center gap-3 relative overflow-hidden group ${D.paymentChoice==="Transferencia"?"border-orange-500 bg-orange-900/20 text-orange-400 shadow-[0_0_20px_rgba(249,115,22,0.2)]":"border-slate-700 bg-slate-900/30 text-slate-500 hover:border-slate-500 hover:bg-slate-800"}`},D.paymentChoice==="Transferencia"&&e.createElement(me,{className:"absolute top-2 right-2 text-orange-500"}),e.createElement(Rr,{className:"w-8 h-8 group-hover:scale-110 transition"}),e.createElement("span",{className:"text-sm font-black tracking-wider uppercase"},"Transferencia")),(t==null?void 0:t.paymentCash)&&D.shippingMethod!=="Delivery"&&e.createElement("button",{onClick:()=>st({...D,paymentChoice:"Efectivo"}),className:`p-4 md:p-6 rounded-2xl border transition flex flex-col items-center gap-3 relative overflow-hidden group ${D.paymentChoice==="Efectivo"?"border-orange-500 bg-orange-900/20 text-orange-400 shadow-[0_0_20px_rgba(249,115,22,0.2)]":"border-slate-700 bg-slate-900/30 text-slate-500 hover:border-slate-500 hover:bg-slate-800"}`},D.paymentChoice==="Efectivo"&&e.createElement(me,{className:"absolute top-2 right-2 text-orange-500"}),e.createElement(ws,{className:"w-8 h-8 group-hover:scale-110 transition"}),e.createElement("span",{className:"text-sm font-black tracking-wider uppercase"},"Efectivo"))),D.paymentChoice==="Tarjeta"&&e.createElement("div",{className:"mt-8 animate-fade-up"},e.createElement("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-orange-500/30"},e.createElement("h3",{className:"text-white font-bold mb-4 flex items-center gap-2"},e.createElement(Gt,{className:"w-5 h-5 text-orange-400"}),"Ingres√° los datos de tu tarjeta"),e.createElement("p",{className:"text-slate-400 text-sm mb-4"},"Pag√° de forma segura con Visa, MasterCard, AMEX y m√°s."),e.createElement("div",{className:"mb-6 p-4 bg-orange-900/10 border border-orange-500/20 rounded-xl flex items-start gap-3"},e.createElement(da,{className:"w-5 h-5 text-orange-500 shrink-0 mt-0.5"}),e.createElement("p",{className:"text-xs text-orange-200 leading-relaxed font-medium"},e.createElement("strong",{className:"text-orange-400 block mb-1"},"ATENCI√ìN:"),"Si ten√©s activado un ",e.createElement("span",{className:"text-white font-bold"},"AdBlocker/Bloqueador de Anuncios"),", por favor desactivalo temporalmente. Es posible que el pago no se concrete si el bloqueador interfiere con la seguridad del banco.")),e.createElement("div",{id:"cardPaymentBrick_container",ref:tl,className:"min-h-[400px]"}),nr&&e.createElement("div",{className:"mt-4 space-y-3"},e.createElement("div",{className:"p-4 bg-red-900/20 border border-red-500/30 rounded-xl text-red-400 text-sm flex items-center gap-3"},e.createElement(ia,{className:"w-5 h-5 flex-shrink-0"}),nr),e.createElement("button",{onClick:()=>{mt(null),xr()},className:"w-full py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-xl text-sm font-bold transition-all flex items-center justify-center gap-2"},e.createElement(Rr,{className:"w-4 h-4"}),"Reintentar Pago")),el&&e.createElement("div",{className:"mt-4 p-4 bg-orange-900/20 border border-orange-500/30 rounded-xl text-orange-400 text-sm flex items-center gap-3"},e.createElement(ca,{className:"w-5 h-5 animate-spin flex-shrink-0"}),"Procesando tu pago, por favor esper√°..."))),D.paymentChoice==="Transferencia"&&e.createElement("div",{className:"mt-8 animate-fade-up"},e.createElement("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-orange-500/20"},e.createElement("h3",{className:"text-white font-bold mb-3 flex items-center gap-2"},e.createElement(vs,{className:"w-5 h-5 text-orange-400"}),"Datos para transferir"),e.createElement("div",{className:"space-y-2 text-sm"},e.createElement("div",{className:"flex items-start justify-between gap-4"},e.createElement("span",{className:"text-slate-400"},"Titular"),e.createElement("span",{className:"text-white font-medium text-right break-all"},(yr=t==null?void 0:t.paymentTransfer)!=null&&yr.holderName?String(t.paymentTransfer.holderName):"Sin configurar")),e.createElement("div",{className:"flex items-start justify-between gap-4"},e.createElement("span",{className:"text-slate-400"},"Alias"),e.createElement("span",{className:"text-white font-mono text-right break-all"},(kr=t==null?void 0:t.paymentTransfer)!=null&&kr.alias?String(t.paymentTransfer.alias):"Sin configurar")),e.createElement("div",{className:"flex items-start justify-between gap-4"},e.createElement("span",{className:"text-slate-400"},"CBU"),e.createElement("span",{className:"text-white font-mono text-right break-all"},(Cr=t==null?void 0:t.paymentTransfer)!=null&&Cr.cbu?String(t.paymentTransfer.cbu):"Sin configurar"))),e.createElement("div",{className:"mt-4 p-4 bg-orange-900/10 border border-orange-500/20 rounded-xl flex items-start gap-3"},e.createElement(Vt,{className:"w-5 h-5 text-orange-500 shrink-0 mt-0.5"}),e.createElement("p",{className:"text-xs text-orange-200 leading-relaxed font-medium"},"Una vez realizada la transferencia, confirm√° el pedido. Si necesit√°s coordinar el comprobante, te contactamos por WhatsApp si est√° disponible.")))))),e.createElement("div",{className:"md:col-span-2"},e.createElement("div",{className:`border p-8 rounded-[2.5rem] sticky top-28 shadow-2xl ${x?"bg-gradient-to-br from-slate-900 via-[#0a0a0a] to-[#050505] border-slate-800":"bg-white border-slate-200"}`},e.createElement("h3",{className:`font-black mb-8 text-xl border-b pb-4 ${x?"text-white border-slate-800":"text-slate-900 border-slate-100"}`},"Resumen Final"),e.createElement("div",{className:"space-y-4 mb-8"},e.createElement("div",{className:`flex justify-between ${x?"text-slate-400":"text-slate-500"}`},e.createElement("span",null,"Productos (",te.length,")"),e.createElement("span",{className:`font-bold ${x?"text-white":"text-slate-900"}`},"$",nt.toLocaleString())),mo>0&&e.createElement("div",{className:"flex justify-between text-purple-500 font-bold"},e.createElement("span",null,"Descuento"),e.createElement("span",null,"-$",mo.toLocaleString())),e.createElement("div",{className:`h-px my-4 border-t border-dashed ${x?"bg-slate-800 border-slate-700":"bg-slate-100 border-slate-200"}`}),e.createElement("div",{className:"flex justify-between items-end"},e.createElement("span",{className:`font-bold ${x?"text-white":"text-slate-900"}`},"Total a Pagar"),e.createElement("span",{className:`text-3xl font-black tracking-tighter ${x?"text-white neon-text":"text-slate-900"}`},"$",ta.toLocaleString()))),D.paymentChoice&&D.paymentChoice!=="Tarjeta"?e.createElement(e.Fragment,null,e.createElement("button",{onClick:fl,disabled:gt,className:`w-full py-5 text-white font-bold text-lg rounded-2xl shadow-xl flex items-center justify-center gap-3 transition-all ${gt?"bg-slate-700 cursor-not-allowed":"bg-green-600 hover:bg-green-500 shadow-green-900/20 hover:scale-[1.02]"}`},gt?e.createElement(ca,{className:"w-6 h-6 animate-spin"}):e.createElement(me,{className:"w-6 h-6"}),gt?"Procesando...":"Confirmar Pedido"),e.createElement("p",{className:"text-center text-slate-600 text-xs mt-6 leading-relaxed px-4"},"Al confirmar, aceptas nuestros t√©rminos de servicio y pol√≠tica de privacidad.")):D.paymentChoice==="Tarjeta"?e.createElement("div",{className:"bg-orange-900/10 border border-orange-500/20 p-4 rounded-2xl text-center"},e.createElement("p",{className:"text-orange-400 text-sm font-medium flex items-center justify-center gap-2"},e.createElement(Gt,{className:"w-4 h-4"}),"Complet√° los datos de tu tarjeta arriba para pagar"),e.createElement("p",{className:"text-slate-500 text-xs mt-2"},"Tu compra quedar√° confirmada autom√°ticamente al procesar el pago.")):null)))),l==="profile"&&d&&d.id&&d.email&&d.name&&e.createElement("div",{className:"max-w-6xl mx-auto pt-8 animate-fade-up px-4 md:px-8 pb-20"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 md:p-12 rounded-[3rem] mb-12 flex flex-col md:flex-row items-center gap-8 relative overflow-hidden shadow-2xl"},e.createElement("div",{className:"absolute top-0 right-0 w-96 h-96 bg-orange-500/5 rounded-full blur-[120px] pointer-events-none"}),e.createElement("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-blue-600/5 rounded-full blur-[100px] pointer-events-none"}),e.createElement("div",{className:"w-28 h-28 rounded-[2rem] bg-gradient-to-br from-orange-500 to-blue-600 flex items-center justify-center text-5xl font-black text-white shadow-2xl z-10 transform rotate-3 border-4 border-[#0a0a0a]"},d.name.charAt(0)),e.createElement("div",{className:"text-center md:text-left z-10 flex-1"},e.createElement("h2",{className:"text-4xl md:text-5xl font-black text-white mb-2 tracking-tight"},d.name),e.createElement("p",{className:"text-slate-400 flex items-center justify-center md:justify-start gap-2 font-medium mb-4"},e.createElement(Vl,{className:"w-4 h-4 text-orange-500"})," ",d.email),e.createElement("div",{className:"flex flex-wrap gap-4 justify-center md:justify-start"},e.createElement("span",{className:"bg-slate-900 border border-slate-800 px-4 py-2 rounded-xl text-xs text-slate-500 font-mono flex items-center gap-2"},e.createElement(qt,{className:"w-3 h-3"})," ",d.dni||"Sin DNI"),e.createElement("span",{className:"bg-slate-900 border border-slate-800 px-4 py-2 rounded-xl text-xs text-slate-500 font-mono flex items-center gap-2"},e.createElement(ss,{className:"w-3 h-3"})," ",d.phone||"Sin Tel√©fono"),e.createElement("span",{className:"bg-slate-900 border border-slate-800 px-4 py-2 rounded-xl text-xs text-slate-500 font-mono flex items-center gap-2"},e.createElement(ot,{className:"w-3 h-3"})," ",Wa(d.email).toUpperCase()))),e.createElement("div",{className:"flex flex-col gap-3 z-10 w-full md:w-auto"},jo(d.email)&&e.createElement("button",{onClick:()=>u("admin"),className:"px-6 py-4 bg-slate-900 border border-orange-500/30 text-orange-400 hover:bg-orange-900/20 rounded-2xl font-bold transition flex items-center justify-center gap-2 shadow-lg hover:shadow-orange-500/10"},e.createElement(ot,{className:"w-5 h-5"})," Panel Admin"),e.createElement("button",{onClick:()=>{localStorage.removeItem("sustore_user_data"),Pe(null),u("store")},className:"px-6 py-4 bg-red-900/10 border border-red-500/20 text-red-500 hover:bg-red-900/20 rounded-2xl font-bold transition flex items-center justify-center gap-2 hover:border-red-500/40"},e.createElement(es,{className:"w-5 h-5"})," Cerrar Sesi√≥n"))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2.5rem] mb-12 shadow-2xl animate-fade-up"},e.createElement("h3",{className:"text-2xl font-black text-white mb-6 flex items-center gap-3"},e.createElement(na,{className:"text-purple-400 w-6 h-6"})," Mis Cupones Disponibles"),e.createElement("div",{className:"grid md:grid-cols-2 gap-8"},e.createElement("div",{className:"space-y-4"},(()=>{const a=et.filter(o=>o.targetType==="global"||o.targetType==="specific_email"&&o.targetUser===d.email);return a.length===0?e.createElement("p",{className:"text-slate-500 italic"},"No tienes cupones disponibles en este momento."):a.map(o=>e.createElement("div",{key:o.id,className:"bg-slate-900/50 border border-slate-800 p-4 rounded-xl flex items-center justify-between group hover:border-purple-500/30 transition"},e.createElement("div",null,e.createElement("p",{className:"font-black text-white text-lg tracking-widest"},o.code),e.createElement("p",{className:"text-purple-400 text-sm font-bold"},o.type==="fixed"?`$${o.value} OFF`:`${o.value}% OFF`),o.expirationDate&&e.createElement("p",{className:"text-[10px] text-slate-500 mt-1"},"Vence: ",o.expirationDate)),e.createElement("button",{onClick:()=>{navigator.clipboard.writeText(o.code),p("C√≥digo copiado","success")},className:"px-4 py-2 bg-purple-900/20 text-purple-400 rounded-lg text-xs font-bold hover:bg-purple-500 hover:text-white transition border border-purple-500/20"},"COPIAR")))})()),e.createElement("div",{className:"bg-slate-900/30 p-6 rounded-2xl border border-slate-800"},e.createElement("h4",{className:"font-bold text-white mb-4 text-sm uppercase tracking-wider"},"Canjear C√≥digo"),e.createElement("div",{className:"flex gap-2"},e.createElement("input",{className:"flex-1 bg-slate-950 border border-slate-800 rounded-xl p-3 text-white focus:border-purple-500 outline-none uppercase font-mono",placeholder:"C√ìDIGO",id:"couponRedeemInput"}),e.createElement("button",{onClick:()=>{const a=document.getElementById("couponRedeemInput"),o=String((a==null?void 0:a.value)||"").trim().toUpperCase();if(!o)return p("Ingresa un c√≥digo","warning");et.find(r=>r.code===o)?p("¬°Cup√≥n v√°lido! √ösalo en el checkout.","success"):p("Cup√≥n no encontrado o inv√°lido","error")},className:"bg-purple-600 px-6 rounded-xl text-white font-bold hover:bg-purple-500 transition shadow-lg"},"Validar")),e.createElement("p",{className:"text-xs text-slate-500 mt-3 leading-relaxed"},"Ingresa el c√≥digo aqu√≠ para verificar si es v√°lido. Ll√©valo al checkout para aplicar el descuento.")))),e.createElement("div",{className:"grid lg:grid-cols-2 gap-10"},e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h3",{className:"text-2xl font-black text-white flex items-center gap-3"},e.createElement(Ut,{className:"text-orange-400 w-6 h-6"})," Tus Compras")),(()=>{const o=Ne.filter(s=>s.userId===d.id&&s.status==="Realizado").flatMap(s=>s.items.map(r=>({...r,date:s.date})));return o.length===0?e.createElement("div",{className:"p-12 border-2 border-dashed border-slate-800 rounded-[2rem] text-center text-slate-500 bg-slate-900/20"},e.createElement(Ut,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.createElement("p",{className:"font-bold"},"A√∫n no tienes compras finalizadas."),e.createElement("button",{onClick:()=>u("store"),className:"mt-4 text-orange-400 hover:underline text-sm font-bold"},"Ir a la tienda")):e.createElement("div",{className:"grid grid-cols-1 gap-4 max-h-[600px] overflow-y-auto custom-scrollbar pr-2"},o.sort((s,r)=>new Date(r.date)-new Date(s.date)).map((s,r)=>e.createElement("div",{key:r,className:"bg-[#0a0a0a] border border-slate-800 p-4 rounded-2xl flex items-center gap-4 group hover:border-orange-500/50 transition duration-300"},e.createElement("div",{className:"w-16 h-16 bg-white rounded-xl p-1 flex-shrink-0"},e.createElement("img",{src:s.image,className:"w-full h-full object-contain",alt:s.title})),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("h4",{className:"text-white font-bold text-sm truncate group-hover:text-orange-400 transition"},s.title),e.createElement("p",{className:"text-xs text-slate-500 font-mono mt-1"},new Date(s.date).toLocaleDateString())),e.createElement("div",{className:"text-right flex flex-col items-end gap-1"},e.createElement("p",{className:"text-white font-black"},"$",s.unit_price.toLocaleString()),s.quantity>1&&e.createElement("span",{className:"text-[10px] text-slate-500 font-bold"},"x",s.quantity," und.")))))})()),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h3",{className:"text-2xl font-black text-white flex items-center gap-3"},e.createElement(po,{className:"text-red-500 w-6 h-6 fill-current"})," Mis Favoritos"),e.createElement("span",{className:"text-xs font-bold text-slate-500 bg-slate-900 px-3 py-1 rounded-full"},((Sr=d.favorites)==null?void 0:Sr.length)||0," Guardados")),!d.favorites||d.favorites.length===0?e.createElement("div",{className:"p-12 border-2 border-dashed border-slate-800 rounded-[2rem] text-center text-slate-500 bg-slate-900/20"},e.createElement(po,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.createElement("p",{className:"font-bold"},"Tu lista de deseos est√° vac√≠a."),e.createElement("p",{className:"text-xs mt-2 max-w-xs mx-auto"},"Guarda productos haciendo click en el coraz√≥n de las tarjetas.")):e.createElement("div",{className:"space-y-4 max-h-[600px] overflow-y-auto custom-scrollbar pr-2"},d.favorites.map(a=>{const o=N.find(s=>s.id===a);return o?e.createElement("div",{key:a,className:"bg-[#0a0a0a] border border-slate-800 p-4 rounded-2xl flex items-center gap-4 relative group hover:border-slate-600 transition"},e.createElement("div",{className:"w-16 h-16 bg-white rounded-xl p-1 flex-shrink-0"},e.createElement("img",{src:o.image,className:"w-full h-full object-contain"})),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"font-bold text-white line-clamp-1 group-hover:text-orange-400 transition"},o.name),e.createElement("p",{className:"text-orange-400 font-bold text-sm mt-1"},"$",o.basePrice.toLocaleString())),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{onClick:()=>ur(o),className:"p-3 bg-slate-900 text-red-400 hover:bg-red-900/20 rounded-xl transition border border-slate-800 hover:border-red-500/30",title:"Eliminar de favoritos"},e.createElement(ye,{className:"w-4 h-4"})),e.createElement("button",{onClick:()=>_t(o,1),className:"p-3 bg-slate-900 text-orange-400 hover:bg-orange-900/20 rounded-xl transition border border-slate-800 hover:border-orange-500/30",title:"Agregar al carrito"},e.createElement(Xe,{className:"w-4 h-4"})))):null}))))),l==="profile"&&(!d||!d.id||!d.email||!d.name)&&e.createElement("div",{className:"max-w-md mx-auto pt-20 animate-fade-up px-4 text-center"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem] shadow-2xl"},e.createElement(qt,{className:"w-16 h-16 mx-auto mb-6 text-orange-500 opacity-50"}),e.createElement("h2",{className:"text-2xl font-black text-white mb-4"},"Inicia Sesi√≥n"),e.createElement("p",{className:"text-slate-400 mb-8"},"Debes iniciar sesi√≥n o registrarte para acceder a tu perfil."),e.createElement("button",{onClick:()=>u("login"),className:"w-full py-4 bg-gradient-to-r from-orange-500 to-blue-600 text-white rounded-2xl font-black hover:from-orange-400 hover:to-blue-500 transition shadow-lg"},"INICIAR SESI√ìN"))),(l==="login"||l==="register")&&e.createElement("div",{className:"fixed inset-0 z-[20002] flex items-center justify-center bg-[#050505]/95 p-4 animate-fade-up backdrop-blur-xl"},e.createElement("div",{className:"bg-[#0a0a0a] p-8 md:p-12 rounded-[3rem] w-full max-w-md shadow-2xl border border-slate-800 relative overflow-hidden"},e.createElement("button",{onClick:()=>u("store"),className:"absolute top-6 right-6 p-2 bg-slate-900/50 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white transition z-20"},e.createElement(Se,{className:"w-6 h-6"})),e.createElement("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-orange-500 via-orange-600 to-red-600"}),e.createElement("h2",{className:"text-4xl font-black text-white mb-2 text-center tracking-tight"},Nt?"Bienvenido":"Crear Cuenta"),e.createElement("p",{className:"text-slate-500 text-center mb-8 text-sm"},Nt?"Ingresa a tu cuenta para continuar.":"√önete a nosotros hoy mismo."),e.createElement("form",{onSubmit:a=>{a.preventDefault(),ml(!Nt)},className:"space-y-4"},!Nt&&e.createElement("div",{className:"space-y-4 animate-fade-up"},e.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Nombre Completo *",value:ee.name,onChange:a=>jt({...ee,name:a.target.value}),required:!0}),e.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Nombre de Usuario *",value:ee.username,onChange:a=>jt({...ee,username:a.target.value}),required:!0}),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("input",{className:"input-cyber p-4",placeholder:"DNI *",value:ee.dni,onChange:a=>jt({...ee,dni:a.target.value}),required:!0}),e.createElement("input",{className:"input-cyber p-4",placeholder:"Tel√©fono *",value:ee.phone,onChange:a=>jt({...ee,phone:a.target.value}),required:!0}))),e.createElement("div",{className:"space-y-4"},e.createElement("input",{className:"input-cyber w-full p-4",placeholder:Nt?"Email o Usuario":"Email *",value:ee.email,onChange:a=>jt({...ee,email:a.target.value}),required:!0}),e.createElement("input",{className:"input-cyber w-full p-4",type:"password",placeholder:Nt?"Contrase√±a":"Contrase√±a *",value:ee.password,onChange:a=>jt({...ee,password:a.target.value}),required:!0})),e.createElement("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-600 to-blue-600 hover:from-orange-500 hover:to-blue-500 py-4 text-white rounded-xl font-bold mt-6 transition transform hover:-translate-y-1 shadow-lg flex items-center justify-center gap-2"},Ra?e.createElement(ca,{className:"animate-spin w-5 h-5"}):Nt?"INGRESAR":"REGISTRARSE")),e.createElement("button",{onClick:()=>Os(!Nt),className:"w-full text-center text-slate-500 text-sm mt-8 font-bold hover:text-orange-400 transition border-t border-slate-800 pt-6"},Nt?"¬øNo tienes cuenta? Reg√≠strate gratis":"¬øYa tienes cuenta? Inicia sesi√≥n"))),l==="about"&&e.createElement("div",{className:"max-w-4xl mx-auto pt-10 px-6 animate-fade-up pb-20"},e.createElement("button",{onClick:()=>u("store"),className:`mb-8 p-3 rounded-full transition ${x?"bg-slate-900 text-slate-400 hover:text-white":"bg-slate-100 text-slate-600 hover:text-slate-900"}`},e.createElement(Pt,null)),e.createElement("h2",{className:`text-4xl md:text-5xl font-black mb-12 flex items-center gap-4 ${x?"text-white neon-text":"text-slate-900"}`},e.createElement(Vt,{className:"text-orange-500 w-12 h-12"})," Sobre Nosotros"),e.createElement("div",{className:`border p-8 md:p-12 rounded-[3rem] text-xl leading-relaxed whitespace-pre-wrap shadow-2xl relative overflow-hidden ${x?"bg-[#0a0a0a] border-slate-800 text-slate-300":"bg-white border-slate-200 text-slate-600"}`},e.createElement("div",{className:"absolute top-0 right-0 w-64 h-64 bg-purple-500/10 rounded-full blur-[100px] pointer-events-none"}),e.createElement("p",{className:"relative z-10"},t.aboutUsText),e.createElement("div",{className:`mt-12 pt-12 border-t flex flex-col md:flex-row gap-8 ${x?"border-slate-800":"border-slate-200"}`},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border ${x?"bg-slate-900 border-slate-800":"bg-slate-100 border-slate-200"}`},e.createElement(ot,{className:"text-orange-500"})),e.createElement("div",null,e.createElement("h4",{className:`font-bold ${x?"text-white":"text-slate-900"}`},"Garant√≠a Oficial"),e.createElement("p",{className:`text-sm ${x?"text-slate-500":"text-slate-400"}`},"Productos de calidad"))),e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border ${x?"bg-slate-900 border-slate-800":"bg-slate-100 border-slate-200"}`},e.createElement(St,{className:"text-purple-500"})),e.createElement("div",null,e.createElement("h4",{className:`font-bold ${x?"text-white":"text-slate-900"}`},"Env√≠os Seguros"),e.createElement("p",{className:`text-sm ${x?"text-slate-500":"text-slate-400"}`},"A todo el pa√≠s")))))),l==="guide"&&e.createElement("div",{className:"max-w-4xl mx-auto pt-10 px-6 animate-fade-up pb-20"},e.createElement("button",{onClick:()=>u("store"),className:`mb-8 p-3 rounded-full transition ${x?"bg-slate-900 text-slate-400 hover:text-white":"bg-slate-100 text-slate-600 hover:text-slate-900"}`},e.createElement(Pt,null)),e.createElement("h2",{className:`text-4xl md:text-5xl font-black mb-12 flex items-center gap-4 ${x?"text-white neon-text":"text-slate-900"}`},e.createElement(bo,{className:"text-orange-500 w-12 h-12"})," ",(t==null?void 0:t.guideTitle)||"C√≥mo Comprar"),e.createElement("div",{className:`border p-8 md:p-12 rounded-[3rem] shadow-2xl space-y-8 ${x?"bg-[#0a0a0a] border-slate-800 text-slate-300":"bg-white border-slate-200 text-slate-600"}`},[{title:(t==null?void 0:t.guideStep1Title)||"Selecciona Productos",text:(t==null?void 0:t.guideStep1Text)||"Navega por nuestro cat√°logo y a√±ade lo que te guste al carrito con el bot√≥n '+'."},{title:(t==null?void 0:t.guideStep2Title)||"Revisa tu Carrito",text:(t==null?void 0:t.guideStep2Text)||"Verifica las cantidades. Si tienes un cup√≥n de descuento, ¬°es el momento de usarlo!"},{title:(t==null?void 0:t.guideStep3Title)||"Datos de Env√≠o",text:(t==null?void 0:t.guideStep3Text)||"Completa la informaci√≥n de entrega. Hacemos env√≠os a todo el pa√≠s."},{title:(t==null?void 0:t.guideStep4Title)||"Pago y Confirmaci√≥n",text:(t==null?void 0:t.guideStep4Text)||"Elige tu m√©todo de pago preferido. Si es transferencia, recibir√°s los datos por email."},{title:(t==null?void 0:t.guideStep5Title)||"¬°Listo!",text:(t==null?void 0:t.guideStep5Text)||"Recibir√°s un correo con el seguimiento de tu pedido. ¬°Disfruta tu compra!"}].filter((a,o)=>!(o===0&&(t==null?void 0:t.showGuideStep1)===!1||o===1&&(t==null?void 0:t.showGuideStep2)===!1||o===2&&(t==null?void 0:t.showGuideStep3)===!1||o===3&&(t==null?void 0:t.showGuideStep4)===!1||o===4&&(t==null?void 0:t.showGuideStep5)===!1)).map((a,o)=>e.createElement("div",{key:o,className:"flex gap-6 items-start"},e.createElement("div",{className:`w-10 h-10 rounded-full font-black flex items-center justify-center border flex-shrink-0 mt-1 ${x?"bg-orange-900/20 text-orange-400 border-orange-500/20":"bg-orange-100 text-orange-600 border-orange-200"}`},o+1),e.createElement("div",null,e.createElement("h3",{className:`text-xl font-bold mb-2 ${x?"text-white":"text-slate-900"}`},a.title),e.createElement("p",{className:`leading-relaxed ${x?"text-slate-400":"text-slate-500"}`},a.text)))))),l==="privacy"&&e.createElement("div",{className:"max-w-4xl mx-auto pt-10 px-6 animate-fade-up pb-20"},e.createElement("button",{onClick:()=>u("store"),className:`mb-8 p-3 rounded-full transition ${x?"bg-slate-900 text-slate-400 hover:text-white":"bg-slate-100 text-slate-600 hover:text-slate-900"}`},e.createElement(Pt,null)),e.createElement("h2",{className:`text-4xl md:text-5xl font-black mb-12 flex items-center gap-4 ${x?"text-white neon-text":"text-slate-900"}`},e.createElement(ot,{className:"text-orange-500 w-12 h-12"})," Pol√≠tica de Privacidad"),e.createElement("div",{className:`border p-8 md:p-12 rounded-[3rem] shadow-2xl space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar ${x?"bg-[#0a0a0a] border-slate-800 text-slate-300":"bg-white border-slate-200 text-slate-600"}`},e.createElement("div",{className:"prose prose-invert max-w-none"},e.createElement("p",{className:`text-sm mb-8 italic ${x?"text-slate-500":"text-slate-400"}`},"√öltima actualizaci√≥n: 07 de enero de 2026"),e.createElement("p",null,"Este Aviso de Privacidad para ",e.createElement("strong",null,(t==null?void 0:t.storeName)||"Sustore"),' ("nosotros", "nos" o "nuestro"), describe c√≥mo y por qu√© podr√≠amos acceder, recopilar, almacenar, usar y/o compartir ("proceso") su informaci√≥n personal cuando utiliza nuestros servicios ("Servicios"), incluso cuando:'),e.createElement("ul",{className:"list-disc pl-5 space-y-2"},e.createElement("li",null,"Visita nuestro sitio web en ",e.createElement("a",{href:"https://sustore.vercel.app",className:"text-orange-500 hover:underline"},"https://sustore.vercel.app")," o cualquier sitio web nuestro que enlace a este Aviso de Privacidad."),e.createElement("li",null,"Interact√∫e con nosotros de otras maneras relacionadas, incluido cualquier marketing o evento.")),e.createElement("div",{className:`p-6 rounded-2xl border my-8 ${x?"bg-slate-900/50 border-slate-800 text-slate-300":"bg-slate-50 border-slate-200 text-slate-700"}`},e.createElement("h3",{className:`text-xl font-bold mb-4 ${x?"text-white":"text-slate-900"}`},"RESUMEN DE PUNTOS CLAVE"),e.createElement("ul",{className:"space-y-4 text-sm"},e.createElement("li",null,e.createElement("strong",null,"¬øQu√© informaci√≥n personal procesamos?")," Informaci√≥n proporcionada al registrarse o comprar."),e.createElement("li",null,e.createElement("strong",null,"¬øProcesamos informaci√≥n confidencial?")," No."),e.createElement("li",null,e.createElement("strong",null,"¬øRecopilamos informaci√≥n de terceros?")," No."),e.createElement("li",null,e.createElement("strong",null,"¬øC√≥mo procesamos su informaci√≥n?")," Para gestionar pedidos, seguridad y mejora del servicio."),e.createElement("li",null,e.createElement("strong",null,"¬øCompartimos informaci√≥n?")," Solo en situaciones espec√≠ficas como transferencias comerciales o requisitos legales."))),e.createElement("h3",{className:`text-xl font-bold mt-12 mb-4 border-b pb-2 ${x?"text-white border-slate-800":"text-slate-900 border-slate-200"}`},"1. ¬øQU√â INFORMACI√ìN RECOPILAMOS?"),e.createElement("p",null,"Recopilamos informaci√≥n que usted nos proporciona voluntariamente: nombres, tel√©fonos, emails, direcciones, nombres de usuario y contrase√±as."),e.createElement("p",null,"Tambi√©n recopilamos datos t√©cnicos autom√°ticamente (IP, tipo de navegador) para seguridad y an√°lisis del sitio."),e.createElement("h3",{className:`text-xl font-bold mt-12 mb-4 border-b pb-2 ${x?"text-white border-slate-800":"text-slate-900 border-slate-200"}`},"2. ¬øC√ìMO PROCESAMOS TU INFORMACI√ìN?"),e.createElement("ul",{className:"list-disc pl-5 space-y-2"},e.createElement("li",null,"Facilitar creaci√≥n y administraci√≥n de cuentas."),e.createElement("li",null,"Gestionar pedidos, pagos y env√≠os."),e.createElement("li",null,"Proteger nuestros servicios contra fraude."),e.createElement("li",null,"Evaluar y mejorar la experiencia del usuario.")),e.createElement("h3",{className:`text-xl font-bold mt-12 mb-4 border-b pb-2 ${x?"text-white border-slate-800":"text-slate-900 border-slate-200"}`},"3. ¬øCU√ÅNTO TIEMPO CONSERVAMOS TU INFORMACI√ìN?"),e.createElement("p",null,"Conservamos su informaci√≥n mientras tenga una cuenta activa con nosotros o seg√∫n lo exija la ley para fines contables o legales."),e.createElement("h3",{className:`text-xl font-bold mt-12 mb-4 border-b pb-2 ${x?"text-white border-slate-800":"text-slate-900 border-slate-200"}`},"4. ¬øCU√ÅLES SON SUS DERECHOS?"),e.createElement("p",null,"Puede revisar, cambiar o cancelar su cuenta en cualquier momento desde su perfil o contact√°ndonos directamente."),e.createElement("h3",{className:`text-xl font-bold mt-12 mb-4 border-b pb-2 ${x?"text-white border-slate-800":"text-slate-900 border-slate-200"}`},"5. CONTACTO"),e.createElement("p",null,"Para preguntas sobre este aviso, puede escribirnos a:"),e.createElement("div",{className:`p-6 rounded-xl border font-mono text-sm leading-relaxed ${x?"bg-slate-950 border-slate-800":"bg-white border-slate-200 shadow-sm"}`},e.createElement("strong",null,(t==null?void 0:t.storeName)||"Sustore"),e.createElement("br",null),"Saavedra 7568",e.createElement("br",null),"Santa Fe, 3000",e.createElement("br",null),"Argentina",e.createElement("br",null),e.createElement("a",{href:`https://mail.google.com/mail/?view=cm&fs=1&to=${t==null?void 0:t.sellerEmail}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:underline"},(t==null?void 0:t.sellerEmail)||"[Email de contacto]"))))),l==="admin"&&(!je||il(d==null?void 0:d.email)?e.createElement("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center"},e.createElement("div",{className:"text-center"},e.createElement("div",{className:"relative"},e.createElement("div",{className:"w-16 h-16 rounded-full border-4 border-slate-800 animate-spin",style:{borderTopColor:"#f97316"}}),e.createElement("div",{className:"absolute inset-0 flex items-center justify-center"},e.createElement(ot,{className:"w-6 h-6 text-orange-500 animate-pulse"}))),e.createElement("p",{className:"text-slate-500 text-xs mt-4 font-mono uppercase tracking-widest"},"Verificando permisos..."))):jo(d==null?void 0:d.email)&&(d!=null&&d.id)&&(d==null?void 0:d.id.length)>=10&&!Ts.detectManipulation()?e.createElement("div",{className:"flex min-h-screen min-full-viewport bg-[#050505] overflow-hidden animate-fade-up relative w-full font-sans"},ke&&e.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden animate-fade-in",onClick:()=>le(!1)}),e.createElement("div",{className:`fixed inset-y-0 left-0 z-40 w-[280px] bg-[#0a0a0a] border-r border-slate-800 flex flex-col transition-transform duration-300 ease-out ${ke?"translate-x-0":"-translate-x-full md:translate-x-0"} md:static md:w-72 shadow-2xl`},e.createElement("div",{className:"p-6 md:p-8 border-b border-slate-900 flex items-center justify-between"},e.createElement("div",null,e.createElement("h2",{className:"text-xl md:text-2xl font-black text-white tracking-tight flex items-center gap-3"},e.createElement("div",{className:"w-9 h-9 md:w-10 md:h-10 bg-orange-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-orange-900/20"},e.createElement(ot,{className:"w-5 h-5 md:w-6 md:h-6"})),"ADMIN"),e.createElement("p",{className:"text-[10px] md:text-xs text-slate-500 mt-1.5 font-mono ml-1"},"v3.0.0 PRO")),e.createElement("button",{onClick:()=>le(!1),className:"md:hidden p-2 bg-slate-900 hover:bg-slate-800 rounded-xl text-slate-400 hover:text-white transition border border-slate-800"},e.createElement(Se,{className:"w-5 h-5"}))),e.createElement("nav",{className:"flex-1 p-3 md:p-4 space-y-1.5 md:space-y-2 overflow-y-auto custom-scrollbar"},e.createElement("p",{className:"text-[10px] font-black text-slate-600 uppercase tracking-widest px-3 md:px-4 py-2 mt-1"},"Principal"),e.createElement("button",{onClick:()=>{S("dashboard"),le(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${v==="dashboard"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},e.createElement(Hl,{className:"w-5 h-5"})," Inicio"),e.createElement("button",{onClick:()=>{S("orders"),le(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${v==="orders"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},e.createElement(Ut,{className:"w-5 h-5"})," Pedidos",Ke&&Ha&&e.createElement("span",{className:"ml-auto text-[10px] px-2 py-1 rounded-full bg-red-900/30 text-red-300 border border-red-500/30 font-black uppercase tracking-widest"},"Nuevo")),e.createElement("button",{onClick:()=>{S("products"),le(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${v==="products"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},e.createElement(Ct,{className:"w-5 h-5"})," Productos"),(io(d==null?void 0:d.email)||ll(d==null?void 0:d.email))&&e.createElement("button",{onClick:()=>{S("promos"),le(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${v==="promos"?"bg-purple-900/20 text-purple-400 border border-purple-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},e.createElement(Ka,{className:"w-5 h-5"})," Promos"),io(d==null?void 0:d.email)&&e.createElement(e.Fragment,null,e.createElement("p",{className:"text-[10px] font-black text-slate-600 uppercase tracking-widest px-3 md:px-4 py-2 mt-4 md:mt-6"},"Gesti√≥n"),e.createElement("button",{onClick:()=>{S("coupons"),le(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${v==="coupons"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},e.createElement(na,{className:"w-5 h-5"})," Cupones"),e.createElement("button",{onClick:()=>{S("suppliers"),le(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${v==="suppliers"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},e.createElement(St,{className:"w-5 h-5"})," Proveedores"),e.createElement("button",{onClick:()=>{S("purchases"),le(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${v==="purchases"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},e.createElement(Ea,{className:"w-5 h-5"})," Compras"),e.createElement("button",{onClick:()=>{S("finance"),le(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${v==="finance"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},e.createElement(os,{className:"w-5 h-5"})," Finanzas"),e.createElement("button",{onClick:()=>{S("settings"),le(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${v==="settings"?"bg-orange-900/20 text-orange-400 border border-orange-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},e.createElement(as,{className:"w-5 h-5"})," Configuraci√≥n"),e.createElement("button",{onClick:()=>{S("users"),le(!1)},className:`w-full text-left px-4 md:px-5 py-3 md:py-3.5 rounded-xl flex items-center gap-3 font-bold text-sm transition ${v==="users"?"bg-pink-900/20 text-pink-400 border border-pink-900/30":"text-slate-400 hover:text-white hover:bg-slate-900"}`},e.createElement(Qa,{className:"w-5 h-5"})," Usuarios"))),e.createElement("div",{className:"p-4 md:p-6 border-t border-slate-900"},e.createElement("button",{onClick:()=>{u("store"),le(!1)},className:"w-full py-3.5 md:py-4 bg-slate-900 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition font-bold text-sm flex items-center justify-center gap-2 group border border-slate-800"},e.createElement(es,{className:"w-4 h-4 group-hover:-translate-x-1 transition"})," Volver a Tienda"))),e.createElement("div",{className:"flex-1 bg-[#050505] overflow-y-auto relative w-full p-4 md:p-10 custom-scrollbar"},e.createElement("button",{onClick:()=>le(!0),className:"md:hidden mb-4 p-3 bg-slate-900 hover:bg-slate-800 rounded-xl text-white border border-slate-800 flex items-center gap-2 font-bold text-sm transition"},e.createElement(ts,{className:"w-5 h-5"})," Men√∫"),v==="dashboard"&&e.createElement("div",{className:"max-w-[1600px] mx-auto animate-fade-up space-y-8 pb-20"},e.createElement(Ol,null),e.createElement(_l,null),e.createElement("div",{className:"flex flex-col md:flex-row justify-between items-end mb-4 gap-4"},e.createElement("div",null,e.createElement("h1",{className:"text-4xl font-black text-white neon-text"},"Panel de Control"),e.createElement("p",{className:"text-slate-500 mt-2"},"Resumen administrativo y financiero.")),e.createElement("div",{className:"flex items-center gap-3"},e.createElement(Et,{guideKey:"dashboard"}),e.createElement("div",{className:"hidden md:block bg-slate-900 px-4 py-2 rounded-lg text-xs text-slate-400 font-mono border border-slate-800"},new Date().toLocaleDateString("es-AR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})))),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2.5rem] relative overflow-hidden group hover:border-green-500/30 transition"},e.createElement("div",{className:"flex justify-between items-center mb-6"},e.createElement("div",null,e.createElement("p",{className:"text-slate-500 font-black text-xs tracking-widest uppercase mb-1"},"Ingresos Brutos"),e.createElement("h2",{className:"text-4xl font-black text-white tracking-tighter"},"$",Y.revenue.toLocaleString())),e.createElement("div",{className:"p-4 bg-green-900/20 text-green-400 rounded-2xl"},e.createElement(fo,{className:"w-8 h-8"}))),e.createElement("div",{className:"space-y-4 mt-8 border-t border-slate-800 pt-6"},e.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4"},"Rendimiento Mensual"),Y.analytics.monthly.slice(-6).reverse().map((a,o)=>{const s=Math.max(...Y.analytics.monthly.map(i=>i.revenue)),r=s>0?a.revenue/s*100:0;return e.createElement("div",{key:o,className:"group/item"},e.createElement("div",{className:"flex justify-between text-xs mb-1"},e.createElement("span",{className:"text-slate-400 font-mono"},a.date),e.createElement("span",{className:"text-white font-bold"},"$",a.revenue.toLocaleString())),e.createElement("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden w-full"},e.createElement("div",{className:"h-full bg-gradient-to-r from-green-600 to-emerald-400 rounded-full transition-all duration-1000 group-hover/item:brightness-125",style:{width:`${r}%`}})))}),Y.analytics.monthly.length===0&&e.createElement("p",{className:"text-slate-600 text-xs"},"Sin datos suficientes."))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2.5rem] relative overflow-hidden group hover:border-orange-500/30 transition"},e.createElement("div",{className:"flex justify-between items-center mb-6"},e.createElement("div",null,e.createElement("p",{className:"text-slate-500 font-black text-xs tracking-widest uppercase mb-1"},"Beneficio Neto (Estimado)"),e.createElement("h2",{className:`text-4xl font-black tracking-tighter ${Y.netIncome>=0?"text-orange-400":"text-red-500"}`},"$",Y.netIncome.toLocaleString())),e.createElement("div",{className:`p-4 rounded-2xl ${Y.netIncome>=0?"bg-orange-900/20 text-orange-400":"bg-red-900/20 text-red-500"}`},Y.netIncome>=0?e.createElement(Go,{className:"w-8 h-8"}):e.createElement(Vo,{className:"w-8 h-8"}))),e.createElement("div",{className:"space-y-4 mt-8 border-t border-slate-800 pt-6"},e.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4"},"Ingresos vs Gastos (√öltimos Meses)"),Y.analytics.monthly.slice(-6).reverse().map((a,o)=>{const s=P.filter(n=>n.date.startsWith(a.date)).reduce((n,c)=>n+c.amount,0)+(F||[]).filter(n=>n.date.startsWith(a.date)).reduce((n,c)=>n+c.cost,0),r=a.revenue+s,i=r>0?a.revenue/r*100:0;return e.createElement("div",{key:o,className:"group/item"},e.createElement("div",{className:"flex justify-between text-xs mb-1"},e.createElement("span",{className:"text-slate-400 font-mono"},a.date),e.createElement("span",{className:"text-orange-400 font-bold"},"+$",(a.revenue-s).toLocaleString())),e.createElement("div",{className:"flex h-2 bg-slate-800 rounded-full overflow-hidden w-full"},e.createElement("div",{title:`Ingresos: $${a.revenue}`,className:"h-full bg-orange-500 transition-all duration-1000",style:{width:`${i}%`}}),e.createElement("div",{title:`Gastos: $${s}`,className:"h-full bg-red-500 transition-all duration-1000",style:{width:`${100-i}%`}})))}),Y.analytics.monthly.length===0&&e.createElement("p",{className:"text-slate-600 text-xs"},"Sin datos suficientes.")))),e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},e.createElement("div",{className:"bg-slate-900/30 p-4 rounded-2xl border border-slate-800"},e.createElement("p",{className:"text-slate-500 text-[10px] uppercase font-bold text-center"},"Usuarios Totales"),e.createElement("p",{className:"text-white font-black text-2xl text-center mt-1"},Y.totalUsers)),e.createElement("div",{className:"bg-slate-900/30 p-4 rounded-2xl border border-slate-800"},e.createElement("p",{className:"text-slate-500 text-[10px] uppercase font-bold text-center"},"Pedidos Totales"),e.createElement("p",{className:"text-white font-black text-2xl text-center mt-1"},Y.totalOrders)),e.createElement("div",{className:"bg-slate-900/30 p-4 rounded-2xl border border-slate-800"},e.createElement("p",{className:"text-slate-500 text-[10px] uppercase font-bold text-center"},"Ticket Promedio"),e.createElement("p",{className:"text-white font-black text-2xl text-center mt-1"},"$",Y.totalOrders>0?Math.round(Y.revenue/Y.totalOrders).toLocaleString():0)),e.createElement("div",{className:"bg-slate-900/30 p-4 rounded-2xl border border-slate-800"},e.createElement("p",{className:"text-slate-500 text-[10px] uppercase font-bold text-center"},"Stock Bajo"),e.createElement("p",{className:`font-black text-2xl text-center mt-1 ${Y.lowStockProducts.length>0?"text-red-500":"text-green-500"}`},Y.lowStockProducts.length))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2.5rem] relative overflow-hidden group hover:border-yellow-500/30 transition"},e.createElement("div",{className:"absolute top-0 right-0 p-8 opacity-10 pointer-events-none"},e.createElement(Aa,{className:"w-32 h-32 text-yellow-500"})),e.createElement("p",{className:"text-slate-500 font-black text-xs tracking-widest uppercase mb-4 flex items-center gap-2"},e.createElement(Aa,{className:"w-4 h-4 text-yellow-500"})," Producto Estrella"),Y.starProduct?e.createElement("div",{className:"flex items-center gap-6 relative z-10"},e.createElement("div",{className:"w-24 h-24 bg-white rounded-2xl p-2 shadow-lg flex-shrink-0"},e.createElement("img",{src:Y.starProduct.image,className:"w-full h-full object-contain"})),e.createElement("div",null,e.createElement("h3",{className:"text-xl font-black text-white leading-tight mb-1"},Y.starProduct.name),e.createElement("p",{className:"text-yellow-400 font-bold text-lg"},Y.starProduct.sales," Und. vendidas"),e.createElement("p",{className:"text-slate-500 text-xs mt-1"},"Stock actual: ",Y.starProduct.stock))):e.createElement("p",{className:"text-slate-600"},"No hay datos de ventas a√∫n.")),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2.5rem] relative overflow-hidden group hover:border-slate-600 transition"},e.createElement("div",{className:"absolute top-0 right-0 p-8 opacity-10 pointer-events-none"},e.createElement(da,{className:"w-32 h-32 text-slate-500"})),e.createElement("p",{className:"text-slate-500 font-black text-xs tracking-widest uppercase mb-4 flex items-center gap-2"},e.createElement(Vo,{className:"w-4 h-4 text-slate-500"})," Menos Vendido (En Stock)"),Y.leastSoldProduct?e.createElement("div",{className:"flex items-center gap-6 relative z-10"},e.createElement("div",{className:"w-24 h-24 bg-white rounded-2xl p-2 shadow-lg grayscale flex-shrink-0"},e.createElement("img",{src:Y.leastSoldProduct.image,className:"w-full h-full object-contain"})),e.createElement("div",null,e.createElement("h3",{className:"text-xl font-black text-white leading-tight mb-1"},Y.leastSoldProduct.name),e.createElement("p",{className:"text-slate-400 font-bold text-lg"},Y.salesCount[Y.leastSoldProduct.id]||0," Und. vendidas"),e.createElement("p",{className:"text-slate-500 text-xs mt-1"},"Hay que rotar este stock."))):e.createElement("p",{className:"text-slate-600"},"Todos los productos tienen buena rotaci√≥n."))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 rounded-[2.5rem] p-8 overflow-hidden shadow-2xl"},e.createElement("h3",{className:"text-xl font-black text-white mb-6 flex items-center gap-2"},e.createElement(Bo,{className:"w-6 h-6 text-purple-400"})," Registro de Movimientos"),e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"w-full text-left border-collapse"},e.createElement("thead",null,e.createElement("tr",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest border-b border-slate-800"},e.createElement("th",{className:"pb-4 pl-4"},"Fecha"),e.createElement("th",{className:"pb-4"},"Tipo"),e.createElement("th",{className:"pb-4"},"Concepto"),e.createElement("th",{className:"pb-4"},"Estado"),e.createElement("th",{className:"pb-4 text-right pr-4"},"Monto"))),e.createElement("tbody",{className:"text-sm font-medium"},Y.transactions.map((a,o)=>e.createElement("tr",{key:`${a.type}-${o}`,className:"border-b border-slate-800/50 hover:bg-slate-900/20 transition group"},e.createElement("td",{className:"py-4 pl-4 text-slate-400 font-mono text-xs"},new Date(a.date).toLocaleDateString()),e.createElement("td",{className:"py-4"},e.createElement("span",{className:`px-2 py-1 rounded text-[10px] font-black uppercase tracking-wider ${a.type==="income"?"bg-green-900/20 text-green-400 border border-green-500/20":"bg-red-900/20 text-red-400 border border-red-500/20"}`},a.category)),e.createElement("td",{className:"py-4 text-white group-hover:text-purple-300 transition"},a.description),e.createElement("td",{className:"py-4 text-xs text-slate-500"},a.status),e.createElement("td",{className:`py-4 text-right pr-4 font-mono font-bold ${a.type==="income"?"text-green-400":"text-red-400"}`},a.type==="income"?"+":"-","$",a.amount.toLocaleString()))),Y.transactions.length===0&&e.createElement("tr",null,e.createElement("td",{colSpan:"5",className:"text-center py-8 text-slate-500"},"Sin movimientos registrados."))))))),v==="suppliers"&&e.createElement("div",{className:"max-w-6xl mx-auto space-y-8 animate-fade-up pb-20"},e.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},e.createElement("h1",{className:"text-3xl font-black text-white"},"Proveedores"),e.createElement("div",{className:"flex items-center gap-2"},e.createElement(Et,{guideKey:"suppliers"}),e.createElement("button",{onClick:()=>{Dt({name:"",contact:"",phone:"",ig:"",address:"",cuit:"",associatedProducts:[]}),wo(null),ao(!0)},className:"bg-orange-600 px-6 py-3 rounded-xl font-bold text-white flex gap-2 shadow-lg hover:bg-orange-500 transition transform hover:-translate-y-1"},e.createElement(Xe,{className:"w-5 h-5"})," Nuevo Proveedor"))),e.createElement("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},ie.map((a,o)=>e.createElement("div",{key:a.id,style:{animationDelay:`${o*.05}s`},className:"bg-[#0a0a0a] border border-slate-800 p-6 rounded-[2rem] hover:border-slate-600 transition duration-300 group animate-fade-up"},e.createElement("div",{className:"flex justify-between items-start mb-6"},e.createElement("div",{className:"p-4 bg-slate-900 rounded-xl text-slate-400 group-hover:text-orange-400 transition group-hover:bg-orange-900/20"},e.createElement(St,{className:"w-8 h-8"})),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{onClick:()=>{Dt(a),wo(a.id),ao(!0)},className:"text-slate-600 hover:text-orange-400 p-2 hover:bg-slate-900 rounded-lg transition",title:"Editar"},e.createElement(la,{className:"w-5 h-5"})),e.createElement("button",{onClick:()=>He("Eliminar Proveedor","¬øEliminar proveedor?",async()=>await ft(G(E,"artifacts",g,"public","data","suppliers",a.id))),className:"text-slate-600 hover:text-red-400 p-2 hover:bg-slate-900 rounded-lg transition",title:"Eliminar"},e.createElement(ye,{className:"w-5 h-5"})))),e.createElement("h3",{className:"text-2xl font-bold text-white mb-2"},a.name),e.createElement("div",{className:"space-y-3 mb-6 p-4 bg-slate-900/30 rounded-xl border border-slate-800/50"},e.createElement("p",{className:"text-slate-400 text-sm flex items-center gap-3"},e.createElement(qt,{className:"w-4 h-4 text-slate-500"})," ",a.contact),a.phone&&e.createElement("p",{className:"text-slate-400 text-sm flex items-center gap-3"},e.createElement(ss,{className:"w-4 h-4 text-slate-500"})," ",a.phone),a.ig&&e.createElement("p",{className:"text-slate-400 text-sm flex items-center gap-3"},e.createElement(uo,{className:"w-4 h-4 text-slate-500"})," ",a.ig)),e.createElement("div",{className:"pt-4 border-t border-slate-800"},e.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase mb-3 tracking-wider"},"Productos Suministrados"),e.createElement("div",{className:"flex flex-wrap gap-2"},a.associatedProducts&&a.associatedProducts.length>0?a.associatedProducts.map(s=>{const r=N.find(i=>i.id===s);return r?e.createElement("div",{key:s,className:"w-10 h-10 rounded-lg bg-white p-1 flex items-center justify-center border border-slate-600 tooltip-container",title:r.name},e.createElement("img",{src:r.image,className:"w-full h-full object-contain"})):null}):e.createElement("span",{className:"text-xs text-slate-600 italic"},"No hay productos asignados"))))))),v==="purchases"&&e.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up pb-20"},e.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8"},e.createElement("h1",{className:"text-3xl font-black text-white"},"Gesti√≥n de Stock y Compras"),e.createElement(Et,{guideKey:"purchases"})),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 rounded-[2.5rem] mb-10 shadow-xl overflow-hidden relative"},e.createElement("div",{className:"flex border-b border-slate-800"},e.createElement("div",{className:"flex-1 p-6 text-center font-bold tracking-wider bg-orange-900/20 text-orange-400"},e.createElement(Ct,{className:"w-5 h-5 inline-block mr-2"})," REGISTRAR REPOSICI√ìN DE STOCK")),e.createElement("div",{className:"p-8"},(()=>{const a=N.find(r=>r.id===Ae.productId),s=((a==null?void 0:a.purchasePrice)||(a==null?void 0:a.basePrice)||0)*Ae.quantity;return e.createElement("div",{className:"space-y-6 animate-fade-in"},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},e.createElement("div",{className:"md:col-span-2"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Producto Existente"),e.createElement("div",{className:"flex gap-4 items-center"},a&&e.createElement("div",{className:"w-16 h-16 bg-white rounded-lg p-1 flex-shrink-0 border border-slate-700"},e.createElement("img",{src:a.image,className:"w-full h-full object-contain",alt:"Preview"})),e.createElement("div",{className:"flex-1"},e.createElement("select",{className:"input-cyber w-full p-4",value:Ae.productId,onChange:r=>za({...Ae,productId:r.target.value})},e.createElement("option",{value:""},"Seleccionar Producto..."),N.map(r=>e.createElement("option",{key:r.id,value:r.id},r.name," (Stock: ",isNaN(Number(r.stock))?0:r.stock,")"))),a&&e.createElement("p",{className:"text-xs text-orange-400 mt-2 font-bold"},"Stock Actual: ",isNaN(Number(a.stock))?0:a.stock," | Costo Total Estimado: $",s.toLocaleString())))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Cantidad"),e.createElement("input",{type:"number",className:"input-cyber w-full p-4",placeholder:"0",value:Ae.quantity,onChange:r=>za({...Ae,quantity:parseInt(r.target.value)||0})})),e.createElement("div",{className:"md:col-span-3"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Proveedor"),e.createElement("select",{className:"input-cyber w-full p-4",value:Ae.supplierId,onChange:r=>za({...Ae,supplierId:r.target.value})},e.createElement("option",{value:""},"Seleccionar..."),ie.map(r=>e.createElement("option",{key:r.id,value:r.id},r.name))))))})(),e.createElement("button",{onClick:async()=>{if(!Ae.productId)return p("Selecciona un producto existente.","warning");if(Ae.quantity<=0)return p("La cantidad debe ser mayor a 0.","warning");if(Ae.cost<0)return p("El costo no puede ser negativo.","warning");try{const a=N.find(c=>c.id===Ae.productId),o=(a==null?void 0:a.name)||"Desconocido",r=((a==null?void 0:a.purchasePrice)||(a==null?void 0:a.basePrice)||0)*Ae.quantity;await bt(ve(E,"artifacts",g,"public","data","purchases"),{productId:Ae.productId,supplierId:Ae.supplierId||"",quantity:Ae.quantity,cost:r,date:new Date().toISOString()});const n=(isNaN(Number(a==null?void 0:a.stock))?0:Number(a.stock))+Ae.quantity;await he(G(E,"artifacts",g,"public","data","products",Ae.productId),{stock:n}),za({isNewProduct:!1,productId:"",supplierId:"",quantity:1,cost:0,newProdName:"",newProdPrice:0,newProdImage:"",newProdCategory:""}),p(`Compra de "${o}" registrada exitosamente.`,"success")}catch(a){console.error("Error stock update:",a),p("Error: "+(a.message||"Operaci√≥n fallida"),"error")}},className:"w-full mt-8 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 text-white font-black py-5 rounded-2xl shadow-xl transition transform hover:scale-[1.01] flex items-center justify-center gap-3 text-lg"},e.createElement(Ia,{className:"w-6 h-6"})," REGISTRAR REPOSICI√ìN DE STOCK"))),We.length>0&&e.createElement("div",{className:"bg-gradient-to-br from-orange-900/20 to-red-900/20 border border-orange-800 rounded-[2.5rem] p-8 mb-10 animate-fade-up"},e.createElement("div",{className:"flex items-center justify-between mb-6"},e.createElement("h3",{className:"text-2xl font-black text-white flex items-center gap-3"},e.createElement(Ea,{className:"w-6 h-6 text-orange-400"}),"Carrito de Compras (",We.length," ",We.length===1?"producto":"productos",")"),e.createElement("p",{className:"text-orange-400 font-black text-2xl"},"TOTAL: $",We.reduce((a,o)=>a+o.cost,0).toLocaleString())),e.createElement("div",{className:"space-y-4 mb-6"},We.map((a,o)=>e.createElement("div",{key:o,className:"flex items-center gap-6 bg-slate-900/50 p-4 rounded-xl border border-slate-700"},e.createElement("div",{className:"w-16 h-16 bg-white rounded-lg p-1 flex-shrink-0"},e.createElement("img",{src:a.productImage,className:"w-full h-full object-contain",alt:a.productName})),e.createElement("div",{className:"flex-1"},e.createElement("p",{className:"font-bold text-white"},a.productName),e.createElement("p",{className:"text-xs text-slate-400"},"Precio Unit.: $",a.unitPrice.toLocaleString())),e.createElement("div",{className:"flex items-center gap-3"},e.createElement("input",{type:"number",value:a.quantity,onChange:s=>Tl(o,parseInt(s.target.value)||1),className:"w-20 bg-slate-800 border border-slate-700 text-white px-3 py-2 rounded-lg text-center font-bold",min:"1"}),e.createElement("p",{className:"text-orange-400 font-bold w-28 text-right"},"$",a.cost.toLocaleString()),e.createElement("button",{onClick:()=>Al(o),className:"p-2 bg-red-900/20 hover:bg-red-900/40 text-red-400 rounded-lg transition"},e.createElement(ye,{className:"w-5 h-5"})))))),e.createElement("button",{onClick:jl,className:"w-full py-5 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white font-black rounded-2xl shadow-xl transition transform hover:scale-[1.01] flex items-center justify-center gap-3 text-lg"},e.createElement(me,{className:"w-6 h-6"})," FINALIZAR PEDIDO")),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 rounded-[2.5rem] p-8"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6"},"Historial de Compras"),e.createElement("div",{className:"space-y-4"},F.sort((a,o)=>new Date(o.date)-new Date(a.date)).map((a,o)=>{const s=N.find(i=>i.id===a.productId),r=ie.find(i=>i.id===a.supplierId);return e.createElement("div",{key:a.id,style:{animationDelay:`${o*.05}s`},className:"flex justify-between items-center bg-slate-900/40 p-4 rounded-xl border border-slate-800 hover:border-slate-600 transition group animate-fade-up"},e.createElement("div",{className:"flex items-center gap-4 flex-1"},e.createElement("div",{className:"w-12 h-12 bg-white rounded-lg p-1 flex-shrink-0 border border-slate-700"},s!=null&&s.image?e.createElement("img",{src:s.image,className:"w-full h-full object-contain",alt:s.name}):e.createElement(Ct,{className:"w-full h-full text-slate-400 p-2"})),e.createElement("div",null,e.createElement("p",{className:"font-bold text-white flex items-center gap-2"},(s==null?void 0:s.name)||"Producto Eliminado",e.createElement("span",{className:"text-[10px] bg-slate-800 px-2 py-0.5 rounded text-slate-400"},"STOCK ACTUAL: ",(s==null?void 0:s.stock)||0)),e.createElement("p",{className:"text-xs text-slate-500"},new Date(a.date).toLocaleDateString()," ",r?`- Prov: ${r.name}`:""))),e.createElement("div",{className:"flex items-center gap-6"},e.createElement("div",{className:"text-right"},e.createElement("p",{className:"text-orange-400 font-bold"},"+",a.quantity," u."),e.createElement("p",{className:"text-slate-400 text-xs font-mono"},"$",(a.cost||0).toLocaleString())),e.createElement("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity"},e.createElement("button",{onClick:()=>Ba(a),className:"p-2 bg-slate-800 hover:bg-blue-900/30 text-slate-400 hover:text-blue-400 rounded-lg transition"},e.createElement(la,{className:"w-4 h-4"})),e.createElement("button",{onClick:()=>Il(a),className:"p-2 bg-slate-800 hover:bg-red-900/30 text-slate-400 hover:text-red-400 rounded-lg transition"},e.createElement(ye,{className:"w-4 h-4"})))))}))),Lt&&e.createElement("div",{className:"fixed inset-0 z-[160] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-fade-in"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-700 rounded-3xl p-8 w-full max-w-lg shadow-2xl relative"},e.createElement("button",{onClick:()=>Ba(null),className:"absolute top-4 right-4 p-2 text-slate-500 hover:text-white"},e.createElement(Se,{className:"w-6 h-6"})),e.createElement("h3",{className:"text-2xl font-bold text-white mb-6"},"Editar Compra"),e.createElement("div",{className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1"},"Cantidad comprada"),e.createElement("div",{className:"text-xs text-yellow-500 mb-2"},"‚ö† Modificar esto ajustar√° el stock del producto autom√°ticamente."),e.createElement("input",{type:"number",className:"input-cyber w-full p-3",value:Lt.quantity,onChange:a=>Ba({...Lt,quantity:parseInt(a.target.value)||0})})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1"},"Costo Total ($)"),e.createElement("input",{type:"number",className:"input-cyber w-full p-3",value:Lt.cost,onChange:a=>Ba({...Lt,cost:parseFloat(a.target.value)||0})}))),e.createElement("button",{onClick:()=>{const a=F.find(o=>o.id===Lt.id);a&&El(Lt.id,a,Lt)},className:"w-full mt-6 bg-orange-600 hover:bg-orange-500 text-white font-bold py-3 rounded-xl transition shadow-lg"},"Guardar Cambios")))),v==="finance"&&e.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up pb-20"},e.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8"},e.createElement("h1",{className:"text-4xl font-black text-white neon-text"},"Finanzas y Capital"),e.createElement(Et,{guideKey:"finance"})),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12"},e.createElement("div",{className:"bg-[#0a0a0a] border border-orange-900/30 p-8 rounded-[2.5rem] shadow-xl relative overflow-hidden"},e.createElement("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/5 rounded-bl-[100px] pointer-events-none"}),e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(Go,{className:"w-5 h-5 text-orange-400"})," Registrar Inversi√≥n / Aporte"),e.createElement("div",{className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Inversor (Socio)"),e.createElement("div",{className:"relative"},e.createElement(Qa,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-500 w-4 h-4"}),e.createElement("select",{className:"input-cyber w-full pl-12 p-4 appearance-none",value:Ve.investor,onChange:a=>fa({...Ve,investor:a.target.value})},e.createElement("option",{value:""},"Seleccionar Socio..."),((t==null?void 0:t.team)||[]).map((a,o)=>e.createElement("option",{key:o,value:a.name||a.email},a.name||a.email)),e.createElement("option",{value:"other"},"Otro / Externo"))),Ve.investor==="other"&&e.createElement("input",{className:"input-cyber w-full p-4 mt-2",placeholder:"Nombre del Inversor Externo",onChange:a=>fa({...Ve,investor:a.target.value})})),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Monto ($)"),e.createElement("input",{type:"number",className:"input-cyber w-full p-4 font-mono font-bold text-orange-400",placeholder:"0.00",value:Ve.amount,onChange:a=>fa({...Ve,amount:parseFloat(a.target.value)||0})})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Fecha"),e.createElement("input",{type:"date",className:"input-cyber w-full p-4",value:Ve.date,onChange:a=>fa({...Ve,date:a.target.value})}))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Notas (Opcional)"),e.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Ej: Inversi√≥n Inicial, Refuerzo de capital...",value:Ve.notes,onChange:a=>fa({...Ve,notes:a.target.value})})),e.createElement("button",{onClick:async()=>{if(!Ve.investor||Ve.amount<=0)return p("Completa los datos correctamente.","warning");await bt(ve(E,"artifacts",g,"public","data","investments"),{...Ve,timestamp:new Date().toISOString()}),fa({investor:"",amount:"",date:new Date().toISOString().split("T")[0],notes:""}),p("Inversi√≥n registrada correctamente.","success")},className:"w-full mt-2 bg-gradient-to-r from-orange-600 to-blue-600 hover:from-orange-500 hover:to-blue-500 text-white font-black py-4 rounded-xl shadow-lg transition flex items-center justify-center gap-2 border border-orange-500/20"},e.createElement(Ia,{className:"w-5 h-5"})," Registrar Aporte"))),e.createElement("div",{className:"bg-[#0a0a0a] border border-red-900/30 p-8 rounded-[2.5rem] shadow-xl relative overflow-hidden"},e.createElement("div",{className:"absolute top-0 right-0 w-32 h-32 bg-red-500/5 rounded-bl-[100px] pointer-events-none"}),e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(os,{className:"w-5 h-5 text-red-400"})," Registrar Gasto / Egreso"),e.createElement("div",{className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Descripci√≥n"),e.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Ej: Pago de Internet, Alquiler...",value:yt.description,onChange:a=>to({...yt,description:a.target.value})})),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Monto ($)"),e.createElement("input",{type:"number",className:"input-cyber w-full p-4 font-mono font-bold text-red-400",placeholder:"0.00",value:yt.amount,onChange:a=>to({...yt,amount:parseFloat(a.target.value)||0})})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Categor√≠a"),e.createElement("select",{className:"input-cyber w-full p-4",value:yt.category,onChange:a=>to({...yt,category:a.target.value})},e.createElement("option",null,"General"),e.createElement("option",null,"Servicios"),e.createElement("option",null,"Impuestos"),e.createElement("option",null,"Mantenimiento"),e.createElement("option",null,"Marketing"),e.createElement("option",null,"Sueldos"),e.createElement("option",null,"Otros")))),e.createElement("button",{onClick:async()=>{if(!yt.description||yt.amount<=0)return p("Completa los datos correctamente.","warning");await bt(ve(E,"artifacts",g,"public","data","expenses"),{...yt,date:new Date().toISOString()}),to({description:"",amount:"",category:"General",date:new Date().toISOString().split("T")[0]}),p("Gasto registrado correctamente.","success")},className:"w-full mt-2 bg-red-900/50 hover:bg-red-900 text-white font-black py-4 rounded-xl shadow-lg transition flex items-center justify-center gap-2 border border-red-500/20"},e.createElement(Ia,{className:"w-5 h-5"})," Registrar Gasto")))),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 rounded-[2.5rem] p-8 h-[500px] flex flex-col"},e.createElement("h3",{className:"text-lg font-bold text-white mb-4"},"Historial de Inversiones"),e.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-2 space-y-3"},M.length===0?e.createElement("p",{className:"text-slate-500 text-sm italic text-center py-10"},"Sin inversiones registradas."):M.sort((a,o)=>new Date(o.date)-new Date(a.date)).map((a,o)=>e.createElement("div",{key:a.id,className:"bg-slate-900/30 border border-slate-800 p-4 rounded-xl flex justify-between items-center group hover:border-orange-500/30 transition"},e.createElement("div",null,e.createElement("p",{className:"text-white font-bold text-sm"},a.investor),e.createElement("p",{className:"text-slate-500 text-xs"},new Date(a.date).toLocaleDateString()," ",a.notes&&`- ${a.notes}`)),e.createElement("div",{className:"flex items-center gap-4"},e.createElement("p",{className:"text-orange-400 font-mono font-bold"},"+$",a.amount.toLocaleString()),e.createElement("button",{onClick:()=>He("Eliminar Inversi√≥n","¬øDeseas eliminar este registro?",async()=>await ft(G(E,"artifacts",g,"public","data","investments",a.id))),className:"text-slate-600 hover:text-red-400 p-2 hover:bg-slate-800 rounded-lg transition"},e.createElement(ye,{className:"w-4 h-4"}))))))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 rounded-[2.5rem] p-8 h-[500px] flex flex-col"},e.createElement("h3",{className:"text-lg font-bold text-white mb-4"},"Historial de Gastos"),e.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-2 space-y-3"},P.length===0?e.createElement("p",{className:"text-slate-500 text-sm italic text-center py-10"},"Sin gastos registrados."):P.sort((a,o)=>new Date(o.date)-new Date(a.date)).map((a,o)=>e.createElement("div",{key:a.id,className:"bg-slate-900/30 border border-slate-800 p-4 rounded-xl flex justify-between items-center group hover:border-red-500/30 transition"},e.createElement("div",null,e.createElement("p",{className:"text-white font-bold text-sm"},a.description),e.createElement("p",{className:"text-slate-500 text-xs flex gap-2"},e.createElement("span",{className:"text-red-300 font-bold bg-red-900/20 px-1.5 rounded"},a.category),e.createElement("span",null,new Date(a.date).toLocaleDateString()))),e.createElement("div",{className:"flex items-center gap-4"},e.createElement("p",{className:"text-red-400 font-mono font-bold"},"-$",a.amount.toLocaleString()),e.createElement("button",{onClick:()=>He("Eliminar Gasto","¬øDeseas eliminar este registro?",async()=>await ft(G(E,"artifacts",g,"public","data","expenses",a.id))),className:"text-slate-600 hover:text-red-400 p-2 hover:bg-slate-800 rounded-lg transition"},e.createElement(ye,{className:"w-4 h-4"})))))))),e.createElement("div",{className:"animate-fade-up pt-12 border-t border-slate-800"},e.createElement("div",{className:"flex justify-between items-center mb-8"},e.createElement("div",null,e.createElement("h2",{className:"text-2xl font-black text-white flex items-center gap-3"},e.createElement(fo,{className:"w-8 h-8 text-green-500"})," Distribuci√≥n de Ganancias"),e.createElement("p",{className:"text-slate-500 mt-1"},"C√°lculo autom√°tico basado en las inversiones registradas.")),e.createElement("div",{className:"text-right"},e.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Beneficio Neto"),e.createElement("p",{className:`text-3xl font-black ${Y.netIncome>=0?"text-green-400":"text-red-500"}`},"$",Y.netIncome.toLocaleString()))),e.createElement("div",{className:"flex flex-col gap-8 bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},(()=>{const o=((t==null?void 0:t.team)||[]).map(r=>{const i=M.filter(n=>n.investor===r.name||n.investor===r.email).reduce((n,c)=>n+(Number(c.amount)||0),0);return{...r,totalInv:i}}),s=o.reduce((r,i)=>r+i.totalInv,0);return s===0?e.createElement("p",{className:"text-slate-500 text-center py-12"},"Registra inversiones para ver la distribuci√≥n de ganancias."):e.createElement(e.Fragment,null,e.createElement("div",{className:"w-full h-8 bg-slate-900 rounded-full flex overflow-hidden"},o.map((r,i)=>{const n=s>0?r.totalInv/s*100:0,c=["bg-green-500","bg-orange-500","bg-purple-500","bg-pink-500","bg-yellow-500","bg-red-500"];return n<=0?null:e.createElement("div",{key:i,className:`${c[i%c.length]} h-full transition-all duration-500`,style:{width:`${n}%`},title:`${r.name}: ${n.toFixed(1)}%`})})),e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"w-full text-left border-collapse"},e.createElement("thead",null,e.createElement("tr",{className:"bg-slate-900/50 border-b border-slate-800"},e.createElement("th",{className:"p-6 text-xs font-black text-slate-500 uppercase tracking-widest"},"Socio"),e.createElement("th",{className:"p-6 text-xs font-black text-slate-500 uppercase tracking-widest text-right"},"Capital Aportado"),e.createElement("th",{className:"p-6 text-xs font-black text-slate-500 uppercase tracking-widest text-center"},"% Part."),e.createElement("th",{className:"p-6 text-xs font-black text-slate-500 uppercase tracking-widest text-right text-green-500"},"Ganancia Est."))),e.createElement("tbody",{className:"divide-y divide-slate-800/50"},o.map((r,i)=>{const n=s>0?r.totalInv/s*100:0,c=Y.netIncome*n/100,b=["text-green-500","text-orange-500","text-purple-500","text-pink-500","text-yellow-500","text-red-500"];return e.createElement("tr",{key:i,className:"hover:bg-slate-900/20 transition"},e.createElement("td",{className:"p-5"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:`w-3 h-3 rounded-full ${b[i%b.length].replace("text-","bg-")}`}),e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},r.name||"Sin Nombre"),e.createElement("p",{className:"text-xs text-slate-500"},r.email)))),e.createElement("td",{className:"p-6 text-right font-mono font-bold text-white"},"$",r.totalInv.toLocaleString()),e.createElement("td",{className:"p-6 text-center font-mono text-slate-300 font-bold"},n.toFixed(1),"%"),e.createElement("td",{className:"p-6 text-right font-mono font-black text-green-400 text-lg"},"$",c.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})))})),e.createElement("tfoot",{className:"bg-slate-900/30 border-t border-slate-800"},e.createElement("tr",null,e.createElement("td",{className:"p-6 font-black text-white text-right"},"TOTAL CAPITAL"),e.createElement("td",{className:"p-6 text-right font-black text-orange-400 text-lg"},"$",s.toLocaleString()),e.createElement("td",{className:"p-6 text-center font-bold text-slate-500"},"100%"),e.createElement("td",{className:"p-6 text-right font-black text-green-500 text-xl"},"$",Y.netIncome.toLocaleString()))))))})()))),v==="coupons"&&e.createElement("div",{className:"max-w-5xl mx-auto animate-fade-up pb-20 relative"},((t==null?void 0:t.subscriptionPlan)==="entrepreneur"||!(t!=null&&t.subscriptionPlan))&&e.createElement("button",{onClick:()=>Va(!0),className:"absolute inset-0 z-20 flex items-center justify-center bg-black/80 backdrop-blur-md rounded-[2.5rem] cursor-pointer hover:bg-black/70 transition group"},e.createElement("div",{className:"text-center p-8 max-w-md"},e.createElement("div",{className:"w-20 h-20 mx-auto mb-6 bg-purple-500/20 rounded-full flex items-center justify-center border border-purple-500/30 group-hover:scale-110 transition"},e.createElement($a,{className:"w-10 h-10 text-purple-400"})),e.createElement("h3",{className:"text-2xl font-black text-white mb-4"},"Cupones Bloqueados"),e.createElement("p",{className:"text-slate-400 mb-6"},"Los cupones de descuento est√°n disponibles a partir del ",e.createElement("span",{className:"text-purple-400 font-bold"},"Plan Negocio"),"."),e.createElement("p",{className:"text-sm text-white/60 group-hover:text-white transition"},"Clic para ver planes disponibles"))),e.createElement("div",{className:"relative z-30 flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8"},e.createElement("h1",{className:"text-3xl font-black text-white"},"Gesti√≥n de Cupones"),e.createElement(Et,{guideKey:"coupons"})),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2.5rem] mb-10 shadow-xl"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(Xe,{className:"w-5 h-5 text-purple-400"})," Crear Nuevo Cup√≥n"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},e.createElement("div",{className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"C√≥digo del Cup√≥n"),e.createElement("input",{className:"input-cyber w-full p-4 font-mono text-lg uppercase tracking-widest",placeholder:"Ej: VERANO2024",value:ae.code,onChange:a=>dt({...ae,code:a.target.value.toUpperCase()})})),e.createElement("div",{className:"flex gap-4"},e.createElement("div",{className:"flex-1"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Tipo"),e.createElement("select",{className:"input-cyber w-full p-4",value:ae.type,onChange:a=>dt({...ae,type:a.target.value})},e.createElement("option",{value:"percentage"},"Porcentaje (%)"),e.createElement("option",{value:"fixed"},"Fijo ($)"))),e.createElement("div",{className:"flex-1"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Valor"),e.createElement("input",{className:"input-cyber w-full p-4",type:"number",placeholder:"0",value:ae.value,onChange:a=>dt({...ae,value:a.target.value})})))),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex gap-4"},e.createElement("div",{className:"flex-1"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"M√≠nimo de Compra"),e.createElement("input",{className:"input-cyber w-full p-4",type:"number",placeholder:"$0",value:ae.minPurchase,onChange:a=>dt({...ae,minPurchase:a.target.value})})),ae.type==="percentage"&&e.createElement("div",{className:"flex-1"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Tope Reintegro"),e.createElement("input",{className:"input-cyber w-full p-4",type:"number",placeholder:"$0 (Opcional)",value:ae.maxDiscount,onChange:a=>dt({...ae,maxDiscount:a.target.value})}))),e.createElement("div",{className:"flex gap-4"},e.createElement("div",{className:"flex-1"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"L√≠mite Usos (Total)"),e.createElement("input",{className:"input-cyber w-full p-4",type:"number",placeholder:"Ej: 100",value:ae.usageLimit,onChange:a=>dt({...ae,usageLimit:a.target.value})})),e.createElement("div",{className:"flex-1"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Vencimiento"),e.createElement("input",{className:"input-cyber w-full p-4",type:"date",value:ae.expirationDate,onChange:a=>dt({...ae,expirationDate:a.target.value})}))),e.createElement("div",{className:"md:col-span-2"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Tipo de Cup√≥n"),e.createElement("select",{className:"input-cyber w-full p-4",value:ae.targetType,onChange:a=>dt({...ae,targetType:a.target.value})},e.createElement("option",{value:"global"},"üåç P√∫blico / Canjeable (Redes Sociales)"),e.createElement("option",{value:"specific_email"},"üë§ Usuario Espec√≠fico (Email)"))),ae.targetType==="specific_email"&&e.createElement("div",{className:"md:col-span-2"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Email del Usuario"),e.createElement("input",{type:"email",className:"input-cyber w-full p-4",placeholder:"usuario@ejemplo.com",value:ae.targetUser||"",onChange:a=>dt({...ae,targetUser:a.target.value})}),e.createElement("p",{className:"text-xs text-slate-400 mt-1"},"Solo este usuario podr√° usar el cup√≥n")))),e.createElement("button",{onClick:Sl,className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-4 rounded-xl shadow-lg transition flex items-center justify-center gap-2"},e.createElement(Ia,{className:"w-5 h-5"})," Guardar Cup√≥n")),e.createElement("div",{className:"grid gap-4"},et.map((a,o)=>e.createElement("div",{key:a.id,style:{animationDelay:`${o*.05}s`},className:"bg-[#0a0a0a] border border-slate-800 p-6 rounded-2xl flex flex-col md:flex-row justify-between items-center group hover:border-slate-700 transition animate-fade-up"},e.createElement("div",{className:"flex items-center gap-6 mb-4 md:mb-0 w-full md:w-auto"},e.createElement("div",{className:"w-16 h-16 bg-slate-900 rounded-xl flex items-center justify-center border border-slate-800 text-purple-400 font-black text-2xl"},"%"),e.createElement("div",null,e.createElement("h4",{className:"text-white font-black text-xl tracking-wider"},a.code),e.createElement("p",{className:"text-purple-400 font-bold text-sm"},a.type==="fixed"?`$${a.value} OFF`:`${a.value}% OFF`,e.createElement("span",{className:"text-slate-500 font-normal ml-2"},"(Min: $",a.minPurchase,")")),e.createElement("p",{className:"text-xs text-slate-600 mt-1 flex gap-3"},e.createElement("span",null,"Usado: ",a.usedBy?a.usedBy.length:0," veces"),a.usageLimit&&e.createElement("span",null,"L√≠mite: ",a.usageLimit),a.expirationDate&&e.createElement("span",null,"Vence: ",a.expirationDate)))),e.createElement("div",{className:"flex gap-2 mt-4 md:mt-0"},a.targetType==="global"&&e.createElement("div",{className:"bg-purple-900/30 text-purple-400 px-3 py-1 rounded-lg border border-purple-500/30 flex items-center gap-2 text-[10px] font-black uppercase tracking-widest"},e.createElement(Ho,{className:"w-3 h-3"})," Social"),e.createElement("button",{onClick:()=>{navigator.clipboard.writeText(a.code),p("C√≥digo copiado al portapapeles","success")},className:"bg-slate-900 hover:bg-slate-800 text-slate-400 hover:text-white p-3 rounded-xl transition border border-slate-800",title:"Copiar C√≥digo"},e.createElement(Jl,{className:"w-5 h-5"})),e.createElement("button",{onClick:()=>He("Eliminar Cup√≥n","¬øEliminar este cup√≥n?",async()=>await ft(G(E,"artifacts",g,"public","data","coupons",a.id))),className:"bg-slate-900 hover:bg-red-900/20 text-slate-500 hover:text-red-400 p-3 rounded-xl transition border border-slate-800"},e.createElement(ye,{className:"w-5 h-5"}))))))),v==="users"&&(()=>{const a=qe.filter(o=>{const s=ir.toLowerCase(),r=(o.name||"").toLowerCase().includes(s)||(o.email||"").toLowerCase().includes(s)||(o.username||"").toLowerCase().includes(s),i=To==="all"||o.role===To;return r&&i});return e.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up pb-20"},e.createElement("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-10"},e.createElement("div",null,e.createElement("h1",{className:"text-4xl font-black text-white tracking-tighter flex items-center gap-4"},e.createElement("div",{className:"w-12 h-12 rounded-2xl bg-pink-500/20 flex items-center justify-center border border-pink-500/30"},e.createElement(Qa,{className:"w-6 h-6 text-pink-400"})),"Gesti√≥n de Usuarios"),e.createElement("p",{className:"text-slate-500 mt-2 font-medium"},"Control total sobre cuentas, roles y auditor√≠a de carritos.")),e.createElement("div",{className:"flex flex-col sm:flex-row items-center gap-3 w-full md:w-auto"},e.createElement("div",{className:"w-full sm:w-auto flex justify-end"},e.createElement(Et,{guideKey:"users"})),e.createElement("div",{className:"relative w-full sm:w-64 group"},e.createElement(Uo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 group-focus-within:text-orange-400 transition"}),e.createElement("input",{className:"input-cyber w-full pl-11 pr-4 py-3 text-sm",placeholder:"Buscar por nombre, email...",value:ir,onChange:o=>Ys(o.target.value)})),e.createElement("div",{className:"flex bg-slate-900/50 p-1 rounded-xl border border-white/5"},["all","admin","user"].map(o=>e.createElement("button",{key:o,onClick:()=>Xs(o),className:`px-4 py-2 rounded-lg text-xs font-black uppercase transition-all ${To===o?"bg-white/10 text-white shadow-lg":"text-slate-500 hover:text-slate-300"}`},o==="all"?"Todos":o))))),e.createElement("div",{className:"bg-[#050505] border border-white/5 rounded-[2.5rem] overflow-hidden shadow-2xl"},e.createElement("div",{className:"overflow-x-auto overflow-y-visible"},e.createElement("table",{className:"w-full text-left border-collapse"},e.createElement("thead",null,e.createElement("tr",{className:"bg-white/[0.02] border-b border-white/5"},e.createElement("th",{className:"p-5 text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]"},"Identidad"),e.createElement("th",{className:"p-5 text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] text-center"},"Actividad & Stats"),e.createElement("th",{className:"p-5 text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]"},"Rango"),e.createElement("th",{className:"p-5 text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] text-right"},"Acciones"))),e.createElement("tbody",{className:"divide-y divide-white/5"},a.length===0?e.createElement("tr",null,e.createElement("td",{colSpan:"4",className:"p-20 text-center"},e.createElement("div",{className:"flex flex-col items-center gap-4 opacity-20"},e.createElement(Ns,{className:"w-16 h-16"}),e.createElement("p",{className:"font-black uppercase tracking-widest"},"No se encontraron usuarios")))):a.map((o,s)=>{var r;return e.createElement("tr",{key:o.id,style:{animationDelay:`${s*.03}s`},className:"group hover:bg-white/[0.01] transition-all animate-fade-up"},e.createElement("td",{className:"p-5"},e.createElement("div",{className:"flex items-center gap-5"},e.createElement("div",{className:"relative group/avatar"},e.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-500 to-purple-600 rounded-2xl blur-lg opacity-20 group-hover/avatar:opacity-40 transition"}),e.createElement("div",{className:"relative w-14 h-14 rounded-2xl bg-[#0a0a0a] border border-white/10 flex items-center justify-center text-xl font-black text-white overflow-hidden shadow-xl"},o.image?e.createElement("img",{src:o.image,className:"w-full h-full object-cover"}):(o.name||"?").charAt(0).toUpperCase())),e.createElement("div",null,e.createElement("div",{className:"flex items-center gap-2"},e.createElement("p",{className:"font-bold text-white text-lg tracking-tight"},o.name),o.isVerified&&e.createElement(me,{className:"w-4 h-4 text-orange-400"})),e.createElement("p",{className:"text-xs text-slate-500 font-mono"},o.email),e.createElement("div",{className:"flex items-center gap-3 mt-2"},e.createElement("span",{className:"text-[9px] font-black text-slate-600 uppercase tracking-widest bg-white/5 px-2 py-0.5 rounded-md"},"ID: ",o.id.slice(-6)),e.createElement("span",{className:"text-[9px] font-bold text-slate-500 uppercase"},"INC. ",new Date(o.joinDate).toLocaleDateString()))))),e.createElement("td",{className:"p-8 relative"},((t==null?void 0:t.subscriptionPlan)==="entrepreneur"||!(t!=null&&t.subscriptionPlan))&&e.createElement("button",{onClick:()=>Va(!0),className:"absolute inset-0 z-10 flex items-center justify-center bg-black/60 backdrop-blur-sm rounded-xl cursor-pointer hover:bg-black/70 transition group"},e.createElement("div",{className:"text-center"},e.createElement($a,{className:"w-6 h-6 text-yellow-500 mx-auto mb-2 group-hover:scale-110 transition"}),e.createElement("p",{className:"text-xs font-black text-yellow-400 uppercase tracking-wider"},"Plan Negocio"),e.createElement("p",{className:"text-[10px] text-slate-400 group-hover:text-white transition"},"Clic para ver planes"))),e.createElement("div",{className:`flex flex-col items-center gap-3 ${(t==null?void 0:t.subscriptionPlan)==="entrepreneur"||!(t!=null&&t.subscriptionPlan)?"filter blur-sm pointer-events-none":""}`},e.createElement("div",{className:"flex gap-2"},e.createElement("div",{className:"bg-slate-900/80 px-4 py-2 rounded-xl border border-white/5 flex items-center gap-3",title:"Favoritos"},e.createElement(po,{className:`w-4 h-4 ${((r=o.favorites)==null?void 0:r.length)>0?"text-pink-500 fill-pink-500":"text-slate-600"}`}),e.createElement("span",{className:"text-sm font-black text-white"},o.favorites?o.favorites.length:0)),e.createElement("div",{className:"bg-slate-900/80 px-4 py-2 rounded-xl border border-white/5 flex items-center gap-3",title:"Pedidos Realizados"},e.createElement(Ut,{className:"w-4 h-4 text-orange-500"}),e.createElement("span",{className:"text-sm font-black text-white"},o.ordersCount||0))),e.createElement("button",{onClick:()=>or(o),className:"w-full py-2.5 rounded-xl border border-orange-500/20 bg-orange-500/5 text-orange-400 hover:bg-orange-500/20 text-[10px] font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2"},e.createElement(ys,{className:"w-3 h-3"})," Ver Carrito en Vivo"))),e.createElement("td",{className:"p-8"},e.createElement("div",{className:`inline-flex items-center gap-2 px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-[0.1em] border shadow-inner ${o.role==="admin"?"bg-purple-500/10 text-purple-400 border-purple-500/30":"bg-slate-900/50 text-slate-500 border-white/5"}`},o.role==="admin"?e.createElement(ot,{className:"w-3 h-3"}):e.createElement(qt,{className:"w-3 h-3"}),o.role)),e.createElement("td",{className:"p-8"},e.createElement("div",{className:"flex justify-end gap-3 translate-x-2 opacity-60 group-hover:opacity-100 transition-opacity"},e.createElement("button",{onClick:()=>lr(o),className:"w-11 h-11 flex items-center justify-center bg-[#0a0a0a] border border-white/5 rounded-2xl text-slate-400 hover:text-orange-400 hover:border-orange-500/40 hover:bg-orange-500/5 transition-all shadow-xl group",title:"Gestionar Perfil"},e.createElement(la,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})),e.createElement("button",{onClick:()=>{Qs(""),rr(o)},className:"w-11 h-11 flex items-center justify-center bg-[#0a0a0a] border border-white/5 rounded-2xl text-slate-400 hover:text-pink-400 hover:border-pink-500/40 hover:bg-pink-500/5 transition-all shadow-xl group",title:"Seguridad & Acceso"},e.createElement($a,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})))))}))))))})(),v==="promos"&&e.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up pb-20"},e.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8"},e.createElement("h1",{className:"text-3xl font-black text-white flex items-center gap-3"},e.createElement(Ka,{className:"w-8 h-8 text-purple-500"})," Gesti√≥n de Promos"),e.createElement(Et,{guideKey:"promos"})),!(((t==null?void 0:t.subscriptionPlan)==="entrepreneur"||!(t!=null&&t.subscriptionPlan))&&oe.length>=1)||va?e.createElement("div",{className:"bg-[#0a0a0a] border border-purple-500/30 p-8 rounded-[2rem] mb-10 shadow-2xl"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},va?e.createElement(la,{className:"w-5 h-5 text-purple-400"}):e.createElement(Xe,{className:"w-5 h-5 text-green-400"}),va?"Editar Promo":"Crear Nueva Promo"),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8"},e.createElement("div",{className:"space-y-4"},e.createElement("input",{type:"text",className:"input-cyber w-full p-4",placeholder:"Nombre de la Promo",value:xe.name,onChange:a=>lt({...xe,name:a.target.value})}),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("div",{className:"relative"},e.createElement("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500"},"$"),e.createElement("input",{type:"number",className:"input-cyber w-full p-4 pl-8",placeholder:"Precio",value:xe.price,onChange:a=>lt({...xe,price:a.target.value})})),e.createElement("div",{className:"p-4 bg-slate-900 rounded-xl border border-slate-700 text-slate-400 font-mono text-sm flex items-center"},"Costo: $",xe.items.reduce((a,o)=>{const s=N.find(r=>r.id===o.productId);return a+(Number(s==null?void 0:s.basePrice)||0)*o.quantity},0).toLocaleString())),e.createElement("div",{className:"mb-4"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Imagen de la Promo"),e.createElement("input",{type:"file",className:"block w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-900/20 file:text-purple-400 hover:file:bg-purple-900/40 transition",accept:"image/*",onChange:a=>zt(a,lt)}),xe.image&&e.createElement("div",{className:"mt-2 relative group w-32 aspect-video overflow-hidden rounded-xl border border-slate-700"},e.createElement("img",{src:xe.image,className:"w-full h-full object-cover"}),e.createElement("button",{onClick:()=>lt({...xe,image:""}),className:"absolute top-1 right-1 bg-black/50 p-1 rounded-full text-white hover:bg-red-500 transition opacity-0 group-hover:opacity-100"},e.createElement(Se,{className:"w-3 h-3"})))),e.createElement("textarea",{className:"input-cyber w-full p-4 h-20 resize-none",placeholder:"Descripci√≥n breve...",value:xe.description,onChange:a=>lt({...xe,description:a.target.value})})),e.createElement("div",{className:"bg-slate-900/40 p-6 rounded-2xl border border-slate-800"},e.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4 flex items-center gap-2"},e.createElement(Ct,{className:"w-4 h-4"})," Productos Incluidos"),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_5rem_auto] gap-2 mb-4"},e.createElement("select",{className:"input-cyber w-full p-3 text-sm min-w-0",value:qa,onChange:a=>Xo(a.target.value)},e.createElement("option",{value:""},"Agregar producto..."),N.map(a=>e.createElement("option",{key:a.id,value:a.id},a.name," ($",Number(a.basePrice),")"))),e.createElement("input",{type:"number",className:"input-cyber w-full sm:w-20 p-3 text-sm text-center",value:So,min:"1",onChange:a=>Zo(Math.max(1,parseInt(a.target.value)||1))}),e.createElement("button",{onClick:()=>{if(!qa)return;const a=xe.items.find(o=>o.productId===qa);lt(a?{...xe,items:xe.items.map(o=>o.productId===qa?{...o,quantity:o.quantity+So}:o)}:{...xe,items:[...xe.items,{productId:qa,quantity:So}]}),Xo(""),Zo(1)},className:"h-[46px] w-full sm:w-auto px-4 bg-purple-600 hover:bg-purple-500 text-white rounded-xl transition flex items-center justify-center"},e.createElement(Xe,{className:"w-5 h-5"}))),e.createElement("div",{className:"space-y-2 max-h-[150px] overflow-y-auto custom-scrollbar"},xe.items.map((a,o)=>{const s=N.find(r=>r.id===a.productId);return s?e.createElement("div",{key:o,className:"flex justify-between items-center bg-slate-900 p-3 rounded-lg border border-slate-700"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("img",{src:s.image,className:"w-8 h-8 rounded bg-white object-contain p-0.5"}),e.createElement("div",null,e.createElement("p",{className:"text-sm font-bold text-white truncate max-w-[200px] sm:max-w-none"},s.name),e.createElement("p",{className:"text-xs text-slate-500"},a.quantity," un. x $",s.basePrice))),e.createElement("button",{onClick:()=>lt({...xe,items:xe.items.filter((r,i)=>i!==o)}),className:"text-red-500 hover:text-red-400 p-1"},e.createElement(ye,{className:"w-4 h-4"}))):null}),xe.items.length===0&&e.createElement("div",{className:"text-center py-6 text-slate-600 italic text-sm border border-dashed border-slate-800 rounded-lg"},"Agrega productos para armar el combo")))),e.createElement("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 sm:justify-end mt-6"},va&&e.createElement("button",{onClick:()=>{Po(!1),Io(null),lt({name:"",price:"",image:"",description:"",items:[]})},className:"w-full sm:w-auto px-6 py-3 rounded-xl border border-slate-800 bg-slate-900/40 text-slate-300 hover:text-white hover:bg-slate-900 transition font-bold"},"Cancelar"),e.createElement("button",{onClick:async()=>{if(!xe.name||!xe.price||xe.items.length===0)return p("Completa nombre, precio y agrega productos.","warning");Le(!0);try{va&&Ro?(await he(G(E,"artifacts",g,"public","data","promos",Ro),xe),p("Promo actualizada","success")):(await bt(ve(E,"artifacts",g,"public","data","promos"),{...xe,createdAt:new Date().toISOString()}),p("Promo creada exitosamente","success")),lt({name:"",price:"",image:"",description:"",items:[]}),Po(!1),Io(null)}catch(a){console.error(a),p("Error al guardar promo","error")}finally{Le(!1)}},className:"w-full sm:w-auto px-8 py-3 bg-purple-600 hover:bg-purple-500 text-white font-bold rounded-xl shadow-lg transition flex items-center justify-center"},va?"Guardar Cambios":"Crear Promo"))):e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem] mb-10 shadow-xl flex flex-col items-center justify-center text-center animate-fade-up"},e.createElement("div",{className:"w-20 h-20 bg-purple-500/20 rounded-full flex items-center justify-center mb-6 border border-purple-500/30"},e.createElement($a,{className:"w-10 h-10 text-purple-400"})),e.createElement("h3",{className:"text-2xl font-black text-white mb-2"},"L√≠mite de Promos Alcanzado"),e.createElement("p",{className:"text-slate-400 max-w-md mb-8"},"Tu plan actual te permite tener hasta ",e.createElement("strong",{className:"text-white"},"1 promo activa"),". Para crear m√°s promociones ilimitadas, actualiza tu plan."),e.createElement("button",{onClick:()=>Va(!0),className:"px-8 py-3 bg-purple-600 hover:bg-purple-500 text-white font-bold rounded-xl shadow-lg shadow-purple-600/20 transition flex items-center gap-2"},e.createElement(Bt,{className:"w-5 h-5"})," Mejorar mi Plan")),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},oe.map(a=>{const o=(a.items||[]).reduce((c,b)=>{const m=N.find(h=>h.id===b.productId);return c+(Number(m==null?void 0:m.purchasePrice)||0)*b.quantity},0),s=Number(a.price)||0,r=s-o,i=s>0?(r/s*100).toFixed(1):0,n=r>0;return e.createElement("div",{key:a.id,className:"bg-[#0a0a0a] border border-slate-800 rounded-2xl overflow-hidden hover:border-purple-500/30 transition group flex flex-col"},e.createElement("div",{className:"aspect-video relative overflow-hidden"},e.createElement("img",{src:a.image||"https://via.placeholder.com/400",className:"w-full h-full object-cover transition duration-500 group-hover:scale-105"}),e.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),e.createElement("div",{className:"absolute bottom-4 left-4 right-4 bg-black/55 backdrop-blur-sm rounded-2xl p-4 border border-white/10"},e.createElement("h4",{className:"text-xl font-black text-white mb-1 leading-tight"},a.name),e.createElement("div",{className:"flex items-center gap-3"},e.createElement("p",{className:"text-3xl text-purple-400 font-black"},"$",s.toLocaleString()),o>0&&e.createElement("div",{className:`px-2 py-1 rounded text-xs font-bold border ${n?"bg-green-900/30 border-green-500/30 text-green-400":"bg-red-900/30 border-red-500/30 text-red-400"}`},i,"% MG")))),e.createElement("div",{className:"p-6 flex-1 flex flex-col"},e.createElement("div",{className:"mb-6 flex-1"},e.createElement("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3"},"Incluye:"),e.createElement("div",{className:"flex flex-col gap-2"},(a.items||[]).map((c,b)=>{const m=N.find(h=>h.id===c.productId);return e.createElement("div",{key:b,className:"flex items-center gap-3 p-2 rounded-lg bg-slate-900/50 border border-slate-800/50"},e.createElement("div",{className:"w-10 h-10 bg-white rounded-lg p-0.5 flex-shrink-0"},e.createElement("img",{src:m==null?void 0:m.image,className:"w-full h-full object-contain"})),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"text-sm font-bold text-white truncate"},(m==null?void 0:m.name)||"Producto Eliminado"),e.createElement("p",{className:"text-xs text-slate-500"},c.quantity," x $",Number((m==null?void 0:m.basePrice)||0).toLocaleString()," (Costo)")))}))),e.createElement("div",{className:"mb-6 p-4 bg-slate-900/40 rounded-xl border border-dashed border-slate-800"},e.createElement("div",{className:"flex justify-between text-sm mb-1"},e.createElement("span",{className:"text-slate-500"},"Costo Real:"),e.createElement("span",{className:"text-slate-300 font-mono"},"$",o.toLocaleString())),e.createElement("div",{className:"flex justify-between text-sm mb-1"},e.createElement("span",{className:"text-slate-500"},"Precio Venta:"),e.createElement("span",{className:"text-slate-300 font-mono"},"$",s.toLocaleString())),e.createElement("div",{className:"border-t border-slate-800 my-2"}),e.createElement("div",{className:"flex justify-between text-sm font-bold"},e.createElement("span",{className:n?"text-green-500":"text-red-500"},"Ganancia Neta:"),e.createElement("span",{className:`font-mono ${n?"text-green-400":"text-red-400"}`},n?"+":"","$",r.toLocaleString()))),e.createElement("div",{className:"flex gap-3 mt-auto"},e.createElement("button",{onClick:()=>{lt({name:a.name,price:a.price,image:a.image,description:a.description||"",items:a.items||[]}),Io(a.id),Po(!0),window.scrollTo({top:0,behavior:"smooth"})},className:"flex-1 py-3 bg-slate-900 hover:bg-slate-800 text-white rounded-xl font-bold transition border border-slate-700 flex items-center justify-center gap-2 group-hover:border-purple-500/30"},e.createElement(la,{className:"w-4 h-4"})," Editar"),e.createElement("button",{onClick:()=>He("Eliminar Promo","¬øEst√°s seguro? Esto no se puede deshacer.",async()=>{await ft(G(E,"artifacts",g,"public","data","promos",a.id)),p("Promo eliminada","info")}),className:"px-4 py-3 bg-red-900/20 hover:bg-red-900/40 text-red-500 rounded-xl transition border border-red-500/20"},e.createElement(ye,{className:"w-4 h-4"})))))}))),v==="orders"&&e.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up pb-20"},e.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8"},e.createElement("h1",{className:"text-3xl font-black text-white"},"Gesti√≥n de Pedidos"),e.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3"},e.createElement(Et,{guideKey:"orders"}),e.createElement("button",{onClick:()=>dl(),className:`px-5 py-3 rounded-xl font-black transition border flex items-center gap-3 ${rt?"bg-slate-900 text-slate-400 border-slate-800 hover:bg-slate-800":"bg-green-900/10 text-green-400 border-green-500/20 hover:bg-green-600 hover:text-white"}`},e.createElement(gs,{className:`w-5 h-5 ${rt?"opacity-40":""}`}),"Notificaci√≥n pedidos",e.createElement("span",{className:`text-[10px] px-2 py-1 rounded-full border font-black uppercase tracking-widest ${rt?"bg-slate-900/60 text-slate-400 border-slate-700":"bg-green-900/20 text-green-400 border-green-500/30"}`},rt?"Muteada":"Activa")))),Ne.length===0?e.createElement("div",{className:"text-center py-20 border border-dashed border-slate-800 rounded-[3rem] bg-slate-900/20"},e.createElement(Ut,{className:"w-20 h-20 mx-auto mb-4 text-slate-700"}),e.createElement("p",{className:"text-xl text-slate-500 font-bold"},"No hay pedidos registrados a√∫n.")):e.createElement("div",{className:"space-y-4"},Ne.map((a,o)=>e.createElement("div",{key:a.id,style:{animationDelay:`${o*.05}s`},className:"bg-[#0a0a0a] border border-slate-800 p-6 rounded-2xl flex flex-col lg:flex-row justify-between items-center gap-6 hover:border-slate-700 transition group animate-fade-up"},e.createElement("div",{className:"flex-1 w-full lg:w-auto"},e.createElement("div",{className:"flex items-center gap-4 mb-2"},e.createElement("span",{className:"bg-slate-900 text-orange-400 px-3 py-1 rounded-lg text-sm font-black tracking-widest border border-slate-800"},"#",a.orderId),e.createElement("span",{className:`text-[10px] px-2 py-1 rounded-full uppercase font-bold border ${a.status==="Realizado"?"bg-green-900/20 text-green-400 border-green-500/30":"bg-yellow-900/20 text-yellow-400 border-yellow-500/30"}`},a.status)),e.createElement("h4",{className:"text-white font-bold text-lg mb-1"},a.customer.name),e.createElement("p",{className:"text-slate-500 text-xs flex items-center gap-2"},e.createElement(Wo,{className:"w-3 h-3"})," ",new Date(a.date).toLocaleString(),e.createElement("span",{className:"w-1 h-1 bg-slate-700 rounded-full"}),e.createElement("span",{className:"text-slate-400 font-mono"},"$",a.total.toLocaleString()))),e.createElement("div",{className:"flex -space-x-2"},a.items.slice(0,4).map((s,r)=>e.createElement("div",{key:r,className:"w-10 h-10 rounded-full border-2 border-[#0a0a0a] bg-slate-800 flex items-center justify-center overflow-hidden",title:s.title},s.image?e.createElement("img",{src:s.image,className:"w-full h-full object-cover"}):e.createElement(Ct,{className:"w-4 h-4 text-slate-500"}))),a.items.length>4&&e.createElement("div",{className:"w-10 h-10 rounded-full border-2 border-[#0a0a0a] bg-slate-800 flex items-center justify-center text-xs text-white font-bold"},"+",a.items.length-4)),e.createElement("div",{className:"flex items-center gap-3 w-full lg:w-auto justify-end"},e.createElement("button",{onClick:()=>tr(a),className:"p-3 bg-slate-900 hover:bg-slate-800 text-slate-300 hover:text-white rounded-xl transition border border-slate-800",title:"Ver Detalles"},e.createElement(ns,{className:"w-5 h-5"})),a.status!=="Realizado"&&e.createElement("button",{onClick:()=>kl(a.id),className:"p-3 bg-green-900/10 hover:bg-green-600 text-green-500 hover:text-white rounded-xl transition border border-green-500/20",title:"Marcar como Finalizado"},e.createElement(me,{className:"w-5 h-5"})),e.createElement("button",{onClick:()=>Cl(a.id),className:"p-3 bg-red-900/10 hover:bg-red-600 text-red-500 hover:text-white rounded-xl transition border border-red-500/20",title:"Eliminar Pedido"},e.createElement(ye,{className:"w-5 h-5"}))))))),v==="products"&&e.createElement("div",{className:"max-w-7xl mx-auto animate-fade-in pb-20"},e.createElement("div",{className:"flex justify-between items-center mb-8"},e.createElement("div",null,e.createElement("h1",{className:"text-3xl font-black text-white"},"Inventario"),(()=>{const a=(t==null?void 0:t.subscriptionPlan)||"entrepreneur",o=a==="premium"?"‚àû":a==="business"?50:30,s=N.length,r=a!=="premium"&&s>=o*.8;return e.createElement("p",{className:`text-sm font-bold mt-1 ${r?"text-yellow-400":"text-slate-500"}`},s," / ",o," productos",r&&a!=="premium"&&e.createElement("span",{className:"text-yellow-500 ml-2"},"‚ö† Cerca del l√≠mite"))})()),e.createElement("div",{className:"flex gap-2"},e.createElement(Et,{guideKey:"products"}),e.createElement("button",{onClick:()=>ga(!0),className:"bg-slate-800 px-6 py-3 rounded-xl font-bold text-white flex gap-2 shadow-lg hover:bg-slate-700 transition transform hover:scale-105 active:scale-95 border border-slate-700"},e.createElement(Ya,{className:"w-5 h-5"})," Categor√≠as"),e.createElement("button",{onClick:()=>{Je({}),Co(null),so(!0)},className:"bg-orange-600 px-6 py-3 rounded-xl font-bold text-white flex gap-2 shadow-lg hover:bg-orange-500 transition transform hover:scale-105 active:scale-95"},e.createElement(Xe,{className:"w-5 h-5"})," Agregar Producto"))),(()=>{const a=N.filter(r=>r.isActive===!1&&r.deactivatedByPlan),o=N.filter(r=>r.isActive===!1&&!r.deactivatedByPlan),s=N.filter(r=>r.isActive===!1);return s.length>0?e.createElement("div",{className:"bg-yellow-900/20 border border-yellow-500/30 p-4 rounded-2xl mb-6 flex flex-col md:flex-row items-start md:items-center justify-between gap-4"},e.createElement("div",{className:"flex items-start gap-3"},e.createElement(ia,{className:"w-6 h-6 text-yellow-400 flex-shrink-0 mt-0.5"}),e.createElement("div",null,e.createElement("p",{className:"font-bold text-yellow-400"},s.length," producto(s) desactivado(s)"),e.createElement("p",{className:"text-sm text-yellow-200/70"},a.length>0&&`${a.length} por l√≠mite de plan. `,o.length>0&&`${o.length} desactivado(s) manualmente. `,"Los productos desactivados no se muestran en la tienda."))),e.createElement("button",{onClick:()=>p("Usa el bot√≥n de ojo (üëÅ) en cada producto para activar/desactivar","info"),className:"px-4 py-2 bg-yellow-500/20 text-yellow-400 rounded-xl font-bold text-sm hover:bg-yellow-500/30 transition border border-yellow-500/30 whitespace-nowrap"},"Ver desactivados")):null})(),Ws&&e.createElement("div",{className:"bg-[#0a0a0a] border border-orange-500/30 p-8 rounded-[2rem] mb-10 shadow-2xl relative"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6"},ro?"Editar Producto":"Nuevo Producto"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},e.createElement("div",{className:"space-y-4"},e.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Nombre del Producto",value:Q.name||"",onChange:a=>Je({...Q,name:a.target.value})}),e.createElement("div",{className:"flex gap-4"},e.createElement("input",{className:"input-cyber w-full p-4",type:"number",placeholder:"Precio Venta ($)",value:Q.basePrice||"",onChange:a=>Je({...Q,basePrice:a.target.value})}),e.createElement("input",{className:"input-cyber w-full p-4",type:"number",placeholder:"Costo Compra ($)",value:Q.purchasePrice||"",onChange:a=>Je({...Q,purchasePrice:a.target.value})}),e.createElement("input",{className:"input-cyber w-full p-4",type:"number",placeholder:"Stock",value:Q.stock||"",onChange:a=>Je({...Q,stock:a.target.value})})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block mb-2"},"Categor√≠as (Selecciona una o m√°s)"),e.createElement("div",{className:"bg-slate-900/50 border border-slate-700 rounded-xl p-4 max-h-64 overflow-y-auto custom-scrollbar"},((t==null?void 0:t.categories)||[]).length===0?e.createElement("p",{className:"text-center text-slate-600 py-4 text-sm"},"No hay categor√≠as disponibles. Agr√©galas abajo."):((t==null?void 0:t.categories)||[]).map(a=>{const o=Array.isArray(Q.categories)?Q.categories.includes(a):Q.category===a;return e.createElement("label",{key:a,className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-all group hover:bg-slate-800 mb-2 last:mb-0 ${o?"bg-orange-900/20 border border-orange-500/30":"border border-transparent"}`},e.createElement("input",{type:"checkbox",checked:o,onChange:s=>{if(s.target.checked){const r=Array.isArray(Q.categories)?Q.categories:Q.category?[Q.category]:[];Je({...Q,categories:[...r,a],category:void 0})}else{const r=Array.isArray(Q.categories)?Q.categories.filter(i=>i!==a):[];Je({...Q,categories:r})}},className:"w-4 h-4 text-orange-600 bg-slate-900 border-slate-600 rounded focus:ring-orange-500 focus:ring-2"}),e.createElement("span",{className:`flex-1 text-sm font-medium transition-colors ${o?"text-orange-400":"text-slate-300 group-hover:text-white"}`},a),o&&e.createElement("span",{className:"text-xs font-bold text-orange-500 bg-orange-500/10 px-2 py-0.5 rounded flex items-center gap-1"},e.createElement(me,{className:"w-3 h-3"})))})),Q.categories&&Q.categories.length>0&&e.createElement("div",{className:"flex flex-wrap gap-2 mt-3"},Q.categories.map(a=>e.createElement("span",{key:a,className:"bg-orange-500/20 text-orange-400 text-xs font-bold px-3 py-1.5 rounded-full border border-orange-500/30 flex items-center gap-2"},a,e.createElement("button",{type:"button",onClick:()=>{Je({...Q,categories:Q.categories.filter(o=>o!==a)})},className:"hover:text-orange-300 transition"},e.createElement(Se,{className:"w-3 h-3"})))))),e.createElement("button",{type:"button",onClick:()=>ga(!0),className:"w-full mt-2 py-2 bg-orange-900/20 hover:bg-orange-900/40 text-orange-400 rounded-xl font-bold transition flex items-center justify-center gap-2 text-sm border border-orange-800"},e.createElement(Ya,{className:"w-4 h-4"})," Nueva Categor√≠a")),e.createElement("div",{className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Imagen del Producto"),e.createElement("div",{className:"space-y-3"},e.createElement("input",{type:"file",accept:"image/*",onChange:a=>zt(a,Je),className:"block w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-orange-900/20 file:text-orange-400 hover:file:bg-orange-900/40 transition"}),Q.image&&e.createElement("div",{className:"bg-white rounded-xl p-3 w-32 h-32"},e.createElement("img",{src:Q.image,className:"w-full h-full object-contain",alt:"Preview"})))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Descuento (%)"),e.createElement("p",{className:"text-xs text-slate-400 mb-2"},"Porcentaje de descuento sobre el precio base (0-100)"),e.createElement("input",{type:"number",min:"0",max:"100",className:"input-cyber w-full p-4",placeholder:"0",value:Q.discount||0,onChange:a=>Je({...Q,discount:parseFloat(a.target.value)||0})})))),e.createElement("textarea",{className:"input-cyber w-full h-32 p-4 mb-6 resize-none",placeholder:"Descripci√≥n detallada del producto...",value:Q.description||"",onChange:a=>Je({...Q,description:a.target.value})}),e.createElement("div",{className:"flex gap-4 justify-end"},e.createElement("button",{onClick:()=>so(!1),className:"px-6 py-3 text-slate-400 font-bold hover:text-white transition"},"Cancelar"),e.createElement("button",{onClick:hl,className:"px-8 py-3 bg-orange-600 rounded-xl text-white font-bold shadow-lg hover:bg-orange-500 transition"},"Guardar Producto"))),e.createElement("div",{className:"grid gap-3"},N.map((a,o)=>{var s;return e.createElement("div",{key:a.id,style:{animationDelay:`${o*.05}s`},className:`bg-[#0a0a0a] border p-4 rounded-xl flex flex-col sm:flex-row justify-between items-center group hover:border-orange-900/50 transition animate-fade-up ${a.isActive===!1?"border-yellow-500/30 opacity-60":"border-slate-800"}`},e.createElement("div",{className:"flex items-center gap-6 w-full sm:w-auto"},e.createElement("div",{className:`w-16 h-16 bg-white rounded-lg p-2 flex-shrink-0 relative ${a.isActive===!1?"grayscale":""}`},e.createElement("img",{src:a.image,className:"w-full h-full object-contain"}),a.isFeatured&&e.createElement("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-yellow-500 rounded-full flex items-center justify-center shadow-lg"},e.createElement(Aa,{className:"w-3 h-3 text-black fill-current"}))),e.createElement("div",null,e.createElement("p",{className:"font-bold text-white text-lg flex items-center gap-2"},a.name,a.isFeatured&&e.createElement("span",{className:"text-[10px] bg-yellow-500/20 text-yellow-400 px-2 py-0.5 rounded-full font-bold"},"DESTACADO"),a.isActive===!1&&e.createElement("span",{className:"text-[10px] bg-red-500/20 text-red-400 px-2 py-0.5 rounded-full font-bold"},"OCULTO",a.deactivatedByPlan?" (L√çMITE)":"")),e.createElement("p",{className:"text-xs text-slate-500 font-mono"},"Stock: ",e.createElement("span",{className:(a.stock||0)<((t==null?void 0:t.lowStockThreshold)||5)?"text-red-400 font-bold animate-pulse":"text-slate-400"},a.stock||0)," |",e.createElement("span",{className:"text-orange-400 font-bold ml-2",title:"Precio Venta"},"$",Number(a.basePrice).toLocaleString())," |",e.createElement("span",{className:"text-slate-500 ml-2 font-mono",title:"Costo Adquisici√≥n"},"Costo: $",Number(a.purchasePrice||0).toLocaleString()),Number(a.basePrice)>0&&e.createElement("span",{className:`ml-2 text-[10px] font-black px-1.5 py-0.5 rounded border ${(Number(a.basePrice)-Number(a.purchasePrice||0))/Number(a.basePrice)<.3?"bg-red-900/20 text-red-400 border-red-500/20":"bg-green-900/20 text-green-400 border-green-500/20"}`},((Number(a.basePrice)-Number(a.purchasePrice||0))/Number(a.basePrice)*100).toFixed(0),"%")," |",e.createElement("span",{className:"text-green-400 ml-2"},"Ventas: ",((s=Y==null?void 0:Y.salesCount)==null?void 0:s[a.id])||0)))),e.createElement("div",{className:"flex gap-2 mt-4 sm:mt-0 w-full sm:w-auto justify-end items-center"},e.createElement("button",{onClick:async()=>{try{await he(G(E,"artifacts",g,"public","data","products",a.id),{isFeatured:!a.isFeatured}),p(a.isFeatured?"Producto quitado de destacados":"Producto marcado como destacado","success")}catch(r){console.error(r),p("Error al actualizar","error")}},className:`p-3 rounded-xl transition border transform hover:scale-105 active:scale-95 ${a.isFeatured?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30 hover:bg-yellow-500/30":"bg-slate-900 text-slate-500 border-slate-800 hover:text-yellow-400 hover:border-yellow-500/30"}`,title:a.isFeatured?"Quitar de Destacados":"Marcar como Destacado"},e.createElement(Aa,{className:`w-5 h-5 ${a.isFeatured?"fill-current":""}`})),e.createElement("button",{onClick:()=>a.isActive===!1?Bs(a.id):Gs(a.id),className:`p-3 rounded-xl transition border transform hover:scale-105 active:scale-95 ${a.isActive===!1?"bg-red-500/20 text-red-400 border-red-500/30 hover:bg-green-500/20 hover:text-green-400 hover:border-green-500/30":"bg-slate-900 text-slate-500 border-slate-800 hover:text-red-400 hover:border-red-500/30"}`,title:a.isActive===!1?"Activar Producto (hacerlo visible en tienda)":"Desactivar Producto (ocultarlo de la tienda)"},a.isActive===!1?e.createElement(ns,{className:"w-5 h-5"}):e.createElement(Ql,{className:"w-5 h-5"})),e.createElement("button",{onClick:()=>al(a),className:"p-3 bg-slate-900 rounded-xl text-green-400 hover:bg-green-900/20 transition border border-slate-800 transform hover:scale-105 active:scale-95",title:"Venta Manual (Descontar 1)"},e.createElement(fo,{className:"w-5 h-5"})),e.createElement("button",{onClick:()=>{Je(a),Co(a.id),so(!0)},className:"p-3 bg-slate-900 rounded-xl text-orange-400 hover:bg-orange-900/20 transition border border-slate-800 transform hover:scale-105 active:scale-95"},e.createElement(la,{className:"w-5 h-5"})),e.createElement("button",{onClick:()=>yl(a),className:"p-3 bg-slate-900 rounded-xl text-red-400 hover:bg-red-900/20 transition border border-slate-800 transform hover:scale-105 active:scale-95"},e.createElement(ye,{className:"w-5 h-5"}))))}))),v==="settings"&&e.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up pb-20 relative"},(d==null?void 0:d.email)!==Ee&&e.createElement("div",{className:"absolute inset-0 z-30 flex items-center justify-center bg-black/90 backdrop-blur-md rounded-[2.5rem]"},e.createElement("div",{className:"text-center p-8 max-w-lg"},e.createElement("div",{className:"w-24 h-24 mx-auto mb-6 bg-red-500/20 rounded-full flex items-center justify-center border border-red-500/30"},e.createElement(ot,{className:"w-12 h-12 text-red-400"})),e.createElement("h3",{className:"text-3xl font-black text-white mb-4"},"Acceso Restringido"),e.createElement("p",{className:"text-slate-400 mb-6"},"Esta secci√≥n est√° reservada √∫nicamente para el ",e.createElement("span",{className:"text-orange-400 font-bold"},"desarrollador")," de la plataforma."),e.createElement("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-800 mb-6"},e.createElement("p",{className:"text-sm text-slate-500 mb-2"},"Para solicitar cambios en la configuraci√≥n, contacta a:"),e.createElement("p",{className:"text-orange-400 font-bold text-lg"},"lautarocorazza63@gmail.com")),e.createElement("p",{className:"text-xs text-slate-600"},"Si necesitas modificar tu tienda, env√≠a un email detallando los cambios que deseas realizar."))),e.createElement("h1",{className:"text-4xl font-black text-white neon-text mb-8 flex items-center gap-3"},e.createElement(as,{className:"w-8 h-8 text-orange-500 animate-spin-slow"})," Configuraci√≥n General"),e.createElement("div",{className:"flex flex-wrap gap-2 mb-8 pb-4 border-b border-slate-800"},[{id:"store",label:"Tienda",icon:ja},{id:"appearance",label:"Apariencia",icon:ms},{id:"social",label:"Redes",icon:us},{id:"payments",label:"Pagos",icon:Gt},{id:"ticket",label:"Ticket",icon:na},{id:"shipping",label:"Env√≠os",icon:St},{id:"seo",label:"SEO",icon:Ho},{id:"advanced",label:"Avanzado",icon:ps},{id:"team",label:"Equipo",icon:Qa},...(d==null?void 0:d.email)===Ee?[{id:"subscription",label:"Suscripciones",icon:Bt}]:[]].map(a=>e.createElement("button",{key:a.id,onClick:()=>Hs(a.id),className:`px-5 py-2.5 rounded-xl font-bold text-sm flex items-center gap-2 transition-all duration-300 border ${at===a.id?"bg-orange-600 text-white shadow-[0_0_20px_rgba(8,145,178,0.4)] border-orange-400 transform scale-105":"bg-slate-900 text-slate-400 hover:text-white hover:bg-slate-800 border-slate-800"}`},e.createElement(a.icon,{className:`w-4 h-4 ${at===a.id?"animate-pulse":""}`})," ",a.label))),at==="subscription"&&(d==null?void 0:d.email)===Ee&&e.createElement("div",{className:"space-y-6 animate-fade-up"},e.createElement("div",{className:"bg-[#0a0a0a] border border-orange-500/30 p-8 rounded-[2rem] shadow-[0_0_50px_rgba(249,115,22,0.1)]"},e.createElement("h3",{className:"text-2xl font-black text-white mb-6 flex items-center gap-3"},e.createElement(Bt,{className:"w-6 h-6 text-yellow-500 fill-current"}),"Modelos de Suscripci√≥n"),e.createElement("div",{className:"mb-8 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-xl flex items-center gap-4"},e.createElement(ia,{className:"w-8 h-8 text-yellow-500"}),e.createElement("div",null,e.createElement("p",{className:"font-bold text-yellow-500"},"Zona de Peligro: Super Admin"),e.createElement("p",{className:"text-sm text-yellow-200"},"Cambiar el plan afecta inmediatamente los l√≠mites y funcionalidades de la tienda."))),e.createElement("div",{className:"mb-8 p-6 bg-slate-900/40 border border-slate-800 rounded-2xl"},e.createElement("div",{className:"flex items-center justify-between gap-4 flex-wrap"},e.createElement("div",null,e.createElement("p",{className:"text-white font-black text-lg"},"Backup de Tienda"),e.createElement("p",{className:"text-slate-500 text-xs font-mono"},"storeId: ",g||"‚Äî")),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{disabled:Xa||!g,onClick:Fs,className:"px-4 py-3 rounded-xl bg-green-500/10 border border-green-500/20 text-green-400 font-black text-[10px] uppercase tracking-widest hover:bg-green-500/20 transition disabled:opacity-50"},Xa?"Exportando‚Ä¶":"Exportar"),e.createElement("label",{className:`px-4 py-3 rounded-xl bg-indigo-600/20 border border-indigo-500/30 text-indigo-200 font-black text-[10px] uppercase tracking-widest hover:bg-indigo-600/30 transition ${Za||!g?"opacity-50 pointer-events-none":""}`},Za?"Importando‚Ä¶":"Importar",e.createElement("input",{type:"file",accept:"application/json",className:"hidden",onChange:a=>{const o=a.target.files&&a.target.files[0];o&&Us(o),a.target.value=""}})))),e.createElement("p",{className:"text-slate-600 text-xs mt-4"},"Importar escribe con merge (no borra por defecto). Usalo con cuidado.")),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},e.createElement("button",{onClick:()=>yo("entrepreneur"),className:`relative p-6 rounded-2xl border-2 transition-all duration-300 text-left group ${t.subscriptionPlan==="entrepreneur"||!t.subscriptionPlan?"bg-slate-900 border-orange-500 shadow-[0_0_30px_rgba(249,115,22,0.2)] scale-105 z-10":"bg-[#050505] border-slate-800 hover:border-slate-600 opacity-60 hover:opacity-100"}`},e.createElement("div",{className:"flex justify-between items-start mb-4"},e.createElement("div",{className:"p-3 bg-slate-800 rounded-xl"},e.createElement(ja,{className:"w-6 h-6 text-orange-400"})),(t.subscriptionPlan==="entrepreneur"||!t.subscriptionPlan)&&e.createElement("div",{className:"bg-orange-500 text-black text-xs font-black px-2 py-1 rounded"},"ACTIVO")),e.createElement("h4",{className:"text-xl font-black text-white mb-1"},"Emprendedor"),e.createElement("p",{className:"text-sm text-slate-400 mb-4 h-10"},"El esencial para arrancar s√≥lido pero econ√≥mico."),e.createElement("div",{className:"text-2xl font-black text-orange-400 mb-6"},"$7.000 ",e.createElement("span",{className:"text-sm text-slate-500 font-normal"},"/mes")),e.createElement("ul",{className:"space-y-2 text-sm text-slate-300"},e.createElement("li",{className:"flex items-center gap-2"},e.createElement(me,{className:"w-4 h-4 text-orange-500"})," Hasta 30 productos"),e.createElement("li",{className:"flex items-center gap-2"},e.createElement(me,{className:"w-4 h-4 text-orange-500"})," Dominio Vercel"),e.createElement("li",{className:"flex items-center gap-2"},e.createElement(me,{className:"w-4 h-4 text-orange-500"})," Mercado Pago Directo"))),e.createElement("button",{onClick:()=>yo("business"),className:`relative p-6 rounded-2xl border-2 transition-all duration-300 text-left group ${t.subscriptionPlan==="business"?"bg-slate-900 border-purple-500 shadow-[0_0_30px_rgba(168,85,247,0.2)] scale-105 z-10":"bg-[#050505] border-slate-800 hover:border-slate-600 opacity-60 hover:opacity-100"}`},e.createElement("div",{className:"flex justify-between items-start mb-4"},e.createElement("div",{className:"p-3 bg-slate-800 rounded-xl"},e.createElement(rs,{className:"w-6 h-6 text-purple-400"})),t.subscriptionPlan==="business"&&e.createElement("div",{className:"bg-purple-500 text-white text-xs font-black px-2 py-1 rounded"},"ACTIVO")),e.createElement("h4",{className:"text-xl font-black text-white mb-1"},"Negocio"),e.createElement("p",{className:"text-sm text-slate-400 mb-4 h-10"},"Para marcas con identidad definida."),e.createElement("div",{className:"text-2xl font-black text-purple-400 mb-6"},"$14.000 ",e.createElement("span",{className:"text-sm text-slate-500 font-normal"},"/mes")),e.createElement("ul",{className:"space-y-2 text-sm text-slate-300"},e.createElement("li",{className:"flex items-center gap-2"},e.createElement(me,{className:"w-4 h-4 text-purple-500"})," Hasta 50 productos"),e.createElement("li",{className:"flex items-center gap-2"},e.createElement(me,{className:"w-4 h-4 text-purple-500"})," Personalizaci√≥n Visual"),e.createElement("li",{className:"flex items-center gap-2"},e.createElement(me,{className:"w-4 h-4 text-purple-500"})," Bot√≥n WhatsApp"))),e.createElement("button",{onClick:()=>yo("premium"),className:`relative p-6 rounded-2xl border-2 transition-all duration-300 text-left group ${t.subscriptionPlan==="premium"?"bg-slate-900 border-yellow-500 shadow-[0_0_30px_rgba(234,179,8,0.2)] scale-105 z-10":"bg-[#050505] border-slate-800 hover:border-slate-600 opacity-60 hover:opacity-100"}`},e.createElement("div",{className:"flex justify-between items-start mb-4"},e.createElement("div",{className:"p-3 bg-slate-800 rounded-xl"},e.createElement(ma,{className:"w-6 h-6 text-yellow-400"})),t.subscriptionPlan==="premium"&&e.createElement("div",{className:"bg-yellow-500 text-black text-xs font-black px-2 py-1 rounded"},"ACTIVO")),e.createElement("h4",{className:"text-xl font-black text-white mb-1"},"Premium"),e.createElement("p",{className:"text-sm text-slate-400 mb-4 h-10"},"Servicio Full con IA."),e.createElement("div",{className:"text-2xl font-black text-yellow-400 mb-6"},"$22.000 ",e.createElement("span",{className:"text-sm text-slate-500 font-normal"},"/mes")),e.createElement("ul",{className:"space-y-2 text-sm text-slate-300"},e.createElement("li",{className:"flex items-center gap-2"},e.createElement(me,{className:"w-4 h-4 text-yellow-500"})," Ilimitado / Full IA"),e.createElement("li",{className:"flex items-center gap-2"},e.createElement(me,{className:"w-4 h-4 text-yellow-500"})," Carga Inicial (10)"),e.createElement("li",{className:"flex items-center gap-2"},e.createElement(me,{className:"w-4 h-4 text-yellow-500"})," Mantenimiento Mensual")))),e.createElement("div",{className:"mt-8 pt-8 border-t border-slate-800/50"},e.createElement("h4",{className:"text-lg font-bold text-slate-300 mb-4 flex items-center gap-2"},e.createElement(Yl,{className:"w-5 h-5 text-green-400"})," Ciclo de Facturaci√≥n"),e.createElement("div",{className:"grid grid-cols-3 gap-4"},[{id:"Semanal",label:"Semanal"},{id:"Mensual",label:"Mensual"},{id:"Anual",label:"Anual"}].map(a=>e.createElement("button",{key:a.id,onClick:()=>f({...t,subscriptionBillingCycle:a.id}),className:`p-3 rounded-xl border transition-all font-bold ${(t==null?void 0:t.subscriptionBillingCycle)===a.id?"bg-green-500 text-black border-green-400 shadow-lg shadow-green-500/20":"bg-slate-900 text-slate-400 border-slate-800 hover:bg-slate-800"}`},a.label))),e.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Define la frecuencia de cobro para este plan.")))),at==="store"&&e.createElement("div",{className:"space-y-6 animate-fade-up"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(ja,{className:"w-5 h-5 text-orange-400"})," Informaci√≥n de la Tienda"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Nombre de la Tienda"),e.createElement("input",{className:"input-cyber w-full p-4",value:(t==null?void 0:t.storeName)||"",onChange:a=>f({...t,storeName:a.target.value}),placeholder:"Mi Tienda"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Email de Contacto"),e.createElement("input",{type:"email",className:"input-cyber w-full p-4",value:(t==null?void 0:t.storeEmail)||"",onChange:a=>f({...t,storeEmail:a.target.value}),placeholder:"contacto@mitienda.com"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Tel√©fono"),e.createElement("input",{className:"input-cyber w-full p-4",value:(t==null?void 0:t.storePhone)||"",onChange:a=>f({...t,storePhone:a.target.value}),placeholder:"+54 11 1234-5678"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Direcci√≥n"),e.createElement("input",{className:"input-cyber w-full p-4",value:(t==null?void 0:t.storeAddress)||"",onChange:a=>f({...t,storeAddress:a.target.value}),placeholder:"Av. Corrientes 1234, CABA"}))),e.createElement("div",{className:"mt-6"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Descripci√≥n de la Tienda"),e.createElement("textarea",{className:"input-cyber w-full p-4 h-24 resize-none",value:(t==null?void 0:t.storeDescription)||"",onChange:a=>f({...t,storeDescription:a.target.value}),placeholder:"Breve descripci√≥n de tu tienda..."})),e.createElement("div",{className:"mt-6"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Texto de Nosotros"),e.createElement("textarea",{className:"input-cyber w-full p-4 h-32 resize-none",value:(t==null?void 0:t.aboutUsText)||"",onChange:a=>f({...t,aboutUsText:a.target.value}),placeholder:"Historia de tu marca, valores, misi√≥n..."}))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(Bo,{className:"w-5 h-5 text-orange-400"})," Textos de Copyright"),e.createElement("div",{className:"space-y-6"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Copyright del Men√∫ Lateral"),e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.menuCopyright)||"",onChange:a=>f({...t,menuCopyright:a.target.value}),placeholder:`${(t==null?void 0:t.storeName)||"Mi Tienda"} ¬© ${new Date().getFullYear()}`}),e.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Aparece al final del men√∫ hamburguesa")),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Copyright del Footer"),e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.footerCopyright)||"",onChange:a=>f({...t,footerCopyright:a.target.value}),placeholder:`¬© ${new Date().getFullYear()} ${(t==null?void 0:t.storeName)||"Mi Tienda"}. All rights reserved.`}),e.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Aparece en la barra inferior del sitio")))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(bo,{className:"w-5 h-5 text-orange-400"}),' Gu√≠a "C√≥mo Comprar"'),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Mostrar en Men√∫"),e.createElement("p",{className:"text-xs text-slate-500"},'Mostrar enlace "C√≥mo Comprar" en el men√∫ lateral')),e.createElement("button",{onClick:()=>f({...t,showGuideLink:(t==null?void 0:t.showGuideLink)===!1}),className:`w-14 h-7 rounded-full transition-all duration-300 relative ${(t==null?void 0:t.showGuideLink)!==!1?"bg-orange-600":"bg-slate-700"}`},e.createElement("div",{className:`w-5 h-5 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${(t==null?void 0:t.showGuideLink)!==!1?"left-8":"left-1"}`}))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"T√≠tulo de la P√°gina"),e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.guideTitle)||"",onChange:a=>f({...t,guideTitle:a.target.value}),placeholder:"C√≥mo Comprar"})),e.createElement("div",{className:"border-t border-slate-800 pt-4"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:"w-6 h-6 rounded-full bg-orange-900/30 text-orange-400 text-xs font-bold flex items-center justify-center"},"1"),e.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"Paso 1")),e.createElement("button",{onClick:()=>f({...t,showGuideStep1:(t==null?void 0:t.showGuideStep1)===!1}),className:`w-10 h-5 rounded-full transition-all duration-300 relative ${(t==null?void 0:t.showGuideStep1)!==!1?"bg-orange-600":"bg-slate-700"}`},e.createElement("div",{className:`w-3 h-3 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${(t==null?void 0:t.showGuideStep1)!==!1?"left-6":"left-1"}`}))),e.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-3 ${(t==null?void 0:t.showGuideStep1)===!1?"opacity-50":""}`},e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.guideStep1Title)||"",onChange:a=>f({...t,guideStep1Title:a.target.value}),placeholder:"Selecciona Productos",disabled:(t==null?void 0:t.showGuideStep1)===!1}),e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.guideStep1Text)||"",onChange:a=>f({...t,guideStep1Text:a.target.value}),placeholder:"Descripci√≥n del paso...",disabled:(t==null?void 0:t.showGuideStep1)===!1}))),e.createElement("div",{className:"border-t border-slate-800 pt-4"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:"w-6 h-6 rounded-full bg-orange-900/30 text-orange-400 text-xs font-bold flex items-center justify-center"},"2"),e.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"Paso 2")),e.createElement("button",{onClick:()=>f({...t,showGuideStep2:(t==null?void 0:t.showGuideStep2)===!1}),className:`w-10 h-5 rounded-full transition-all duration-300 relative ${(t==null?void 0:t.showGuideStep2)!==!1?"bg-orange-600":"bg-slate-700"}`},e.createElement("div",{className:`w-3 h-3 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${(t==null?void 0:t.showGuideStep2)!==!1?"left-6":"left-1"}`}))),e.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-3 ${(t==null?void 0:t.showGuideStep2)===!1?"opacity-50":""}`},e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.guideStep2Title)||"",onChange:a=>f({...t,guideStep2Title:a.target.value}),placeholder:"Revisa tu Carrito",disabled:(t==null?void 0:t.showGuideStep2)===!1}),e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.guideStep2Text)||"",onChange:a=>f({...t,guideStep2Text:a.target.value}),placeholder:"Descripci√≥n del paso...",disabled:(t==null?void 0:t.showGuideStep2)===!1}))),e.createElement("div",{className:"border-t border-slate-800 pt-4"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:"w-6 h-6 rounded-full bg-orange-900/30 text-orange-400 text-xs font-bold flex items-center justify-center"},"3"),e.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"Paso 3")),e.createElement("button",{onClick:()=>f({...t,showGuideStep3:(t==null?void 0:t.showGuideStep3)===!1}),className:`w-10 h-5 rounded-full transition-all duration-300 relative ${(t==null?void 0:t.showGuideStep3)!==!1?"bg-orange-600":"bg-slate-700"}`},e.createElement("div",{className:`w-3 h-3 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${(t==null?void 0:t.showGuideStep3)!==!1?"left-6":"left-1"}`}))),e.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-3 ${(t==null?void 0:t.showGuideStep3)===!1?"opacity-50":""}`},e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.guideStep3Title)||"",onChange:a=>f({...t,guideStep3Title:a.target.value}),placeholder:"Datos de Env√≠o",disabled:(t==null?void 0:t.showGuideStep3)===!1}),e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.guideStep3Text)||"",onChange:a=>f({...t,guideStep3Text:a.target.value}),placeholder:"Descripci√≥n del paso...",disabled:(t==null?void 0:t.showGuideStep3)===!1}))),e.createElement("div",{className:"border-t border-slate-800 pt-4"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:"w-6 h-6 rounded-full bg-orange-900/30 text-orange-400 text-xs font-bold flex items-center justify-center"},"4"),e.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"Paso 4")),e.createElement("button",{onClick:()=>f({...t,showGuideStep4:(t==null?void 0:t.showGuideStep4)===!1}),className:`w-10 h-5 rounded-full transition-all duration-300 relative ${(t==null?void 0:t.showGuideStep4)!==!1?"bg-orange-600":"bg-slate-700"}`},e.createElement("div",{className:`w-3 h-3 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${(t==null?void 0:t.showGuideStep4)!==!1?"left-6":"left-1"}`}))),e.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-3 ${(t==null?void 0:t.showGuideStep4)===!1?"opacity-50":""}`},e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.guideStep4Title)||"",onChange:a=>f({...t,guideStep4Title:a.target.value}),placeholder:"Pago y Confirmaci√≥n",disabled:(t==null?void 0:t.showGuideStep4)===!1}),e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.guideStep4Text)||"",onChange:a=>f({...t,guideStep4Text:a.target.value}),placeholder:"Descripci√≥n del paso...",disabled:(t==null?void 0:t.showGuideStep4)===!1}))),e.createElement("div",{className:"border-t border-slate-800 pt-4"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:"w-6 h-6 rounded-full bg-orange-900/30 text-orange-400 text-xs font-bold flex items-center justify-center"},"5"),e.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"Paso 5")),e.createElement("button",{onClick:()=>f({...t,showGuideStep5:(t==null?void 0:t.showGuideStep5)===!1}),className:`w-10 h-5 rounded-full transition-all duration-300 relative ${(t==null?void 0:t.showGuideStep5)!==!1?"bg-orange-600":"bg-slate-700"}`},e.createElement("div",{className:`w-3 h-3 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${(t==null?void 0:t.showGuideStep5)!==!1?"left-6":"left-1"}`}))),e.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-3 ${(t==null?void 0:t.showGuideStep5)===!1?"opacity-50":""}`},e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.guideStep5Title)||"",onChange:a=>f({...t,guideStep5Title:a.target.value}),placeholder:"¬°Listo!",disabled:(t==null?void 0:t.showGuideStep5)===!1}),e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.guideStep5Text)||"",onChange:a=>f({...t,guideStep5Text:a.target.value}),placeholder:"Descripci√≥n del paso...",disabled:(t==null?void 0:t.showGuideStep5)===!1}))))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(gs,{className:"w-5 h-5 text-yellow-400"})," Anuncios"),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Mensaje de Anuncio (Banner superior)"),e.createElement("input",{className:"input-cyber w-full p-4",value:(t==null?void 0:t.announcementMessage)||"",onChange:a=>f({...t,announcementMessage:a.target.value}),placeholder:"üî• ¬°Env√≠o gratis en compras mayores a $50.000!"}),e.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Dejar vac√≠o para ocultar el banner."))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(Bt,{className:"w-5 h-5 text-yellow-500"})," Pantalla de Carga"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"T√≠tulo de Carga"),e.createElement("input",{className:"input-cyber w-full p-4",value:(t==null?void 0:t.loadingTitle)||"",onChange:a=>f({...t,loadingTitle:a.target.value}),placeholder:(t==null?void 0:t.storeName)||"SUSTORE"}),e.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Aparece en grande (ej. SUSTORE).")),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Mensaje de Carga"),e.createElement("input",{className:"input-cyber w-full p-4",value:(t==null?void 0:t.loadingText)||"",onChange:a=>f({...t,loadingText:a.target.value}),placeholder:"Cargando sistema..."}),e.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Texto peque√±o debajo del t√≠tulo."))))),at==="appearance"&&e.createElement("div",{className:"space-y-6 animate-fade-up"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(Ta,{className:"w-5 h-5 text-purple-400"})," Im√°genes"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Imagen Hero (Banner Principal)"),e.createElement("input",{type:"file",accept:"image/*",onChange:a=>zt(a,f,"heroUrl"),className:"block w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-900/20 file:text-purple-400 hover:file:bg-purple-900/40 transition"}),(t==null?void 0:t.heroUrl)&&e.createElement("div",{className:"mt-4 rounded-xl overflow-hidden border border-slate-700 h-32"},e.createElement("img",{src:t.heroUrl,className:"w-full h-full object-cover",alt:"Hero Preview"}))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Logo de la Tienda"),e.createElement("input",{type:"file",accept:"image/*",onChange:a=>zt(a,f,"logoUrl"),className:"block w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-orange-900/20 file:text-orange-400 hover:file:bg-orange-900/40 transition"}),(t==null?void 0:t.logoUrl)&&e.createElement("div",{className:"mt-4 w-24 h-24 rounded-xl overflow-hidden border border-slate-700 bg-white p-2"},e.createElement("img",{src:t.logoUrl,className:"w-full h-full object-contain",alt:"Logo Preview"}))))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(Kl,{className:"w-5 h-5 text-orange-400"})," Carrusel Home"),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Mostrar carrusel"),e.createElement("p",{className:"text-xs text-slate-500"},"Si est√° apagado, se usa la imagen Hero tradicional.")),e.createElement("button",{onClick:()=>f({...t,showHomeBannerCarousel:(t==null?void 0:t.showHomeBannerCarousel)===!1}),className:`w-14 h-8 rounded-full transition relative ${(t==null?void 0:t.showHomeBannerCarousel)!==!1?"bg-orange-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${(t==null?void 0:t.showHomeBannerCarousel)!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Cambio autom√°tico (segundos)"),e.createElement("input",{type:"number",min:"1",className:"input-cyber w-full p-3",value:Number.isFinite(Number(t==null?void 0:t.homeBannerAutoplayMs))?Math.max(1,Math.round(Number(t.homeBannerAutoplayMs)/1e3)):5,onChange:a=>{const o=Number(a.target.value),s=Number.isFinite(o)?Math.max(1,o):5;f({...t,homeBannerAutoplayMs:Math.round(s*1e3)})}}))),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6"},e.createElement("div",{className:"lg:col-span-1"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Imagen del slide"),e.createElement("input",{type:"file",accept:"image/*",onChange:a=>zt(a,ea,"imageUrl",1400),className:"block w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-orange-900/20 file:text-orange-400 hover:file:bg-orange-900/40 transition"}),(U==null?void 0:U.imageUrl)&&e.createElement("div",{className:"mt-4 rounded-xl overflow-hidden border border-slate-700 h-28"},e.createElement("img",{src:U.imageUrl,className:"w-full h-full object-cover",alt:"Banner preview"}))),e.createElement("div",{className:"lg:col-span-2 space-y-4"},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Acci√≥n al hacer click"),e.createElement("select",{className:"input-cyber w-full p-3",value:(U==null?void 0:U.targetType)||"none",onChange:a=>ea(o=>({...o,targetType:a.target.value,targetId:""}))},e.createElement("option",{value:"none"},"Solo mostrar (sin link)"),e.createElement("option",{value:"product"},"Abrir producto"),e.createElement("option",{value:"promo"},"Abrir promo"))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Orden (0 = primero)"),e.createElement("input",{type:"number",className:"input-cyber w-full p-3",value:Number.isFinite(Number(U==null?void 0:U.order))?Number(U.order):0,onChange:a=>ea(o=>({...o,order:a.target.value}))}),e.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Menor n√∫mero aparece primero (0, 1, 2...)."))),(U==null?void 0:U.targetType)!=="none"&&e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},(U==null?void 0:U.targetType)==="promo"?"Promo al hacer click":"Producto al hacer click"),e.createElement("select",{className:"input-cyber w-full p-3",value:(U==null?void 0:U.targetId)||"",onChange:a=>ea(o=>({...o,targetId:a.target.value}))},e.createElement("option",{value:""},"Seleccionar..."),((U==null?void 0:U.targetType)==="promo"?[...oe]:[...N]).sort((a,o)=>((a==null?void 0:a.name)||"").localeCompare((o==null?void 0:o.name)||"")).map(a=>e.createElement("option",{key:a.id,value:a.id},a.name)))),e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800 flex items-center gap-4"},(()=>{const a=(U==null?void 0:U.targetType)==="promo",o=a?oe.find(r=>r.id===(U==null?void 0:U.targetId)):N.find(r=>r.id===(U==null?void 0:U.targetId)),s=o==null?void 0:o.image;return e.createElement(e.Fragment,null,e.createElement("div",{className:"w-16 h-16 rounded-xl overflow-hidden border border-slate-700 bg-black/30 flex items-center justify-center flex-shrink-0"},s?e.createElement("img",{src:s,className:"w-full h-full object-cover",alt:"Preview"}):e.createElement(Ta,{className:"w-6 h-6 text-slate-600"})),e.createElement("div",{className:"min-w-0"},e.createElement("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-wider"},"Vista previa"),e.createElement("p",{className:"font-black text-white truncate"},(o==null?void 0:o.name)||"Sin selecci√≥n")))})())),e.createElement("div",{className:"flex flex-col md:flex-row md:items-center gap-4"},e.createElement("div",{className:"flex items-center justify-between flex-1 p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Slide habilitado"),e.createElement("p",{className:"text-xs text-slate-500"},"Si est√° apagado no se muestra.")),e.createElement("button",{onClick:()=>ea(a=>({...a,enabled:(a==null?void 0:a.enabled)===!1})),className:`w-14 h-8 rounded-full transition relative ${(U==null?void 0:U.enabled)!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${(U==null?void 0:U.enabled)!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:"flex gap-3"},Fa&&e.createElement("button",{onClick:Oo,className:"px-6 py-3 rounded-xl font-bold border border-slate-700 text-slate-200 hover:bg-slate-900/60 transition"},"Cancelar"),e.createElement("button",{onClick:wl,className:"px-8 py-3 bg-orange-600 rounded-xl text-white font-bold shadow-lg hover:bg-orange-500 transition"},Fa?"Guardar Slide":"Agregar Slide"))))),e.createElement("div",{className:"space-y-3"},ze.length===0?e.createElement("p",{className:"text-slate-500 text-sm"},"Todav√≠a no hay slides en el carrusel."):ze.map(a=>{const o=a.targetType||(a.promoId?"promo":a.productId?"product":"none"),s=a.targetId||a.promoId||a.productId||"",r=o==="promo"?oe.find(c=>c.id===s):o==="product"?N.find(c=>c.id===s):null,i=o==="none"?"Solo imagen":(r==null?void 0:r.name)||(o==="promo"?"Promo inexistente":"Producto inexistente"),n=(a==null?void 0:a.enabled)!==!1;return e.createElement("div",{key:a.id,className:"flex flex-col md:flex-row md:items-center gap-4 p-4 bg-slate-900/40 rounded-2xl border border-slate-800"},e.createElement("div",{className:"w-full md:w-40 h-20 rounded-xl overflow-hidden border border-slate-700 bg-black/30 flex-shrink-0"},a!=null&&a.imageUrl?e.createElement("img",{src:a.imageUrl,className:"w-full h-full object-cover",alt:"Slide"}):null),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("div",{className:"flex items-center gap-3 flex-wrap"},e.createElement("div",{className:"w-10 h-10 rounded-lg overflow-hidden border border-slate-700 bg-black/30 flex items-center justify-center flex-shrink-0"},r!=null&&r.image?e.createElement("img",{src:r.image,className:"w-full h-full object-cover",alt:"Target"}):e.createElement(Ta,{className:"w-4 h-4 text-slate-600"})),e.createElement("p",{className:"font-black text-white truncate"},i),e.createElement("span",{className:`text-[10px] font-black px-2 py-1 rounded-lg border ${n?"text-green-400 border-green-500/30 bg-green-500/10":"text-slate-400 border-slate-700 bg-slate-800/30"}`},n?"ACTIVO":"PAUSADO"),e.createElement("span",{className:"text-[10px] font-black px-2 py-1 rounded-lg border border-slate-700 bg-slate-800/30 text-slate-300"},o==="promo"?"PROMO":o==="product"?"PRODUCTO":"SIN LINK"),e.createElement("span",{className:"text-[10px] font-black px-2 py-1 rounded-lg border border-slate-700 bg-slate-800/30 text-slate-300"},"ORDEN ",Number.isFinite(Number(a.order))?Number(a.order):0)),e.createElement("p",{className:"text-xs text-slate-500 mt-1 truncate"},o==="none"?"Click desactivado":s)),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{onClick:()=>vl(a),className:"px-4 py-2 rounded-xl font-bold border border-slate-700 text-slate-200 hover:bg-slate-900/60 transition flex items-center gap-2"},e.createElement(la,{className:"w-4 h-4"})," Editar"),e.createElement("button",{onClick:()=>Nl(a),className:"px-4 py-2 rounded-xl font-bold border border-red-500/30 text-red-400 hover:bg-red-500/10 transition flex items-center gap-2"},e.createElement(ye,{className:"w-4 h-4"})," Eliminar")))})))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(ms,{className:"w-5 h-5 text-pink-400"})," Colores del Tema"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Color Primario"),e.createElement("div",{className:"flex gap-3 items-center"},e.createElement("input",{type:"color",value:(t==null?void 0:t.primaryColor)||"#f97316",onChange:a=>f({...t,primaryColor:a.target.value}),className:"w-12 h-12 rounded-lg border border-slate-700 cursor-pointer"}),e.createElement("input",{type:"text",value:(t==null?void 0:t.primaryColor)||"#f97316",onChange:a=>f({...t,primaryColor:a.target.value}),className:"input-cyber flex-1 p-3 font-mono"}))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Color Secundario"),e.createElement("div",{className:"flex gap-3 items-center"},e.createElement("input",{type:"color",value:(t==null?void 0:t.secondaryColor)||"#8b5cf6",onChange:a=>f({...t,secondaryColor:a.target.value}),className:"w-12 h-12 rounded-lg border border-slate-700 cursor-pointer"}),e.createElement("input",{type:"text",value:(t==null?void 0:t.secondaryColor)||"#8b5cf6",onChange:a=>f({...t,secondaryColor:a.target.value}),className:"input-cyber flex-1 p-3 font-mono"}))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Color Acento"),e.createElement("div",{className:"flex gap-3 items-center"},e.createElement("input",{type:"color",value:(t==null?void 0:t.accentColor)||"#22c55e",onChange:a=>f({...t,accentColor:a.target.value}),className:"w-12 h-12 rounded-lg border border-slate-700 cursor-pointer"}),e.createElement("input",{type:"text",value:(t==null?void 0:t.accentColor)||"#22c55e",onChange:a=>f({...t,accentColor:a.target.value}),className:"input-cyber flex-1 p-3 font-mono"}))))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(ma,{className:"w-5 h-5 text-orange-400"})," Ticker de Marca"),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Mostrar Ticker"),e.createElement("p",{className:"text-xs text-slate-500"},"Activar/desactivar la cinta de texto animada.")),e.createElement("button",{onClick:()=>f({...t,showBrandTicker:(t==null?void 0:t.showBrandTicker)===!1}),className:`w-14 h-8 rounded-full transition relative ${(t==null?void 0:t.showBrandTicker)!==!1?"bg-orange-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${(t==null?void 0:t.showBrandTicker)!==!1?"left-7":"left-1"}`}))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Texto del Ticker"),e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.tickerText)||"",onChange:a=>f({...t,tickerText:a.target.value}),placeholder:"TECNOLOG√çA ‚Ä¢ INNOVACI√ìN ‚Ä¢ CALIDAD PREMIUM ‚Ä¢ FUTURO"}),e.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Este texto se repetir√° en bucle.")))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(Ta,{className:"w-5 h-5 text-purple-400"})," Banner Principal (Hero)"),e.createElement("div",{className:"space-y-6"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Badge/Etiqueta"),e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.heroBadge)||"",onChange:a=>f({...t,heroBadge:a.target.value}),placeholder:"Nueva Colecci√≥n 2026"})),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"T√≠tulo L√≠nea 1"),e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.heroTitle1)||"",onChange:a=>f({...t,heroTitle1:a.target.value}),placeholder:"TECNOLOG√çA"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"T√≠tulo L√≠nea 2"),e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.heroTitle2)||"",onChange:a=>f({...t,heroTitle2:a.target.value}),placeholder:"DEL FUTURO"}))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Subt√≠tulo"),e.createElement("textarea",{className:"input-cyber w-full p-3 h-20 resize-none",value:(t==null?void 0:t.heroSubtitle)||"",onChange:a=>f({...t,heroSubtitle:a.target.value}),placeholder:"Explora nuestra selecci√≥n premium. Calidad garantizada y soporte t√©cnico especializado."})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Imagen de Fondo"),e.createElement("input",{type:"file",accept:"image/*",onChange:a=>zt(a,f,"heroUrl",1920),className:"block w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-900/20 file:text-purple-400 hover:file:bg-purple-900/40 transition"}),(t==null?void 0:t.heroUrl)&&e.createElement("div",{className:"mt-4 rounded-xl overflow-hidden border border-slate-700 h-32"},e.createElement("img",{src:t.heroUrl,className:"w-full h-full object-cover",alt:"Hero Preview"})),e.createElement("p",{className:"text-xs text-slate-500 mt-2"},"Recomendado: 1920x800 px m√≠nimo")))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(Aa,{className:"w-5 h-5 text-yellow-400"})," Beneficios Destacados"),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Mostrar Secci√≥n de Beneficios"),e.createElement("p",{className:"text-xs text-slate-500"},"Activa/desactiva toda la secci√≥n de beneficios")),e.createElement("button",{onClick:()=>f({...t,showFeaturesSection:(t==null?void 0:t.showFeaturesSection)===!1}),className:`w-14 h-7 rounded-full transition-all duration-300 relative ${(t==null?void 0:t.showFeaturesSection)!==!1?"bg-orange-600":"bg-slate-700"}`},e.createElement("div",{className:`w-5 h-5 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${(t==null?void 0:t.showFeaturesSection)!==!1?"left-8":"left-1"}`}))),e.createElement("div",{className:`transition-opacity duration-300 ${(t==null?void 0:t.showFeaturesSection)===!1?"opacity-50 pointer-events-none":""}`},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(Bt,{className:"w-4 h-4 text-orange-400"}),e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block"},"Beneficio 1 (Rayo)")),e.createElement("button",{onClick:()=>f({...t,showFeature1:(t==null?void 0:t.showFeature1)===!1}),className:`w-12 h-6 rounded-full transition-all duration-300 relative ${(t==null?void 0:t.showFeature1)!==!1?"bg-orange-600":"bg-slate-700"}`},e.createElement("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${(t==null?void 0:t.showFeature1)!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 ${(t==null?void 0:t.showFeature1)===!1?"opacity-50":""}`},e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.feature1Title)||"",onChange:a=>f({...t,feature1Title:a.target.value}),placeholder:"Env√≠o Ultra R√°pido",disabled:(t==null?void 0:t.showFeature1)===!1}),e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.feature1Desc)||"",onChange:a=>f({...t,feature1Desc:a.target.value}),placeholder:"Subt√≠tulo corto...",disabled:(t==null?void 0:t.showFeature1)===!1}))),e.createElement("div",{className:`transition-opacity duration-300 ${(t==null?void 0:t.showFeaturesSection)===!1?"opacity-50 pointer-events-none":""}`},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(ot,{className:"w-4 h-4 text-purple-400"}),e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block"},"Beneficio 2 (Escudo)")),e.createElement("button",{onClick:()=>f({...t,showFeature2:(t==null?void 0:t.showFeature2)===!1}),className:`w-12 h-6 rounded-full transition-all duration-300 relative ${(t==null?void 0:t.showFeature2)!==!1?"bg-purple-600":"bg-slate-700"}`},e.createElement("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${(t==null?void 0:t.showFeature2)!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 ${(t==null?void 0:t.showFeature2)===!1?"opacity-50":""}`},e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.feature2Title)||"",onChange:a=>f({...t,feature2Title:a.target.value}),placeholder:"Garant√≠a Extendida",disabled:(t==null?void 0:t.showFeature2)===!1}),e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.feature2Desc)||"",onChange:a=>f({...t,feature2Desc:a.target.value}),placeholder:"Subt√≠tulo corto...",disabled:(t==null?void 0:t.showFeature2)===!1}))),e.createElement("div",{className:`transition-opacity duration-300 ${(t==null?void 0:t.showFeaturesSection)===!1?"opacity-50 pointer-events-none":""}`},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(cs,{className:"w-4 h-4 text-green-400"}),e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block"},"Beneficio 3 (Soporte)")),e.createElement("button",{onClick:()=>f({...t,showFeature3:(t==null?void 0:t.showFeature3)===!1}),className:`w-12 h-6 rounded-full transition-all duration-300 relative ${(t==null?void 0:t.showFeature3)!==!1?"bg-green-600":"bg-slate-700"}`},e.createElement("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-all duration-300 shadow-md ${(t==null?void 0:t.showFeature3)!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 ${(t==null?void 0:t.showFeature3)===!1?"opacity-50":""}`},e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.feature3Title)||"",onChange:a=>f({...t,feature3Title:a.target.value}),placeholder:"Soporte 24/7",disabled:(t==null?void 0:t.showFeature3)===!1}),e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.feature3Desc)||"",onChange:a=>f({...t,feature3Desc:a.target.value}),placeholder:"Subt√≠tulo corto...",disabled:(t==null?void 0:t.showFeature3)===!1}))))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(sa,{className:"w-5 h-5 text-green-400"})," Secci√≥n Contacto (Footer)"),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Mostrar Secci√≥n"),e.createElement("p",{className:"text-xs text-slate-500"},"Activa/desactiva la secci√≥n de contacto en el footer")),e.createElement("button",{onClick:()=>f({...t,showFooterContact:(t==null?void 0:t.showFooterContact)===!1}),className:`w-14 h-8 rounded-full transition relative ${(t==null?void 0:t.showFooterContact)!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${(t==null?void 0:t.showFooterContact)!==!1?"left-7":"left-1"}`}))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"T√≠tulo"),e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.footerContactTitle)||"",onChange:a=>f({...t,footerContactTitle:a.target.value}),placeholder:"Contacto"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Descripci√≥n"),e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.footerContactDescription)||"",onChange:a=>f({...t,footerContactDescription:a.target.value}),placeholder:"¬øTienes alguna duda? Estamos aqu√≠ para ayudarte."})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Texto del Bot√≥n"),e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.footerContactButtonText)||"",onChange:a=>f({...t,footerContactButtonText:a.target.value}),placeholder:"Contactar Soporte"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Tipo de Contacto"),e.createElement("select",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.footerContactType)||"whatsapp",onChange:a=>f({...t,footerContactType:a.target.value})},e.createElement("option",{value:"whatsapp"},"WhatsApp"),e.createElement("option",{value:"instagram"},"Instagram"),e.createElement("option",{value:"email"},"Email")),(!(t!=null&&t.footerContactType)||(t==null?void 0:t.footerContactType)==="whatsapp")&&e.createElement("div",{className:"mt-3 animate-fade-in"},e.createElement("label",{className:"text-[10px] font-bold text-green-500 uppercase tracking-wider mb-1 block"},"Enlace de WhatsApp"),e.createElement("input",{className:"input-cyber w-full p-3 text-sm border-green-500/30 focus:border-green-500",value:(t==null?void 0:t.whatsappLink)||"",onChange:a=>f({...t,whatsappLink:a.target.value}),placeholder:"https://wa.me/54911..."})),(t==null?void 0:t.footerContactType)==="instagram"&&e.createElement("div",{className:"mt-3 animate-fade-in"},e.createElement("label",{className:"text-[10px] font-bold text-pink-500 uppercase tracking-wider mb-1 block"},"Perfil de Instagram"),e.createElement("input",{className:"input-cyber w-full p-3 text-sm border-pink-500/30 focus:border-pink-500",value:(t==null?void 0:t.instagramLink)||"",onChange:a=>f({...t,instagramLink:a.target.value}),placeholder:"https://instagram.com/usuario"})),(t==null?void 0:t.footerContactType)==="email"&&e.createElement("div",{className:"mt-3 animate-fade-in"},e.createElement("label",{className:"text-[10px] font-bold text-blue-500 uppercase tracking-wider mb-1 block"},"Email de Soporte"),e.createElement("input",{className:"input-cyber w-full p-3 text-sm border-blue-500/30 focus:border-blue-500",value:(t==null?void 0:t.storeEmail)||"",onChange:a=>f({...t,storeEmail:a.target.value}),placeholder:"soporte@tienda.com"}))))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(ja,{className:"w-5 h-5 text-orange-400"})," Marca en Footer"),e.createElement("div",{className:"space-y-6"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Sufijo del Nombre"),e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.footerSuffix)||"",onChange:a=>f({...t,footerSuffix:a.target.value}),placeholder:".SF"}),e.createElement("p",{className:"text-xs text-slate-500 mt-1"},"Aparece junto al nombre de la tienda (ej: SUSTORE.SF)")),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Descripci√≥n"),e.createElement("textarea",{className:"input-cyber w-full p-3 h-24 resize-none",value:(t==null?void 0:t.footerDescription)||"",onChange:a=>f({...t,footerDescription:a.target.value}),placeholder:"Tu destino premium para tecnolog√≠a de vanguardia..."})))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-5 md:p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(Bo,{className:"w-5 h-5 text-slate-400"})," Links Legales"),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Pol√≠tica de Privacidad"),e.createElement("p",{className:"text-xs text-slate-500"},"Mostrar link en el footer")),e.createElement("button",{onClick:()=>f({...t,showPrivacyPolicy:(t==null?void 0:t.showPrivacyPolicy)===!1}),className:`w-14 h-8 rounded-full transition relative ${(t==null?void 0:t.showPrivacyPolicy)!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${(t==null?void 0:t.showPrivacyPolicy)!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Terms of Service"),e.createElement("p",{className:"text-xs text-slate-500"},"Mostrar link en el footer")),e.createElement("button",{onClick:()=>f({...t,showTermsOfService:(t==null?void 0:t.showTermsOfService)===!1}),className:`w-14 h-8 rounded-full transition relative ${(t==null?void 0:t.showTermsOfService)!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${(t==null?void 0:t.showTermsOfService)!==!1?"left-7":"left-1"}`})))))),at==="ticket"&&e.createElement("div",{className:"space-y-6 animate-fade-up"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(na,{className:"w-5 h-5 text-orange-400"})," Ticket / Comprobante"),e.createElement("p",{className:"text-sm text-slate-500 mb-6"},"Estos datos se usan en el comprobante que se env√≠a por email al confirmar la compra."),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Nombre que aparece en el ticket"),e.createElement("input",{className:"input-cyber w-full p-4",value:((Pr=t==null?void 0:t.ticket)==null?void 0:Pr.brandName)||"",onChange:a=>f({...t,ticket:{...t==null?void 0:t.ticket,brandName:a.target.value}}),placeholder:(t==null?void 0:t.storeName)||"Mi Tienda"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Link de WhatsApp (para el ticket)"),e.createElement("input",{className:"input-cyber w-full p-4",value:((Ir=t==null?void 0:t.ticket)==null?void 0:Ir.whatsappLink)||"",onChange:a=>f({...t,ticket:{...t==null?void 0:t.ticket,whatsappLink:a.target.value}}),placeholder:(t==null?void 0:t.whatsappLink)||"https://wa.me/5491112345678"})),e.createElement("div",{className:"md:col-span-2"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Link de la p√°gina (para el ticket)"),e.createElement("input",{className:"input-cyber w-full p-4",value:((Er=t==null?void 0:t.ticket)==null?void 0:Er.siteUrl)||"",onChange:a=>f({...t,ticket:{...t==null?void 0:t.ticket,siteUrl:a.target.value}}),placeholder:(t==null?void 0:t.seoUrl)||""}))))),at==="social"&&e.createElement("div",{className:"space-y-6 animate-fade-up"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(us,{className:"w-5 h-5 text-blue-400"})," Redes Sociales"),e.createElement("p",{className:"text-sm text-slate-500 mb-6"},"Configura los enlaces y activa/desactiva la visibilidad de cada red social en el footer."),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("label",{className:"text-sm font-bold text-white flex items-center gap-2"},e.createElement(sa,{className:"w-4 h-4 text-green-400"})," WhatsApp"),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:"text-[10px] text-slate-500 font-mono uppercase"},"Footer"),e.createElement("button",{onClick:()=>f({...t,showWhatsapp:!(t!=null&&t.showWhatsapp)}),className:`w-10 h-5 rounded-full transition relative ${(t==null?void 0:t.showWhatsapp)===!0?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:"absolute top-0.5 w-4 h-4 bg-white rounded-full transition",style:{left:(t==null?void 0:t.showWhatsapp)===!0?"22px":"2px"}})))),e.createElement("input",{className:"input-cyber w-full p-3 text-sm mb-3",value:(t==null?void 0:t.whatsappLink)||"",onChange:a=>f({...t,whatsappLink:a.target.value}),placeholder:"https://wa.me/5491112345678"}),e.createElement("div",{className:"flex items-center justify-between pt-3 border-t border-slate-800/50"},e.createElement("div",null,e.createElement("p",{className:"text-xs text-slate-400 font-bold flex items-center gap-2"},"Bot√≥n Flotante",!["business","premium"].includes(t==null?void 0:t.subscriptionPlan)&&e.createElement($a,{className:"w-3 h-3 text-yellow-500"})),!["business","premium"].includes(t==null?void 0:t.subscriptionPlan)&&e.createElement("p",{className:"text-[9px] text-yellow-500/80 mt-0.5"},"Requiere Plan Negocio")),e.createElement("button",{onClick:()=>{["business","premium"].includes(t==null?void 0:t.subscriptionPlan)?f({...t,showFloatingWhatsapp:!(t!=null&&t.showFloatingWhatsapp)}):Va(!0)},className:`w-10 h-5 rounded-full transition relative ${t!=null&&t.showFloatingWhatsapp?"bg-green-500":"bg-slate-700"} ${["business","premium"].includes(t==null?void 0:t.subscriptionPlan)?"":"opacity-50 cursor-not-allowed"}`},e.createElement("div",{className:"absolute top-0.5 w-4 h-4 bg-white rounded-full transition",style:{left:t!=null&&t.showFloatingWhatsapp?"22px":"2px"}}))),e.createElement("div",{className:"flex items-center justify-between pt-3 mt-3 border-t border-slate-800/50"},e.createElement("div",null,e.createElement("p",{className:"text-xs text-slate-400 font-bold"},"Bot√≥n en Carrito"),e.createElement("p",{className:"text-[9px] text-slate-500 mt-0.5"},"‚ÄúTerminar compra por WhatsApp‚Äù")),e.createElement("button",{onClick:()=>f({...t,showCartWhatsappCheckout:!(t!=null&&t.showCartWhatsappCheckout)}),className:`w-10 h-5 rounded-full transition relative ${t!=null&&t.showCartWhatsappCheckout?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:"absolute top-0.5 w-4 h-4 bg-white rounded-full transition",style:{left:t!=null&&t.showCartWhatsappCheckout?"22px":"2px"}})))),e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("label",{className:"text-sm font-bold text-white flex items-center gap-2"},e.createElement(uo,{className:"w-4 h-4 text-pink-400"})," Instagram"),e.createElement("button",{onClick:()=>f({...t,showInstagram:(t==null?void 0:t.showInstagram)===!1}),className:`w-12 h-6 rounded-full transition relative ${(t==null?void 0:t.showInstagram)!==!1?"bg-pink-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full transition ${(t==null?void 0:t.showInstagram)!==!1?"left-6":"left-0.5"}`}))),e.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:(t==null?void 0:t.instagramLink)||"",onChange:a=>f({...t,instagramLink:a.target.value}),placeholder:"https://instagram.com/mitienda"})),e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("label",{className:"text-sm font-bold text-white flex items-center gap-2"},e.createElement(bs,{className:"w-4 h-4 text-blue-500"})," Facebook"),e.createElement("button",{onClick:()=>f({...t,showFacebook:!(t!=null&&t.showFacebook)}),className:`w-12 h-6 rounded-full transition relative ${t!=null&&t.showFacebook?"bg-blue-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full transition ${t!=null&&t.showFacebook?"left-6":"left-0.5"}`}))),e.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:(t==null?void 0:t.facebookLink)||"",onChange:a=>f({...t,facebookLink:a.target.value}),placeholder:"https://facebook.com/mitienda"})),e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("label",{className:"text-sm font-bold text-white flex items-center gap-2"},e.createElement(xs,{className:"w-4 h-4 text-sky-400"})," Twitter/X"),e.createElement("button",{onClick:()=>f({...t,showTwitter:!(t!=null&&t.showTwitter)}),className:`w-12 h-6 rounded-full transition relative ${t!=null&&t.showTwitter?"bg-sky-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full transition ${t!=null&&t.showTwitter?"left-6":"left-0.5"}`}))),e.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:(t==null?void 0:t.twitterLink)||"",onChange:a=>f({...t,twitterLink:a.target.value}),placeholder:"https://twitter.com/mitienda"})),e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("label",{className:"text-sm font-bold text-white flex items-center gap-2"},e.createElement(hs,{className:"w-4 h-4 text-rose-400"})," TikTok"),e.createElement("button",{onClick:()=>f({...t,showTiktok:!(t!=null&&t.showTiktok)}),className:`w-12 h-6 rounded-full transition relative ${t!=null&&t.showTiktok?"bg-rose-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full transition ${t!=null&&t.showTiktok?"left-6":"left-0.5"}`}))),e.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:(t==null?void 0:t.tiktokLink)||"",onChange:a=>f({...t,tiktokLink:a.target.value}),placeholder:"https://tiktok.com/@mitienda"})),e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("label",{className:"text-sm font-bold text-white flex items-center gap-2"},e.createElement(fs,{className:"w-4 h-4 text-red-500"})," YouTube"),e.createElement("button",{onClick:()=>f({...t,showYoutube:!(t!=null&&t.showYoutube)}),className:`w-12 h-6 rounded-full transition relative ${t!=null&&t.showYoutube?"bg-red-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full transition ${t!=null&&t.showYoutube?"left-6":"left-0.5"}`}))),e.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:(t==null?void 0:t.youtubeLink)||"",onChange:a=>f({...t,youtubeLink:a.target.value}),placeholder:"https://youtube.com/c/mitienda"}))))),at==="payments"&&e.createElement("div",{className:"space-y-6 animate-fade-up"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(Gt,{className:"w-5 h-5 text-green-400"})," M√©todos de Pago"),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement(vs,{className:"w-6 h-6 text-orange-400"}),e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Transferencia Bancaria"),e.createElement("p",{className:"text-xs text-slate-500"},"Activado / Desactivado"))),e.createElement("button",{onClick:()=>{var a;return f({...t,paymentTransfer:{...t==null?void 0:t.paymentTransfer,enabled:!((a=t==null?void 0:t.paymentTransfer)!=null&&a.enabled)}})},className:`w-14 h-8 rounded-full transition relative ${($r=t==null?void 0:t.paymentTransfer)!=null&&$r.enabled?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${(Ar=t==null?void 0:t.paymentTransfer)!=null&&Ar.enabled?"left-7":"left-1"}`}))),((Tr=t==null?void 0:t.paymentTransfer)==null?void 0:Tr.enabled)&&e.createElement("div",{className:"mt-5 grid grid-cols-1 md:grid-cols-3 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase ml-2 mb-1 block"},"Titular"),e.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:((jr=t==null?void 0:t.paymentTransfer)==null?void 0:jr.holderName)||"",onChange:a=>f({...t,paymentTransfer:{...t==null?void 0:t.paymentTransfer,holderName:a.target.value}}),placeholder:"Nombre y apellido"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase ml-2 mb-1 block"},"Alias"),e.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:((Dr=t==null?void 0:t.paymentTransfer)==null?void 0:Dr.alias)||"",onChange:a=>f({...t,paymentTransfer:{...t==null?void 0:t.paymentTransfer,alias:a.target.value}}),placeholder:"alias.ejemplo"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase ml-2 mb-1 block"},"CBU"),e.createElement("input",{className:"input-cyber w-full p-3 text-sm",value:((Lr=t==null?void 0:t.paymentTransfer)==null?void 0:Lr.cbu)||"",onChange:a=>f({...t,paymentTransfer:{...t==null?void 0:t.paymentTransfer,cbu:a.target.value}}),placeholder:"0000000000000000000000"})))),e.createElement("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement(ws,{className:"w-6 h-6 text-green-400"}),e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Efectivo"),e.createElement("p",{className:"text-xs text-slate-500"},"Pago al recibir"))),e.createElement("button",{onClick:()=>{var a;if(!((a=t==null?void 0:t.shippingPickup)!=null&&a.enabled)){p('Debes activar "Retiro en Local" (Env√≠os) para habilitar efectivo.',"warning");return}f({...t,paymentCash:!(t!=null&&t.paymentCash)})},className:`w-14 h-8 rounded-full transition relative ${t!=null&&t.paymentCash&&((Mr=t==null?void 0:t.shippingPickup)!=null&&Mr.enabled)?"bg-green-500":"bg-slate-700"} ${(Or=t==null?void 0:t.shippingPickup)!=null&&Or.enabled?"":"opacity-50 cursor-not-allowed"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${t!=null&&t.paymentCash&&((_r=t==null?void 0:t.shippingPickup)!=null&&_r.enabled)?"left-7":"left-1"}`}))),!((zr=t==null?void 0:t.shippingPickup)!=null&&zr.enabled)&&e.createElement("p",{className:"text-[10px] text-orange-400/80 mt-2 flex items-center gap-1"},e.createElement(ia,{className:"w-3 h-3"})," Requiere activar Retiro en Local")),e.createElement("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement(Gt,{className:"w-6 h-6 text-orange-400"}),e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Tarjeta (Mercado Pago)"),e.createElement("p",{className:"text-xs text-slate-500"},"Activado / Desactivado"))),e.createElement("button",{onClick:()=>{var a;return f({...t,paymentMercadoPago:{...t==null?void 0:t.paymentMercadoPago,enabled:!((a=t==null?void 0:t.paymentMercadoPago)!=null&&a.enabled)}})},className:`w-14 h-8 rounded-full transition relative ${(Fr=t==null?void 0:t.paymentMercadoPago)!=null&&Fr.enabled?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${(Ur=t==null?void 0:t.paymentMercadoPago)!=null&&Ur.enabled?"left-7":"left-1"}`}))))))),at==="shipping"&&e.createElement("div",{className:"space-y-6 animate-fade-up"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(St,{className:"w-5 h-5 text-orange-400"})," Opciones de Env√≠o"),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement(ls,{className:"w-6 h-6 text-orange-400"}),e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Retiro en Local"),e.createElement("p",{className:"text-xs text-slate-500"},"El cliente pasa a buscar"))),e.createElement("button",{onClick:()=>{var a;return f({...t,shippingPickup:{...t==null?void 0:t.shippingPickup,enabled:!((a=t==null?void 0:t.shippingPickup)!=null&&a.enabled)}})},className:`w-14 h-8 rounded-full transition relative ${(qr=t==null?void 0:t.shippingPickup)!=null&&qr.enabled?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${(Br=t==null?void 0:t.shippingPickup)!=null&&Br.enabled?"left-7":"left-1"}`}))),((Gr=t==null?void 0:t.shippingPickup)==null?void 0:Gr.enabled)&&e.createElement("input",{className:"input-cyber w-full p-4",value:((Vr=t==null?void 0:t.shippingPickup)==null?void 0:Vr.address)||"",onChange:a=>f({...t,shippingPickup:{...t==null?void 0:t.shippingPickup,address:a.target.value}}),placeholder:"Direcci√≥n de retiro: Av. Corrientes 1234"})),e.createElement("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement(Ct,{className:"w-6 h-6 text-purple-400"}),e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Env√≠o a Domicilio"),e.createElement("p",{className:"text-xs text-slate-500"},"Delivery est√°ndar"))),e.createElement("button",{onClick:()=>{var a;return f({...t,shippingDelivery:{...t==null?void 0:t.shippingDelivery,enabled:!((a=t==null?void 0:t.shippingDelivery)!=null&&a.enabled)}})},className:`w-14 h-8 rounded-full transition relative ${(Wr=t==null?void 0:t.shippingDelivery)!=null&&Wr.enabled?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${(Hr=t==null?void 0:t.shippingDelivery)!=null&&Hr.enabled?"left-7":"left-1"}`}))),((Jr=t==null?void 0:t.shippingDelivery)==null?void 0:Jr.enabled)&&e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs text-slate-500 mb-1 block"},"Costo de Env√≠o ($)"),e.createElement("input",{type:"number",className:"input-cyber w-full p-4",value:((Kr=t==null?void 0:t.shippingDelivery)==null?void 0:Kr.fee)||0,onChange:a=>f({...t,shippingDelivery:{...t==null?void 0:t.shippingDelivery,fee:parseFloat(a.target.value)||0}})})),e.createElement("div",null,e.createElement("label",{className:"text-xs text-slate-500 mb-1 block"},"Gratis desde ($)"),e.createElement("input",{type:"number",className:"input-cyber w-full p-4",value:((Qr=t==null?void 0:t.shippingDelivery)==null?void 0:Qr.freeAbove)||0,onChange:a=>f({...t,shippingDelivery:{...t==null?void 0:t.shippingDelivery,freeAbove:parseFloat(a.target.value)||0}}),placeholder:"0 = nunca gratis"}))))))),at==="seo"&&e.createElement("div",{className:"space-y-6 animate-fade-up"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(Ho,{className:"w-5 h-5 text-green-400"})," Optimizaci√≥n SEO"),e.createElement("div",{className:"space-y-6"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"T√≠tulo del Sitio"),e.createElement("input",{className:"input-cyber w-full p-4",value:(t==null?void 0:t.seoTitle)||"",onChange:a=>f({...t,seoTitle:a.target.value}),placeholder:"Mi Tienda Online | Los Mejores Productos"}),e.createElement("p",{className:"text-xs text-slate-500 mt-1"},"Aparece en la pesta√±a del navegador")),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Meta Descripci√≥n"),e.createElement("textarea",{className:"input-cyber w-full p-4 h-20 resize-none",value:(t==null?void 0:t.seoDescription)||"",onChange:a=>f({...t,seoDescription:a.target.value}),placeholder:"Tienda online de productos de alta calidad. Env√≠os a todo el pa√≠s. ¬°Visitanos!"}),e.createElement("p",{className:"text-xs text-slate-500 mt-1"},"Descripci√≥n que aparece en Google (max 160 caracteres)")),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Palabras Clave"),e.createElement("input",{className:"input-cyber w-full p-4",value:(t==null?void 0:t.seoKeywords)||"",onChange:a=>f({...t,seoKeywords:a.target.value}),placeholder:"tienda online, productos, ofertas, descuentos"}),e.createElement("p",{className:"text-xs text-slate-500 mt-1"},"Separadas por comas")),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"URL del Sitio (Can√≥nica)"),e.createElement("input",{className:"input-cyber w-full p-4",value:(t==null?void 0:t.seoUrl)||"",onChange:a=>f({...t,seoUrl:a.target.value}),placeholder:"https://mitienda.vercel.app"}),e.createElement("p",{className:"text-xs text-slate-500 mt-1"},"URL oficial de tu tienda (aparece en Google y redes sociales)")),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Autor / Empresa"),e.createElement("input",{className:"input-cyber w-full p-4",value:(t==null?void 0:t.seoAuthor)||"",onChange:a=>f({...t,seoAuthor:a.target.value}),placeholder:"Mi Empresa S.A."}),e.createElement("p",{className:"text-xs text-slate-500 mt-1"},"Nombre que aparece como autor del sitio")),e.createElement("div",null,e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block"},"Imagen para Redes Sociales (OG:Image)"),e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"relative group w-32 h-32 bg-slate-900 rounded-xl border-2 border-dashed border-slate-700 hover:border-orange-500 transition flex items-center justify-center overflow-hidden cursor-pointer"},t!=null&&t.seoImage?e.createElement("img",{src:t.seoImage,alt:"SEO Preview",className:"w-full h-full object-cover"}):e.createElement(Ta,{className:"w-8 h-8 text-slate-600 group-hover:text-orange-500 transition"}),e.createElement("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer z-50",onChange:a=>zt(a,f,"seoImage",1200)}),e.createElement("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition pointer-events-none"},e.createElement(ks,{className:"w-6 h-6 text-white"}))),e.createElement("div",{className:"flex-1"},e.createElement("p",{className:"text-sm text-slate-400 mb-2"},"Sube una imagen atractiva (ej: logo con fondo, banner)."),e.createElement("p",{className:"text-xs text-slate-600"},"Recomendado: 1200x630 p√≠xeles para mejor visualizaci√≥n en Facebook/WhatsApp."),(t==null?void 0:t.seoImage)&&e.createElement("button",{onClick:()=>f({...t,seoImage:""}),className:"mt-2 text-xs text-red-400 hover:text-red-300 flex items-center gap-1"},e.createElement(ye,{className:"w-3 h-3"})," Eliminar imagen")))),e.createElement("div",{className:"pt-4 border-t border-slate-800 grid grid-cols-2 gap-4"},e.createElement("a",{href:"/sitemap.xml",target:"_blank",className:"p-3 bg-slate-900 rounded-xl hover:bg-slate-800 transition flex items-center justify-between group"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-bold text-white"},"Ver Sitemap.xml"),e.createElement("p",{className:"text-xs text-green-500"},"Activo")),e.createElement(is,{className:"w-4 h-4 text-slate-500 group-hover:text-white transition"})),e.createElement("a",{href:"/robots.txt",target:"_blank",className:"p-3 bg-slate-900 rounded-xl hover:bg-slate-800 transition flex items-center justify-between group"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-bold text-white"},"Ver Robots.txt"),e.createElement("p",{className:"text-xs text-green-500"},"Activo")),e.createElement(is,{className:"w-4 h-4 text-slate-500 group-hover:text-white transition"})))))),at==="advanced"&&e.createElement("div",{className:"space-y-6 animate-fade-up"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(ps,{className:"w-5 h-5 text-slate-400"})," Configuraci√≥n Avanzada"),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Modo Mantenimiento"),e.createElement("p",{className:"text-xs text-slate-500"},'Mostrar p√°gina de "Volvemos pronto"')),e.createElement("button",{onClick:()=>f({...t,maintenanceMode:!(t!=null&&t.maintenanceMode)}),className:`w-14 h-8 rounded-full transition relative ${t!=null&&t.maintenanceMode?"bg-red-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${t!=null&&t.maintenanceMode?"left-7":"left-1"}`}))),e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800 space-y-4"},e.createElement("h4",{className:"text-sm font-bold text-orange-400 uppercase tracking-wider mb-2"},"Rendimiento & PWA"),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Carga Diferida (Lazy Load)"),e.createElement("p",{className:"text-xs text-slate-500"},"Mejora velocidad cargando im√°genes al hacer scroll")),e.createElement("button",{onClick:()=>f({...t,enableLazyLoad:(t==null?void 0:t.enableLazyLoad)===!1}),className:`w-14 h-8 rounded-full transition relative ${(t==null?void 0:t.enableLazyLoad)!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${(t==null?void 0:t.enableLazyLoad)!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Modo Offline (PWA)"),e.createElement("p",{className:"text-xs text-slate-500"},"Permite instalar la app y uso sin internet")),e.createElement("button",{onClick:()=>f({...t,enablePWA:(t==null?void 0:t.enablePWA)===!1}),className:`w-14 h-8 rounded-full transition relative ${(t==null?void 0:t.enablePWA)!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${(t==null?void 0:t.enablePWA)!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:"pt-2 border-t border-slate-700"},e.createElement("button",{onClick:()=>{"caches"in window?caches.keys().then(a=>{a.forEach(o=>caches.delete(o)),p("Cach√© limpiada. Recargando...","success"),setTimeout(()=>window.location.reload(),1500)}):p("Tu navegador no soporta gesti√≥n de cach√©","warning")},className:"w-full py-2 px-4 bg-slate-800 hover:bg-slate-700 text-white rounded-lg text-sm font-medium transition flex items-center justify-center gap-2"},e.createElement(ye,{className:"w-4 h-4"})," Forzar Limpieza de Cach√© y Recargar"),e.createElement("p",{className:"text-xs text-slate-500 mt-2 text-center"},"Usar si ves errores gr√°ficos o versiones antiguas."))),e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",{className:"mb-3"},e.createElement("p",{className:"font-bold text-white"},"Texto de Carga"),e.createElement("p",{className:"text-xs text-slate-500"},"Mensaje que aparece mientras carga la p√°gina")),e.createElement("input",{className:"input-cyber w-full p-3",value:(t==null?void 0:t.loadingText)||"",onChange:a=>f({...t,loadingText:a.target.value}),placeholder:"Cargando sistema..."})),e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Banner de Anuncio"),e.createElement("p",{className:"text-xs text-slate-500"},"Barra superior con mensaje promocional")),e.createElement("button",{onClick:()=>f({...t,showAnnouncementBanner:(t==null?void 0:t.showAnnouncementBanner)===!1}),className:`w-14 h-8 rounded-full transition relative ${(t==null?void 0:t.showAnnouncementBanner)!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${(t==null?void 0:t.showAnnouncementBanner)!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Ticker de Marca"),e.createElement("p",{className:"text-xs text-slate-500"},"Texto en movimiento debajo del anuncio")),e.createElement("button",{onClick:()=>f({...t,showBrandTicker:(t==null?void 0:t.showBrandTicker)===!1}),className:`w-14 h-8 rounded-full transition relative ${(t==null?void 0:t.showBrandTicker)!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${(t==null?void 0:t.showBrandTicker)!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Mostrar Stock Disponible"),e.createElement("p",{className:"text-xs text-slate-500"},"Los clientes ven cu√°ntas unidades hay")),e.createElement("button",{onClick:()=>f({...t,showStockCount:(t==null?void 0:t.showStockCount)===!1}),className:`w-14 h-8 rounded-full transition relative ${(t==null?void 0:t.showStockCount)!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${(t==null?void 0:t.showStockCount)!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Requerir Tel√©fono"),e.createElement("p",{className:"text-xs text-slate-500"},"Obligatorio al registrarse")),e.createElement("button",{onClick:()=>f({...t,requirePhone:(t==null?void 0:t.requirePhone)===!1}),className:`w-14 h-8 rounded-full transition relative ${(t==null?void 0:t.requirePhone)!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${(t==null?void 0:t.requirePhone)!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Requerir DNI"),e.createElement("p",{className:"text-xs text-slate-500"},"Obligatorio al registrarse")),e.createElement("button",{onClick:()=>f({...t,requireDNI:(t==null?void 0:t.requireDNI)===!1}),className:`w-14 h-8 rounded-full transition relative ${(t==null?void 0:t.requireDNI)!==!1?"bg-green-500":"bg-slate-700"}`},e.createElement("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition ${(t==null?void 0:t.requireDNI)!==!1?"left-7":"left-1"}`}))),e.createElement("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",null,e.createElement("p",{className:"font-bold text-white"},"Umbral de Stock Bajo"),e.createElement("p",{className:"text-xs text-slate-500"},"Alerta cuando el stock es menor a este valor"))),e.createElement("input",{type:"number",className:"input-cyber w-full p-4",value:(t==null?void 0:t.lowStockThreshold)||5,onChange:a=>f({...t,lowStockThreshold:parseInt(a.target.value)||5})})))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(ma,{className:"w-5 h-5 text-yellow-500"})," Personalizaci√≥n IA"),e.createElement("div",{className:"flex items-center gap-6"},e.createElement("div",{className:"relative group w-24 h-24 bg-slate-900 rounded-full border-2 border-dashed border-slate-700 hover:border-yellow-500 transition flex items-center justify-center overflow-hidden cursor-pointer shrink-0 shadow-xl"},t!=null&&t.botImage?e.createElement("img",{src:t.botImage,alt:"Bot Preview",className:"w-full h-full object-cover"}):e.createElement(ma,{className:"w-8 h-8 text-slate-600 group-hover:text-yellow-500 transition"}),e.createElement("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer z-50",onChange:a=>zt(a,f,"botImage",300)}),e.createElement("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition pointer-events-none"},e.createElement(ks,{className:"w-6 h-6 text-white"}))),e.createElement("div",null,e.createElement("p",{className:"font-bold text-white text-base mb-1"},"Avatar del Asistente"),e.createElement("p",{className:"text-xs text-slate-500 mb-3 max-w-xs leading-relaxed"},"Sube una imagen personalizada para el bot (PNG/JPG). Se recomienda formato cuadrado."),t!=null&&t.botImage?e.createElement("button",{onClick:()=>f({...t,botImage:""}),className:"text-xs bg-red-900/20 text-red-400 hover:bg-red-900/40 px-3 py-1.5 rounded-lg transition flex items-center gap-2 border border-red-500/20"},e.createElement(ye,{className:"w-3 h-3"})," Restaurar Default"):e.createElement("span",{className:"text-xs text-yellow-600 bg-yellow-900/20 px-3 py-1 rounded-lg border border-yellow-700/30"},"Usando imagen por defecto")))),e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(Ya,{className:"w-5 h-5 text-orange-400"})," Categor√≠as de Productos"),e.createElement("div",{className:"flex flex-wrap gap-2 mb-4"},((t==null?void 0:t.categories)||[]).map((a,o)=>e.createElement("div",{key:o,className:"bg-slate-900 text-white px-4 py-2 rounded-lg flex items-center gap-2 border border-slate-700"},e.createElement("span",null,a),e.createElement("button",{onClick:()=>f({...t,categories:((t==null?void 0:t.categories)||[]).filter((s,r)=>r!==o)}),className:"text-red-400 hover:text-red-300"},e.createElement(Se,{className:"w-4 h-4"}))))),e.createElement("button",{onClick:()=>ga(!0),className:"px-4 py-2 bg-orange-900/20 text-orange-400 rounded-lg font-bold text-sm border border-orange-500/30 hover:bg-orange-900/40 transition flex items-center gap-2"},e.createElement(Xe,{className:"w-4 h-4"})," Agregar Categor√≠a"))),at==="team"&&e.createElement("div",{className:"space-y-6 animate-fade-up"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-800 p-8 rounded-[2rem]"},e.createElement("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2"},e.createElement(Qa,{className:"w-5 h-5 text-purple-400"})," Equipo y Accesos"),e.createElement("p",{className:"text-slate-500 mb-6"},"Gestiona los miembros del equipo, sus roles de acceso y participaci√≥n en ganancias."),e.createElement("div",{className:"space-y-4 mb-6"},((t==null?void 0:t.team)||[]).map((a,o)=>{var s,r;return e.createElement("div",{key:o,className:"flex flex-col md:flex-row md:items-center gap-4 bg-slate-900/50 p-6 rounded-2xl border border-slate-800"},e.createElement("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-lg flex-shrink-0"},((r=(s=a.name)==null?void 0:s.charAt(0))==null?void 0:r.toUpperCase())||"?"),e.createElement("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-[10px] uppercase font-bold text-slate-500 mb-1 block"},"Nombre"),e.createElement("input",{className:"input-cyber w-full p-2 text-sm",value:a.name||"",onChange:i=>{const n=[...(t==null?void 0:t.team)||[]];n[o]={...n[o],name:i.target.value},f({...t,team:n})},placeholder:"Nombre"})),e.createElement("div",null,e.createElement("label",{className:"text-[10px] uppercase font-bold text-slate-500 mb-1 block"},"Email (Acceso)"),e.createElement("input",{type:"email",className:`input-cyber w-full p-2 text-sm ${a.email===Ee?"opacity-50 cursor-not-allowed":""}`,value:a.email||"",onChange:i=>{const n=[...(t==null?void 0:t.team)||[]];n[o]={...n[o],email:i.target.value},f({...t,team:n})},placeholder:"usuario@email.com",disabled:a.email===Ee})),e.createElement("div",null,e.createElement("label",{className:"text-[10px] uppercase font-bold text-slate-500 mb-1 block"},"Rol"),e.createElement("select",{className:`input-cyber w-full p-2 text-sm ${a.email===Ee?"opacity-50 cursor-not-allowed":""}`,value:a.role||"employee",onChange:i=>{const n=[...(t==null?void 0:t.team)||[]];n[o]={...n[o],role:i.target.value},f({...t,team:n})},disabled:a.email===Ee},e.createElement("option",{value:"employee"},"Empleado"),e.createElement("option",{value:"admin"},"Admin"))),e.createElement("div",null,e.createElement("label",{className:"text-[10px] uppercase font-bold text-slate-500 mb-1 block"},"Total Invertido"),e.createElement("div",{className:"input-cyber w-full p-2 text-sm bg-slate-900/50 text-slate-400 flex items-center cursor-not-allowed"},"$ ",M.filter(i=>i.investor===a.name||i.investor===a.email).reduce((i,n)=>i+(Number(n.amount)||0),0).toLocaleString()))),a.email!==Ee&&e.createElement("button",{onClick:()=>f({...t,team:((t==null?void 0:t.team)||[]).filter((i,n)=>n!==o)}),className:"p-3 bg-red-900/20 text-red-400 hover:bg-red-900/40 rounded-xl transition flex-shrink-0",title:"Eliminar Miembro"},e.createElement(ye,{className:"w-5 h-5"})))})),e.createElement("button",{onClick:()=>f({...t,team:[...(t==null?void 0:t.team)||[],{name:"",email:"",role:"employee",investment:0}]}),className:"px-6 py-3 bg-purple-600 hover:bg-purple-500 text-white rounded-xl font-bold shadow-lg shadow-purple-600/30 flex items-center gap-2 transition"},e.createElement(Ns,{className:"w-5 h-5"})," Agregar Nuevo Miembro"))),e.createElement("div",{className:"fixed bottom-8 right-8 z-50"},e.createElement("button",{onClick:async()=>{try{Le(!0);const a=G(E,"artifacts",g,"public","data","settings","config");await Ht(a,t,{merge:!0}),p("Configuraci√≥n guardada exitosamente","success")}catch(a){console.error(a),p("Error al guardar","error")}finally{Le(!1)}},className:"px-8 py-4 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 text-white font-bold rounded-2xl shadow-2xl shadow-orange-900/30 flex items-center gap-3 transition transform hover:scale-105"},e.createElement(Ia,{className:"w-5 h-5"})," Guardar Cambios"))),_s&&e.createElement("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in-scale"},e.createElement("div",{className:"bg-[#0a0a0a] border border-slate-700 p-8 rounded-[2.5rem] w-full max-w-lg shadow-2xl relative overflow-hidden flex flex-col max-h-[90vh]"},e.createElement("div",{className:"overflow-y-auto custom-scrollbar pr-2 pb-20"},e.createElement("h3",{className:"text-2xl font-black text-white mb-6 sticky top-0 bg-[#0a0a0a] py-2 z-10"},vo?"Editar":"Nuevo"," Proveedor"),e.createElement("div",{className:"space-y-4 mb-6"},e.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Nombre de la Empresa",value:De.name,onChange:a=>Dt({...De,name:a.target.value})}),e.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Nombre del Contacto",value:De.contact,onChange:a=>Dt({...De,contact:a.target.value})}),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Tel√©fono",value:De.phone,onChange:a=>Dt({...De,phone:a.target.value})}),e.createElement("input",{className:"input-cyber w-full p-4",placeholder:"Instagram (sin @)",value:De.ig,onChange:a=>Dt({...De,ig:a.target.value})})),e.createElement("div",{className:"border-t border-slate-800 pt-6 mt-6"},e.createElement("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3 block"},"Asignar Productos Suministrados"),e.createElement("div",{className:"h-48 overflow-y-auto bg-slate-900/50 rounded-xl p-2 border border-slate-800 custom-scrollbar"},N.length===0?e.createElement("p",{className:"text-center text-slate-600 text-xs py-4"},"Carga productos primero."):N.map(a=>{var o,s;return e.createElement("div",{key:a.id,onClick:()=>{const r=De.associatedProducts||[],i=r.includes(a.id);Dt({...De,associatedProducts:i?r.filter(n=>n!==a.id):[...r,a.id]})},className:`flex items-center gap-3 p-2 rounded-lg cursor-pointer mb-1 transition ${(o=De.associatedProducts)!=null&&o.includes(a.id)?"bg-orange-900/30 border border-orange-500/30":"hover:bg-slate-800 border border-transparent"}`},e.createElement("div",{className:"w-8 h-8 bg-white rounded p-0.5 flex-shrink-0"},e.createElement("img",{src:a.image,className:"w-full h-full object-contain"})),e.createElement("span",{className:"text-xs text-white truncate flex-1 font-medium"},a.name),((s=De.associatedProducts)==null?void 0:s.includes(a.id))&&e.createElement(me,{className:"w-4 h-4 text-orange-400"}))}))))),e.createElement("div",{className:"absolute bottom-0 left-0 w-full p-8 bg-gradient-to-t from-[#0a0a0a] via-[#0a0a0a] to-transparent flex gap-4"},e.createElement("button",{onClick:()=>ao(!1),className:"flex-1 py-4 text-slate-400 font-bold hover:text-white transition bg-slate-900 rounded-xl"},"Cancelar"),e.createElement("button",{onClick:Pl,className:"flex-1 py-4 bg-orange-600 hover:bg-orange-500 text-white rounded-xl font-bold shadow-lg transition"},"Guardar")))))):e.createElement($i,{onBack:()=>u("store")})),l==="privacy"&&e.createElement("div",{className:"max-w-4xl mx-auto py-20 px-6 animate-fade-up"},e.createElement("div",{className:"glass p-12 rounded-[3rem] border border-slate-800"},e.createElement("div",{className:"prose prose-invert max-w-none"},e.createElement("h1",{className:"text-5xl font-black mb-12 tracking-tighter italic"},"Pol√≠tica de ",e.createElement("span",{className:"text-orange-500 text-6xl"},"Privacidad")),e.createElement("p",{className:"text-slate-400 text-lg leading-relaxed"},"En ",e.createElement("strong",null,(t==null?void 0:t.storeName)||"SUSTORE"),", valoramos tu privacidad y nos comprometemos a proteger tus datos personales. Esta pol√≠tica describe c√≥mo recolectamos, usamos y resguardamos tu informaci√≥n."),e.createElement("h2",{className:"text-2xl font-bold text-white mt-12 mb-6"},"1. Informaci√≥n Recolectada"),e.createElement("p",{className:"text-slate-500 leadind-relaxed"},"Recolectamos datos b√°sicos como nombre, correo electr√≥nico y n√∫mero de tel√©fono √∫nicamente cuando te registras o realizas un pedido para procesar tu compra correctamente."),e.createElement("h2",{className:"text-2xl font-bold text-white mt-12 mb-6"},"2. Uso de los Datos"),e.createElement("p",{className:"text-slate-500 leadind-relaxed"},"Tu informaci√≥n se utiliza exclusivamente para:"),e.createElement("ul",{className:"list-disc pl-6 text-slate-500 space-y-2"},e.createElement("li",null,"Gestionar tus pedidos y entregas."),e.createElement("li",null,"Enviar actualizaciones sobre el estado de tu compra."),e.createElement("li",null,"Mejorar nuestros servicios y experiencia de usuario.")),e.createElement("h2",{className:"text-2xl font-bold text-white mt-12 mb-6"},"3. Seguridad"),e.createElement("p",{className:"text-slate-500 leadind-relaxed"},"Implementamos medidas de seguridad robustas y encriptaci√≥n de datos para asegurar que tu informaci√≥n est√© protegida contra accesos no autorizados."),e.createElement("h2",{className:"text-2xl font-bold text-white mt-12 mb-6"},"4. Contacto"),e.createElement("p",{className:"text-slate-500 leadind-relaxed mb-12"},"Si tienes dudas sobre nuestra pol√≠tica de privacidad, cont√°ctanos a ",e.createElement("span",{className:"text-orange-400"},(t==null?void 0:t.storeEmail)||"soporte@tuempresa.com"),"."),e.createElement("button",{onClick:()=>u("store"),className:"px-10 py-4 bg-slate-900 hover:bg-slate-800 text-white rounded-2xl font-bold transition flex items-center gap-3 border border-slate-700"},e.createElement(Pt,{className:"w-5 h-5"})," Volver a la Tienda")))),l==="terms"&&e.createElement("div",{className:"max-w-4xl mx-auto py-20 px-6 animate-fade-up"},e.createElement("div",{className:"glass p-12 rounded-[3rem] border border-slate-800"},e.createElement("div",{className:"prose prose-invert max-w-none"},e.createElement("h1",{className:"text-5xl font-black mb-12 tracking-tighter italic"},"Condiciones de ",e.createElement("span",{className:"text-orange-500 text-6xl"},"Uso")),e.createElement("p",{className:"text-slate-400 font-bold mb-8"},"√öltima actualizaci√≥n: 07 de enero de 2026"),e.createElement("h3",{className:"text-xl font-bold text-white mt-8 mb-4"},"ACUERDO CON NUESTROS T√âRMINOS LEGALES"),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"Nosotros somos ",e.createElement("strong",null,(t==null?void 0:t.storeName)||"Sustore"),' ("',e.createElement("strong",null,"Empresa"),'", "',e.createElement("strong",null,"nosotros"),'", "',e.createElement("strong",null,"nos"),'", "',e.createElement("strong",null,"nuestro"),'").'),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"Operamos el sitio web ",e.createElement("a",{href:"https://sustore.vercel.app",className:"text-orange-400 hover:underline"},"https://sustore.vercel.app"),' (el "',e.createElement("strong",null,"Sitio"),'"), as√≠ como cualquier otro producto y servicio relacionado que haga referencia o se vincule con estos t√©rminos legales (los "',e.createElement("strong",null,"T√©rminos Legales"),'") (colectivamente, los "',e.createElement("strong",null,"Servicios"),'").'),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"Puede contactarnos por correo electr√≥nico a la direcci√≥n proporcionada al final de este documento."),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},'Estos T√©rminos Legales constituyen un acuerdo legalmente vinculante celebrado entre usted, ya sea personalmente o en nombre de una entidad ("',e.createElement("strong",null,"usted"),'"), y Sustore, en relaci√≥n con su acceso y uso de los Servicios. Usted acepta que al acceder a los Servicios, ha le√≠do, comprendido y aceptado estar sujeto a todos estos T√©rminos Legales. ',e.createElement("strong",{className:"text-red-400"},"SI NO EST√Å DE ACUERDO CON TODOS ESTOS T√âRMINOS LEGALES, ENTONCES TIENE EXPRESAMENTE PROHIBIDO UTILIZAR LOS SERVICIOS Y DEBE DEJAR DE UTILIZARLOS INMEDIATAMENTE.")),e.createElement("div",{className:"bg-slate-900/50 p-8 rounded-3xl border border-slate-800 my-10"},e.createElement("h3",{className:"text-lg font-black text-white uppercase tracking-widest mb-6"},"√çNDICE"),e.createElement("ul",{className:"space-y-2 text-sm text-orange-400 font-medium"},e.createElement("li",null,e.createElement("a",{href:"#section1",className:"hover:text-orange-300 transition"},"1. NUESTROS SERVICIOS")),e.createElement("li",null,e.createElement("a",{href:"#section2",className:"hover:text-orange-300 transition"},"2. DERECHOS DE PROPIEDAD INTELECTUAL")),e.createElement("li",null,e.createElement("a",{href:"#section3",className:"hover:text-orange-300 transition"},"3. REPRESENTACIONES DE USUARIOS")),e.createElement("li",null,e.createElement("a",{href:"#section4",className:"hover:text-orange-300 transition"},"4. ACTIVIDADES PROHIBIDAS")),e.createElement("li",null,e.createElement("a",{href:"#section5",className:"hover:text-orange-300 transition"},"5. CONTRIBUCIONES GENERADAS POR EL USUARIO")),e.createElement("li",null,e.createElement("a",{href:"#section6",className:"hover:text-orange-300 transition"},"6. LICENCIA DE CONTRIBUCI√ìN")),e.createElement("li",null,e.createElement("a",{href:"#section7",className:"hover:text-orange-300 transition"},"7. GESTI√ìN DE SERVICIOS")),e.createElement("li",null,e.createElement("a",{href:"#section8",className:"hover:text-orange-300 transition"},"8. PLAZO Y TERMINACI√ìN")),e.createElement("li",null,e.createElement("a",{href:"#section9",className:"hover:text-orange-300 transition"},"9. MODIFICACIONES E INTERRUPCIONES")),e.createElement("li",null,e.createElement("a",{href:"#section10",className:"hover:text-orange-300 transition"},"10. LEY APLICABLE")),e.createElement("li",null,e.createElement("a",{href:"#section11",className:"hover:text-orange-300 transition"},"11. RESOLUCI√ìN DE DISPUTAS")),e.createElement("li",null,e.createElement("a",{href:"#section12",className:"hover:text-orange-300 transition"},"12. CORRECCIONES")),e.createElement("li",null,e.createElement("a",{href:"#section13",className:"hover:text-orange-300 transition"},"13. DESCARGO DE RESPONSABILIDAD")),e.createElement("li",null,e.createElement("a",{href:"#section14",className:"hover:text-orange-300 transition"},"14. LIMITACIONES DE RESPONSABILIDAD")),e.createElement("li",null,e.createElement("a",{href:"#section15",className:"hover:text-orange-300 transition"},"15. INDEMNIZACI√ìN")),e.createElement("li",null,e.createElement("a",{href:"#section16",className:"hover:text-orange-300 transition"},"16. DATOS DEL USUARIO")),e.createElement("li",null,e.createElement("a",{href:"#section17",className:"hover:text-orange-300 transition"},"17. COMUNICACIONES ELECTR√ìNICAS")),e.createElement("li",null,e.createElement("a",{href:"#section18",className:"hover:text-orange-300 transition"},"18. VARIOS")),e.createElement("li",null,e.createElement("a",{href:"#section19",className:"hover:text-orange-300 transition"},"19. CONT√ÅCTENOS")))),e.createElement("section",{id:"section1",className:"mb-12"},e.createElement("h2",{className:"text-2xl font-bold text-white mb-4"},"1. NUESTROS SERVICIOS"),e.createElement("p",{className:"text-slate-500 leading-relaxed"},"La informaci√≥n proporcionada al utilizar los Servicios no est√° destinada a ser distribuida o utilizada por ninguna persona o entidad en ninguna jurisdicci√≥n o pa√≠s donde dicha distribuci√≥n o uso ser√≠a contrario a la ley o regulaci√≥n o que nos someter√≠a a cualquier requisito de registro dentro de dicha jurisdicci√≥n o pa√≠s. En consecuencia, aquellas personas que eligen acceder a los Servicios desde otras ubicaciones lo hacen por iniciativa propia y son las √∫nicas responsables del cumplimiento de las leyes locales, si y en la medida en que sean aplicables.")),e.createElement("section",{id:"section2",className:"mb-12"},e.createElement("h2",{className:"text-2xl font-bold text-white mb-4"},"2. DERECHOS DE PROPIEDAD INTELECTUAL"),e.createElement("h3",{className:"text-lg font-bold text-white mt-6 mb-2"},"Nuestra propiedad intelectual"),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},'Somos propietarios o licenciatarios de todos los derechos de propiedad intelectual de nuestros Servicios, incluido todo el c√≥digo fuente, bases de datos, funcionalidad, software, dise√±os de sitios web, audio, video, texto, fotograf√≠as y gr√°ficos de los Servicios (colectivamente, el "Contenido"), as√≠ como las marcas comerciales, marcas de servicio y logotipos contenidos en ellas (las "Marcas").'),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"Nuestro Contenido y Marcas est√°n protegidos por leyes de derechos de autor y marcas registradas (y varias otras leyes de derechos de propiedad intelectual y competencia desleal) y tratados alrededor del mundo."),e.createElement("p",{className:"text-slate-500 leading-relaxed"},'El Contenido y las Marcas se proporcionan en o a trav√©s de los Servicios "TAL CUAL" para su uso personal, no comercial o finalidad empresarial interna.'),e.createElement("h3",{className:"text-lg font-bold text-white mt-6 mb-2"},"Su uso de nuestros Servicios"),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},'Sujeto a su cumplimiento de estos T√©rminos Legales, incluidos los "ACTIVIDADES PROHIBIDAS" en la secci√≥n siguiente, le otorgamos un contrato no exclusivo, intransferible y revocable licencia para:'),e.createElement("ul",{className:"list-disc pl-6 text-slate-500 space-y-2 mb-4"},e.createElement("li",null,"acceder a los Servicios; y"),e.createElement("li",null,"descargar o imprimir una copia de cualquier parte del Contenido al que haya obtenido acceso correctamente,")),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"√∫nicamente para tu uso personal, no comercial o finalidad empresarial interna."),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"Salvo lo establecido en esta secci√≥n o en otra parte de nuestros T√©rminos Legales, ninguna parte de los Servicios ni ning√∫n Contenido o Marca podr√°n copiarse ni reproducirse, agregado, republicado, cargado, publicado, mostrado p√∫blicamente, codificado, traducido, transmitido, distribuido, vendido, licenciado o explotado de otro modo para cualquier fin comercial, sin nuestro expreso previo escrito permiso."),e.createElement("p",{className:"text-slate-500 leading-relaxed"},"Si desea hacer alg√∫n uso de los Servicios, Contenido o Marcas que no sea el establecido en esta secci√≥n o en otra parte de nuestros T√©rminos Legales, dirija su solicitud a nuestro correo de contacto.")),e.createElement("section",{id:"section3",className:"mb-12"},e.createElement("h2",{className:"text-2xl font-bold text-white mb-4"},"3. REPRESENTACIONES DE USUARIOS"),e.createElement("p",{className:"text-slate-500 leading-relaxed"},"Al utilizar los Servicios, usted declara y garantiza que: (1) usted tiene la capacidad legal y acepta cumplir con estos T√©rminos Legales; (2) no eres un menor de edad en la jurisdicci√≥n en la que usted reside; (3) no acceder√°s a los Servicios a trav√©s de medios automatizados o no humanos, ya sea a trav√©s de un bot, script o de otro modo; (4) no utilizar√° los Servicios para ninguna actividad ilegal o no autorizado prop√≥sito; y (5) su uso de los Servicios no violar√° ninguna ley o regulaci√≥n aplicable.")),e.createElement("section",{id:"section4",className:"mb-12"},e.createElement("h2",{className:"text-2xl font-bold text-white mb-4"},"4. ACTIVIDADES PROHIBIDAS"),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"No puede acceder ni utilizar los Servicios para ning√∫n otro prop√≥sito que no sea aquel para el cual los ponemos a disposici√≥n. Los Servicios no podr√°n utilizarse en relaci√≥n con ning√∫n negocio comercial esfuerzo excepto aquellos que est√©n espec√≠ficamente respaldados o aprobados por nosotros."),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"Como usuario de los Servicios, usted acepta no:"),e.createElement("ul",{className:"list-disc pl-6 text-slate-500 space-y-2"},e.createElement("li",null,"Recuperar sistem√°ticamente datos u otro contenido de los Servicios para crear o compilar, directa o indirectamente, una colecci√≥n, compilaci√≥n, base de datos o directorio sin nuestro permiso por escrito."),e.createElement("li",null,"Enga√±arnos, defraudarnos o enga√±arnos a nosotros y a otros usuarios, especialmente en cualquier intento de obtener informaci√≥n confidencial de la cuenta, como las contrase√±as de los usuarios."),e.createElement("li",null,"Eludir, deshabilitar o interferir de otro modo con las caracter√≠sticas relacionadas con la seguridad de los Servicios."),e.createElement("li",null,"Menospreciar, empa√±ar o da√±ar de otro modo, en nuestra opini√≥n, a nosotros y/o a los Servicios."),e.createElement("li",null,"Utilizar cualquier informaci√≥n obtenida de los Servicios para acosar, abusar o da√±ar a otra persona."),e.createElement("li",null,"Hacer un uso indebido de nuestros servicios de soporte o presentar informes falsos de abuso o mala conducta."),e.createElement("li",null,"Utilice los Servicios de una manera incompatible con las leyes o regulaciones aplicables."))),e.createElement("section",{id:"section13",className:"mb-12"},e.createElement("h2",{className:"text-2xl font-bold text-white mb-4"},"13. DESCARGO DE RESPONSABILIDAD"),e.createElement("p",{className:"text-slate-500 leading-relaxed text-xs uppercase tracking-wide border-l-4 border-red-500/50 pl-4 py-2 bg-red-900/5"},"LOS SERVICIOS SE PRESTAN TAL CUAL Y SEG√öN EST√â DISPONIBLE. USTED ACEPTA QUE SU USO DE LOS SERVICIOS SER√Å BAJO SU PROPIO RIESGO. EN LA M√ÅXIMA MEDIDA PERMITIDA POR LA LEY, RENUNCIAMOS A TODAS LAS GARANT√çAS, EXPRESAS O IMPL√çCITAS, EN RELACI√ìN CON LOS SERVICIOS Y SU USO DE LOS MISMOS.")),e.createElement("section",{id:"section19",className:"mb-12"},e.createElement("h2",{className:"text-2xl font-bold text-white mb-4"},"19. CONT√ÅCTENOS"),e.createElement("p",{className:"text-slate-500 leading-relaxed mb-4"},"Para resolver una queja con respecto a los Servicios o para recibir m√°s informaci√≥n sobre el uso de los Servicios, cont√°ctenos en:"),e.createElement("p",{className:"text-2xl font-black text-orange-400"},(t==null?void 0:t.storeEmail)||"soporte@tuempresa.com")),e.createElement("button",{onClick:()=>u("store"),className:"px-10 py-4 bg-slate-900 hover:bg-slate-800 text-white rounded-2xl font-bold transition flex items-center gap-3 border border-slate-700 mt-12"},e.createElement(Pt,{className:"w-5 h-5"})," Volver a la Tienda"))))),l!=="admin"&&l!=="login"&&l!=="register"&&e.createElement("footer",{className:"bg-[#050505] border-t border-slate-900 pt-16 pb-8 relative overflow-hidden"},e.createElement("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-orange-900/50 to-transparent"}),e.createElement("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-blue-900/5 rounded-full blur-[100px] pointer-events-none"}),e.createElement("div",{className:"max-w-[1400px] mx-auto px-6 md:px-12 grid grid-cols-1 md:grid-cols-4 gap-12 mb-16 relative z-10"},e.createElement("div",{className:"md:col-span-2 space-y-6"},e.createElement("h2",{className:"text-3xl font-black text-white tracking-tighter italic"},je&&(t==null?void 0:t.storeName)||"",e.createElement("span",{className:"text-orange-500"},(t==null?void 0:t.footerSuffix)||".SF")),e.createElement("p",{className:"text-slate-500 max-w-sm leading-relaxed text-sm"},(t==null?void 0:t.footerDescription)||"Tu destino premium para tecnolog√≠a de vanguardia. Ofrecemos los mejores productos con garant√≠a y soporte especializado. Elevamos tu experiencia digital."),e.createElement("div",{className:"flex gap-3 pt-2 flex-wrap"},(t==null?void 0:t.showInstagram)!==!1&&(t==null?void 0:t.instagramLink)&&e.createElement("button",{onClick:()=>window.open(t==null?void 0:t.instagramLink,"_blank"),className:"p-2 bg-slate-900 rounded-lg text-slate-400 hover:text-pink-400 hover:bg-pink-900/10 transition border border-slate-800 hover:border-pink-500/30"},e.createElement(uo,{className:"w-5 h-5"})),(t==null?void 0:t.showWhatsapp)===!0&&(t==null?void 0:t.whatsappLink)&&e.createElement("button",{onClick:()=>window.open(t==null?void 0:t.whatsappLink,"_blank"),className:"p-2 bg-slate-900 rounded-lg text-slate-400 hover:text-green-400 hover:bg-green-900/10 transition border border-slate-800 hover:border-green-500/30"},e.createElement(sa,{className:"w-5 h-5"})),(t==null?void 0:t.showFacebook)&&(t==null?void 0:t.facebookLink)&&e.createElement("button",{onClick:()=>window.open(t==null?void 0:t.facebookLink,"_blank"),className:"p-2 bg-slate-900 rounded-lg text-slate-400 hover:text-blue-400 hover:bg-blue-900/10 transition border border-slate-800 hover:border-blue-500/30"},e.createElement(bs,{className:"w-5 h-5"})),(t==null?void 0:t.showTwitter)&&(t==null?void 0:t.twitterLink)&&e.createElement("button",{onClick:()=>window.open(t==null?void 0:t.twitterLink,"_blank"),className:"p-2 bg-slate-900 rounded-lg text-slate-400 hover:text-sky-400 hover:bg-sky-900/10 transition border border-slate-800 hover:border-sky-500/30"},e.createElement(xs,{className:"w-5 h-5"})),(t==null?void 0:t.showTiktok)&&(t==null?void 0:t.tiktokLink)&&e.createElement("button",{onClick:()=>window.open(t==null?void 0:t.tiktokLink,"_blank"),className:"p-2 bg-slate-900 rounded-lg text-slate-400 hover:text-rose-400 hover:bg-rose-900/10 transition border border-slate-800 hover:border-rose-500/30"},e.createElement(hs,{className:"w-5 h-5"})),(t==null?void 0:t.showYoutube)&&(t==null?void 0:t.youtubeLink)&&e.createElement("button",{onClick:()=>window.open(t==null?void 0:t.youtubeLink,"_blank"),className:"p-2 bg-slate-900 rounded-lg text-slate-400 hover:text-red-400 hover:bg-red-900/10 transition border border-slate-800 hover:border-red-500/30"},e.createElement(fs,{className:"w-5 h-5"})))),e.createElement("div",{className:"space-y-6"},e.createElement("h3",{className:"text-white font-bold uppercase tracking-widest text-xs"},"Enlaces R√°pidos"),e.createElement("ul",{className:"space-y-3 text-sm text-slate-500 font-medium"},e.createElement("li",null,e.createElement("button",{onClick:()=>u("store"),className:"hover:text-orange-400 transition flex items-center gap-2 group"},e.createElement("span",{className:"w-0 group-hover:w-2 h-px bg-orange-400 transition-all duration-300"})," Inicio")),e.createElement("li",null,e.createElement("button",{onClick:()=>u("profile"),className:"hover:text-orange-400 transition flex items-center gap-2 group"},e.createElement("span",{className:"w-0 group-hover:w-2 h-px bg-orange-400 transition-all duration-300"})," Mi Cuenta")),e.createElement("li",null,e.createElement("button",{onClick:()=>u("guide"),className:"hover:text-orange-400 transition flex items-center gap-2 group"},e.createElement("span",{className:"w-0 group-hover:w-2 h-px bg-orange-400 transition-all duration-300"})," Ayuda & Soporte")))),(t==null?void 0:t.showFooterContact)!==!1&&e.createElement("div",{className:"space-y-6"},e.createElement("h3",{className:"text-white font-bold uppercase tracking-widest text-xs"},(t==null?void 0:t.footerContactTitle)||"Contacto"),e.createElement("p",{className:"text-slate-500 text-sm leading-relaxed mb-4"},(t==null?void 0:t.footerContactDescription)||"¬øTienes alguna duda? Estamos aqu√≠ para ayudarte."),e.createElement("button",{onClick:()=>{const a=(t==null?void 0:t.footerContactType)||"whatsapp";a==="whatsapp"&&(t!=null&&t.whatsappLink)?window.open(t.whatsappLink,"_blank"):a==="instagram"&&(t!=null&&t.instagramLink)?window.open(t.instagramLink,"_blank"):a==="email"&&(t!=null&&t.storeEmail)&&window.open(`https://mail.google.com/mail/?view=cm&fs=1&to=${t.storeEmail}`,"_blank")},className:"px-6 py-3 bg-orange-900/10 text-orange-400 rounded-xl text-sm font-bold border border-orange-500/20 hover:bg-orange-500 hover:text-white transition w-full md:w-auto"},(t==null?void 0:t.footerContactButtonText)||"Contactar Soporte"))),e.createElement("div",{className:"border-t border-slate-900 bg-[#020202]"},e.createElement("div",{className:"max-w-[1400px] mx-auto px-6 md:px-12 py-6 flex flex-col md:flex-row justify-between items-center gap-4"},e.createElement("p",{className:"text-slate-600 text-xs font-mono"},"¬© 2026 Sustore. Todos los derechos reservados."),e.createElement("div",{className:"flex gap-6"},(t==null?void 0:t.showPrivacyPolicy)!==!1&&e.createElement("span",{onClick:()=>u("privacy"),className:"text-slate-700 text-xs font-bold uppercase tracking-wider cursor-pointer hover:text-slate-400 transition underline decoration-slate-900 underline-offset-4"},"Privacy Policy"),(t==null?void 0:t.showTermsOfService)!==!1&&e.createElement("span",{onClick:()=>u("terms"),className:"text-slate-700 text-xs font-bold uppercase tracking-wider cursor-pointer hover:text-slate-400 transition underline decoration-slate-900 underline-offset-4"},"Terms of Service"))))),Yo&&e.createElement("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/90 backdrop-blur-md animate-fade-in-scale p-4"},e.createElement("div",{className:"glass p-8 rounded-[2rem] max-w-md w-full border border-orange-800 shadow-2xl"},e.createElement("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-6 mx-auto bg-orange-900/20 text-orange-500"},e.createElement(Ya,{className:"w-8 h-8"})),e.createElement("h3",{className:"text-2xl font-black text-center mb-6 text-white"},"Nueva Categor√≠a"),e.createElement("input",{type:"text",value:lo,onChange:a=>Eo(a.target.value),className:"input-cyber w-full p-4 mb-6",placeholder:"Nombre de la categor√≠a",autoFocus:!0}),e.createElement("div",{className:"flex gap-3"},e.createElement("button",{onClick:()=>{Eo(""),ga(!1)},className:"flex-1 py-3 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-xl font-bold transition"},"Cancelar"),e.createElement("button",{onClick:$l,className:"flex-1 py-3 bg-orange-600 hover:bg-orange-500 text-white rounded-xl font-bold transition shadow-lg shadow-orange-600/30"},"Crear")))),ar&&e.createElement("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/90 backdrop-blur-md animate-fade-in-scale p-4"},e.createElement("div",{className:"glass p-8 rounded-[2rem] max-w-md w-full border border-green-900 shadow-2xl"},e.createElement("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-6 mx-auto bg-green-900/20 text-green-500"},e.createElement(fo,{className:"w-8 h-8"})),e.createElement("h3",{className:"text-2xl font-black text-center mb-2 text-white"},"Venta Manual"),e.createElement("p",{className:"text-center text-slate-400 mb-6"},(Yr=N.find(a=>a.id===J.productId))==null?void 0:Yr.name),e.createElement("div",{className:"space-y-4 mb-8"},e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-1 block"},"Cantidad"),e.createElement("input",{type:"number",className:"input-cyber w-full p-3",value:J.quantity,onChange:a=>kt({...J,quantity:parseInt(a.target.value)||1}),min:"1"})),e.createElement("div",null,e.createElement("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-1 block"},"Precio Unit."),e.createElement("input",{type:"number",className:"input-cyber w-full p-3",value:J.price,onChange:a=>kt({...J,price:parseFloat(a.target.value)||0})}))),e.createElement("div",null,e.createElement("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-1 block"},"M√©todo de Pago"),e.createElement("select",{className:"input-cyber w-full p-3",value:J.paymentMethod,onChange:a=>kt({...J,paymentMethod:a.target.value})},e.createElement("option",{value:"Efectivo"},"Efectivo"),e.createElement("option",{value:"Transferencia"},"Transferencia"),e.createElement("option",{value:"Tarjeta"},"Tarjeta"))),e.createElement("div",{className:"bg-slate-900 p-4 rounded-xl flex justify-between items-center border border-slate-800"},e.createElement("span",{className:"text-slate-400 font-bold"},"Total:"),e.createElement("span",{className:"text-2xl font-black text-green-400"},"$",(J.quantity*J.price).toLocaleString()))),e.createElement("div",{className:"flex gap-3"},e.createElement("button",{onClick:()=>Ga(!1),className:"flex-1 py-3 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-xl font-bold transition"},"Cancelar"),e.createElement("button",{onClick:ol,disabled:gt,className:"flex-1 py-3 bg-green-600 hover:bg-green-500 text-white rounded-xl font-bold transition shadow-lg shadow-green-600/30 flex items-center justify-center gap-2"},gt?e.createElement(ca,{className:"w-5 h-5 animate-spin"}):e.createElement(me,{className:"w-5 h-5"}),"Confirmar")))),(t==null?void 0:t.showFloatingWhatsapp)&&(t==null?void 0:t.whatsappLink)&&["business","premium"].includes(t==null?void 0:t.subscriptionPlan)&&l!=="admin"&&e.createElement("button",{onClick:()=>window.open(t.whatsappLink,"_blank"),className:"fixed bottom-24 right-6 z-50 p-4 bg-green-500 rounded-full shadow-[0_0_20px_rgba(34,197,94,0.4)] hover:scale-110 hover:shadow-[0_0_30px_rgba(34,197,94,0.6)] transition-all animate-bounce-slow",title:"Chatea con nosotros"},e.createElement(sa,{className:"w-8 h-8 text-white fill-white"})),e.createElement(Ul,null),Zs&&e.createElement(Ei,{settings:t,onClose:()=>Va(!1)}),!1,e.createElement(vi,{isOpen:ue.isOpen,title:ue.title,message:ue.message,onConfirm:ue.onConfirm,onCancel:ue.onCancel||(()=>L(a=>({...a,isOpen:!1}))),isDangerous:!0}),e.createElement(Si,{isOpen:Yo,onClose:()=>ga(!1),categories:(t==null?void 0:t.categories)||[],onAdd:a=>f({...t,categories:[...(t==null?void 0:t.categories)||[],a]}),onRemove:a=>f({...t,categories:((t==null?void 0:t.categories)||[]).filter(o=>o!==a)})}),e.createElement(Ci,{settings:t,products:N,addToCart:(a,o=1)=>_t(a,o),controlPanel:{setDarkMode:Ue,openCart:()=>u("cart")},coupons:et}))}const Ei=({settings:l,onClose:u})=>{const[v,S]=e.useState(null),[P,R]=e.useState(null),M={purple:{iconBg:"bg-purple-600",iconText:"text-purple-400",price:"text-purple-400",check:"text-purple-500",activeBg:"bg-purple-500",activeBorder:"border-purple-400",gradient:"from-purple-900/40 to-slate-900",border:"border-purple-500/50"},orange:{iconBg:"bg-orange-600",iconText:"text-orange-400",price:"text-orange-400",check:"text-orange-500",activeBg:"bg-orange-500",activeBorder:"border-orange-400",gradient:"from-orange-900/40 to-slate-900",border:"border-orange-500/50"},yellow:{iconBg:"bg-yellow-500",iconText:"text-yellow-400",price:"text-yellow-400",check:"text-yellow-500",activeBg:"bg-yellow-500",activeBorder:"border-yellow-400",gradient:"from-yellow-900/40 to-slate-900",border:"border-yellow-500/50"}};return e.createElement("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/95 backdrop-blur-xl animate-fade-in-scale p-2 sm:p-4 overflow-hidden"},e.createElement("div",{className:"bg-gradient-to-b from-[#0d0d0d] to-[#050505] relative w-full h-full sm:h-auto sm:max-h-[95vh] sm:max-w-5xl sm:rounded-3xl border-0 sm:border sm:border-slate-800/50 shadow-2xl flex flex-col overflow-hidden"},e.createElement("div",{className:"flex justify-between items-center p-4 sm:p-6 border-b border-slate-800/50 shrink-0"},e.createElement("div",null,e.createElement("h2",{className:"text-xl sm:text-3xl font-black text-white flex items-center gap-2 sm:gap-3"},e.createElement(Bt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-yellow-500 fill-current"})," Planes Disponibles"),e.createElement("p",{className:"text-slate-500 text-xs sm:text-sm mt-1"},"Eleg√≠ un plan y seleccion√° tu forma de pago")),e.createElement("button",{onClick:u,className:"p-2 sm:p-3 bg-slate-800 hover:bg-slate-700 rounded-full text-white transition-all hover:rotate-90"},e.createElement(Se,{className:"w-5 h-5 sm:w-6 sm:h-6"}))),e.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 sm:p-6"},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-5"},[{id:"entrepreneur",name:"Plan Emprendedor",emoji:"üè™",subtitle:"El impulso que tu negocio necesita para despegar.",price:"$7.000",features:["üì¶ Carga de hasta 30 productos","üí≥ Integraci√≥n con Mercado Pago","üî• 1 Promoci√≥n activa","üìä Panel de Control completo","üìß Soporte t√©cnico v√≠a Gmail"],cycles:[{id:"weekly",label:"Semanal",price:"$2.000",sub:"Flexibilidad total"},{id:"monthly",label:"Mensual",price:"$7.000",sub:"Opci√≥n equilibrada"},{id:"annual",label:"Anual",price:"$70.000",sub:"üéÅ 2 MESES GRATIS"}],color:"orange",icon:ja},{id:"business",name:"Plan Negocio",emoji:"üöÄ",subtitle:"Para marcas con identidad que buscan escalar.",price:"$13.000",popular:!0,features:["üì¶ Hasta 50 productos","üî• 5 Promociones simult√°neas","üé´ Sistema de cupones","üìä Anal√≠tica de clientes","üì≤ Bot√≥n WhatsApp flotante"],cycles:[{id:"weekly",label:"Semanal",price:"$4.000",sub:"Flexibilidad total"},{id:"monthly",label:"Mensual",price:"$13.000",sub:"Equilibrio perfecto"},{id:"annual",label:"Anual",price:"$117.000",sub:"üéÅ 3 MESES GRATIS"}],color:"purple",icon:rs},{id:"premium",name:"Plan Premium",emoji:"üíé",subtitle:"Automatizaci√≥n total y cero preocupaciones.",price:"$22.000",features:["üöÄ Productos ilimitados","ü§ñ Asistente IA 24/7","‚ú® Carga VIP (10 productos)","üõ†Ô∏è Mantenimiento mensual","üì≤ Omnicanalidad total"],cycles:[{id:"weekly",label:"Semanal",price:"$6.500",sub:"Flexibilidad total"},{id:"monthly",label:"Mensual",price:"$22.000",sub:"Equilibrio perfecto"},{id:"annual",label:"Anual",price:"$198.000",sub:"üéÅ 3 MESES GRATIS"}],color:"yellow",icon:ma}].map(F=>{const be=v===F.id,ue=(l==null?void 0:l.subscriptionPlan)===F.id||!(l!=null&&l.subscriptionPlan)&&F.id==="entrepreneur",L=F.icon,H=M[F.color];return e.createElement("div",{key:F.id,onClick:()=>S(be?null:F.id),className:`relative rounded-2xl sm:rounded-3xl border-2 transition-all duration-300 overflow-hidden cursor-pointer flex flex-col
                                        ${be?`bg-gradient-to-b ${H.gradient} ${H.border} shadow-xl scale-[1.01]`:"bg-[#111] border-slate-800 hover:border-slate-600"}`},F.popular&&e.createElement("div",{className:"absolute top-0 right-0 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-[10px] font-black px-3 py-1 rounded-bl-xl"},"POPULAR"),ue&&e.createElement("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 bg-white/10 backdrop-blur text-white text-[10px] font-bold px-3 py-1 rounded-b-lg border border-white/20"},"‚úì TU PLAN"),e.createElement("div",{className:"p-4 sm:p-5 flex-1 flex flex-col"},e.createElement("div",{className:"flex items-center gap-3 mb-3"},e.createElement("div",{className:`p-2.5 sm:p-3 rounded-xl ${H.iconBg} shadow-lg`},e.createElement(L,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})),e.createElement("div",null,e.createElement("h3",{className:"text-lg sm:text-xl font-black text-white"},F.name),e.createElement("p",{className:"text-[11px] sm:text-xs text-slate-500"},F.subtitle))),e.createElement("div",{className:`text-2xl sm:text-3xl font-black ${H.price} mb-4`},F.price," ",e.createElement("span",{className:"text-sm text-slate-500 font-normal"},"/mes")),e.createElement("div",{className:"space-y-2 mb-4 flex-1"},F.features.map((A,ke)=>e.createElement("div",{key:ke,className:"flex items-start gap-2 text-xs sm:text-sm text-slate-300"},e.createElement(me,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 ${H.check} shrink-0 mt-0.5`}),e.createElement("span",null,A)))),e.createElement("button",{className:`w-full py-2 text-xs font-bold uppercase tracking-wider rounded-lg transition-all flex items-center justify-center gap-2
                                                ${be?"bg-white/5 text-white":"bg-slate-800/50 text-slate-400 hover:bg-slate-700/50"}`},be?"Eleg√≠ tu forma de pago":"Ver opciones de pago",e.createElement(ei,{className:`w-4 h-4 transition-transform ${be?"rotate-180":""}`})),e.createElement("div",{className:`transition-all duration-300 overflow-hidden ${be?"max-h-[400px] opacity-100 mt-4":"max-h-0 opacity-0"}`},e.createElement("div",{className:"space-y-2 pt-4 border-t border-white/10"},F.cycles.map(A=>{const ke=(P==null?void 0:P.price)===A.price&&(P==null?void 0:P.plan)===F.name;return e.createElement("button",{key:A.id,onClick:le=>{le.stopPropagation(),R({plan:F.name,cycle:A.label,price:A.price,sub:A.sub,emoji:F.emoji})},className:`w-full text-left p-3 rounded-xl border-2 transition-all flex justify-between items-center
                                                                ${ke?`${H.activeBg} text-black ${H.activeBorder} shadow-lg`:"bg-slate-900/50 border-slate-700 hover:bg-slate-800 text-slate-300 hover:border-slate-500"}`},e.createElement("div",null,e.createElement("div",{className:"font-bold text-sm"},A.label),e.createElement("div",{className:`text-[10px] ${ke?"text-black/70":"text-slate-500"}`},A.sub)),e.createElement("div",{className:"font-black text-base sm:text-lg"},A.price))})))))}))),P&&e.createElement("div",{className:"border-t border-slate-800 bg-gradient-to-r from-green-900/30 to-emerald-900/30 p-3 sm:p-5 shrink-0 animate-slide-up"},e.createElement("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 max-w-4xl mx-auto"},e.createElement("div",{className:"text-center sm:text-left"},e.createElement("p",{className:"text-white text-sm sm:text-base font-bold"},P.emoji," ",P.plan," ‚Ä¢ ",e.createElement("span",{className:"text-green-400"},P.cycle)),e.createElement("p",{className:"text-slate-400 text-xs"},P.sub," ‚Ä¢ ",P.price)),e.createElement("a",{href:`https://wa.me/5493425906300?text=${encodeURIComponent(`Hola! Quiero contratar el *${P.plan}* con pago *${P.cycle}* (${P.price}). ¬øC√≥mo sigo?`)}`,target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto px-6 py-3 bg-green-500 hover:bg-green-400 text-black font-black text-sm sm:text-base rounded-xl transition shadow-lg shadow-green-500/30 flex items-center justify-center gap-2"},e.createElement(sa,{className:"w-5 h-5 fill-current"})," Confirmar por WhatsApp")))))},$i=({onBack:l})=>e.createElement("div",{className:"min-h-screen bg-black flex items-center justify-center p-4 animate-fade-in"},e.createElement("div",{className:"text-center max-w-md"},e.createElement("div",{className:"w-20 h-20 bg-red-900/20 text-red-500 rounded-full flex items-center justify-center mx-auto mb-6 border border-red-900/50"},e.createElement(ot,{className:"w-10 h-10"})),e.createElement("h1",{className:"text-3xl font-black text-white mb-2"},"ACCESO DENEGADO"),e.createElement("p",{className:"text-slate-500 mb-8"},"No tienes los permisos necesarios para acceder al Panel de Administraci√≥n."),e.createElement("button",{onClick:l,className:"px-8 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-xl font-bold transition flex items-center gap-2 mx-auto border border-slate-700"},e.createElement(Pt,{className:"w-4 h-4"})," Volver a la Tienda"))),js=document.getElementById("root");if(!js)throw new Error("No se encontr√≥ el contenedor #root");const Ai=Bl(js);Ai.render(e.createElement(wi,null,e.createElement(Ii,null)));
//# sourceMappingURL=app.js.map

import e from"react";import{ShoppingBag as T,Trash2 as f,Minus as P,Plus as q,Tag as A,Ticket as E,Truck as x,ArrowRight as c,ArrowLeft as w,CheckCircle as N,MapPin as I,MessageCircle as O,ShoppingCart as _,DollarSign as W,Loader2 as z,User as F,CreditCard as G,Building as B}from"lucide-react";var U=({view:n,setView:i,cart:b,settings:o,darkMode:t,manageCart:p,calculateItemPrice:m,appliedCoupon:a,setAppliedCoupon:$,setShowCouponModal:y,cartSubtotal:u,shippingFee:d,discountAmount:g,finalTotal:h,checkoutData:l,setCheckoutData:r,buildWhatsappUrl:C,buildWhatsappCartMessage:j,showToast:S,handleCheckoutSubmit:L,isProcessingCheckout:v})=>n!=="cart"&&n!=="checkout"?null:n==="cart"?e.createElement("div",{className:"max-w-6xl mx-auto animate-fade-up px-4 md:px-8 pb-20"},e.createElement("div",{className:"flex flex-col gap-4 mb-8 pt-8 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("button",{onClick:()=>i("store"),className:`p-3 rounded-full transition group ${t?"bg-slate-900 text-slate-400 hover:text-white hover:bg-slate-800":"bg-slate-100 text-slate-500 hover:text-slate-900 hover:bg-slate-200"}`},e.createElement(w,{className:"w-6 h-6 group-hover:-translate-x-1 transition"})),e.createElement("h1",{className:`text-4xl font-black flex items-center gap-3 ${t?"text-white":"text-slate-900"}`},e.createElement(T,{className:"w-10 h-10 text-orange-500"})," Mi Carrito")),b.length>0&&o?.showCartWhatsappCheckout===!0&&e.createElement("button",{onClick:()=>{let s=C(o?.whatsappLink,j());if(!s){S("Configura el enlace de WhatsApp en Admin → Configuración → Social.","warning");return}window.open(s,"_blank")},className:"w-full sm:w-auto px-5 py-3 bg-green-600 hover:bg-green-500 text-white rounded-2xl font-black transition shadow-lg hover:shadow-green-500/30 flex items-center justify-center gap-2"},e.createElement(O,{className:"w-5 h-5"})," Terminar compra por WhatsApp")),b.length===0?e.createElement("div",{className:`flex flex-col items-center justify-center p-16 text-center border-2 border-dashed rounded-[3rem] ${t?"border-slate-800 bg-slate-950/30":"border-slate-200 bg-slate-50"}`},e.createElement("div",{className:`p-8 rounded-full mb-6 shadow-xl border ${t?"bg-slate-900 border-slate-800":"bg-white border-slate-200"}`},e.createElement(_,{className:`w-16 h-16 ${t?"text-slate-600":"text-slate-400"}`})),e.createElement("h3",{className:`text-2xl font-black mb-2 ${t?"text-white":"text-slate-900"}`},"Tu carrito está vacío"),e.createElement("p",{className:"text-slate-500 text-sm max-w-xs mb-8 leading-relaxed"},"¡Es un buen momento para buscar ese producto que tanto quieres!"),e.createElement("button",{onClick:()=>i("store"),className:"px-8 py-4 bg-orange-600 text-white rounded-xl font-bold transition shadow-lg hover:bg-orange-500 hover:shadow-orange-500/30 flex items-center gap-2"},"Ir a la Tienda ",e.createElement(c,{className:"w-5 h-5"}))):e.createElement("div",{className:"grid lg:grid-cols-3 gap-8"},e.createElement("div",{className:"lg:col-span-2 space-y-4"},b.map(s=>e.createElement("div",{key:s.product.id,className:`p-4 md:p-6 rounded-3xl border flex flex-col md:flex-row gap-6 items-center group relative overflow-hidden transition duration-300 ${t?"bg-[#0a0a0a] border-slate-800 hover:border-orange-900/50":"bg-white border-slate-200 hover:border-orange-200 shadow-sm hover:shadow-md"}`},e.createElement("div",{className:"w-full md:w-32 h-32 bg-white rounded-2xl flex items-center justify-center p-2 flex-shrink-0 shadow-lg border border-slate-100"},e.createElement("img",{src:s.product.image,alt:s.product.name,className:"w-full h-full object-contain"})),e.createElement("div",{className:"flex-1 w-full text-center md:text-left z-10"},e.createElement("div",{className:"flex justify-between items-start w-full"},e.createElement("h3",{className:`font-bold text-lg truncate mb-1 pr-4 ${t?"text-white":"text-slate-900"}`},s.product.name),e.createElement("button",{onClick:()=>p(s.product,-s.quantity),className:`p-2 rounded-lg transition ${t?"text-slate-600 hover:text-red-500 bg-slate-900 hover:bg-red-900/20":"text-slate-400 hover:text-red-600 bg-slate-50 hover:bg-red-50"}`},e.createElement(f,{className:"w-5 h-5"}))),e.createElement("p",{className:"text-orange-500 font-bold text-sm mb-4"},"$",m(s.product?.basePrice??0,s.product?.discount??0).toLocaleString()," ",e.createElement("span",{className:"text-slate-500 font-normal"},"unitario")),e.createElement("div",{className:"flex items-center justify-center md:justify-start gap-4"},e.createElement("div",{className:`flex items-center gap-3 rounded-xl p-1 border ${t?"bg-slate-900 border-slate-700":"bg-slate-50 border-slate-200"}`},e.createElement("button",{onClick:()=>p(s.product,-1),className:`w-10 h-10 flex items-center justify-center rounded-lg transition ${t?"hover:bg-slate-800 text-slate-400 hover:text-white":"hover:bg-white text-slate-500 hover:text-slate-900"}`},e.createElement(P,{className:"w-4 h-4"})),e.createElement("span",{className:`text-base font-bold w-8 text-center ${t?"text-white":"text-slate-900"}`},s.quantity),e.createElement("button",{onClick:()=>p(s.product,1),className:`w-10 h-10 flex items-center justify-center rounded-lg transition ${t?"hover:bg-slate-800 text-slate-400 hover:text-white":"hover:bg-white text-slate-500 hover:text-slate-900"}`},e.createElement(q,{className:"w-4 h-4"}))),e.createElement("div",{className:`hidden md:block h-8 w-px mx-2 ${t?"bg-slate-800":"bg-slate-200"}`}),e.createElement("p",{className:"text-xs text-slate-500 font-bold uppercase hidden md:block"},"Subtotal: ",e.createElement("span",{className:`text-lg ml-1 ${t?"text-white":"text-slate-900"}`},"$",(m(s.product?.basePrice??0,s.product?.discount??0)*(s.quantity||0)).toLocaleString()))))))),e.createElement("div",{className:`border p-8 rounded-[2.5rem] h-fit sticky top-28 shadow-2xl transition-colors duration-300 ${t?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`},e.createElement("h3",{className:`text-2xl font-black mb-8 border-b pb-4 transition-colors duration-300 ${t?"text-white border-slate-800":"text-slate-900 border-slate-200"}`},"Resumen de Compra"),e.createElement("div",{className:"mb-8"},e.createElement("label",{className:`text-xs font-bold uppercase tracking-widest mb-3 block flex items-center gap-2 ${t?"text-slate-500":"text-slate-400"}`},e.createElement(A,{className:"w-4 h-4"})," Cupón de Descuento"),a?e.createElement("div",{className:"bg-purple-900/20 border border-purple-500/30 p-4 rounded-2xl flex justify-between items-center relative overflow-hidden group animate-fade-up"},e.createElement("div",{className:"absolute inset-0 bg-purple-500/5 group-hover:bg-purple-500/10 transition"}),e.createElement("div",{className:"relative z-10"},e.createElement("p",{className:"font-black text-purple-300 text-lg tracking-widest"},a.code),e.createElement("p",{className:"text-xs text-purple-400 font-bold"},a.type==="fixed"?`$${a.value} OFF`:`${a.value}% OFF`)),e.createElement("button",{onClick:()=>$(null),className:`p-2 rounded-full transition relative z-10 border border-transparent hover:border-red-500/30 ${t?"bg-slate-900/50 text-purple-300 hover:text-red-400 hover:bg-red-900/30":"bg-white text-purple-600 hover:text-red-600 hover:bg-red-50"}`},e.createElement(f,{className:"w-4 h-4"}))):e.createElement("button",{onClick:()=>y(!0),className:`w-full py-4 border border-dashed rounded-2xl transition flex items-center justify-center gap-2 text-sm font-bold group ${t?"border-slate-700 hover:border-purple-500 bg-slate-900/30 hover:bg-purple-900/10 text-slate-400 hover:text-purple-300":"border-slate-300 hover:border-purple-500 bg-slate-50 hover:bg-purple-50 text-slate-500 hover:text-purple-600"}`},e.createElement(E,{className:"w-5 h-5 group-hover:rotate-12 transition"})," Ver cupones disponibles")),e.createElement("div",{className:`space-y-4 border-b pb-8 mb-8 ${t?"border-slate-800":"border-slate-200"}`},e.createElement("div",{className:`flex justify-between font-medium ${t?"text-slate-400":"text-slate-600"}`},e.createElement("span",null,"Subtotal"),e.createElement("span",{className:`font-mono font-bold ${t?"text-white":"text-slate-900"}`},"$",u.toLocaleString())),e.createElement("div",{className:`flex justify-between text-sm font-medium ${t?"text-slate-400":"text-slate-600"}`},e.createElement("span",null,"Envío ",l.shippingMethod==="Delivery"?"(A domicilio)":"(Retiro)"),e.createElement("span",{className:"text-orange-500 font-bold flex items-center gap-1"},e.createElement(x,{className:"w-3 h-3"}),d>0?`$${d.toLocaleString()}`:l.shippingMethod==="Pickup"?"Gratis":"¡Envío Gratis!")),a&&e.createElement("div",{className:"flex justify-between text-purple-500 font-bold text-sm animate-pulse bg-purple-900/10 p-2 rounded-lg"},e.createElement("span",null,"Descuento aplicado"),e.createElement("span",null,"-$",g.toLocaleString()))),e.createElement("div",{className:"flex justify-between items-end mb-8"},e.createElement("span",{className:`font-bold text-lg ${t?"text-white":"text-slate-900"}`},"Total Final"),e.createElement("span",{className:`text-4xl font-black tracking-tighter ${t?"text-white neon-text":"text-slate-900"}`},"$",h.toLocaleString())),e.createElement("button",{onClick:()=>i("checkout"),className:"w-full bg-gradient-to-r from-orange-600 to-blue-600 hover:from-orange-500 hover:to-blue-500 py-5 text-white font-bold text-lg rounded-2xl shadow-[0_0_25px_rgba(249,115,22,0.3)] hover:shadow-[0_0_35px_rgba(249,115,22,0.5)] transition-all flex items-center justify-center gap-3 transform hover:-translate-y-1"},"Iniciar Compra ",e.createElement(c,{className:"w-6 h-6"}))))):n==="checkout"?e.createElement("div",{className:"max-w-5xl mx-auto pb-20 animate-fade-up px-4 md:px-8"},e.createElement("button",{onClick:()=>i("cart"),className:"mb-8 mt-8 text-slate-400 hover:text-white flex items-center gap-2 font-bold transition"},e.createElement(w,{className:"w-5 h-5"})," Volver al Carrito"),e.createElement("form",{onSubmit:L,className:"grid md:grid-cols-5 gap-8"},e.createElement("div",{className:"md:col-span-3 space-y-8"},e.createElement("div",{className:`border p-8 rounded-[2.5rem] shadow-xl relative overflow-hidden ${t?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`},e.createElement("h2",{className:`text-2xl font-black mb-6 flex items-center gap-3 ${t?"text-white":"text-slate-900"}`},e.createElement(x,{className:"text-orange-500 w-6 h-6"})," Método de Entrega"),e.createElement("div",{className:"grid grid-cols-2 gap-4 mb-6"},o?.shippingPickup?.enabled&&e.createElement("button",{type:"button",onClick:()=>r({...l,shippingMethod:"Pickup"}),className:`p-6 rounded-2xl border transition flex flex-col items-center gap-3 relative overflow-hidden group ${l.shippingMethod==="Pickup"?"border-orange-500 bg-orange-500/10 text-orange-500":t?"border-slate-700 bg-slate-900/30 text-slate-500 hover:border-slate-500":"border-slate-200 bg-slate-50 text-slate-500 hover:border-slate-400"}`},l.shippingMethod==="Pickup"&&e.createElement(N,{className:"absolute top-2 right-2 w-5 h-5 text-orange-500"}),e.createElement(I,{className:"w-8 h-8 group-hover:scale-110 transition"}),e.createElement("span",{className:"text-xs font-black uppercase"},"Retiro en Local")),o?.shippingDelivery?.enabled&&e.createElement("button",{type:"button",onClick:()=>r({...l,shippingMethod:"Delivery"}),className:`p-6 rounded-2xl border transition flex flex-col items-center gap-3 relative overflow-hidden group ${l.shippingMethod==="Delivery"?"border-orange-500 bg-orange-500/10 text-orange-500":t?"border-slate-700 bg-slate-900/30 text-slate-500 hover:border-slate-500":"border-slate-200 bg-slate-50 text-slate-500 hover:border-slate-400"}`},l.shippingMethod==="Delivery"&&e.createElement(N,{className:"absolute top-2 right-2 w-5 h-5 text-orange-500"}),e.createElement(x,{className:"w-8 h-8 group-hover:scale-110 transition"}),e.createElement("span",{className:"text-xs font-black uppercase"},"Envío a Domicilio"))),l.shippingMethod==="Delivery"&&e.createElement("div",{className:"space-y-4 animate-fade-up"},e.createElement("input",{required:!0,placeholder:"Dirección y Altura",className:`w-full p-4 rounded-xl border outline-none focus:border-orange-500 transition ${t?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,value:l.address,onChange:s=>r({...l,address:s.target.value})}),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("input",{placeholder:"Piso / Depto (Opcional)",className:`w-full p-4 rounded-xl border outline-none focus:border-orange-500 transition ${t?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,value:l.apartment,onChange:s=>r({...l,apartment:s.target.value})}),e.createElement("input",{required:!0,placeholder:"Ciudad",className:`w-full p-4 rounded-xl border outline-none focus:border-orange-500 transition ${t?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,value:l.city,onChange:s=>r({...l,city:s.target.value})})))),e.createElement("div",{className:`border p-8 rounded-[2.5rem] shadow-xl ${t?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`},e.createElement("h2",{className:`text-2xl font-black mb-6 flex items-center gap-3 ${t?"text-white":"text-slate-900"}`},e.createElement(G,{className:"text-blue-500 w-6 h-6"})," Método de Pago"),e.createElement("div",{className:"grid grid-cols-2 gap-4"},o?.payments?.cash?.enabled&&e.createElement("button",{type:"button",onClick:()=>r({...l,paymentMethod:"Cash"}),className:`p-6 rounded-2xl border transition flex flex-col items-center gap-3 relative ${l.paymentMethod==="Cash"?"border-blue-500 bg-blue-500/10 text-blue-500":t?"border-slate-700 bg-slate-900/30 text-slate-500 hover:border-slate-500":"border-slate-200 bg-slate-50 text-slate-500 hover:border-slate-400"}`},e.createElement(W,{className:"w-8 h-8"}),e.createElement("span",{className:"text-xs font-black uppercase"},"Efectivo")),o?.payments?.transfer?.enabled&&e.createElement("button",{type:"button",onClick:()=>r({...l,paymentMethod:"Transfer"}),className:`p-6 rounded-2xl border transition flex flex-col items-center gap-3 relative ${l.paymentMethod==="Transfer"?"border-blue-500 bg-blue-500/10 text-blue-500":t?"border-slate-700 bg-slate-900/30 text-slate-500 hover:border-slate-500":"border-slate-200 bg-slate-50 text-slate-500 hover:border-slate-400"}`},e.createElement(B,{className:"w-8 h-8"}),e.createElement("span",{className:"text-xs font-black uppercase"},"Transferencia")))),e.createElement("div",{className:`border p-8 rounded-[2.5rem] shadow-xl ${t?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`},e.createElement("h2",{className:`text-2xl font-black mb-6 flex items-center gap-3 ${t?"text-white":"text-slate-900"}`},e.createElement(F,{className:"text-purple-500 w-6 h-6"})," Tus Datos"),e.createElement("div",{className:"space-y-4"},e.createElement("input",{required:!0,placeholder:"Nombre Completo",className:`w-full p-4 rounded-xl border outline-none focus:border-purple-500 transition ${t?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,value:l.name,onChange:s=>r({...l,name:s.target.value})}),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("input",{required:!0,placeholder:"Teléfono / WhatsApp",className:`w-full p-4 rounded-xl border outline-none focus:border-purple-500 transition ${t?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,value:l.phone,onChange:s=>r({...l,phone:s.target.value})}),e.createElement("input",{required:!0,placeholder:"DNI / CUIL",className:`w-full p-4 rounded-xl border outline-none focus:border-purple-500 transition ${t?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,value:l.dni,onChange:s=>r({...l,dni:s.target.value})}))))),e.createElement("div",{className:"md:col-span-2"},e.createElement("div",{className:`border p-8 rounded-[2.5rem] sticky top-28 shadow-2xl ${t?"bg-[#0a0a0a] border-slate-800":"bg-white border-slate-200"}`},e.createElement("h3",{className:`text-xl font-black mb-6 transition-colors duration-300 ${t?"text-white":"text-slate-900"}`},"Finalizar Orden"),e.createElement("div",{className:"space-y-4 mb-8"},e.createElement("div",{className:"flex justify-between text-sm"},e.createElement("span",{className:"text-slate-500"},"Subtotal"),e.createElement("span",{className:`font-bold ${t?"text-white":"text-slate-900"}`},"$",u.toLocaleString())),e.createElement("div",{className:"flex justify-between text-sm"},e.createElement("span",{className:"text-slate-500"},"Envío"),e.createElement("span",{className:"text-orange-500 font-bold"},d>0?`$${d.toLocaleString()}`:"Gratis")),a&&e.createElement("div",{className:"flex justify-between text-sm text-purple-500 font-bold"},e.createElement("span",null,"Descuento"),e.createElement("span",null,"-$",g.toLocaleString())),e.createElement("div",{className:"pt-4 border-t border-slate-800 flex justify-between items-end"},e.createElement("span",{className:`font-black text-lg ${t?"text-white":"text-slate-900"}`},"TOTAL"),e.createElement("span",{className:`text-3xl font-black tracking-tighter ${t?"text-white neon-text":"text-slate-900"}`},"$",h.toLocaleString()))),e.createElement("button",{type:"submit",disabled:v,className:"w-full bg-orange-600 hover:bg-orange-500 py-5 text-white font-black text-xl rounded-2xl transition-all shadow-lg hover:shadow-orange-500/30 flex items-center justify-center gap-3 disabled:opacity-50"},v?e.createElement(z,{className:"w-6 h-6 animate-spin"}):"CONFIRMAR PEDIDO"))))):null,D=e.memo(U);export{D as default};
//# sourceMappingURL=CheckoutPanel-PJIGFAGJ.js.map
